{"version":3,"file":"static/js/291.75beb71c.chunk.js","mappings":";wIAAA,IAAiDA,QAAAA,QAShD,WACD,2jBC6UA,YAA4E,6DAA5E,GAAiC,EAA2C,EAA3C,MAA2C,EAA3C,SAA2C,EAA3C,IAA2C,IAAvBC,QAAAA,OAAuB,UAC1EC,EAAAA,EAAAA,QACEC,GADFD,kBACgBC,EAF0D,6DAM1E,IAAMC,GAAiBC,EAAAA,EAAAA,sBANmD,GAO1E,EACEC,EAAAA,KAAYA,EAAAA,MADD,GAGXA,EAAAA,KADK,GAELA,EAAAA,MAAAA,aAAAA,OAFK,GAGLA,EAAAA,QAAe,WACb,OADmB,IAKvB,IAAIC,EAjBsE,GAkB1E,UACE,KAAKC,EAAL,KADF,MAGE,KAAKA,EAAL,KACED,EADF,QAHF,MAME,KAAKC,EAAL,MACED,EADF,SANF,MASE,KAAKC,EAAL,OACED,EADF,UATF,MAYE,KAAKC,EAAL,IACED,EADF,OAIFD,EAAAA,OAlC0E,EAoC1EA,EAAAA,IAA0B,kBAARG,EAAmBA,EApCqC,gBA2L5E,YACEC,QAAAA,IAAY,yBADe,yBAlI7B,YACE,IAAMC,EAASR,EAAAA,QADgB,KAEzBS,EAAQT,EAAAA,QAFiB,KAGzBU,EAAMC,KAAAA,IACVH,EAAAA,EAAAA,EAAsBR,EADZW,OAEVF,EAAAA,EAAAA,EAAoBT,EALS,QAO/B,OAAOA,EAAAA,UAAcA,EAAAA,YAAAA,IAAAA,GAAdA,EAPwB,4BAiBjC,YAAsE,IAAlCY,EAAkC,uDAAtE,eACE,qBAAWZ,EACT,OAD2B,EAG7B,GAAIa,EAAJ,GAEE,OADAC,EAAAA,EAAAA,MADqB,wEAIvB,IAAMC,EAR8D,sDAW9DC,EAX8D,gCAY9DC,EAAWF,EAAAA,KAZmD,GAahEG,EACFF,EAAAA,KAAgBC,EAAhBD,KACAA,EAAAA,KAAgBC,EADhBD,KAEAA,EAAAA,KAAgBC,EAhBkD,IAiBpE,OACEC,EAAoBA,EADC,IAEjBA,SAAJ,KAEE,IACEA,EAAoBF,EAAAA,KAClBG,mBADkBH,IADlB,GAIF,MAAOI,IAOb,OAAOF,GAhC6D,wBA6MtE,cAAkE,QAA3BG,MAAAA,OAA2B,MAA7B,EAA6B,MAAhBC,SAAAA,OAAgB,MAAlE,EAAkE,EAChE,EAA0BC,EAAAA,WADsC,MAC1D,EAAN,QAAM,EAAN,SACMC,EAAU,CAAC,EAAG,EAAGC,SAAP,GAAwBA,SAAxC,IAEA,OAAO,IAAIC,EAAa,CACtBF,QADsB,EAEtBH,MAFsB,EAGtBC,SAAAA,kCA9OJ,YACE,MAA2B,kBAAbK,GAAyB,UAAUC,KADtB,qCAwH7B,YAAsD,IAA7BC,EAA6B,wDACpD,OAAO,IAAIC,SAAQ,cACjB,IAAMC,EAASC,SAAAA,cADuB,UAEtCD,EAAAA,IAFsC,EAItCA,EAAAA,OAAgB,SAAUE,GACxB,GACEF,EADuB,SAGzBG,EAJ6B,IAM/BH,EAAAA,QAAiB,WACfI,EAAO,IAAIC,MAAM,0BAAV,OAAoCL,EADhB,SAG5BC,SAAA,MAAiBA,SAAlB,6BAbsC,oDAjf1C,OAUA,myFAOA,IAAMK,EAhCN,+BAmCMC,EAAgB,CACpBC,IADoB,GAEpBC,IAFoB,GAKpB,uBACE,OAAOC,EAAAA,EAAAA,QAAAA,KAAAA,mBAAiCC,KAAKH,IAAMG,KAD9B,6BAKzB,gCACEC,SAAAA,IAA0D,+DAA1DA,GAA0D,IAA5CC,cAAAA,OAA4C,MAA5BC,WAAlB,SAA8C,oCAExD,UAFwD,2CAK1DC,SAAAA,EAAAA,GACE,IAAMC,EAASL,KAAKM,UAAUC,cADH,UAI3B,OAFAF,EAAAA,MAF2B,EAG3BA,EAAAA,OAH2B,UAN/B,+BAcA,wLAA8BG,EAA9B,iCAGIC,EAAAA,EAAqBnB,SAHzB,0CAK2BoB,MAL3B,cAKUC,EALV,iCAOY,IAAIjB,MAAMiB,EAPtB,2EAU6BA,EAV7B,0FAWQC,EAXR,wBAW4BD,EAX5B,uHAeS,IAAIvB,SAAQ,cACjB,IAAMyB,EAAU,IADsB,eAEtCA,EAAAA,KAAAA,MAAAA,GAFsC,GAItC,IACEA,EAAAA,aADgB,eAGlBA,EAAAA,mBAA6B,WAC3B,GAAIA,EAAAA,aAAuBC,eAA3B,MAIE,IADkD,EAApD,IAAID,MAAAA,EAAAA,QAAJ,IAA8BA,EAAAA,UAExBL,GAAgBK,EAApB,SACEE,EAAO,IAAIC,WAAWH,EADc,WAE1BL,GAAgBK,EAArB,eACLE,GAAOH,EAAAA,EAAAA,eAAcC,EAD2B,eAGlD,GAAU,YACRrB,EADQ,GAKZC,EAAO,IAAIC,MAAMmB,EAhBgB,eAmBnCA,EAAAA,KA1BsC,UAf1C,6FA6CA,0HACEI,SAAAA,EAAAA,GACE,OAAOC,EAAU5D,EAA0B0C,KAApC,oBAA4De,SAAAA,GACjE,MAAO,CAAEI,SAAF,EAAkBC,gBAAAA,YAH/B,uDAQA,0HACEH,SAAAA,GACE,OAAOC,EAAAA,GADO,SADlB,mEAMA,0HACEG,SAAAA,GACE,OAAO/B,SAAAA,gBAxHX,6BAuHmB,SADnB,yCAqCA,aAIEW,SAAAA,EAAAA,GAOG,IAPS,EAOT,EAPS,UAOT,EAPS,QAOT,EAPS,SAOT,IAHDqB,QAAAA,OAGC,MAPS,EAOT,MAFDC,QAAAA,OAEC,MAPS,EAOT,MADDC,SAAAA,OACC,mBACDxB,KAAA,QADC,EAEDA,KAAA,MAFC,EAGDA,KAAA,SAHC,EAIDA,KAAA,QAJC,EAKDA,KAAA,QALC,EASD,IAEA,MAXC,EAqDD,EArDC,EAsDD,EAtDC,EASKyB,GAAW3C,EAAA,GAAaA,EAAd,IATf,EAUK4C,GAAW5C,EAAA,GAAaA,EAAd,IAVf,EAiBD,QAJAF,GAbC,KAcD,IACEA,GADgB,KAGlB,GACE,SACE+C,GADF,EAEEC,EAFF,EAGEC,EAHF,EAIEC,EAJF,EADF,MAOE,QACEH,EADF,EAEEC,EAFF,EAGEC,EAHF,EAIEC,EAJF,EAPF,MAaE,SACEH,EADF,EAEEC,GAFF,EAGEC,GAHF,EAIEC,EAJF,EAbF,MAmBE,OACEH,EADF,EAEEC,EAFF,EAGEC,EAHF,EAIEC,GAJF,EAnBF,MAyBE,QACE,MAAM,IAAIpC,MA1Bd,qEA+BA,IACEmC,GADY,EAEZC,GAFY,GAOd,IAAIH,GACFI,EAAgB9D,KAAAA,IAASyD,EAAU5C,EAAnBb,IAAAA,EADC,EAEjB+D,EAAgB/D,KAAAA,IAASwD,EAAU3C,EAAnBb,IAAAA,EAFC,EAGjBgE,EAAQhE,KAAAA,IAASa,EAAAA,GAAaA,EAAtBb,IAHS,EAIjBiE,EAASjE,KAAAA,IAASa,EAAAA,GAAaA,EAAtBb,IAJQ,IAMjB8D,EAAgB9D,KAAAA,IAASwD,EAAU3C,EAAnBb,IAAAA,EADX,EAEL+D,EAAgB/D,KAAAA,IAASyD,EAAU5C,EAAnBb,IAAAA,EAFX,EAGLgE,EAAQhE,KAAAA,IAASa,EAAAA,GAAaA,EAAtBb,IAHH,EAILiE,EAASjE,KAAAA,IAASa,EAAAA,GAAaA,EAAtBb,IAJJ,GASP+B,KAAA,UAAiB,CACf2B,EADe,EAEfC,EAFe,EAGfC,EAHe,EAIfC,EAJe,EAKfC,EAAgBJ,EAAAA,EAAhBI,EAA4CF,EAAAA,EAL7B,EAMfG,EAAgBJ,EAAAA,EAAhBI,EAA4CF,EAAAA,EAN9C,GASA9B,KAAA,MA9EC,EA+EDA,KAAA,OA/EC,iCAuFHmC,WAMQ,6DANRA,GAMQ,IALNxD,MAAAA,OAKM,MALEqB,KADJ,MAME,MAJNpB,SAAAA,OAIM,MAJKoB,KAFP,SAME,MAHNsB,QAAAA,OAGM,MAHItB,KAHN,QAME,MAFNuB,QAAAA,OAEM,MAFIvB,KAJN,QAME,MADNwB,SAAAA,OACM,SACN,OAAO,IAAIxC,EAAa,CACtBF,QAASkB,KAAKlB,QADQ,QAEtBH,MAFsB,EAGtBC,SAHsB,EAItB0C,QAJsB,EAKtBC,QALsB,EAMtBC,SAAAA,0CAcJY,SAAAA,EAAAA,GACE,OAAO,EAAAC,KAAA,eAAoB,CAACC,EAArB,GAA4BtC,KADR,qDAW7BuC,SAAAA,GACE,IAAMC,EAAU,EAAAH,KAAA,eAAoB,CAACI,EAAD,GAAUA,EAA9B,IAAwCzC,KADzB,WAEzB0C,EAAc,EAAAL,KAAA,eAAoB,CAACI,EAAD,GAAUA,EAA9B,IAAwCzC,KAF7B,WAG/B,MAAO,CAACwC,EAAD,GAAaA,EAAb,GAAyBE,EAAzB,GAAyCA,EAAhD,qCAYFC,SAAAA,EAAAA,GACE,OAAO,EAAAN,KAAA,sBAA2B,CAACC,EAA5B,GAAmCtC,KADpB,iBAvJ1B,wBA4JA,gCACEC,SAAAA,EAAAA,EAAAA,GAAuB,wBACrB,gBADqB,gCAErB,KAFqB,aADzB,kDAOA,IAAMtC,EAAa,CACjBiF,KADiB,EAEjBC,KAFiB,EAGjBC,MAHiB,EAIjBC,OAJiB,EAKjBC,IALiB,GAgEnB,cAGE,IAFA,IAAMC,EAAK3F,EADc,OAErB4F,EAFqB,EAGlBA,EAAAA,GAAP,KAAiB5F,EAAAA,GAAAA,QACf4F,IAEF,MANyB,UAMlB5F,EAAAA,UAAAA,EAAiB4F,EAAjB5F,GAAAA,iCApYT,EAocA,aACE2C,SAAAA,IAAc,UACZD,KAAA,QAAemD,OAAAA,OADH,MAEZnD,KAAA,MAFY,iCAKdoD,SAAAA,GACMC,KAAQrD,KAAZ,UACE5B,EAAAA,EAAAA,MAAAA,gCAAAA,OADwB,IAG1B4B,KAAA,WAAqBsD,KAJZ,6BAOXC,SAAAA,GACQF,KAAQrD,KAAd,UACE5B,EAAAA,EAAAA,MAAAA,kCAAAA,OAD2B,IAG7B4B,KAAA,WAAgB,CACdqD,KADc,EAEdG,MAAOxD,KAAKyD,QAFE,GAGdzF,IAAKsF,KAHS,eAMTtD,KAAKyD,QAVA,2BAadC,WAEE,IAFS,EAEHC,EAFG,GAGLC,EAHK,MAIU5D,KAJV,WAIT,2BAA+B,KACvBqD,EADuB,aAEzBA,EAAAA,OAAJ,IACEO,EAAUP,EADe,SANpB,wCAUUrD,KAVV,WAUT,2BAA+B,KAA/B,EAA+B,QACvB6D,EAAWT,EAAAA,IAAWA,EADC,MAE7BO,EAAAA,KAAAA,GAAAA,OAAeP,EAAAA,KAAAA,OAAfO,GAAAA,KAAAA,OAF6B,EAE7BA,UAZO,8BAcT,OAAOA,EAAAA,KAdE,UA1Bb,GA4CA,gBACE,IACE,IAAM,GAAeG,EAAU,IAAIC,IAAIzG,EAAlBwG,GAAkC,IAAIC,IADzD,IACF,SAEA,MAAOC,UAAAA,GAHL,WAG6BA,EAC/B,MAAOtF,GACP,OADW,qBAmCf,+EAiBE,YACE,IAAKuF,KAAUC,EAAAA,EAAAA,UAAf,GACE,OAD8B,KAKhC,IACEC,EAAqB,IAAIC,OACvB,6FAkBJ,IAAMC,EAAUF,EAAAA,KA1BS,GA2BzB,MACE,OADY,KAMd,IAAMG,EAAOvF,SAASsF,EAATtF,GAjCY,IAkCrBwF,EAAQxF,SAASsF,EAATtF,GAlCa,IAmCzBwF,EAAQA,GAAAA,GAAcA,GAAdA,GAA4BA,EAA5BA,EAnCiB,EAoCzB,IAAIC,EAAMzF,SAASsF,EAATtF,GApCe,IAqCzByF,EAAMA,GAAAA,GAAYA,GAAZA,GAAAA,EArCmB,EAsCzB,IAAIC,EAAO1F,SAASsF,EAATtF,GAtCc,IAuCzB0F,EAAOA,GAAAA,GAAaA,GAAbA,GAAAA,EAvCkB,EAwCzB,IAAIC,EAAS3F,SAASsF,EAATtF,GAxCY,IAyCzB2F,EAASA,GAAAA,GAAeA,GAAfA,GAAAA,EAzCgB,EA0CzB,IAAIC,EAAS5F,SAASsF,EAATtF,GA1CY,IA2CzB4F,EAASA,GAAAA,GAAeA,GAAfA,GAAAA,EA3CgB,EA4CzB,IAAMC,EAAwBP,EAAAA,IA5CL,IA6CrBQ,EAAa9F,SAASsF,EAATtF,GA7CQ,IA8CzB8F,EAAaA,GAAAA,GAAmBA,GAAnBA,GAAAA,EA9CY,EA+CzB,IAAIC,EAAe/F,SAASsF,EAATtF,GAAAA,KA/CM,EA8DzB,OAdA+F,EAAeA,GAAAA,GAAqBA,GAArBA,GAAAA,EAhDU,EAsDzB,MAAIF,GACFH,GADiC,EAEjCC,GAFiC,GAG5B,MAAIE,IACTH,GADwC,EAExCC,GAFwC,GAKnC,IAAIpB,KAAKA,KAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EA9DS,UAjB7B,mDCxhBAyB,EAAAA,QAAAA,EAAAA,0QCOA,IAAIC,EAAW,SAAUC,GAGvB,IAHgC,EAG5BC,EAAK/B,OAHuB,UAI5BgC,EAASD,EAJmB,eAM5BE,EAA4B,oBAAXC,OAAwBA,OANb,GAO5BC,EAAiBF,EAAAA,UAPW,aAQ5BG,EAAsBH,EAAAA,eARM,kBAS5BI,EAAoBJ,EAAAA,aATQ,gBAWhC,kBAOE,OANAjC,OAAAA,eAAAA,EAAAA,EAAgC,CAC9BsC,MAD8B,EAE9BC,YAF8B,EAG9BC,cAH8B,EAI9BC,UAJ8B,IAMzBC,EAPwB,GASjC,IAEEC,EAAAA,GAFE,IAGF,MAAOC,GACPD,EAAS,gBACP,OAAOD,EAAAA,GAD0B,GAKrC,oBAEE,IAAIG,EAAiBC,GAAWA,EAAAA,qBAAXA,EAAAA,EAF4B,EAG7CC,EAAY/C,OAAAA,OAAc6C,EAHmB,WAI7CG,EAAU,IAAIC,EAAQC,GAJuB,IAUjD,OAFAH,EAAAA,QAuMF,gBACE,IAAII,EAD4C,EAGhD,OAAO,SAAgBC,EAAQC,GAC7B,GAAIF,IAAJ,EACE,MAAM,IAAI5G,MADqB,gCAIjC,GAAI4G,IAAJ,EAAiC,CAC/B,aAAIC,EACF,MADsB,EAMxB,OAAOE,IAMT,IAHAN,EAAAA,OAfkC,EAgBlCA,EAAAA,IAhBkC,IAkBrB,CACX,IAAIO,EAAWP,EADJ,SAEX,KAAc,CACZ,IAAIQ,EAAiBC,EAAAA,EADT,GAEZ,KAAoB,CAClB,GAAID,IAAJ,EADkB,SAElB,OAFkB,GAMtB,YAAIR,EAAAA,OAGFA,EAAAA,KAAeA,EAAAA,MAAgBA,EAHF,SAKxB,aAAIA,EAAAA,OAA4B,CACrC,GAAIG,IAAJ,EAEE,MADAA,EADoC,EAE9BH,EAF8B,IAKtCA,EAAAA,kBAA0BA,EANW,SAQhC,WAAIA,EAAAA,QACTA,EAAAA,OAAAA,SAAyBA,EADa,KAIxCG,EA3BW,EA6BX,IAAIO,EAASC,EAAAA,EAAAA,EA7BF,GA8BX,cAAID,EAAAA,KAA0B,CAO5B,GAJAP,EAAQH,EAAAA,KAAAA,EAHoB,EAOxBU,EAAAA,MAAJ,EAAqC,SAIrC,MAAO,CACLpB,MAAOoB,EADF,IAELE,KAAMZ,EAFD,MAKF,UAAIU,EAAAA,OACTP,EADkC,EAIlCH,EAAAA,OAJkC,QAKlCA,EAAAA,IAAcU,EALoB,OA1QpBG,CAAAA,EAAAA,EAR6B,KAwBnD,kBACE,IACE,MAAO,CAAEC,KAAF,SAAkBT,IAAKU,EAAAA,KAAAA,EAAvB,IACP,MAAOnB,GACP,MAAO,CAAEkB,KAAF,QAAiBT,IAAjB,IAhBXvB,EAAAA,KAzCgC,EA6DhC,IAAIkC,EA7D4B,iBA8D5BC,EA9D4B,iBA+D5BC,EA/D4B,YAgE5BC,EAhE4B,YAoE5BC,EApE4B,GA0EhC,cACA,cACA,cAIA,IAAIC,EAhF4B,GAiFhC1B,EAAAA,EAAAA,GAA0C,WACxC,OADoD,QAItD,IAAI2B,EAAWtE,OArFiB,eAsF5BuE,EAA0BD,GAAYA,EAASA,EAASE,EAtF5B,MAuF5BD,GACAA,IADAA,GAEAvC,EAAAA,KAAAA,EAFJ,KAKEqC,EAHwD,GAM1D,IAAII,EAAKC,EAAAA,UACPC,EAAAA,UAAsB3E,OAAAA,OAhGQ,GA4GhC,cACE,mCAAoC,YAClC2C,EAAAA,EAAAA,GAA0B,YACxB,OAAO9F,KAAK+H,QAAQxB,EADkB,SAmC5C,gBACE,oBACE,IAAIM,EAASC,EAASZ,EAATY,GAAAA,EAD+B,GAE5C,aAAID,EAAAA,KAEG,CACL,IAAImB,EAASnB,EADR,IAEDpB,EAAQuC,EAFP,MAGL,OAAIvC,GAAAA,WACA,MACAN,EAAAA,KAAAA,EAFJ,WAGS8C,EAAYzI,QAAQiG,EAApB,eAAwC,YAC7CyC,EAAAA,OAAAA,EAAAA,EAD6D,MAE5D,YACDA,EAAAA,QAAAA,EAAAA,EADe,MAKZD,EAAYzI,QAAQiG,GAAO0C,MAAK,YAIrCH,EAAAA,MAJyD,EAKzDxI,EALyD,MAMxD,YAGD,OAAO0I,EAAAA,QAAAA,EAAAA,EAHU,MApBnBzI,EAAOoH,EADoB,KA6B/B,IAhC6C,EAgE7C7G,KAAA,QA9BA,cACE,aACE,OAAO,IAAIiI,GAAY,cACrBC,EAAAA,EAAAA,EAAAA,EAD+C,MAKnD,OAAOE,EAaLA,EAAkBA,EAAAA,KAAAA,EAAlBA,GAKIC,KAkHV,gBACE,IAAI9B,EAASG,EAAAA,SAAkBP,EADe,QAE9C,GAAII,IAAJ,EAA0B,CAKxB,GAFAJ,EAAAA,SAHwB,KAKxB,UAAIA,EAAAA,OAA4B,CAE9B,GAAIO,EAAAA,SAAAA,SAGFP,EAAAA,OAH+B,SAI/BA,EAAAA,IAJ+B,EAK/BS,EAAAA,EAL+B,GAO/B,UAAIT,EAAAA,QAGF,OAH8B,EAOlCA,EAAAA,OAhB8B,QAiB9BA,EAAAA,IAAc,IAAImC,UAjBY,kDAqBhC,OA1BwB,EA6B1B,IAAIzB,EAASC,EAAAA,EAAiBJ,EAAjBI,SAAoCX,EA/BH,KAiC9C,aAAIU,EAAAA,KAIF,OAHAV,EAAAA,OAD2B,QAE3BA,EAAAA,IAAcU,EAFa,IAG3BV,EAAAA,SAH2B,OAO7B,IAAIoC,EAAO1B,EAxCmC,IA0C9C,SAOI0B,EAAJ,MAGEpC,EAAQO,EAARP,YAA+BoC,EAHlB,MAMbpC,EAAAA,KAAeO,EANF,QAcb,WAAIP,EAAAA,SACFA,EAAAA,OAD+B,OAE/BA,EAAAA,IAF+B,GAYnCA,EAAAA,SA3E8C,QAoEvC,GAzBLA,EAAAA,OADU,QAEVA,EAAAA,IAAc,IAAImC,UAFR,oCAGVnC,EAAAA,SAHU,QAwDd,cACE,IAAIqC,EAAQ,CAAEC,OAAQC,EADI,IAGtB,KAAJ,IACEF,EAAAA,SAAiBE,EADJ,IAIX,KAAJ,IACEF,EAAAA,WAAmBE,EADN,GAEbF,EAAAA,SAAiBE,EAFJ,IAKf1I,KAAA,gBAZ0B,GAe5B,cACE,IAAI6G,EAAS2B,EAAAA,YADe,GAE5B3B,EAAAA,KAF4B,gBAGrBA,EAHqB,IAI5B2B,EAAAA,WAJ4B,EAO9B,cAIExI,KAAA,WAAkB,CAAC,CAAEyI,OAJO,SAK5BpC,EAAAA,QAAAA,EAL4B,MAM5BrG,KAAA,OAN4B,GAoC9B,cACE,KAAc,CACZ,IAAI2I,EAAiBC,EADT,GAEZ,KACE,OAAOD,EAAAA,KADW,GAIpB,uBAAWC,EAAP,KACF,OADuC,EAIzC,IAAKC,MAAMD,EAAX,QAA6B,CAC3B,IAAI1F,GAAJ,EAAY4F,EAAO,SAASA,IAC1B,OAAS5F,EAAI0F,EAAb,QACE,GAAIzD,EAAAA,KAAAA,EAAJjC,GAGE,OAFA4F,EAAAA,MAAaF,EADe,GAE5BE,EAAAA,MAF4B,IAUhC,OAHAA,EAAAA,MATiC,EAUjCA,EAAAA,MAViC,KAenC,OAAOA,EAAAA,KAhBoB,GAqB/B,MAAO,CAAEA,KAhCe,GAoC1B,aACE,MAAO,CAAErD,MAAF,EAAoBsB,MAApB,GA+MT,OA7mBAgC,EAAAA,UAjGgC,EAkGhCjD,EAAAA,EAAAA,cAlGgC,GAmGhCA,EAAAA,EAAAA,cAnGgC,GAoGhCiD,EAAAA,YAAgCjD,EAAAA,EAAAA,EApGA,qBAoHhCb,EAAAA,oBAA8B,YAC5B,IAAI+D,EAAyB,oBAAXC,GAAyBA,EADE,YAE7C,QAAOD,IACHA,IAAAA,GADGA,uBAIFA,EAAA,aAAoBA,EAArB,QAIN/D,EAAAA,KAAe,YAQb,OAPI9B,OAAJ,eACEA,OAAAA,eAAAA,EADyB,IAGzB8F,EAAAA,UADK,EAELnD,EAAAA,EAAAA,EAFK,sBAIPmD,EAAAA,UAAmB9F,OAAAA,OAPW,MAehC8B,EAAAA,MAAgB,YACd,MAAO,CAAEiE,QADmB,IAuE9BC,EAAsBC,EApNU,WAqNhCtD,EAAOsD,EAAPtD,UAAAA,GAAqD,WACnD,OAD+D,QAGjEb,EAAAA,cAxNgC,EA6NhCA,EAAAA,MAAgB,yBACM,IAAhBgD,IAAwBA,EAD6C,SAGzE,IAAIoB,EAAO,IAAID,EACbE,EAAAA,EAAAA,EAAAA,EADS,GAH8D,GAQzE,OAAOrE,EAAAA,oBAAAA,GAAAA,EAEHoE,EAAKP,OAAOX,MAAK,YACf,OAAOH,EAAAA,KAAcA,EAAdA,MAA6BqB,EADJ,WAwKxCF,EA/YgC,GAiZhCrD,EAAAA,EAAAA,EAjZgC,aAwZhCA,EAAAA,EAAAA,GAA2B,WACzB,OADoC,QAItCA,EAAAA,EAAAA,YAAuB,WACrB,MADgC,wBAmClCb,EAAAA,KAAe,YACb,IAAIsE,EAD0B,GAE9B,eACEA,EAAAA,KADsB,GAOxB,OAJAA,EAL8B,UASvB,SAAST,IACd,KAAOS,EAAP,QAAoB,CAClB,IAAIC,EAAMD,EADQ,MAElB,GAAIC,KAAJ,EAGE,OAFAV,EAAAA,MADiB,EAEjBA,EAAAA,MAFiB,IAWrB,OADAA,EAAAA,MAbqB,MAoDzB7D,EAAAA,OA5fgC,EAkgBhCmB,EAAAA,UAAoB,CAClBnG,YADkB,EAGlBwJ,MAAO,YAcL,GAbAzJ,KAAA,KAD6B,EAE7BA,KAAA,KAF6B,EAK7BA,KAAA,KAAYA,KAAK0J,MALY,EAM7B1J,KAAA,MAN6B,EAO7BA,KAAA,SAP6B,KAS7BA,KAAA,OAT6B,OAU7BA,KAAA,IAV6B,EAY7BA,KAAA,mBAZ6B,IAc7B,EACE,kBAEMqD,MAAAA,EAAAA,OAAAA,IACA8B,EAAAA,KAAAA,KADA9B,KAECwF,OAAOxF,EAAAA,MAFZ,MAGErD,KAAA,GAD0B,IAOlC2J,KAAM,WACJ3J,KAAA,MADe,EAGf,IACI4J,EADY5J,KAAK6J,WAHN,cAKf,aAAID,EAAAA,KACF,MAAMA,EADyB,IAIjC,OAAO5J,KATQ,MAYjB8J,kBAAmB,YACjB,GAAI9J,KAAJ,KACE,MADa,EAIf,IAAImG,EALiC,KAMrC,gBAYE,OAXAU,EAAAA,KAD2B,QAE3BA,EAAAA,IAF2B,EAG3BV,EAAAA,KAH2B,EAK3B,IAGEA,EAAAA,OAHU,OAIVA,EAAAA,IAJU,KALe,EAe7B,IAAK,IAAIjD,EAAIlD,KAAK6J,WAAWE,OAA7B,EAAyC7G,GAAzC,MAAsD,CACpD,IAAIsF,EAAQxI,KAAK6J,WADmC,GAEhDhD,EAAS2B,EAFuC,WAIpD,YAAIA,EAAAA,OAIF,OAAOwB,EAJoB,OAO7B,GAAIxB,EAAAA,QAAgBxI,KAApB,KAA+B,CAC7B,IAAIiK,EAAW9E,EAAAA,KAAAA,EADc,YAEzB+E,EAAa/E,EAAAA,KAAAA,EAFY,cAI7B,GAAI8E,GAAJ,EAA4B,CAC1B,GAAIjK,KAAKmK,KAAO3B,EAAhB,SACE,OAAOwB,EAAOxB,EAAPwB,UADuB,GAEzB,GAAIhK,KAAKmK,KAAO3B,EAAhB,WACL,OAAOwB,EAAOxB,EADyB,iBAIpC,GAAIyB,GACT,GAAIjK,KAAKmK,KAAO3B,EAAhB,SACE,OAAOwB,EAAOxB,EAAPwB,UADuB,OAI3B,KAAIE,EAMT,MAAM,IAAIxK,MADL,0CAJL,GAAIM,KAAKmK,KAAO3B,EAAhB,WACE,OAAOwB,EAAOxB,EADkB,gBAW1C4B,OAAQ,cACN,IAAK,IAAIlH,EAAIlD,KAAK6J,WAAWE,OAA7B,EAAyC7G,GAAzC,MAAsD,CACpD,IAAIsF,EAAQxI,KAAK6J,WADmC,GAEpD,GAAIrB,EAAAA,QAAgBxI,KAAhBwI,MACArD,EAAAA,KAAAA,EADAqD,eAEAxI,KAAKmK,KAAO3B,EAFhB,WAEkC,CAChC,IAAI6B,EAD4B,SAMhCA,IACU,UAATpD,GADDoD,aAECpD,IACDoD,EAAAA,QAHAA,GAIA7D,GAAO6D,EAJX,aAOEA,EAHkC,MAMpC,IAAIxD,EAASwD,EAAeA,EAAfA,WArBa,GAyB1B,OAHAxD,EAAAA,KAtB0B,EAuB1BA,EAAAA,IAvB0B,EAyB1B,GACE7G,KAAA,OADgB,OAEhBA,KAAA,KAAYqK,EAFI,cAMXrK,KAAKsK,SA/Bc,IAkC5BA,SAAU,cACR,aAAIzD,EAAAA,KACF,MAAMA,EADqB,IAe7B,MAXIA,UAAAA,EAAAA,MAAJ,aACIA,EAAAA,KACF7G,KAAA,KAAY6G,EADkB,IAEzB,WAAIA,EAAAA,MACT7G,KAAA,KAAYA,KAAKwG,IAAMK,EADY,IAEnC7G,KAAA,OAFmC,SAGnCA,KAAA,KAHmC,OAI1B6G,WAAAA,EAAAA,MAAJ,IACL7G,KAAA,KAD+C,GAZd,GAmBrCuK,OAAQ,YACN,IAAK,IAAIrH,EAAIlD,KAAK6J,WAAWE,OAA7B,EAAyC7G,GAAzC,MAAsD,CACpD,IAAIsF,EAAQxI,KAAK6J,WADmC,GAEpD,GAAIrB,EAAAA,aAAJ,EAGE,OAFAxI,KAAA,SAAcwI,EAAd,WAAgCA,EADG,UAEnCgC,EAFmC,OAQzC,MAAS,YACP,IAAK,IAAItH,EAAIlD,KAAK6J,WAAWE,OAA7B,EAAyC7G,GAAzC,MAAsD,CACpD,IAAIsF,EAAQxI,KAAK6J,WADmC,GAEpD,GAAIrB,EAAAA,SAAJ,EAA6B,CAC3B,IAAI3B,EAAS2B,EADc,WAE3B,aAAI3B,EAAAA,KAAyB,CAC3B,IAAI4D,EAAS5D,EADc,IAE3B2D,EAF2B,GAI7B,OAN2B,GAY/B,MAAM,IAAI9K,MAfc,0BAkB1BgL,cAAe,gBAab,OAZA1K,KAAA,SAAgB,CACd2K,SAAUhD,EADI,GAEdiD,WAFc,EAGdC,QAHc,GAMhB,SAAI7K,KAAKuG,SAGPvG,KAAA,IAH0B,GAPyB,IAzrBzB,EAAnB,CAqtBb,yBAA6B+E,EAA7B,QD5tBFA,IC+tBA,IACE+F,mBADE,EAEF,MAAOC,GAWP,YAAI,2DACF5K,WAAAA,mBADkC,EAGlC6K,SAAAA,IAAAA,yBAAAA,CADK,osGC5GT,YACE,IAAMjB,EAASkB,EADW,OAG1B,GAAIlB,IAAAA,GAAgBkB,EAAAA,aAApB,WACE,OAAOA,EADyC,GAIlD,IADA,IAAIC,EANsB,EAOjBhI,EAAT,EAAgBA,EAAhB,EAA4BA,IAC1BgI,GAAgBC,EAAgBF,EADD,IAKjC,IAFA,IAAIG,EAVsB,EAWpBrK,EAAO,IAAIC,WAXS,GAYjBkC,EAAT,EAAgBA,EAAhB,EAA4BA,IAAK,CAC/B,IAAImI,EAAOJ,EADoB,GAEzBI,aAAN,aAEIA,EADF,kBAAWA,EACFzK,EADqB,GAGrB,IAAII,WADN,IAIT,IAAMsK,EAAaD,EATY,WAU/BtK,EAAAA,IAAAA,EAV+B,GAW/BqK,GAX+B,EAajC,OAzB0B,8BAhD5B,YACE/N,EACEkO,OAAAA,GAAAA,WAAkB,WADpBlO,IACiDkO,EAAAA,OAFrB,sCAK5B,IAAMxB,EAASwB,EALa,OAMtBC,EANsB,KAO5B,GAAIzB,EAAJ,EACE,OAAO0B,OAAAA,aAAAA,MAAAA,KADwB,GAIjC,IADA,IAAMC,EAVsB,GAWnBxI,EAAT,EAAgBA,EAAhB,EAA4BA,GAA5B,EAAqD,CACnD,IAAMyI,EAAW1N,KAAAA,IAASiF,EAATjF,EADkC,GAE7C2N,EAAQL,EAAAA,SAAAA,EAFqC,GAGnDG,EAAAA,KAAYD,OAAAA,aAAAA,MAAAA,KAHuC,IAKrD,OAAOC,EAAAA,KAhBqB,uBA0gB9B,YAA0E,IAA3CG,EAA2C,uDAA1E,GAAiDC,EAAyB,wDACxE,GAAI/H,IAAAA,iBAAAA,qBAA8BgI,OAAlC,EACE,OAAOhI,IAAAA,gBAAoB,IAAIgI,KAAK,CAAT,GAAiB,CAAE9E,KAD4B,KAQ5E,IAJA,IAAM+E,EALkE,oEAQpEC,EAAAA,QAAAA,OARoE,EAQxE,YACS/I,EAAJ,EAAWD,EAAKlC,EAArB,OAAkCmC,EAAlC,EAA0CA,GAA1C,EAAkD,CAChD,IAAMgJ,EAD0C,IACrCnL,EAAAA,GACLoL,EAF0C,IAErCpL,EAAKmC,EAALnC,GACLqL,EAH0C,IAGrCrL,EAAKmC,EAALnC,GACLsL,EAAKH,GAAX,EACEI,GAAM,EAACJ,IAAF,EAAmBC,GALsB,EAM1CI,EAAKrJ,EAAAA,EAAAA,GAAc,GAACiJ,IAAF,EAAqBC,GAAlClJ,EANqC,GAO1CsJ,EAAKtJ,EAAAA,EAAAA,EAAAA,GAAakJ,EAPwB,GAQhDH,GAAUD,EAAAA,GAAaA,EAAbA,GAA0BA,EAA1BA,GAAuCA,EARD,GAUlD,OAnBwE,6BAtB1E,WACE,IAAMS,EAAatJ,OAAAA,OADc,MAE7BuJ,GAF6B,EAmBjC,OAfAvJ,OAAAA,eAAAA,EAAAA,UAA6C,CAC3CwJ,IAD2C,WAEzC,OADI,KAIRF,EAAAA,QAAqB,IAAIrN,SAAQ,SAAUI,EAASC,GAClDgN,EAAAA,QAAqB,SAAU1L,GAC7B2L,GADmC,EAEnClN,EAFmC,IAIrCiN,EAAAA,OAAoB,SAAUG,GAC5BF,GADoC,EAEpCjN,EAFoC,OAdP,4BAhoBnC,YAAqE,IAAhCqE,EAAgC,uDAArE,KAAqD+I,EAAgB,uDAArE,KACE,MACE,OADQ,KAGV,IACE,GAAIA,GAAJ,kBAAsBvP,EAAkB,CAEtC,GAAIuP,EAAAA,oBAA8BvP,EAAAA,WAAlC,QAA0D,CACxD,IAAMwP,EAAOxP,EAAAA,MAD2C,OAIpDwP,GAAQA,EAAAA,QAAZ,IACExP,EAAAA,UAAAA,OAD4B,IAOhC,GAAIuP,EAAJ,mBACE,IACEvP,EAAMyP,EADJ,GAEF,MAAOrO,KAIb,IAAMsO,EAAclJ,EAAU,IAAIC,IAAIzG,EAAlBwG,GAAkC,IAAIC,IArBxD,GAsBF,GAAIkJ,EAAJ,GACE,OADiC,EAGnC,MAAOvO,IAGT,OAhCmE,qBAiiBrE,YAIE,OAAOwO,EAAIC,QAAQ,iBAAiBC,SAAAA,GAClC,aAAIA,EAAgB,MAEb,OAAIA,EAAgB,MAG3B,YAN2C,6BA8D/C,WAAgD,IAAnBC,EAAmB,uDAAZ,IAApC,KACQpB,EAAS,CACboB,EAAAA,iBADa,YAEZA,EAAA,cAAD,yBAFa,KAGbA,EAAAA,aAAAA,WAAAA,SAAAA,EAHa,KAIbA,EAAAA,cAAAA,WAAAA,SAAAA,EAJa,KAKbA,EAAAA,gBAAAA,WAAAA,SAAAA,EALa,KAMbA,EAAAA,gBAAAA,WAAAA,SAAAA,EANF,MASA,OAAOpB,EAAAA,KAVuC,yBA1qBhD,WACE,OAD2B,UAO7B,YACMqB,GAAaC,EAAjB,OACE1P,QAAAA,IAAAA,SAAAA,OADqC,qBAkpBzC,YACE,MAAO,wBAAyB2P,QADR,IACsBA,EAAAA,2BAGhD,cACE,GAAIC,EAAAA,SAAgBC,EAApB,OACE,OAD+B,EAGjC,IAAK,IAAIxK,EAAJ,EAAWD,EAAKwK,EAArB,OAAkCvK,EAAlC,EAA0CA,IACxC,GAAIuK,EAAAA,KAAYC,EAAhBxK,GACE,OADuB,EAI3B,OATgC,aAxClC,YACE,MAAO,iBAAiBhE,KADJ,aAwBtB,YACE,MADiB,mBACHsO,WAGhB,YACE,MADgB,kBACFA,kBApnBhB,cACE,IADuC,EAEvC,IAEE,KADAG,EAAO,IAAI5J,IADT,IAEE,QAAJ,SAAoB4J,EAAAA,OAClB,OAD0C,EAG5C,MAAOC,GACP,OADU,EAIZ,IAAMC,EAAQ,IAAI9J,IAAI+J,EAXiB,GAYvC,OAAOH,EAAAA,SAAgBE,EAZgB,mBAunBzC,YACE,MADmB,kBACLL,mBAhWhB,YACE,IAD0B,MACpB3H,EAAM1C,OAAAA,OADc,kpBAE1B,2BAAgC,0jBAArB,EAAqB,KAAhC,EAAgC,KAC9B0C,EAAAA,GAD8B,GAFN,8BAK1B,OAL0B,gBAN5B,YACE,OAAO1C,OAAAA,KAAAA,GADgB,+BAzGzB,YAA6D,IAA1B4K,EAA0B,wDAC3D,wBAAWb,GACT9O,EAD2B,+DAI7B,IACE8O,EAAMA,EAAAA,QAAAA,EADc,MAGfA,EAAAA,QAAAA,EARoD,0BA9M7D,YACMc,OAAAA,UAAJ,KACEV,EAD2B,0BAoS/B,YAUE,OAAO7B,OAAAA,aACJhG,GAAD,GADKgG,IAEJhG,GAAD,GAFKgG,IAGJhG,GAAD,EAHKgG,IAVgB,IAcrBhG,0CAiSJ,YACE,IAAMsE,EAASmD,EAAf,OACExB,EAF4B,GAG9B,GAAIwB,SAAAA,EAAAA,IAAJ,SAAyBA,EAAAA,GAEvB,IAAK,IAAIhK,EAAT,EAAgBA,EAAhB,EAA4BA,GAA5B,EACEwI,EAAAA,KACED,OAAAA,aAAqByB,EAAAA,WAAAA,IAAD,EAA2BA,EAAAA,WAAehK,EAF9B,UAK/B,GAAIgK,SAAAA,EAAAA,IAAJ,SAAyBA,EAAAA,GAE9B,IAAK,IAAIhK,EAAT,EAAgBA,EAAhB,EAA4BA,GAA5B,EACEwI,EAAAA,KACED,OAAAA,aAAqByB,EAAAA,WAAehK,EAAfgK,IAAD,EAA+BA,EAAAA,WAFnB,UAMpC,IAAK,IAAIhK,EAAT,EAAgBA,EAAhB,MAAiC,CAC/B,IAAM+K,EAAOC,EAAwBhB,EAAAA,WADN,IAE/BxB,EAAAA,KAAYuC,EAAOxC,OAAAA,aAAPwC,GAAmCf,EAAAA,OAFhB,IAKnC,OAAOxB,EAAAA,KAvBuB,6BA4ChC,YAEE,IADA,IAAMyC,EAAM,CADsB,YAEzBjL,EAAJ,EAAWD,EAAKiK,EAArB,OAAiChK,EAAjC,EAAyCA,IAAK,CAC5C,IAAMkL,EAAOlB,EAAAA,WAD+B,GAE5CiB,EAAAA,KACE1C,OAAAA,aAAqB2C,GAAD,EADtBD,KAEE1C,OAAAA,aAJ0C,IAItB2C,IAGxB,OAAOD,EAAAA,KAT2B,iEAgBpC,YACE,OAAOE,SAASC,mBADe,cAzgCjC,uBAiBwB,CAAC,EAAG,EAAG,EAAG,EAAG,EAArC,0BAC6B,CAAC,KAAO,EAAG,EAAG,KAAO,EAAlD,yBAc4B,CAC1BC,IAD0B,EAE1BC,QAF0B,EAG1BC,MAH0B,EAI1BC,kBAJ0B,GAK1BC,oBAL0B,GAM1BC,oBAN0B,GAO1BC,OAP0B,sBAUL,CACrBC,QADqB,EAErBC,OAFqB,EAGrBC,aAHqB,EAIrBC,eAJqB,oBAQA,CACrBR,MADqB,EAErBS,gBAFqB,EAGrBC,KAHqB,GAIrBC,mBAJqB,GAKrBC,uBALqB,IAMrBC,uBANqB,IAOrBC,SAPqB,KAQrBC,mBARqB,0BAWG,CACxBC,KADwB,EAExBC,OAFwB,EAGxBC,YAHwB,EAIxBC,UAJwB,EAKxBC,iBALwB,EAMxBC,mBANwB,EAOxBC,wBAPwB,EAQxBC,YARwB,EASxBC,iBATwB,EAUxBC,iBAVwB,eAaR,CAChBC,eADgB,EAEhBC,UAFgB,EAGhBC,WAHgB,oBAMK,CACrBC,KADqB,EAErBC,KAFqB,EAGrBC,SAHqB,EAIrBC,KAJqB,EAKrBC,OALqB,EAMrBC,OANqB,EAOrBC,QAPqB,EAQrBC,SARqB,EASrBC,UATqB,EAUrBC,UAVqB,GAWrBC,SAXqB,GAYrBC,UAZqB,GAarBC,MAbqB,GAcrBC,MAdqB,GAerBC,IAfqB,GAgBrBC,MAhBqB,GAiBrBC,eAjBqB,GAkBrBC,MAlBqB,GAmBrBC,MAnBqB,GAoBrBC,OApBqB,GAqBrBC,OArBqB,GAsBrBC,YAtBqB,GAuBrBC,QAvBqB,GAwBrBC,UAxBqB,GAyBrBC,OAzBqB,GA0BrBC,OA1BqB,+BA6BU,CAC/BC,OAD+B,SAE/BC,OAF+B,kCAKH,CAC5BD,OAD4B,SAE5BE,SAF4B,oCAKA,CAC5BC,SAD4B,WAE5BC,SAF4B,WAG5BC,UAH4B,YAI5BC,UAJ4B,YAK5B1P,KAL4B,8BAQF,CAC1B2P,MAD0B,QAE1BC,MAF0B,sBAKL,CACrB5C,UADqB,EAErB6C,OAFqB,EAGrBhE,MAHqB,EAIrBiE,OAJqB,EAKrBC,SALqB,GAMrBC,OANqB,GAOrBC,SAPqB,GAQrBC,OARqB,IASrBC,aATqB,IAUrBC,eAVqB,2BAaK,CAC1BH,SAD0B,EAE1BI,SAF0B,EAG1BC,SAH0B,EAI1BC,UAJ0B,KAK1BC,SAL0B,KAM1BC,cAN0B,MAO1BC,MAP0B,MAQ1BC,WAR0B,MAS1BC,MAT0B,OAU1BC,KAV0B,OAW1BC,KAX0B,OAY1BC,WAZ0B,QAa1BC,YAb0B,QAc1BC,gBAd0B,QAe1BC,YAf0B,QAgB1BC,KAhB0B,SAiB1BC,SAjB0B,SAkB1BC,eAlB0B,SAmB1BC,kBAnB0B,sCAsBM,CAChCC,MADgC,EAEhCC,OAFgC,EAGhCC,QAHgC,EAIhCC,MAJgC,EAKhCvD,UALgC,+BAQA,CAChCwD,EADgC,cAEhCC,EAFgC,aAGhCC,EAHgC,aAIhCC,EAJgC,WAKhCC,GALgC,QAMhCC,GANgC,OAOhCC,GAPgC,WAQhCC,GARgC,YAShCC,GATgC,cAUhCC,GAVgC,gBAWhCC,EAXgC,YAYhCC,EAZgC,SAahCC,EAbgC,WAchCC,EAdgC,uCAiBF,CAC9BC,GAD8B,YAE9BC,GAF8B,WAG9BC,GAH8B,UAI9BC,GAJ8B,YAK9BC,GAL8B,kCAQJ,CAC1BC,EAD0B,WAE1BN,EAF0B,0BAKT,CACjBO,QADiB,UAEjBC,MAFiB,QAGjBC,IAHiB,MAIjBC,IAJiB,MAKjBC,IALiB,MAMjBC,KANiB,OAOjBC,IAPiB,MAQjBC,IARiB,MASjBC,IATiB,MAUjBC,IAViB,kBAaF,CACfT,QADe,UAEfU,MAFe,QAGfC,cAHe,gBAIfC,OAJe,SAKfC,aALe,eAMfC,cANe,gBAOfC,SAPe,WAQfC,aARe,eASfC,MATe,QAUfC,SAVe,WAWfC,MAXe,QAYfC,QAZe,WAejB,IAAMxJ,EAAiB,CACrByJ,OADqB,EAErBC,SAFqB,EAGrBC,MAHqB,4CAMK,CAC1BtU,KAD0B,EAE1BuU,OAF0B,EAG1BC,OAH0B,SAOhB,CAGVC,WAHU,EAIVC,aAJU,EAKVC,WALU,EAMVC,YANU,EAOVC,cAPU,EAQVC,QARU,EASVC,mBATU,EAUVC,YAVU,EAWVC,UAXU,EAYVC,KAZU,GAaVC,QAbU,GAcVC,UAdU,GAeVC,OAfU,GAgBVC,OAhBU,GAiBVC,QAjBU,GAkBVC,SAlBU,GAmBVC,SAnBU,GAoBVC,UApBU,GAqBVC,UArBU,GAsBVC,OAtBU,GAuBVC,YAvBU,GAwBVC,KAxBU,GAyBVC,OAzBU,GA0BVC,WA1BU,GA2BVC,aA3BU,GA4BVC,gBA5BU,GA6BVC,kBA7BU,GA8BVC,QA9BU,GA+BVC,KA/BU,GAgCVC,OAhCU,GAiCVC,UAjCU,GAkCVC,QAlCU,GAmCVC,eAnCU,GAoCVC,eApCU,GAqCVC,UArCU,GAsCVC,WAtCU,GAuCVC,QAvCU,GAwCVC,qBAxCU,GAyCVC,YAzCU,GA0CVC,SA1CU,GA2CVC,mBA3CU,GA4CVC,cA5CU,GA6CVC,SA7CU,GA8CVC,SA9CU,GA+CVC,eA/CU,GAgDVC,iBAhDU,GAiDVC,2BAjDU,GAkDVC,aAlDU,GAmDVC,sBAnDU,GAoDVC,oBApDU,GAqDVC,kBArDU,GAsDVC,eAtDU,GAuDVC,gBAvDU,GAwDVC,aAxDU,GAyDVC,cAzDU,GA0DVC,cA1DU,GA2DVC,YA3DU,GA4DVC,kBA5DU,GA6DVC,gBA7DU,GA8DVC,mBA9DU,GA+DVC,iBA/DU,GAgEVC,YAhEU,GAiEVC,iBAjEU,GAkEVC,eAlEU,GAmEVC,eAnEU,GAoEVC,aApEU,GAqEVC,UArEU,GAsEVC,eAtEU,GAuEVC,mBAvEU,GAwEVC,wBAxEU,GAyEVC,iBAzEU,GA0EVC,YA1EU,GA2EVC,UA3EU,GA4EVC,sBA5EU,GA6EVC,oBA7EU,GA8EVC,WA9EU,GA+EVC,SA/EU,GAgFVC,iBAhFU,GAiFVC,eAjFU,GAkFVC,gBAlFU,GAmFVC,cAnFU,GAqFVC,iBArFU,GAsFVC,sBAtFU,GAuFVC,2BAvFU,GAwFVC,kBAxFU,GAyFVC,wBAzFU,GA0FVC,6BA1FU,GA2FVC,wBA3FU,GA4FVC,4BA5FU,GA6FVC,yBA7FU,GA8FVC,cA9FU,2BAiGiB,CAE3BC,QAF2B,UAG3BC,MAH2B,QAI3BC,WAJ2B,aAK3BC,WAL2B,aAM3BC,MAN2B,QAO3BC,eAP2B,iBAS3BC,KAT2B,OAU3BC,mBAV2B,qBAW3BC,eAX2B,iBAY3BC,aAZ2B,eAa3BC,mBAb2B,qBAc3BC,eAd2B,iBAe3BC,iBAf2B,mBAgB3BC,mBAhB2B,qBAiB3BC,gBAjB2B,kBAkB3BC,kBAlB2B,oBAmB3BC,mBAnB2B,qBAoB3BC,oBApB2B,sBAqB3BC,mBArB2B,qBAsB3BC,iBAtB2B,mBAuB3BC,mBAvB2B,qBAwB3BC,sBAxB2B,6CA2BH,CACxBC,cADwB,EAExBC,mBAFwB,GAK1B,IAAIjR,EAAYC,EAvXhB,SA6YA,cACMD,GAAaC,EAAjB,UACE1P,QAAAA,IAAAA,YAAAA,OADwC,IAK5C,cACE,MAAM,IAAI6B,MADc,GAI1B,gBACE,GACE8e,EADS,GAsBb,cACE,MACE,OADQ,EAGV,OAAQlhB,EAAR,UACE,IADF,QAEE,IAFF,SAGE,IAHF,OAIE,IAJF,UAKE,WACE,OANJ,EAOE,QACE,OARJ,GAuDF,kBAgBE,OANA6F,OAAAA,eAAAA,EAAAA,EAAiC,CAC/BsC,MAD+B,EAE/BC,YAF+B,EAG/BC,cAH+B,EAI/BC,UAJ+B,IAVD,EAsBlC,IAAM6Y,EAAiB,WAErB,gBACMze,KAAKC,cAAT,GACEue,EADsC,oCAGxCxe,KAAA,QAJoC,EAKpCA,KAAA,KALoC,EAUtC,OAHAye,EAAAA,UAA0B,IAT2B,MAUrDA,EAAAA,YAVqD,IAAhC,yBAevB,gCACExe,SAAAA,EAAAA,EAAAA,GAAuB,wBACrB,gBADqB,sBAErB,KAFqB,aADzB,8BAOA,gCACEA,SAAAA,EAAAA,EAAAA,GAA0B,wBACxB,gBADwB,0BAExB,QAFwB,aAD5B,kCAOA,gCACEA,SAAAA,EAAAA,GAAiB,+DADnB,gCAMA,gCACEA,SAAAA,EAAAA,GAAiB,+DADnB,gCAMA,gCACEA,SAAAA,EAAAA,EAAAA,GAAyB,wBACvB,gBADuB,gCAEvB,OAFuB,aAD3B,wCAUA,gCACEA,SAAAA,EAAAA,GAAiB,uDADnB,wBASA,gCACEA,SAAAA,EAAAA,GAAiB,0DADnB,uBAMA,IAAMye,EAjkBN,SAkkBMC,EAlkBN,eAqmBA,cACEthB,EAAAA,kBAAc6P,EADY,sCAI1B,IAFA,IAAMnD,EAASmD,EAFW,OAGpB3B,EAAQ,IAAIvK,WAHQ,GAIjBkC,EAAT,EAAgBA,EAAhB,MACEqI,EAAAA,GAD+B,IACpB2B,EAAAA,WAAAA,GAEb,OAP0B,EAe5B,cACE,gBAAIjC,EAAAA,OACKA,EADqB,QAG9B5N,OAAAA,IAAO4N,EAAAA,WAJqB,uCAKrBA,EALqB,YAiF9B,IAAM2T,EAAuB,CAC3B,YACE,OAAO7e,EAAAA,KAAAA,QARX,WACE,IAAM8e,EAAU,IAAI7d,WADI,GAIxB,OAFA6d,EAAAA,GAFwB,MAGT,IAAIC,YAAYD,EAAhB,SAHS,GAIjBE,GAIwBC,+BAajC,IAAMC,EAAwB,CAC5B,YACE,OAAOlf,EAAAA,KAAAA,QAVX,WACE,IAEE,OADA,aADE,OAGF,MAAO6N,GACP,OADU,GAMmBsR,gCAIjC,IAAMC,EAAa,EAAIC,MAAAA,KAAJ,aAA2BC,SAAAA,GAAAA,OAC5CA,EAAAA,SAAAA,IAAAA,SAAAA,EA3tBF,QA8tBA,sFACE,gBACE,iBAAWF,EAAXG,IAAA,OAA2BH,EAA3B,WAA2CA,EADhB,6BAK7B,cACE,MAAO,CACLI,EAAAA,GAAQC,EAARD,GAAgBA,EAAAA,GAAQC,EADnB,GAELD,EAAAA,GAAQC,EAARD,GAAgBA,EAAAA,GAAQC,EAFnB,GAGLD,EAAAA,GAAQC,EAARD,GAAgBA,EAAAA,GAAQC,EAHnB,GAILD,EAAAA,GAAQC,EAARD,GAAgBA,EAAAA,GAAQC,EAJnB,GAKLD,EAAAA,GAAQC,EAARD,GAAgBA,EAAAA,GAAQC,EAAxBD,GAAgCA,EAL3B,GAMLA,EAAAA,GAAQC,EAARD,GAAgBA,EAAAA,GAAQC,EAAxBD,GAAgCA,EANlC,kCAWF,cAGE,MAAO,CAFIE,EAAAA,GAAOC,EAAPD,GAAcA,EAAAA,GAAOC,EAArBD,GAA4BC,EADb,GAEfD,EAAAA,GAAOC,EAAPD,GAAcA,EAAAA,GAAOC,EAArBD,GAA4BC,EAFb,yCAM5B,cACE,IAAMC,EAAID,EAAAA,GAAOA,EAAPA,GAAcA,EAAAA,GAAOA,EADE,GAIjC,MAAO,EAFKD,EAAA,GAAOC,EAAP,GAAcD,EAAAA,GAAOC,EAArB,GAA4BA,EAAAA,GAAOA,EAAnC,GAA0CA,EAAAA,GAAOA,EAAlD,IAFsB,IAGpBD,EAAD,GAAQC,EAAR,GAAeD,EAAAA,GAAOC,EAAtB,GAA6BA,EAAAA,GAAOA,EAApC,GAA2CA,EAAAA,GAAOA,EAAnD,IAHsB,6CASnC,cACE,IAAME,EAAKvd,EAAAA,eAAAA,EAD2B,GAEhCwd,EAAKxd,EAAAA,eAAoBid,EAAAA,MAAAA,EAApBjd,GAF2B,GAGhCyd,EAAKzd,EAAK0d,eAAe,CAACT,EAAD,GAAOA,EAA3B,IAH2B,GAIhCU,EAAK3d,EAAK0d,eAAe,CAACT,EAAD,GAAOA,EAA3B,IAJ2B,GAKtC,MAAO,CACLrhB,KAAAA,IAAS2hB,EAAT3hB,GAAgB4hB,EAAhB5hB,GAAuB6hB,EAAvB7hB,GAA8B+hB,EADzB,IAEL/hB,KAAAA,IAAS2hB,EAAT3hB,GAAgB4hB,EAAhB5hB,GAAuB6hB,EAAvB7hB,GAA8B+hB,EAFzB,IAGL/hB,KAAAA,IAAS2hB,EAAT3hB,GAAgB4hB,EAAhB5hB,GAAuB6hB,EAAvB7hB,GAA8B+hB,EAHzB,IAIL/hB,KAAAA,IAAS2hB,EAAT3hB,GAAgB4hB,EAAhB5hB,GAAuB6hB,EAAvB7hB,GAA8B+hB,EAJhC,qCAQF,YACE,IAAML,EAAID,EAAAA,GAAOA,EAAPA,GAAcA,EAAAA,GAAOA,EADN,GAEzB,MAAO,CACLA,EAAAA,GADK,GAEJA,EAAD,GAFK,GAGJA,EAAD,GAHK,EAILA,EAAAA,GAJK,GAKJA,EAAA,GAAOA,EAAP,GAAcA,EAAAA,GAAOA,EAAtB,IALK,GAMJA,EAAA,GAAOA,EAAP,GAAcA,EAAAA,GAAOA,EAAtB,IANF,mCAgBF,cACE,MAAO,CACLA,EAAAA,GAAOlS,EAAPkS,GAAcA,EAAAA,GAAOlS,EAArBkS,GAA4BA,EAAAA,GAAOlS,EAD9B,GAELkS,EAAAA,GAAOlS,EAAPkS,GAAcA,EAAAA,GAAOlS,EAArBkS,GAA4BA,EAAAA,GAAOlS,EAF9B,GAGLkS,EAAAA,GAAOlS,EAAPkS,GAAcA,EAAAA,GAAOlS,EAArBkS,GAA4BA,EAAAA,GAAOlS,EAHrC,iDAUF,YACE,IAAMyS,EAAY,CAACP,EAAD,GAAOA,EAAP,GAAaA,EAAb,GAAmBA,EAArC,IAGMQ,EAAIR,EAAAA,GAAOO,EAAPP,GAAsBA,EAAAA,GAAOO,EAJD,GAKhCE,EAAIT,EAAAA,GAAOO,EAAPP,GAAsBA,EAAAA,GAAOO,EALD,GAMhCG,EAAIV,EAAAA,GAAOO,EAAPP,GAAsBA,EAAAA,GAAOO,EAND,GAOhCN,EAAID,EAAAA,GAAOO,EAAPP,GAAsBA,EAAAA,GAAOO,EAPD,GAUhCI,GAASH,EAAD,GAVwB,EAWhCvb,EAAS1G,KAAAA,KAAW,SAAAiiB,EAAD,KAAe,GAAKA,EAAIP,EAAIS,EAAtCniB,IAXuB,EAYhCqiB,EAAKD,EAAAA,GAZ2B,EAahCE,EAAKF,EAAAA,GAb2B,EAgBtC,MAAO,CAACpiB,KAAAA,KAAD,GAAgBA,KAAAA,KAAvB,iCAOF,YACE,IAAMqhB,EAAI7c,EAAAA,MADe,GAUzB,OARIA,EAAAA,GAAUA,EAAd,KACE6c,EAAAA,GAAO7c,EADc,GAErB6c,EAAAA,GAAO7c,EAFc,IAInBA,EAAAA,GAAUA,EAAd,KACE6c,EAAAA,GAAO7c,EADc,GAErB6c,EAAAA,GAAO7c,EAFc,IANE,2BAgB3B,cACE,gBACE,OAAOyd,EADc,EAKvB,IAAMM,EAAW,CAACC,EAAD,GAAWA,EAAX,GAAqBC,EAArB,GAA+BA,EAA/B,SANY,GAOvBC,EAAW,CAACF,EAAD,GAAWA,EAAX,GAAqBC,EAArB,GAA+BA,EAA/B,SAPY,GAQvB1Y,EARuB,GAc7B,OAJAyY,EAAQpe,EAAAA,cAVqB,GAW7Bqe,EAAQre,EAAAA,cAXqB,GAe1Bme,EAAAA,KAAgBC,EAAhBD,IAA4BA,EAAAA,KAAgBE,EAA7C,IACCF,EAAAA,KAAgBE,EAAhBF,IAA4BA,EAAAA,KAAgBC,EAF/C,IAKEzY,EAAAA,GAAYwY,EAFZ,GAGAxY,EAAAA,GAAYwY,EAHZ,GAUCG,EAAAA,KAAgBF,EAAhBE,IAA4BA,EAAAA,KAAgBD,EAA7C,IACCC,EAAAA,KAAgBD,EAAhBC,IAA4BA,EAAAA,KAAgBF,EAF/C,IAKEzY,EAAAA,GAAY2Y,EAFZ,GAGA3Y,EAAAA,GAAY2Y,EAHZ,GA7B2B,GAiCtB,MAZA,sCAoBT,0BAIE,IAHA,IAEA,cAHuD,EACjDC,EAAN,GACEC,EAAS,CAAC,GADZ,IAGS3d,EAAT,EAAgBA,EAAhB,MAUE,GATA,IAAIA,GACFid,EAAI,EAAIW,EAAK,GAAT,EAAmB,EADZ,EAEXZ,GAAK,EAAIY,EAAK,EAAV,EAAmB,EAAnB,EAA4B,EAFrB,EAGXV,EAAI,EAAIW,EAAK,EAHF,IAKXZ,EAAI,EAAIa,EAAK,GAAT,EAAmB,EADlB,EAELd,GAAK,EAAIc,EAAK,EAAV,EAAmB,EAAnB,EAA4B,EAF3B,EAGLZ,EAAI,EAAIa,EAAK,EAHR,GAKHhjB,KAAAA,IAAAA,GAAJ,OACE,GAAIA,KAAAA,IAAAA,GAAJ,MAAyB,SAIrB,GADJijB,GAAKd,EAJkB,IAKVc,EAAb,GACEN,EAAAA,KADkB,QAKtBO,EAAOhB,EAAAA,EAAQ,EAAIC,EApBO,EAqB1BgB,EAAWnjB,KAAAA,KArBe,GAsBtBkjB,EAAJ,IAII,GADJE,IAAM,EAAD,IAAmB,EAzBE,KA0BZA,EAAd,GACET,EAAAA,KADoB,GAIlB,GADJU,IAAM,EAAD,IAAmB,EA7BE,KA8BZA,EAAd,GACEV,EAAAA,KADoB,IAQxB,IAHA,IAvCuD,EAuCnDW,EAAIX,EAAR,OAEMY,EAzCiD,EA0ChDD,KAELE,EAAK,GADLP,EAAIN,EADM,IAGVC,EAAAA,GAAAA,GACEY,EAAAA,EAAAA,EAAAA,EACA,EAAIA,EAAKA,EAAKP,EADdO,EAEA,EAAIA,EAAKP,EAAIA,EAFbO,EAGAP,EAAAA,EAAAA,EAPQ,EAQVL,EAAAA,GAAAA,GACEY,EAAAA,EAAAA,EAAAA,EACA,EAAIA,EAAKA,EAAKP,EADdO,EAEA,EAAIA,EAAKP,EAAIA,EAFbO,EAGAP,EAAAA,EAAAA,EAZQ,EAqBZ,OANAL,EAAAA,GAAAA,GAzDuD,EA0DvDA,EAAAA,GAAAA,GA1DuD,EA2DvDA,EAAAA,GAAUW,EAAVX,GA3DuD,EA4DvDA,EAAAA,GAAUW,EAAVX,GA5DuD,EA6DvDA,EAAAA,GAAAA,OAAmBA,EAAAA,GAAAA,OAAmBW,EA7DiB,EA+DhD,CACLvjB,KAAAA,IAAAA,MAAAA,KAAAA,EAAY4iB,EADP,KAEL5iB,KAAAA,IAAAA,MAAAA,KAAAA,EAAY4iB,EAFP,KAGL5iB,KAAAA,IAAAA,MAAAA,KAAAA,EAAY4iB,EAHP,KAIL5iB,KAAAA,IAAAA,MAAAA,KAAAA,EAAY4iB,EAJd,gDA1NJ,YAmOA,IAAM3S,EAA0B,CAAC,EAAD,kaAAhC,MAoEA,cACE,OAAOzP,mBAAmBijB,OADK,mCCrgCjC,WAoByB,qBAAfvhB,YAA+BA,WAFzC,6BAM4B,qBAAfA,YAA8BA,WAAAA,OAAzC,OAEEA,WAAawhB,EAFoD,IAInExhB,WAAAA,4BAPA,GAWMA,WAAAA,MAAJ,aAGAA,WAAAA,KAAkB,SAAUyhB,GAE1B,OAAOC,OAAAA,KAAAA,EAAAA,UAAAA,SAF0B,aAQ/B1hB,WAAAA,MAAJ,aAGAA,WAAAA,KAAkB,SAAU8D,GAE1B,OAAO4d,OAAAA,KAAAA,EAAAA,UAAAA,SAF0B,aAQ/B1hB,WAAAA,WAAJ,aAGAA,WAAAA,UAAuBwhB,EAJE,KAUrBxe,OAAJ,aAGAwe,EAJiC,IAgB7BxhB,WAAAA,QAAJ,aAGAA,WAAAA,QAAqBwhB,EATE,MAwBnBxhB,WAAAA,gBAAJ,aAGAA,WAAAA,eACEwhB,EAAAA,KADFxhB,yVC/EJ,IAAM2hB,EACJ,kEACAC,QAAAA,KADA,qBAECA,QAAAA,SAFD,MAGEA,QAAQC,SAASC,UAAYF,QAA7B,MAxBJ,YAwBiDA,QAAAA,oCCxBjDJ,EAAAA,GAEA5c,EAAAA,QAAAA,EAAAA,qBCFQ4c,EAAR,EAKAO,CAAE,CAAEC,QAAJD,GAAoB,CAClB/hB,WALWwhB,EADb,uBCAA,IAAIQ,EAASR,EAAb,IACIS,EAA2BT,EAAAA,IAD/B,EAEIU,EAA8BV,EAFlC,IAGIW,EAAWX,EAHf,IAIIY,EAAYZ,EAJhB,IAKIa,EAA4Bb,EALhC,IAMIc,EAAWd,EANf,IAuBA5c,EAAAA,QAAiB,SAAU8H,EAAS6V,GAClC,IAGA,QAJ0C,EACtCC,EAAS9V,EAD6B,OAEtC+V,EAAS/V,EAF6B,OAGtCgW,EAAShW,EAH6B,KAY1C,GANEiW,EADF,EAAY,EAEDD,EACAV,EAAAA,IAAkBI,EAAAA,EADV,KAGPJ,EAAA,IAAD,IADJ,UAGK,IAAK3Y,KAAOkZ,EAAQ,CAQ9B,GAPAK,EAAiBL,EADa,GAI5BM,EAFEnW,EAAJ,aACEoW,EAAab,EAAAA,EADU,KAEQa,EAFR,MAGDH,EALM,IAMrBL,EAASG,EAAAA,EAAeD,GAAUE,EAAS,IAAnBF,KAAxBF,EAA6D5V,EANxC,cAQ9B,IAAemW,EAA8B,CAC3C,UAAWD,UAAX,EAD2C,SAE3CP,EAAAA,EAF2C,IAKzC3V,EAAAA,MAAiBmW,GAAkBA,EAAvC,OACEX,EAAAA,EAAAA,QAD2D,GAI7DC,EAAAA,EAAAA,EAAAA,EAjB8B,kBCnClC,IAAIY,EAAQ,YACV,OAAOC,GAAMA,EAAAA,MAANA,MADiB,GAK1Bpe,EAAAA,QAEEme,EAA2B,iBAAd/iB,YAAb,aACA+iB,EAAuB,iBAAVE,QADb,SAGAF,EAAqB,iBAARG,MAHb,OAIAH,EAAM,iBAAO,oBAAP,GAJN,wBAMC,WAAc,OAAF,KAAZ,IAAmClY,SARtCjG,cAQsCiG,oBCbtC,IAAIsY,EAAc3B,EAAlB,IACI4B,EAAO5B,EADX,IAEI6B,EAA6B7B,EAFjC,IAGI8B,EAA2B9B,EAH/B,IAII+B,EAAkB/B,EAJtB,IAKIgC,EAAgBhC,EALpB,IAMIxc,EAASwc,EANb,IAOIiC,EAAiBjC,EAPrB,IAUIkC,EAA4B1gB,OAVhC,yBAcA8B,EAAAA,EAAYqe,EAAAA,EAA0C,SAAkC5N,EAAGoO,GAGzF,GAFApO,EAAIgO,EADwF,GAE5FI,EAAIH,EAFwF,GAG5F,EAAoB,IAClB,OAAOE,EAAAA,EADe,GAEtB,MAAOE,IACT,GAAI5e,EAAAA,EAAJ,GAAkB,OAAOse,GAA0BF,EAAKC,EAALD,EAAAA,EAA1BE,GAAoE/N,EAND,sBCd9F,IAAIsO,EAAQrC,EAAZ,IAGA5c,EAAAA,SAAkBif,GAAM,WAEtB,OAFkC,GAE3B7gB,OAAO8gB,eAAe,GAAI,EAAG,CAAEtX,IAAK,WAAc,OAAF,KAAhD,mBCLT5H,EAAAA,QAAiB,SAAUmf,GACzB,IACE,QAASA,IACT,MAAOH,GACP,OADc,iBCHlB,IAAIR,EAAOvY,SAAAA,UAAX,KAEAjG,EAAAA,QAAiBwe,EAAAA,KAAYA,EAAAA,KAAZA,GAA8B,WAC7C,OAAOA,EAAAA,MAAAA,EADkD,wCCD3D,IAAIY,EAAwB,GAD5B,qBAGI/B,EAA2Bjf,OAH/B,yBAMIihB,EAAchC,IAA6B+B,EAAAA,KAA2B,CAAE,EAA7BA,GAN/C,GAUAlf,EAAAA,EAAYmf,EAAc,SAA8BjP,GACtD,IAAI8N,EAAab,EAAAA,KADwC,GAEzD,QAAO,GAAgBa,EAFkC,YAA3Dhe,eCVAF,EAAAA,QAAiB,SAAUsf,EAAQ5e,GACjC,MAAO,CACLC,aADK,EACS2e,GACd1e,eAFK,EAEW0e,GAChBze,WAHK,EAGOye,GACZ5e,MAJK,qBCAT,IAAI6e,EAAgB3C,EADpB,IAEI4C,EAAyB5C,EAF7B,IAIA5c,EAAAA,QAAiB,SAAUoe,GACzB,OAAOmB,EAAcC,EADQ,sBCJ/B,IAAIpC,EAASR,EAAb,IACI6C,EAAc7C,EADlB,IAEIqC,EAAQrC,EAFZ,IAGI8C,EAAU9C,EAHd,IAKIxe,EAASgf,EALb,OAMIuC,EAAQF,EAAY,GANxB,OASAzf,EAAAA,QAAiBif,GAAM,WAGrB,OAAQ7gB,EAAAA,KAAAA,qBAHyB,MAI9B,SAAUggB,GACb,MAAOsB,UAAAA,EAAAA,GAA0BC,EAAAA,EAA1BD,IAA0CthB,EADhC,IAJnB4B,eCTA,IAAI4f,EAAoB3Z,SAAxB,UACI4Z,EAAOD,EADX,KAEIpB,EAAOoB,EAFX,KAGIE,EAAWD,GAAQA,EAAAA,KAHvB,GAKA7f,EAAAA,QAAiB6f,EAAO,SAAU1d,GAChC,OAAOA,GAAM2d,EAAAA,EADuB,IAElC,SAAU3d,GACZ,OAAOA,GAAM,WACX,OAAOqc,EAAAA,MAAAA,EADgB,8BCR3B,IAAIiB,EAAc7C,EAAlB,IAEIje,EAAW8gB,EAAY,GAF3B,UAGIM,EAAcN,EAAY,GAH9B,OAKAzf,EAAAA,QAAiB,SAAUoe,GACzB,OAAO2B,EAAYphB,EAAZohB,GAAAA,GADsB,qBCL/B,IAEIxc,EAFSqZ,EAAb,cAMA5c,EAAAA,QAAiB,SAAUoe,GACzB,WAAIA,EAAiB,MAAM7a,EAAU,wBADR,GAE7B,OAF6B,oBCN/B,IAAIyc,EAAcpD,EAAlB,IACIqD,EAAWrD,EADf,IAKA5c,EAAAA,QAAiB,SAAUkgB,GACzB,IAAIzb,EAAMub,EAAAA,EADyB,UAEnC,OAAOC,EAAAA,GAAAA,EAAsBxb,EAFM,qBCLrC,IAAI2Y,EAASR,EAAb,IACI4B,EAAO5B,EADX,IAEIuD,EAAWvD,EAFf,IAGIqD,EAAWrD,EAHf,IAIIwD,EAAYxD,EAJhB,IAKIyD,EAAsBzD,EAL1B,IAMI0D,EAAkB1D,EANtB,IAQIrZ,EAAY6Z,EARhB,UASImD,EAAeD,EATnB,eAaAtgB,EAAAA,QAAiB,SAAUd,EAAOshB,GAChC,IAAKL,EAAD,IAAoBF,EAAxB,GAAyC,OADH,EAEtC,IAFsC,EAElCQ,EAAeL,EAAAA,EAFmB,GAItC,KAAkB,CAGhB,QAFA,IAAII,IAAoBA,EADR,WAEhBvd,EAASub,EAAAA,EAAAA,EAFO,IAGX2B,EAAD,IAAqBF,EAAzB,GAA2C,OAH3B,EAIhB,MAAM1c,EAJU,2CAOlB,YADA,IAAIid,IAAoBA,EAVc,UAW/BH,EAAAA,EAX+B,qBCbxC,IAAIK,EAAa9D,EAAjB,IAEA5c,EAAAA,QAAiB,SAAUoe,GACzB,MAAoB,iBAANA,EAAP,OAAwBA,EAAcsC,EADhB,iBCA/B1gB,EAAAA,QAAiB,SAAUkgB,GACzB,MADmC,mBACrBA,oBCHhB,IAAI9C,EAASR,EAAb,IACI+D,EAAa/D,EADjB,IAEI8D,EAAa9D,EAFjB,IAGIgE,EAAgBhE,EAHpB,IAIIiE,EAAoBjE,EAJxB,IAMIxe,EAASgf,EANb,OAQApd,EAAAA,QAAiB6gB,EAAoB,SAAUzC,GAC7C,MADiD,iBACnCA,GACZ,SAAUA,GACZ,IAAI/d,EAAUsgB,EADE,UAEhB,OAAOD,EAAAA,IAAuBE,EAAcvgB,EAAdugB,UAAiCxiB,EAF/C,sBCVlB,IAAIgf,EAASR,EAAb,IACI8D,EAAa9D,EADjB,IAGIkE,EAAY,YACd,OAAOJ,EAAAA,GAAAA,OAD2B,GAIpC1gB,EAAAA,QAAiB,SAAU+gB,EAAWvf,GACpC,OAAOwf,UAAAA,OAAAA,EAAuBF,EAAU1D,EAAjC4D,IAAsD5D,EAAAA,IAAqBA,EAAAA,GADtC,qBCP9C,IAAIqC,EAAc7C,EAAlB,IAEA5c,EAAAA,QAAiByf,EAAY,GAA7Bzf,gCCDA,IAAIihB,EAAgBrE,EADpB,IAGA5c,EAAAA,QAAiBihB,IACX3gB,OADW2gB,MAAjBjhB,iBAEYM,OAAP,0BCJL,IAAI4gB,EAAatE,EADjB,IAEIqC,EAAQrC,EAFZ,IAKA5c,EAAAA,UAAmB5B,OAAF,wBAAmC6gB,GAAM,WACxD,IAAIkC,EAAS7gB,SAGb,OAAQoG,OAAD,MAAqBtI,OAAO+iB,aAA5B,UAEJ7gB,OAAD,SAA8B4gB,EANoC,uBCLtE,IAOA,EAPA,EAAI9D,EAASR,EAAb,IACIwE,EAAYxE,EADhB,IAGII,EAAUI,EAHd,QAIIiE,EAAOjE,EAJX,KAKIH,EAAWD,GAAWA,EAAXA,UAA+BqE,GAAQA,EALtD,QAMIC,EAAKrE,GAAYA,EANrB,GASA,IAIEsE,GAHAlZ,EAAQiZ,EAAAA,MADF,MAIIjZ,GAAAA,GAAgBA,EAAAA,GAAhBA,EAAAA,IAAqCA,EAAM,GAAKA,EAJpD,MASHkZ,GAAL,MACElZ,EAAQ+Y,EAAAA,MADiB,iBAEX/Y,EAAAA,IAAd,MACEA,EAAQ+Y,EAAAA,MADoB,oBAEjBG,GAAWlZ,EAFM,IAMhCrI,EAAAA,QAAAA,mBC1BA,IAAI2gB,EAAa/D,EAAjB,IAEA5c,EAAAA,QAAiB2gB,EAAAA,YAAAA,cAAjB3gB,oBCFA,IAAIwhB,EAAY5E,EAAhB,IAIA5c,EAAAA,QAAiB,SAAUoQ,EAAG2O,GAC5B,IAAI0C,EAAOrR,EADoB,GAE/B,OAAOqR,MAAAA,OAAAA,EAA2BD,EAFH,qBCJjC,IAAIpE,EAASR,EAAb,IACI8D,EAAa9D,EADjB,IAEI8E,EAAc9E,EAFlB,IAIIrZ,EAAY6Z,EAJhB,UAOApd,EAAAA,QAAiB,SAAUkgB,GACzB,GAAIQ,EAAJ,GAA0B,OADS,EAEnC,MAAMnd,EAAUme,EAAAA,GAFmB,wCCPrC,IAEIhb,EAFSkW,EAAb,WAIA5c,EAAAA,QAAiB,SAAUkgB,GACzB,IACE,OAAOxZ,EADL,GAEF,MAAOsY,GACP,MADc,4BCPlB,IAAI5B,EAASR,EAAb,IACI4B,EAAO5B,EADX,IAEI8D,EAAa9D,EAFjB,IAGIuD,EAAWvD,EAHf,IAKIrZ,EAAY6Z,EALhB,UASApd,EAAAA,QAAiB,SAAUd,EAAOshB,GAChC,MADsC,EAEtC,GAAIA,WAAAA,GAAqBE,EAAWve,EAAKjD,EAArCshB,YAAyDL,EAASwB,EAAMnD,EAAAA,EAA5E,IAA8F,OAFxD,EAGtC,GAAIkC,EAAWve,EAAKjD,EAAhBwhB,WAAmCP,EAASwB,EAAMnD,EAAAA,EAAtD,IAAwE,OAHlC,EAItC,GAAIgC,WAAAA,GAAqBE,EAAWve,EAAKjD,EAArCshB,YAAyDL,EAASwB,EAAMnD,EAAAA,EAA5E,IAA8F,OAJxD,EAKtC,MAAMjb,EALgC,6DCTxC,IAAI6Z,EAASR,EAAb,IACIgF,EAAShF,EADb,IAEIxc,EAASwc,EAFb,IAGIiF,EAAMjF,EAHV,IAIIqE,EAAgBrE,EAJpB,IAKIiE,EAAoBjE,EALxB,IAOIkF,EAAwBF,EAP5B,OAQIthB,EAAS8c,EARb,OASI2E,EAAYzhB,GAAUA,EAAAA,IACtB0hB,EAAwBnB,EAAAA,EAA6BvgB,GAAUA,EAAVA,eAVzD,EAYAN,EAAAA,QAAiB,SAAU1B,GACzB,IAAK8B,EAAAA,EAAD,KAA0C6gB,GAA9C,iBAAsEa,EAAP,GAAiD,CAC9G,IAAIG,EAAc,UAD4F,EAE1GhB,GAAiB7gB,EAAAA,EAArB,GACE0hB,EAAAA,GAA8BxhB,EADW,GAGzCwhB,EAAAA,GADSjB,GAAJ,EACyBkB,EADW,GAGXC,EADzB,GAGP,OAAOF,EAVsB,qBCZjC,IAAII,EAAUtF,EAAd,IACIuF,EAAQvF,EADZ,KAGC5c,EAAA,QAAiB,SAAUyE,EAAK/D,GAC/B,OAAOyhB,EAAAA,KAAeA,EAAM1d,QAAO/D,IAAAA,EAAAA,EADG,MAAxC,oBAEwB,CACtB6gB,QADsB,SAEtBa,KAAMF,EAAAA,OAFgB,SAGtBG,UAHsB,yDCLxBriB,EAAAA,SAAAA,mBCAA,IAAIod,EAASR,EAAb,IACIY,EAAYZ,EADhB,IAGI0F,EAHJ,qBAIIH,EAAQ/E,EAAAA,IAAkBI,EAAAA,EAJ9B,IAMAxd,EAAAA,QAAAA,mBCNA,IAAIod,EAASR,EAAb,IAGIsC,EAAiB9gB,OAHrB,eAKA4B,EAAAA,QAAiB,SAAUyE,EAAK/D,GAC9B,IACEwe,EAAAA,EAAAA,EAA4B,CAAExe,MAAF,EAAgBE,cAAhB,EAAoCC,UAApC,IAC5B,MAAOme,GACP5B,EAAAA,GADc,EAEd,OALmC,oBCLvC,IAAIqC,EAAc7C,EAAlB,IACI2F,EAAW3F,EADf,IAGI4F,EAAiB/C,EAAY,GAHjC,gBAOAzf,EAAAA,QAAiB5B,OAAAA,QAAiB,SAAgBggB,EAAI3Z,GACpD,OAAO+d,EAAeD,EAAfC,GADkD,qBCP3D,IAAIpF,EAASR,EAAb,IACI4C,EAAyB5C,EAD7B,IAGIxe,EAASgf,EAHb,OAOApd,EAAAA,QAAiB,SAAUkgB,GACzB,OAAO9hB,EAAOohB,EADqB,sBCPrC,IAAIC,EAAc7C,EAAlB,IAEI6F,EAFJ,EAGIC,EAAUxpB,KAHd,SAIIyF,EAAW8gB,EAAY,GAJ3B,UAMAzf,EAAAA,QAAiB,SAAUyE,GACzB,MAAO,gBAAqBke,IAARle,EAAoB,GAAjC,QAAoD9F,IAAW8jB,EAAX9jB,EAD7B,sBCNhC,IAAI4f,EAAc3B,EAAlB,IACIqC,EAAQrC,EADZ,IAEIphB,EAAgBohB,EAFpB,IAKA5c,EAAAA,SAAkBue,IAAgBU,GAAM,WAEtC,OAFkD,GAE3C7gB,OAAO8gB,eAAe1jB,EAAtB,WAAiD,CACtDoM,IAAK,WAAc,OAAF,KADZ,sBCPT,IAAIwV,EAASR,EAAb,IACIuD,EAAWvD,EADf,IAGIriB,EAAW6iB,EAHf,SAKIwF,EAASzC,EAAAA,IAAsBA,EAAS5lB,EAL5C,eAOAyF,EAAAA,QAAiB,SAAUoe,GACzB,OAAOwE,EAASroB,EAAAA,cAATqoB,GADsB,qBCP/B,IAAIrE,EAAc3B,EAAlB,IACIiG,EAAuBjG,EAD3B,IAEI8B,EAA2B9B,EAF/B,IAIA5c,EAAAA,QAAiBue,EAAc,SAAUuE,EAAQre,EAAK/D,GACpD,OAAOmiB,EAAAA,EAAAA,EAAAA,EAAoCnE,EAAAA,EADgB,KAEzD,SAAUoE,EAAQre,EAAK/D,GAEzB,OADAoiB,EAAAA,GADgC,sBCNlC,IAAI1F,EAASR,EAAb,IACI2B,EAAc3B,EADlB,IAEIiC,EAAiBjC,EAFrB,IAGImG,EAAWnG,EAHf,IAIIgC,EAAgBhC,EAJpB,IAMIrZ,EAAY6Z,EANhB,UAQI4F,EAAkB5kB,OARtB,eAYA8B,EAAAA,EAAYqe,EAAAA,EAAgC,SAAwB5N,EAAGoO,EAAGkE,GAIxE,GAHAF,EADoF,GAEpFhE,EAAIH,EAFgF,GAGpFmE,EAHoF,GAIpF,EAAoB,IAClB,OAAOC,EAAAA,EAAAA,EADe,GAEtB,MAAOhE,IACT,GAAI,QAASiE,GAAc,QAA3B,EAAgD,MAAM1f,EAP8B,2BASpF,MADI,UAAJ,IAA2BoN,EAAAA,GAAOsS,EARkD,2BCZtF,IAAI7F,EAASR,EAAb,IACIuD,EAAWvD,EADf,IAGIlW,EAAS0W,EAHb,OAII7Z,EAAY6Z,EAJhB,UAOApd,EAAAA,QAAiB,SAAUkgB,GACzB,GAAIC,EAAJ,GAAwB,OADW,EAEnC,MAAM5c,EAAUmD,EAAAA,GAFmB,uCCPrC,IAAI0W,EAASR,EAAb,IACI8D,EAAa9D,EADjB,IAEIxc,EAASwc,EAFb,IAGIU,EAA8BV,EAHlC,IAIIY,EAAYZ,EAJhB,IAKIsG,EAAgBtG,EALpB,IAMIuG,EAAsBvG,EAN1B,IAOIwG,EAA6BxG,EAAAA,IAPjC,aASIyG,EAAmBF,EATvB,IAUIG,EAAuBH,EAV3B,QAWII,EAAW7c,OAAAA,QAAAA,MAXf,WAaC1G,EAAA,QAAiB,SAAU2Q,EAAGlM,EAAK/D,EAAOoH,GACzC,IADkD,EAC9C0b,IAAS1b,KAAYA,EAAZA,OACT2b,IAAS3b,KAAYA,EAAZA,WACT4b,IAAc5b,KAAYA,EAAZA,YACdxJ,EAAOwJ,QAAAA,IAAWA,EAAAA,KAA6BA,EAAxCA,KAJuC,EAM9C4Y,EAAJ,KACE,YAAIha,OAAAA,GAAAA,MAAAA,EAAAA,KACFpI,EAAO,IAAMoI,OAAAA,GAAAA,QAAAA,qBAAN,MADmC,OAGvCtG,EAAAA,EAAD,SAA2BgjB,GAA8B1iB,EAAAA,OAA7D,IACE4c,EAAAA,EAAAA,OADiF,IAGnF/b,EAAQ+hB,EAPa,IAQrB,SACE/hB,EAAAA,OAAegiB,EAAAA,KAA6B,iBAARjlB,EAAmBA,EADtC,MAIjBqS,IAAJ,GAIO,GAEK+S,GAAe/S,EAApB,KACL8S,GADiC,UAD1B9S,EADW,GAKpB,EAAYA,EAAAA,GAAZ,EACK2M,EAAAA,EAAAA,EA5B6C,IAmBhD,EAAY3M,EAAAA,GAAZ,EACK6M,EAAAA,EAFW,KAYjBvX,SA9BH,sBA8BmC,WACjC,OAAOya,EAAAA,OAAoB2C,EAAAA,MAApB3C,QAAqDwC,EADP,0BC3CvD,IAAIzD,EAAc7C,EAAlB,IACI8D,EAAa9D,EADjB,IAEIuF,EAAQvF,EAFZ,IAII+G,EAAmBlE,EAAYxZ,SAJnC,UAOKya,EAAWyB,EAAhB,iBACEA,EAAAA,cAAsB,SAAU/D,GAC9B,OAAOuF,EAD2B,KAKtC3jB,EAAAA,QAAiBmiB,EAAjBniB,+BCbA,IAaA,IAbA,EAAI4jB,EAAkBhH,EAAtB,IACIQ,EAASR,EADb,IAEI6C,EAAc7C,EAFlB,IAGIuD,EAAWvD,EAHf,IAIIU,EAA8BV,EAJlC,IAKIxc,EAASwc,EALb,IAMIgF,EAAShF,EANb,IAOIiH,EAAYjH,EAPhB,IAQIkH,EAAalH,EARjB,IAUImH,EAVJ,6BAWIxgB,EAAY6Z,EAXhB,UAYI4G,EAAU5G,EAZd,QA4BA,GAAIwG,GAAmBhC,EAAvB,MAAqC,CACnC,IAAIO,EAAQP,EAAAA,QAAiBA,EAAOrgB,MAAQ,IADT,GAE/B0iB,EAAQxE,EAAY0C,EAFW,KAG/B+B,EAAQzE,EAAY0C,EAHW,KAI/BgC,EAAQ1E,EAAY0C,EAJW,KAKnCiC,EAAM,cACJ,GAAIF,EAAAA,EAAJ,GAAsB,MAAM,IAAI3gB,EADJ,GAI5B,OAFA8gB,EAAAA,OAF4B,EAG5BF,EAAAA,EAAAA,EAH4B,MAM9Bvc,EAAM,YACJ,OAAOqc,EAAAA,EAAAA,IADW,IAGpBK,EAAM,YACJ,OAAOJ,EAAAA,EADW,QAGf,CACL,IAAIK,EAAQV,EADP,SAELC,EAAAA,IAFK,EAGLM,EAAM,cACJ,GAAIhkB,EAAAA,EAAJ,GAAuB,MAAM,IAAImD,EADL,GAI5B,OAFA8gB,EAAAA,OAF4B,EAG5B/G,EAAAA,EAAAA,EAH4B,MAM9B1V,EAAM,YACJ,OAAOxH,EAAAA,EAAAA,GAAoBge,EAApBhe,GADW,IAGpBkkB,EAAM,YACJ,OAAOlkB,EAAAA,EADW,IAKtBJ,EAAAA,QAAiB,CACfokB,IADe,EAEfxc,IAFe,EAGf0c,IAHe,EAIfE,QAnDY,YACZ,OAAOF,EAAAA,GAAU1c,EAAV0c,GAAoBF,EAAAA,EADD,KAoD1BK,UAhDc,YACd,OAAO,SAAUrG,GACf,IADmB,EAEnB,IAAK+B,EAAD,KAAkB5e,EAAQqG,EAAT,WAArB,EACE,MAAMrE,EAAU,0BAA4BmhB,EADQ,aAEpD,OAJiB,sBCpBvB,IAAItH,EAASR,EAAb,IACI8D,EAAa9D,EADjB,IAEIsG,EAAgBtG,EAFpB,IAIIoH,EAAU5G,EAJd,QAMApd,EAAAA,QAAiB0gB,EAAAA,IAAuB,cAAcvmB,KAAK+oB,EAA3DljB,qBCNA,IAAI4hB,EAAShF,EAAb,IACIiF,EAAMjF,EADV,IAGIpY,EAAOod,EAHX,QAKA5hB,EAAAA,QAAiB,SAAUyE,GACzB,OAAOD,EAAAA,KAAcA,EAAKC,GAAOod,EADH,kBCLhC7hB,EAAAA,QAAAA,oBCAA,IAAIue,EAAc3B,EAAlB,IACIxc,EAASwc,EADb,IAGIgD,EAAoB3Z,SAHxB,UAKI0e,EAAgBpG,GAAengB,OALnC,yBAOIwkB,EAASxiB,EAAAA,EAPb,QASIwkB,EAAShC,GATb,cASwB,aAAD,KACnBiC,EAAejC,KAAYrE,GAAgBA,GAAeoG,EAAAA,EAAAA,QAV9D,cAYA3kB,EAAAA,QAAiB,CACf4iB,OADe,EAEfgC,OAFe,EAGfC,aAHe,oBCZjB,IAAIzkB,EAASwc,EAAb,IACIkI,EAAUlI,EADd,IAEImI,EAAiCnI,EAFrC,IAGIiG,EAAuBjG,EAH3B,IAKA5c,EAAAA,QAAiB,SAAU+d,EAAQJ,GAIjC,IAHA,IAAInZ,EAAOsgB,EAD8B,GAErC5F,EAAiB2D,EAFoB,EAGrCxF,EAA2B0H,EAHU,EAIhC5mB,EAAT,EAAgBA,EAAIqG,EAApB,OAAiCrG,IAAK,CACpC,IAAIsG,EAAMD,EAD0B,GAE/BpE,EAAAA,EAAL,IAA0B8e,EAAAA,EAAAA,EAA4B7B,EAAAA,EAFlB,uBCTxC,IAAIsD,EAAa/D,EAAjB,IACI6C,EAAc7C,EADlB,IAEIoI,EAA4BpI,EAFhC,IAGIqI,EAA8BrI,EAHlC,IAIImG,EAAWnG,EAJf,IAMIsI,EAASzF,EAAY,GANzB,QASAzf,EAAAA,QAAiB2gB,EAAAA,UAAAA,YAAoC,SAAiBvC,GACpE,IAAI5Z,EAAOwgB,EAAAA,EAA4BjC,EADiC,IAEpEoC,EAAwBF,EAF4C,EAGxE,OAAOE,EAAwBD,EAAAA,EAAaC,EAArCA,IAHiE,oBCT1E,IAAIC,EAAqBxI,EAAzB,IAGIkH,EAFclH,EADlB,IAGiByI,OAAAA,SAHjB,aAQAnlB,EAAAA,EAAY9B,OAAAA,qBAA8B,SAA6BuS,GACrE,OAAOyU,EAAAA,EADiE,qBCR1E,IAAI3F,EAAc7C,EAAlB,IACIxc,EAASwc,EADb,IAEI+B,EAAkB/B,EAFtB,IAGI0I,EAAU1I,EAAAA,IAHd,QAIIkH,EAAalH,EAJjB,IAMI2I,EAAO9F,EAAY,GANvB,MAQAzf,EAAAA,QAAiB,SAAU8iB,EAAQ0C,GACjC,IADwC,EACpC7U,EAAIgO,EADgC,GAEpCxgB,EAFoC,EAGpC8E,EAHoC,GAKxC,YAAgB7C,EAAAA,EAAD,IAA4BA,EAAAA,EAA5B,IAA8CmlB,EAAAA,EALrB,GAOxC,KAAOC,EAAAA,OAAP,GAA6BplB,EAAAA,EAAUqE,EAAM+gB,EAAMrnB,SAChDmnB,EAAAA,EAAD,IAAyBC,EAAAA,EAD+B,IAG1D,OAVwC,oBCR1C,IAAI5G,EAAkB/B,EAAtB,IACI6I,EAAkB7I,EADtB,IAEI8I,EAAoB9I,EAFxB,IAKI+I,EAAe,YACjB,OAAO,SAAUC,EAAOC,EAAIC,GAC1B,IADqC,EACjCnV,EAAIgO,EAD6B,GAEjC3Z,EAAS0gB,EAFwB,GAGjCK,EAAQN,EAAAA,EAHyB,GAOrC,GAAIO,GAAeH,GAAnB,GAA6B,KAAO7gB,EAAP,GAG3B,IAFAtE,EAAQiQ,EAAEoV,OAEV,EAAoB,OAH8B,OAK7C,KAAM/gB,EAAN,EAAsB+gB,IAC3B,IAAKC,GAAeD,KAAhB,IAA+BpV,EAAAA,KAAnC,EAAoD,OAAOqV,GAAAA,GADvB,EAEpC,OAAQA,IAd2B,IAkBzChmB,EAAAA,QAAiB,CAGfimB,SAAUN,GAHK,GAMfL,QAASK,GANM,qBCxBjB,IAAIO,EAAsBtJ,EAA1B,IAEIuJ,EAAMjtB,KAFV,IAGIktB,EAAMltB,KAHV,IAQA8G,EAAAA,QAAiB,SAAU+lB,EAAO/gB,GAChC,IAAIqhB,EAAUH,EAD0B,GAExC,OAAOG,EAAAA,EAAcF,EAAIE,EAAJF,EAAdE,GAAyCD,EAAAA,EAFR,iBCR1C,IAAIE,EAAOptB,KAAX,KACIqtB,EAAQrtB,KADZ,MAKA8G,EAAAA,QAAiB,SAAUkgB,GACzB,IAAIsG,GAD+B,EAGnC,OAAOA,IAAAA,GAAAA,IAAqBA,EAArBA,GAAyCA,EAAA,IAAD,GAHZ,qBCLrC,IAAIC,EAAW7J,EAAf,IAIA5c,EAAAA,QAAiB,SAAUc,GACzB,OAAO2lB,EAAS3lB,EADc,0BCJhC,IAAIolB,EAAsBtJ,EAA1B,IAEIwJ,EAAMltB,KAFV,IAMA8G,EAAAA,QAAiB,SAAUkgB,GACzB,OAAOA,EAAAA,EAAekG,EAAIF,EAAJE,GAAflG,kBAD4B,gBCLrClgB,EAAAA,QAAiB,CAAC,cAAD,8GCAjBE,EAAAA,EAAY9B,OAAZ8B,uCCDA,IAAI+e,EAAQrC,EAAZ,IACI8D,EAAa9D,EADjB,IAGI8J,EAHJ,kBAKIhJ,EAAW,cACb,IAAIhd,EAAQ1E,EAAK2qB,EAD0B,IAE3C,OAAOjmB,GAAAA,GACHA,GAAAA,IACAggB,EAAAA,GAAwBzB,EAAxByB,KAJuC,IAQzCiG,EAAYjJ,EAAAA,UAAqB,SAAUkJ,GAC7C,OAAOlgB,OAAAA,GAAAA,QAAAA,EAAAA,KAD8C,eAInD1K,EAAO0hB,EAAAA,KAjBX,GAkBImJ,EAASnJ,EAAAA,OAlBb,IAmBIoJ,EAAWpJ,EAAAA,SAnBf,IAqBA1d,EAAAA,QAAAA,wCChBC,6OAIS,WAkBR,cACE,IAAI2a,EAAI,IADgB,EAEpBQ,EAAId,MAAAA,KAFgB,GAIxB,IAAKc,EAAE4L,OAAM,SAAUzM,GAAK,OAAQrR,OAAAA,MAAV,MACxB,MAAM1F,UAAW,eAAkByjB,EADoB,6BAGzD,QAAI7L,EAAAA,OAAiB,CACnB,IAAI8L,EAAM9L,EADS,GAEf+L,EAAM/L,EAFS,GAGfgM,EAAMhM,EAHS,GAIfiM,EAAMjM,EAJS,GAKfkM,EAAMlM,EALS,GAMfmM,EAAMnM,EANS,GAOfoM,EAAMpM,EAPS,GAQfqM,EAAMrM,EARS,GASfsM,EAAMtM,EATS,GAUfuM,EAAMvM,EAVS,GAWfwM,EAAMxM,EAXS,IAYfyM,EAAMzM,EAZS,IAaf0M,EAAM1M,EAbS,IAcf2M,EAAM3M,EAdS,IAef4M,EAAM5M,EAfS,IAgBf6M,EAAM7M,EAhBS,IAkBnBR,EAAAA,IAlBmB,EAmBnBA,EAAAA,EAnBmB,EAqBnBA,EAAAA,IArBmB,EAsBnBA,EAAAA,EAtBmB,EAwBnBA,EAAAA,IAxBmB,EA0BnBA,EAAAA,IA1BmB,EA2BnBA,EAAAA,EA3BmB,EA6BnBA,EAAAA,IA7BmB,EA8BnBA,EAAAA,EA9BmB,EAgCnBA,EAAAA,IAhCmB,EAiCnBA,EAAAA,EAjCmB,EAmCnBA,EAAAA,IAnCmB,EAqCnBA,EAAAA,IArCmB,EAsCnBA,EAAAA,EAtCmB,EAwCnBA,EAAAA,IAxCmB,EAyCnBA,EAAAA,IAzCmB,EA0CnBA,EAAAA,IA1CmB,EA2CnBA,EAAAA,IA3CmB,EA4CnBA,EAAAA,IA5CmB,EA6CnBA,EAAAA,IA7CmB,EA8CnBA,EAAAA,IA9CmB,EA+CnBA,EAAAA,IA/CmB,MAgDd,QAAIQ,EAAAA,OA0BT,MAAM,IAAI5X,UADL,iDAxBL,IAAI0kB,EAAM9M,EADe,GAErB+M,EAAM/M,EAFe,GAGrBgN,EAAMhN,EAHe,GAIrBiN,EAAMjN,EAJe,GAKrBkN,EAAMlN,EALe,GAMrBmN,EAAMnN,EANe,GAQzBR,EAAAA,IARyB,EASzBA,EAAAA,EATyB,EAWzBA,EAAAA,IAXyB,EAYzBA,EAAAA,EAZyB,EAczBA,EAAAA,IAdyB,EAezBA,EAAAA,EAfyB,EAiBzBA,EAAAA,IAjByB,EAkBzBA,EAAAA,EAlByB,EAoBzBA,EAAAA,IApByB,EAqBzBA,EAAAA,EArByB,EAuBzBA,EAAAA,IAvByB,EAwBzBA,EAAAA,EAxByB,EA4B3B,OAnFwB,EA6F1B,cACE,IAAInW,EAAOpG,OAAAA,KAAY,IADF,GAErB,GAAI,iBAAyBoG,EAAKuiB,OAAM,SAAUwB,GAAK,OAAOA,KAAT,KACnD,OAAOC,EACL,CAAC7N,EAAD,IAAQA,EAAR,IAAeA,EAAf,IAAsBA,EAAtB,IACEA,EADF,IACSA,EADT,IACgBA,EADhB,IACuBA,EADvB,IAEEA,EAFF,IAESA,EAFT,IAEgBA,EAFhB,IAEuBA,EAFvB,IAGEA,EAHF,IAGSA,EAHT,IAGgBA,EAHhB,IAGuBA,EAJzB,MAOF,MAAMpX,UAAW,eAAkBoX,EAVd,8DA0BvB,cACE,qBAAWgD,EACT,MAAMpa,UAAW,eAAkBoa,EADL,sBAGhC,IAAIxV,EAAMzB,OAAAA,GAAAA,QAAAA,MAJgB,IAKtBiU,EAAI,IALkB,EAMtB8N,EAAqB,wCAA2C9K,EAN1C,IAqF1B,OAvEAxV,EAAAA,MAAAA,KAAAA,QAAsB,SAAUugB,GAAK,OAAF,KAAnCvgB,SAA0D,SAAUwgB,GAClE,IAAIC,EAAMD,EAAAA,MAD4D,KAElEE,EAAOD,EAF2D,GAGlEloB,EAAQkoB,EAH0D,GAMtE,MAAc,MAAMrlB,UAAR,GAEZ,IAAIulB,EAAapoB,EAAMif,MAAM,KAAZ,KACV,SAAUrF,GAAK,OAAQA,EAAAA,SAAAA,OAAoByO,WAAAA,IAAiB,IAAM7vB,KAA3CohB,IAAsDyO,WAAhE,MAEhBxrB,EAAIurB,EAX8D,GAYlEE,EAAIF,EAZ8D,GAalEG,EAAIH,EAb8D,GAclE3N,EAAI2N,EAd8D,GAelEI,EAAM,CAAC3rB,EAAGyrB,EAAd,GACIG,EAAO,CAAC5rB,EAAGyrB,EAAGC,EAAlB,GAGA,GAAIJ,gBAAAA,GAAAA,GAA+B,CAACG,EAAGC,GAAGlC,OAAM,SAAUzM,GAAK,YAAF,IAASA,KACpEK,EAAAA,KAAS,EADgF,OAGpF,GAAIkO,EAAAA,SAAAA,WAA2B,CAAC,EAAG,IAAI5C,SAAS6C,EAA5CD,SACNC,EAAW/B,OAAM,SAAUzM,GAAK,OAAQrR,OAAAA,OAAV,MAAgC,CACjE,IAAIrG,EAASkmB,EAAWM,KAAI,SAAU9O,GAAK,OAAQphB,KAAAA,IAAAA,GAAAA,KAAAA,EAAV,KACzCyhB,EAAIA,EAAAA,SAAW6N,EAFkD,SAI5D,GAAIK,gBAAAA,GAA0BK,EAAInC,OAAM,SAAUzM,GAAK,OAAQrR,OAAAA,OAAV,MAC1D0R,EAAIA,EAAAA,UAAAA,EAAAA,EADsF,QAGrF,GAAIkO,cAAAA,GAAAA,QAAJ,IAAiCI,EACtCtO,EAAIA,EAAAA,UAAAA,EAAeqO,GAAfrO,EADmD,QAGlD,GAAa,aAATkO,GAAuBM,EAAKpC,OAAM,SAAUzM,GAAK,OAAQrR,OAAAA,OAAV,OAAnD,EACL0R,EAAIA,EAAAA,gBAAAA,EAAAA,EAAAA,EADyF,QAGxF,GAAIkO,WAAAA,GAAAA,GAA0B,CAACG,EAAGC,GAAGlC,OAAM,SAAUzM,GAAK,YAAF,IAASA,KACtEK,EAAIA,EAAAA,OAAAA,EAAAA,EADuF,QAGtF,GAAa,YAATkO,GAAsBK,EAAInC,OAAM,SAAUzM,GAAK,OAAQrR,OAAAA,OAAV,OAAkCigB,EAAIG,MAAK,SAAU/O,GAAK,OAAF,IAASA,KACvHK,EAAIA,EAAAA,MAAAA,EAAAA,EADgI,QAG/H,GAAIkO,UAAAA,GAAqB5f,OAAAA,MAArB4f,IAAAA,IAAwCtrB,QAA5C,IAAuD0rB,EAKvD,GAAIJ,SAAAA,GAAAA,QAAJ,IAA4BI,EACjCtO,EAAIA,EAAAA,MAD8C,GAElDA,EAAIqO,EAAIrO,EAAAA,MAAJqO,GAF8C,MAG7C,MAAI,QAAQ7uB,KAAK0uB,IAAStrB,GAAK,CAACyrB,EAAGC,GAAGlC,OAAM,SAAUzM,GAAK,YAAF,IAASA,MACpE,CAAC,YAAa,SAAU,QAAS,QAAQ+O,MAAK,SAAU3O,GAAK,OAAOmO,EAAAA,SAAT,OAgB9D,MAAMtlB,UADD,GAdL,GAAI,CAAC,QAAS,SAAS0iB,SAAvB,GAEEtL,EAAIA,EAAAA,GAFiC,OAGhC,CACL,IAAIxY,EAAK0mB,EAAAA,QAAAA,QADJ,IAEDS,EAAOT,EAAAA,QAAAA,EAFN,IAGDU,EAAM,CAAC,IAAK,IAAK,KAAKjE,QAHrB,GAIDkE,EAAY,CACdD,IAAAA,EAAAA,EADc,EAEdA,IAAAA,EAAAA,EAFc,EAGdA,IAAAA,EAAAA,EAHF,GAKA5O,EAAIA,EAAAA,GAAAA,MAAAA,EATC,QAbsE,CAC7E,IACIa,EADOvS,OAAAA,OADkE,GAEpEwgB,EAFoE,EAG7E9O,EAAIA,EAAAA,MAAAA,EAAAA,EAHyE,OAxDvD,EAsG5B,kBACE,IAAIA,EAAI,IADkB,EAO1B,OALAA,EAAAA,IAF0B,EAG1BA,EAAAA,EAH0B,EAI1BA,EAAAA,IAJ0B,EAK1BA,EAAAA,EAL0B,EAM1BA,EAAAA,IAN0B,IAoB5B,kBACE,IAAIA,EAAI,IADkB,EAEtB+O,EAAWxwB,KAAAA,GAFW,IAGtBywB,EAAOC,EAHe,EAItBC,EAAOC,EAJe,EAKtBC,EAAOC,EALe,EAQtBC,EAAO/wB,KAAAA,IARe,GAStBgxB,GAAQhxB,KAAAA,IATc,GAUtBixB,EAAOjxB,KAAAA,IAVe,GAWtBkxB,GAAQlxB,KAAAA,IAXc,GAYtBmxB,EAAOnxB,KAAAA,IAZe,GAatBoxB,GAAQpxB,KAAAA,IAbc,GAetB+tB,EAAMkD,EAfgB,EAgBtBjD,GAAOiD,EAhBe,EAkB1BxP,EAAAA,IAlB0B,EAmB1BA,EAAAA,EAnB0B,EAqB1BA,EAAAA,IArB0B,EAsB1BA,EAAAA,EAtB0B,EAwB1BA,EAAAA,IAxB0B,EA0B1B,IAAI0M,EAAM6C,EAAAA,EAAAA,EAAqBD,EA1BL,EA2B1BtP,EAAAA,IA3B0B,EA4B1BA,EAAAA,EA5B0B,EA8B1B,IAAI2M,EAAM2C,EAAAA,EAAcC,EAAAA,EA9BE,EAwC1B,OATAvP,EAAAA,IA/B0B,EAgC1BA,EAAAA,EAhC0B,EAkC1BA,EAAAA,KAASuP,EAlCiB,EAoC1BvP,EAAAA,IAAQuP,EAAAA,EAAcD,EAAAA,EApCI,EAqC1BtP,EAAAA,IAAQuP,EAAAA,EAAcD,EAAAA,EArCI,EAsC1BtP,EAAAA,IAAQsP,EAtCkB,IAuD5B,oBACE,IAAItP,EAAI,IAD+B,EAEnC4P,EAAQC,GAAStxB,KAAK+W,GAFa,KAGnCwa,EAAOvxB,KAAAA,IAH4B,GAInCwxB,EAAOxxB,KAAAA,IAJ4B,GAKnCyxB,EAAQF,EAL2B,EAMnCzlB,EAAS9L,KAAAA,KAAUqE,EAAAA,EAAQyrB,EAARzrB,EAAgB0rB,EANA,GAOnCxZ,EAPmC,EAQnCmb,EARmC,EASnCC,EATmC,EAWvC,IAAI7lB,GAEFyK,EAFgB,EAGhBmb,EAHgB,EAIhBC,EAJgB,IAMhBpb,GADK,EAELmb,GAFK,EAGLC,GAHK,GAMP,IAAIC,EAAKrb,EAtB8B,EAuBnCsb,EAAKH,EAvB8B,EAwBnCI,EAAKH,EAxB8B,EA0BnC5D,EAAM,EAAI,GAAK8D,EAAL,GA1ByB,EA2BvCpQ,EAAAA,IA3BuC,EA4BvCA,EAAAA,EA5BuC,EA8BvC,IAAIuM,EAAM,GAAKzX,EAAImb,EAAID,EAAQE,EAAAA,EA9BQ,GA+BvClQ,EAAAA,IA/BuC,EAgCvCA,EAAAA,EAhCuC,EAkCvCA,EAAAA,IAAQ,GAAKlL,EAAIob,EAAIF,EAAQC,EAAAA,EAlCU,GAoCvC,IAAIvD,EAAM,GAAKuD,EAAInb,EAAIkb,EAAQE,EAAAA,EApCQ,GAqCvClQ,EAAAA,IArCuC,EAsCvCA,EAAAA,EAtCuC,EAwCvC,IAAI2M,EAAM,EAAI,GAAK0D,EAAL,GAxCyB,EAiDvC,OARArQ,EAAAA,IAzCuC,EA0CvCA,EAAAA,EA1CuC,EA4CvCA,EAAAA,IAAQ,GAAKiQ,EAAIC,EAAIF,EAAQlb,EAAAA,EA5CU,GA6CvCkL,EAAAA,IAAQ,GAAKkQ,EAAIpb,EAAIkb,EAAQC,EAAAA,EA7CU,GA8CvCjQ,EAAAA,IAAQ,GAAKkQ,EAAID,EAAID,EAAQlb,EAAAA,EA9CU,GA+CvCkL,EAAAA,IAAQ,EAAI,GAAKmQ,EAAL,GA/C2B,IAgEzC,kBACE,IAAInQ,EAAI,IADc,EAStB,OAPAA,EAAAA,IAFsB,EAGtBA,EAAAA,EAHsB,EAKtBA,EAAAA,IALsB,EAMtBA,EAAAA,EANsB,EAQtBA,EAAAA,IARsB,IAqBxB,cACE,IAAIA,EAAI,IADY,EAEhBsQ,EAAQV,EAAQrxB,KAAT,GAFS,IAGhBijB,EAAIjjB,KAAAA,IAHY,GAMpB,OAFAyhB,EAAAA,IAJoB,EAKpBA,EAAAA,EALoB,IAkBtB,cACE,IAAIA,EAAI,IADY,EAEhBsQ,EAAQV,EAAQrxB,KAAT,GAFS,IAGhBijB,EAAIjjB,KAAAA,IAHY,GAMpB,OAFAyhB,EAAAA,IAJoB,EAKpBA,EAAAA,EALoB,IAiBtB,gBAqBE,OAAO6N,EACL,CArBQ/N,EAAAA,IAASD,EAATC,IAAkBA,EAAAA,IAASD,EAA3BC,IAAoCA,EAAAA,IAASD,EAA7CC,IAAsDA,EAAAA,IAASD,EADjD,IAEdC,EAAAA,IAASD,EAATC,IAAkBA,EAAAA,IAASD,EAA3BC,IAAoCA,EAAAA,IAASD,EAA7CC,IAAsDA,EAAAA,IAASD,EAFjD,IAGdC,EAAAA,IAASD,EAATC,IAAkBA,EAAAA,IAASD,EAA3BC,IAAoCA,EAAAA,IAASD,EAA7CC,IAAsDA,EAAAA,IAASD,EAHjD,IAIdC,EAAAA,IAASD,EAATC,IAAkBA,EAAAA,IAASD,EAA3BC,IAAoCA,EAAAA,IAASD,EAA7CC,IAAsDA,EAAAA,IAASD,EAJjD,IAMdC,EAAAA,IAASD,EAATC,IAAkBA,EAAAA,IAASD,EAA3BC,IAAoCA,EAAAA,IAASD,EAA7CC,IAAsDA,EAAAA,IAASD,EANjD,IAOdC,EAAAA,IAASD,EAATC,IAAkBA,EAAAA,IAASD,EAA3BC,IAAoCA,EAAAA,IAASD,EAA7CC,IAAsDA,EAAAA,IAASD,EAPjD,IAQdC,EAAAA,IAASD,EAATC,IAAkBA,EAAAA,IAASD,EAA3BC,IAAoCA,EAAAA,IAASD,EAA7CC,IAAsDA,EAAAA,IAASD,EARjD,IASdC,EAAAA,IAASD,EAATC,IAAkBA,EAAAA,IAASD,EAA3BC,IAAoCA,EAAAA,IAASD,EAA7CC,IAAsDA,EAAAA,IAASD,EATjD,IAWdC,EAAAA,IAASD,EAATC,IAAkBA,EAAAA,IAASD,EAA3BC,IAAoCA,EAAAA,IAASD,EAA7CC,IAAsDA,EAAAA,IAASD,EAXjD,IAYdC,EAAAA,IAASD,EAATC,IAAkBA,EAAAA,IAASD,EAA3BC,IAAoCA,EAAAA,IAASD,EAA7CC,IAAsDA,EAAAA,IAASD,EAZjD,IAadC,EAAAA,IAASD,EAATC,IAAkBA,EAAAA,IAASD,EAA3BC,IAAoCA,EAAAA,IAASD,EAA7CC,IAAsDA,EAAAA,IAASD,EAbjD,IAcdC,EAAAA,IAASD,EAATC,IAAkBA,EAAAA,IAASD,EAA3BC,IAAoCA,EAAAA,IAASD,EAA7CC,IAAsDA,EAAAA,IAASD,EAdjD,IAgBdC,EAAAA,IAASD,EAATC,IAAkBA,EAAAA,IAASD,EAA3BC,IAAoCA,EAAAA,IAASD,EAA7CC,IAAsDA,EAAAA,IAASD,EAhBjD,IAiBdC,EAAAA,IAASD,EAATC,IAAkBA,EAAAA,IAASD,EAA3BC,IAAoCA,EAAAA,IAASD,EAA7CC,IAAsDA,EAAAA,IAASD,EAjBjD,IAkBdC,EAAAA,IAASD,EAATC,IAAkBA,EAAAA,IAASD,EAA3BC,IAAoCA,EAAAA,IAASD,EAA7CC,IAAsDA,EAAAA,IAASD,EAlBjD,IAmBdC,EAAAA,IAASD,EAATC,IAAkBA,EAAAA,IAASD,EAA3BC,IAAoCA,EAAAA,IAASD,EAA7CC,IAAsDA,EAAAA,IAASD,EAnBjD,MAsC1B,IAAI0Q,EAAY,WAEd,IADA,IAAIC,EAAJ,GAAeC,EAAMpK,UADc,OAE3BoK,KAAQD,EAAAA,GAAcnK,UAFK,GAInC,IAAIrG,EAJ+B,KAenC,GATAA,EAAAA,EANmC,EAM1BA,EAAAA,EAN0B,EAOnCA,EAAAA,EAPmC,EAO1BA,EAAAA,EAP0B,EAQnCA,EAAAA,EARmC,EAQ1BA,EAAAA,EAR0B,EAUnCA,EAAAA,IAVmC,EAUxBA,EAAAA,IAVwB,EAUbA,EAAAA,IAVa,EAUFA,EAAAA,IAVE,EAWnCA,EAAAA,IAXmC,EAWxBA,EAAAA,IAXwB,EAWbA,EAAAA,IAXa,EAWFA,EAAAA,IAXE,EAYnCA,EAAAA,IAZmC,EAYxBA,EAAAA,IAZwB,EAYbA,EAAAA,IAZa,EAYFA,EAAAA,IAZE,EAanCA,EAAAA,IAbmC,EAaxBA,EAAAA,IAbwB,EAabA,EAAAA,IAba,EAaFA,EAAAA,IAbE,EAe/BwQ,GAAQA,EAAZ,OAAyB,CACvB,IAAIE,EAAO,CAAC,GAAI,GAAGhC,MAAK,SAAUiC,GAAK,OAAOA,IAAMH,EAAf,UAA1B,EAAkEA,EADtD,GAGvB,OAAOxQ,EAAAA,eAHgB,GAKzB,OApBmC,GAuBjC4Q,EAAqB,CAAEC,WAAY,CAAE5qB,cAAhB,GAAqC6qB,KAAM,CAAE7qB,cAA7C,IA2UzB,OApUA2qB,EAAAA,WAAAA,IAAoC,SAAU7qB,GAC5CzF,KAAA,WADmD,GAWrDswB,EAAAA,WAAAA,IAAoC,WAClC,IAAI5Q,EAD0C,KAE9C,OAAQA,IAAAA,EAAAA,KAAAA,IAAeA,EAAAA,KAAfA,IAA8BA,EAAAA,KAA9BA,IAA6CA,EAAAA,KAA7CA,IACGA,EAAAA,KADHA,IACkBA,EAAAA,KADlBA,IACiCA,EAAAA,KADjCA,IACgDA,EAAAA,KADhDA,IAEGA,EAAAA,KAFHA,IAEkBA,EAAAA,KAFlBA,IAEiCA,EAAAA,KAFjCA,IAEgDA,EAAAA,KAFhDA,IAGGA,EAAAA,KAHHA,IAGkBA,EAAAA,KAHlBA,IAGiCA,EAAAA,KALK,IAKUA,EAAAA,KAS1D4Q,EAAAA,KAAAA,IAA8B,WAC5B,IAAI5Q,EADoC,KAExC,OAAQA,IAAAA,EAAAA,KAAAA,IAAeA,EAAAA,KAAfA,IAA8BA,EAAAA,KAA9BA,IAA6CA,EAAAA,KAA7CA,IAA4DA,EAAAA,KAF5B,IAE2CA,EAAAA,KAQrF4Q,EAAAA,KAAAA,IAA8B,SAAU7qB,GACtCzF,KAAA,KAD6C,GAkB/CiwB,EAAAA,UAAAA,eAAqC,YAInC,MAAI,CAAC7Q,MAAOqR,aAAcC,cAActC,MAAK,SAAUlO,GAAK,OAAOwC,aAAT,KACjD6K,EADmF,GAItE,kBAAX7K,GAAuBA,EAA9B,QAAJ,SAAmDA,EAC1CiO,EAD6D,GAItE,WAAI,KACKC,EADuB,GAZoC,MAyBtEX,EAAAA,UAAAA,QAA8B,WAC5B,IAAIvQ,EAD4C,KAE5CmR,EAAO5yB,KAAAA,IAAAA,GAFqC,GAehD,OAVIyhB,EAAJ,KACW,CAACA,EAAD,EAAMA,EAAN,EAAWA,EAAX,EAAgBA,EAAhB,EAAqBA,EAArB,EAA0BA,EAAnC1X,GAES,CAAC0X,EAAD,IAAQA,EAAR,IAAeA,EAAf,IAAsBA,EAAtB,IACPA,EADO,IACAA,EADA,IACOA,EADP,IACcA,EADd,IAEPA,EAFO,IAEAA,EAFA,IAEOA,EAFP,IAEcA,EAFd,IAGPA,EAHO,IAGAA,EAHA,IAGOA,EAHP,IAGcA,EAHvB1X,MAOYmmB,KAAI,SAAU9O,GAAK,OAAQphB,KAAAA,IAAAA,GAAAA,KAAAA,GAA2BohB,EAAD,GAAD,GAAnC,MAYjC4Q,EAAAA,UAAAA,SAA+B,WAC7B,IACItoB,EAF8C,eAIlD,OAJkD,KAGvC+X,KAAAA,SAHuC,YAI1CzY,IAAAA,EAJ0C,KAiBpDgpB,EAAAA,UAAAA,OAA6B,WAC3B,IAAIvQ,EAD0C,KAE1C8Q,EAAO9Q,EAFmC,KAGxC6Q,EAAa7Q,EAH2B,WAI9C,OAAOvc,OAAO2tB,OAAO,GAAIpR,EAAG,CAAC8Q,KAAD,EAAaD,WAAb,KAW9BN,EAAAA,UAAAA,SAA+B,YAC7B,OAAOc,EAAAA,KAD6C,IAetDd,EAAAA,UAAAA,UAAgC,gBAC9B,IACIN,EAFuD,EAGvDC,EAHuD,EAM3D,YAFA,IAAIA,IAAmBA,EAAF,QACrB,IAAID,IAAmBA,EAAF,GACdoB,EAAAA,KAAeC,EANqC,EAMrCA,EANqC,KAoB7Df,EAAAA,UAAAA,MAA4B,gBAC1B,IACIN,EAF+C,EAG/CC,EAH+C,EAOnD,YAHA,IAAID,IAAmBA,EAAF,QACrB,IAAIC,IAAmBA,EAAF,GAEdmB,EAAAA,KAAeE,EAP6B,EAO7BA,EAP6B,KAsBrDhB,EAAAA,UAAAA,OAA6B,gBAC3B,IAAIiB,EADoD,EAEpDC,EAFoD,EAGpDC,EAHoD,EAMxD,YAFA,IAAID,IAAoBA,EAAF,QACtB,IAAIC,IAAoBA,EAAF,EAAWF,EAAX,GACfH,EAAAA,KAAeM,EAAAA,EAAAA,EANkC,KAqB1DpB,EAAAA,UAAAA,gBAAsC,kBACpC,GAAI,CAAC3tB,EAAGyrB,EAAGC,EAAGsB,GAAOlB,MAAK,SAAU/O,GAAK,OAAOrR,OAAAA,MAAT,MACrC,MAAM,IAAI1F,UADyD,iCAGrE,OAAOyoB,EAAAA,KAAeO,EAAAA,EAAAA,EAAAA,EAJwD,KAchFrB,EAAAA,UAAAA,MAA4B,YAC1B,OAAOc,EAAAA,KAAeQ,EAD2B,KAWnDtB,EAAAA,UAAAA,MAA4B,YAC1B,OAAOc,EAAAA,KAAeS,EAD2B,KAiBnDvB,EAAAA,UAAAA,eAAqC,YACnC,IACIvQ,EAAIsR,EAAUxjB,EAAVwjB,EAAexjB,EAAfwjB,EAAoBxjB,EAFmC,GAO/D,OAHAkS,EAAAA,IAAQlS,EAAAA,GAJuD,EAOxD,CACLlL,GAHFod,EAL+D,KAK3D+R,SAL2D,IAOxD,IAEL1D,EAAGrO,EAFE,IAGLsO,EAAGtO,EAHE,IAILgS,EAAGhS,EAJE,MAgBTuQ,EAAAA,UAAAA,UAAgC,YAC9B,IAAIvQ,EADiD,KAEjDpd,EAAIod,EAAAA,IAAQwB,EAARxB,EAAcA,EAAAA,IAAQwB,EAAtBxB,EAA4BA,EAAAA,IAAQwB,EAApCxB,EAA0CA,EAAAA,IAAQwB,EAFL,EAGjD6M,EAAIrO,EAAAA,IAAQwB,EAARxB,EAAcA,EAAAA,IAAQwB,EAAtBxB,EAA4BA,EAAAA,IAAQwB,EAApCxB,EAA0CA,EAAAA,IAAQwB,EAHL,EAIjD8M,EAAItO,EAAAA,IAAQwB,EAARxB,EAAcA,EAAAA,IAAQwB,EAAtBxB,EAA4BA,EAAAA,IAAQwB,EAApCxB,EAA0CA,EAAAA,IAAQwB,EAJL,EAKjDwQ,EAAIhS,EAAAA,IAAQwB,EAARxB,EAAcA,EAAAA,IAAQwB,EAAtBxB,EAA4BA,EAAAA,IAAQwB,EAApCxB,EAA0CA,EAAAA,IAAQwB,EALL,EAOrD,MAAO,CACL5e,EAAGA,EADE,EAELyrB,EAAGA,EAFE,EAGLC,EAAGA,EAHE,EAIL0D,EAJK,IAQTvuB,OAAAA,iBAAyB8sB,EAAzB9sB,UA7xBoB,GAiyBpBA,OAAAA,OAAAA,EAAyB,CACvB6tB,UADuB,EAEvBK,OAFuB,EAGvBC,gBAHuB,EAIvBL,MAJuB,EAKvBM,MALuB,EAMvBC,MANuB,EAOvBT,SAPuB,EAQvBxD,UARuB,EASvBqD,WATuB,EAUvBD,WAVuB,IAuBzBxtB,OAAAA,OAAAA,EAAyB,CAAEwuB,QAxzBP,cAHpB,gBAA+D5sB,EAAAA,QAAiB5H,SACnC,6BAA7C,GAA6C,+BAA7C,oBCPFwkB,EAAAA,IACAA,EADAA,IAEA,IAAIiQ,EAAOjQ,EAFXA,IAIA5c,EAAAA,QAAiB6sB,EAAAA,OAAjB7sB,0CCHA,IAAI2e,EAAkB/B,EADtB,IAEIkQ,EAAmBlQ,EAFvB,IAGImQ,EAAYnQ,EAHhB,IAIIuG,EAAsBvG,EAJ1B,IAKIoQ,EAAiBpQ,EALrB,IAOIqQ,EAPJ,iBAQIC,EAAmB/J,EARvB,IASIE,EAAmBF,EAAAA,UATvB,GAqBAnjB,EAAAA,QAAiBgtB,EAAe3S,MAAO,SAAS,SAAU8S,EAAUC,GAClEF,EAAAA,KAAuB,CACrBhrB,KADqB,EAErB6b,OAAQY,EAFa,GAGrBoH,MAHqB,EAIrBqH,KAJqB,OAQtB,WACD,IAAI7rB,EAAQ8hB,EADC,MAETtF,EAASxc,EAFA,OAGT6rB,EAAO7rB,EAHE,KAITwkB,EAAQxkB,EAJC,QAKb,OAAKwc,GAAUgI,GAAShI,EAAxB,QACExc,EAAAA,YADqC,EAE9B,CAAEb,WAAF,EAAoBsB,MAApB,IAET,QAAIorB,EAAuB,CAAE1sB,MAAF,EAAgBsB,MAAhB,GAC3B,UAAIorB,EAAyB,CAAE1sB,MAAOqd,EAAT,GAAwB/b,MAAxB,GACtB,CAAEtB,MAAO,CAACqlB,EAAOhI,EAAR,IAAwB/b,MAAjC,KAzCT,UA+CA+qB,EAAAA,UAAsBA,EA/CtB,MAkDAD,EAlDA,QAmDAA,EAnDA,UAoDAA,EAAAA,4BCpDA,IAAIxM,EAAkB1D,EAAtB,IACIyQ,EAASzQ,EADb,IAEIiG,EAAuBjG,EAF3B,IAII0Q,EAAchN,EAJlB,eAKIiN,EAAiBlT,MALrB,eASA,GAAIkT,EAAAA,IACF1K,EAAAA,EAAAA,EAAAA,EAAoD,CAClDjiB,cADkD,EAElDF,MAAO2sB,EAF2C,QAOtDrtB,EAAAA,QAAiB,SAAUyE,GACzB8oB,EAAAA,GAAAA,IAD8B,oBChBhC,IADA,EACIxK,EAAWnG,EADf,IAEI4Q,EAAmB5Q,EAFvB,IAGIyI,EAAczI,EAHlB,IAIIkH,EAAalH,EAJjB,IAKI6Q,EAAO7Q,EALX,IAMI8Q,EAAwB9Q,EAN5B,IAOIiH,EAAYjH,EAPhB,IAaI+Q,EAAW9J,EAbf,YAeI+J,EAAmB,aAEnBC,EAAY,YACd,MAAOC,WAAAA,EAAAA,cAILC,EAA4B,YAC9BC,EAAAA,MAAsBH,EADmC,KAEzDG,EAFyD,QAGzD,IAAIC,EAAOD,EAAAA,aAH8C,OAKzD,OADAA,EAJyD,QA+BvDE,EAAkB,WACpB,IACEF,EAAkB,IAAIG,cADpB,YAEF,MAAOnP,IACTkP,EAAqC,oBAAZ3zB,SACrBA,SAAAA,QAAAA,EACEwzB,EADFxzB,GA3ByB,WAE7B,IAFyC,EAErC6zB,EAASV,EAF4B,UAazC,OARAU,EAAAA,MAAAA,QALyC,OAMzCX,EAAAA,YANyC,GAQzCW,EAAAA,IAAa1nB,OALJ,gBAMT2nB,EAAiBD,EAAAA,cATwB,iBAWzCC,EAAAA,MAAqBR,EAXoB,sBAYzCQ,EAZyC,QAalCA,EAbkC,EA6BnCC,GACFP,EAR4B,GAUhC,IADA,IAAI/oB,EAASqgB,EATmB,OAUzBrgB,YAAiBkpB,EAAAA,UAA2B7I,EAVnB,IAWhC,OAAO6I,KAGTpK,EAAAA,IAnEA,EAuEA9jB,EAAAA,QAAiB5B,OAAAA,QAAiB,SAAgBuS,EAAG4d,GACnD,IAD+D,EAS/D,OAPA,OAAI5d,GACFid,EAAAA,UAA8B7K,EADhB,GAEd9f,EAAS,IAFK,EAGd2qB,EAAAA,UAHc,KAKd3qB,EAAAA,GALc,GAMTA,EAASirB,SACTK,IAAAA,EAAAA,EAAoCf,EAAAA,EAToB,qBCvEjE,IAAIjP,EAAc3B,EAAlB,IACIiG,EAAuBjG,EAD3B,IAEImG,EAAWnG,EAFf,IAGI+B,EAAkB/B,EAHtB,IAII4R,EAAa5R,EAJjB,IASA5c,EAAAA,QAAiBue,EAAcngB,OAAdmgB,iBAAwC,SAA0B5N,EAAG4d,GACpFxL,EADgG,GAOhG,IALA,IAFgG,EAE5F0L,EAAQ9P,EAFoF,GAG5Fna,EAAOgqB,EAHqF,GAI5FxpB,EAASR,EAJmF,OAK5FuhB,EAL4F,EAOzF/gB,EAAP,GAAuB6d,EAAAA,EAAAA,EAA0Bpe,EAAMD,EAAKuhB,KAAU0I,EAP0B,IAQhG,OARgG,oBCTlG,IAAIrJ,EAAqBxI,EAAzB,IACIyI,EAAczI,EADlB,IAMA5c,EAAAA,QAAiB5B,OAAAA,MAAe,SAAcuS,GAC5C,OAAOyU,EAAAA,EADwC,qBCNjD,IAAIzE,EAAa/D,EAAjB,IAEA5c,EAAAA,QAAiB2gB,EAAAA,WAAjB3gB,gCCFAA,EAAAA,QAAAA,iCCCA,IAAImd,EAAIP,EADR,GAEI4B,EAAO5B,EAFX,IAGIsF,EAAUtF,EAHd,IAII8R,EAAe9R,EAJnB,IAKI8D,EAAa9D,EALjB,IAMI+R,EAA4B/R,EANhC,IAOIgS,EAAiBhS,EAPrB,IAQIiS,EAAiBjS,EARrB,IASIkS,EAAiBlS,EATrB,IAUIU,EAA8BV,EAVlC,IAWIW,EAAWX,EAXf,IAYI0D,EAAkB1D,EAZtB,IAaImQ,EAAYnQ,EAbhB,IAcImS,EAAgBnS,EAdpB,IAgBIoS,EAAuBN,EAhB3B,OAiBItL,EAA6BsL,EAjBjC,aAkBIjsB,EAAoBssB,EAlBxB,kBAmBIE,EAAyBF,EAnB7B,uBAoBIG,EAAW5O,EApBf,YAqBI6O,EArBJ,OAsBIC,EAtBJ,SAuBIC,EAvBJ,UAyBIC,EAAa,WAAc,OAAF,MAE7BtvB,EAAAA,QAAiB,SAAUuvB,EAAUC,EAAMC,EAAqB1rB,EAAM2rB,EAASC,EAAQC,GACrFjB,EAAAA,EAAAA,EAD6F,GAG7F,IAkBA,IArB6F,EAGzFkB,EAAqB,YACvB,GAAIC,IAAAA,GAAJ,EAAyC,OADF,EAEvC,IAAKb,GAA0Ba,KAA/B,EAA0D,OAAOC,EAF1B,GAGvC,UACE,OACA,OACA,OAAc,OAAO,WAAqB,OAAO,IAAIN,EAAoBx0B,KAAjC,IACxC,OAAO,WAAc,OAAO,IAAIw0B,EAAb,QAGnBO,EAAgBR,EAbyE,YAczFS,GAdyF,EAezFF,EAAoBR,EAfqE,UAgBzFW,EAAiBH,EAAAA,IAChBA,EADgBA,eAEhBL,GAAWK,EAlB6E,GAmBzFI,GAAmBlB,GAA0BiB,GAAkBL,EAnB0B,GAoBzFO,EAAoBZ,SAAAA,GAAkBO,EAAAA,SApBmD,EAmD7F,GA3BA,IACEM,EAA2BzB,EAAewB,EAAAA,KAAuB,IAD5C,OAEYhyB,OAA7BiyB,WAAiDA,EAArD,OACOnO,GAAW0M,EAAAA,KAAhB,IACE,EACEC,EAAAA,EADkB,GAERnO,EAAW2P,EAAhB,KACL9S,EAAAA,EAAAA,EAD0D,IAK9DuR,EAAAA,EAAAA,GAAAA,GATkF,GAUlF,IAAa/B,EAAAA,GAVqE,IAelFiC,GAAwBU,GAAxBV,GAAAA,GAA+DkB,EAAAA,OAAnE,KACOhO,GAAL,EACE5E,EAAAA,EAAAA,OAD0C,IAG1C2S,GADK,EAELE,EAAkB,WAAoB,OAAO3R,EAAAA,EAAT,SAKxC,EAME,GALA8R,EAAU,CACR1tB,OAAQitB,EADA,GAERrrB,KAAMmrB,EAAAA,EAA2BE,EAFzB,GAGRU,QAASV,EAHD,IAKV,EAAY,IAAKW,KAAOF,GAClBrB,GAAAA,KAAqDuB,KAAzD,KACEjT,EAAAA,EAAAA,EAAiC+S,EADiD,SAG/EnT,EAAE,CAAEY,OAAF,EAAgB0S,OAAhB,EAA6BC,OAAQzB,GAArC,GAVE,GAmBb,OALK,IAAD,GAAwBc,EAAAA,KAA5B,GACExS,EAAAA,EAAAA,EAAAA,EAAuD,CAAEjf,KADkB,IAG7EyuB,EAAAA,GApE6F,mCC1B/F,IAAItqB,EAAoBma,EAAAA,IADxB,kBAEIyQ,EAASzQ,EAFb,IAGI8B,EAA2B9B,EAH/B,IAIIkS,EAAiBlS,EAJrB,IAKImQ,EAAYnQ,EALhB,IAOI0S,EAAa,WAAc,OAAF,MAE7BtvB,EAAAA,QAAiB,SAAUyvB,EAAqBD,EAAMzrB,EAAM4sB,GAC1D,IAAIX,EAAgBR,EADuD,YAK3E,OAHAC,EAAAA,UAAgCpC,EAAAA,EAA0B,CAAEtpB,KAAM2a,IAAAA,EAFS,KAG3EoQ,EAAAA,EAAAA,GAAAA,GAH2E,GAI3E/B,EAAAA,GAJ2E,mCCR7E,IAaA,IAdA,EACI9N,EAAQrC,EADZ,IAEI8D,EAAa9D,EAFjB,IAGIyQ,EAASzQ,EAHb,IAIIgS,EAAiBhS,EAJrB,IAKIW,EAAWX,EALf,IAMI0D,EAAkB1D,EANtB,IAOIsF,EAAUtF,EAPd,IASIsS,EAAW5O,EATf,YAUI2O,GAVJ,EAiBI,GAAJ,OAGQ,SAFN2B,EAAgB,GADL,SAKTC,EAAoCjC,EAAeA,EADhD,OAEuCxwB,OAA1C,YAA4DqE,EAFzD,GAD2BwsB,GAAhC,QAO2BxsB,GAAAA,GAAkCwc,GAAM,WACnE,IAAI9kB,EAD2E,GAG/E,OAAOsI,EAAAA,GAAAA,KAAAA,KAHwE,KAMrDA,EAA5B,GACSyf,IAASzf,EAAoB4qB,EAlCtC,IAsCK3M,EAAWje,EAAhB,KACE8a,EAAAA,EAAAA,GAAsC,WACpC,OADgD,QAKpDvd,EAAAA,QAAiB,CACfyC,kBADe,EAEfwsB,uBAFe,oBC5CjB,IAAI7R,EAASR,EAAb,IACIxc,EAASwc,EADb,IAEI8D,EAAa9D,EAFjB,IAGI2F,EAAW3F,EAHf,IAIIiH,EAAYjH,EAJhB,IAKIkU,EAA2BlU,EAL/B,IAOI+Q,EAAW9J,EAPf,YAQIzlB,EAASgf,EARb,OASI2T,EAAkB3yB,EATtB,UAaA4B,EAAAA,QAAiB8wB,EAA2B1yB,EAA3B0yB,eAAmD,SAAUngB,GAC5E,IAAImS,EAASP,EADkE,GAE/E,GAAIniB,EAAAA,EAAJ,GAA8B,OAAO0iB,EAF0C,GAG/E,IAAI5nB,EAAc4nB,EAH6D,YAI/E,OAAIpC,EAAAA,IAA2BoC,aAA/B,EACS5nB,EADqD,UAErD4nB,aAAAA,EAAAA,EANsE,uBCbjF,IAAI7D,EAAQrC,EAAZ,IAEA5c,EAAAA,SAAkBif,GAAM,WACtB,cAGA,OAFA9O,EAAAA,UAAAA,YAFkC,KAI3B/R,OAAAA,eAAsB,IAAtBA,KAAmC+R,EAJR,8BCFpC,IAAI+O,EAAiBtC,EAAAA,IAArB,EACIxc,EAASwc,EADb,IAIIoT,EAFkBpT,EAFtB,GAIoB0D,CAJpB,eAMAtgB,EAAAA,QAAiB,SAAUoe,EAAI4S,EAAKlT,GAC9BM,IAAOhe,EAAOge,EAAKN,EAAAA,EAAcM,EAA1Bhe,UAAX,IACE8e,EAAAA,EAAAA,EAAkC,CAAEte,cAAF,EAAsBF,MAAtB,sBCPtC,IAAI+e,EAAc7C,EADlB,IAEImG,EAAWnG,EAFf,IAGIqU,EAAqBrU,EAHzB,IASA5c,EAAAA,QAAiB5B,OAAAA,iBAA0B,aAAe,GAAK,WAC7D,IADyE,EACrE8yB,GADqE,EAErE/2B,EAFqE,GAIzE,KAEEg3B,EAAS1R,EAAYrhB,OAAAA,yBAAgCA,OAAhCA,UAAAA,aAFnB,MAGF+yB,EAHE,IAIFD,EAAiB/2B,aAJf,MAKF,MAAO6kB,IACT,OAAO,SAAwBrO,EAAG8f,GAKhC,OAJA1N,EADuC,GAEvCkO,EAFuC,GAGvC,EAAoBE,EAAAA,EAApB,GACKxgB,EAAAA,UAJkC,KAVoB,QAA/D3Q,oBCTA,IAAIod,EAASR,EAAb,IACI8D,EAAa9D,EADjB,IAGIlW,EAAS0W,EAHb,OAII7Z,EAAY6Z,EAJhB,UAMApd,EAAAA,QAAiB,SAAUkgB,GACzB,GAAuB,iBAAZA,GAAwBQ,EAAnC,GAAyD,OADtB,EAEnC,MAAMnd,EAAU,aAAemD,EAAf,GAFmB,qCCNrC,IAAIyW,EAAIP,EAAR,GACIwU,EAAUxU,EADd,IAEIyU,EAAiBzU,EAFrB,IAMAO,EAAE,CAAEY,OAAF,SAAoBuT,MAApB,GAAkC,CAClCC,YAAa,SAAqB1tB,GAChC,IAAI/C,EADsC,GAK1C,OAHAswB,EAAAA,GAAkB,SAAU7I,EAAG9f,GAC7B4oB,EAAAA,EAAAA,EADgC,KAE/B,CAAEG,YAJqC,0BCP9C,IAAIpU,EAASR,EAAb,IACIiD,EAAOjD,EADX,IAEI4B,EAAO5B,EAFX,IAGImG,EAAWnG,EAHf,IAII8E,EAAc9E,EAJlB,IAKI6U,EAAwB7U,EAL5B,IAMI8I,EAAoB9I,EANxB,IAOIgE,EAAgBhE,EAPpB,IAQI8U,EAAc9U,EARlB,IASI+U,EAAoB/U,EATxB,IAUIgV,EAAgBhV,EAVpB,IAYIrZ,EAAY6Z,EAZhB,UAcIyU,EAAS,cACX52B,KAAA,QADsC,EAEtCA,KAAA,OAFsC,GAKpC62B,EAAkBD,EAnBtB,UAqBA7xB,EAAAA,QAAiB,SAAU6D,EAAUkuB,EAAiBjqB,GACpD,IAKA,YAN6D,EACzDkqB,EAAOlqB,GAAWA,EADuC,KAEzD0pB,KAAgB1pB,IAAWA,EAF8B,YAGzDmqB,KAAiBnqB,IAAWA,EAH6B,aAIzDoqB,KAAiBpqB,IAAWA,EAJ6B,aAKzD3F,EAAK0d,EAAAA,EALoD,GAQzDjb,EAAO,YAET,OADA,GAAcgtB,EAAAA,EAAAA,SADgB,GAEvB,IAAIC,GAAO,EAFY,IAK5BM,EAAS,YACX,UACEpP,EADc,GAEPmP,EAAc/vB,EAAGzB,EAAHyB,GAAazB,EAAbyB,GAAd+vB,GAA6C/vB,EAAGzB,EAAHyB,GAAazB,EAFnD,KAGPwxB,EAAc/vB,EAAAA,EAAd+vB,GAAgC/vB,EAJb,IAO9B,KACEyD,EADe,MAEV,CAEL,KADAwsB,EAAST,EADJ,IAEQ,MAAMpuB,EAAUme,EAAAA,GAFxB,oBAIL,GAAI+P,EAAJ,GAAmC,CACjC,IAAK1L,EAAAA,EAAW/gB,EAAS0gB,EAAzB,GAAsD1gB,EAAtD,EAAsE+gB,IAEpE,IADA9iB,EAASkvB,EAAOtuB,EAD6D,MAE/D+c,EAAAA,EAAd,GAAsD,OAFuB,EAG7E,OAAO,IAAIiR,GAJoB,GAMnCjsB,EAAW8rB,EAAAA,EAVN,GAcP,IADA3tB,EAAO6B,EAnCsD,OAoCpDysB,EAAO7T,EAAAA,EAAR,IAAR,MAA4C,CAC1C,IACEvb,EAASkvB,EAAOE,EADd,OAEF,MAAOrT,GACP4S,EAAAA,EAAAA,QADc,GAGhB,GAAqB,iBAAV3uB,GAAsBA,GAAU2d,EAAAA,EAA3C,GAAmF,OANzC,EAO1C,OAAO,IAAIiR,GA3CgD,qBCrB/D,IAAIpS,EAAc7C,EAAlB,IACI4E,EAAY5E,EADhB,IAGIiD,EAAOJ,EAAYA,EAHvB,MAMAzf,EAAAA,QAAiB,SAAUmC,EAAI6vB,GAE7B,OADAxQ,EADmC,QAE5BwQ,IAAAA,EAAAA,EAA0BnS,EAAOA,EAAAA,EAAPA,GAAwB,WACvD,OAAO1d,EAAAA,MAAAA,EADyE,8BCRpF,IAAIme,EAAkB1D,EAAtB,IACImQ,EAAYnQ,EADhB,IAGIsS,EAAW5O,EAHf,YAIIiN,EAAiBlT,MAJrB,UAOAra,EAAAA,QAAiB,SAAUoe,GACzB,YAAOA,IAAAA,IAAqB2O,EAAU1S,QAAU+D,GAAMmP,EAAAA,KADzB,qBCP/B,IAAInQ,EAASR,EAAb,IACI4B,EAAO5B,EADX,IAEI4E,EAAY5E,EAFhB,IAGImG,EAAWnG,EAHf,IAII8E,EAAc9E,EAJlB,IAKI+U,EAAoB/U,EALxB,IAOIrZ,EAAY6Z,EAPhB,UASApd,EAAAA,QAAiB,SAAUkgB,EAAUoS,GACnC,IAAI1uB,EAAiBod,UAAAA,OAAAA,EAAuB2Q,EAAvB3Q,GAD6B,EAElD,GAAIQ,EAAJ,GAA+B,OAAOuB,EAASvE,EAAAA,EAFG,IAGlD,MAAMjb,EAAUme,EAAAA,GAHkC,sCCTpD,IAAIhC,EAAU9C,EAAd,IACIwD,EAAYxD,EADhB,IAEImQ,EAAYnQ,EAFhB,IAKIsS,EAFkBtS,EAHtB,GAKe0D,CALf,YAOAtgB,EAAAA,QAAiB,SAAUoe,GACzB,WAAIA,EAAiB,OAAOgC,EAAAA,EAAAA,IACvBA,EAAAA,EADuBA,eAEvB2M,EAAUrN,EAHc,sBCP/B,IAAItC,EAASR,EAAb,IACI2V,EAAwB3V,EAD5B,IAEI8D,EAAa9D,EAFjB,IAGI4V,EAAa5V,EAHjB,IAMIoT,EAFkBpT,EAJtB,GAMoB0D,CANpB,eAOIliB,EAASgf,EAPb,OAUIqV,EAVJ,aAUwBD,EAAW,WAAc,OAAF,UAAZ,IAUnCxyB,EAAAA,QAAiBuyB,EAAAA,EAAqC,SAAUnU,GAC9D,QADkE,EAElE,YAAOA,IAAAA,EAAAA,YAAiCA,OAAAA,EAAAA,OAEpC,iBAAQsU,EAXD,cACX,IACE,OAAOtU,EADL,GAEF,MAAOY,KAQS2T,CAAOhiB,EAAIvS,EAAXu0B,GAAd,MAEAF,EAAoBD,EAApBC,GAEA,WAACxvB,EAASuvB,EAAV,KAAwC9R,EAAW/P,EAAnD,oBAR8D,oBCpBpE,IAGIxW,EAHJ,GAKAA,EALsByiB,EAAtB,GAEoB0D,CAFpB,oBAOAtgB,EAAAA,QAAAA,eAAiB0G,OAAAA,oBCPjB,IAAI8X,EAAO5B,EAAX,IACImG,EAAWnG,EADf,IAEIwD,EAAYxD,EAFhB,IAIA5c,EAAAA,QAAiB,SAAU4F,EAAUwnB,EAAM1sB,GACzC,MADgD,EAEhDqiB,EAFgD,GAGhD,IAEE,KADA6P,EAAcxS,EAAAA,EADZ,WAEgB,CAChB,aAAIgN,EAAkB,MADN,EAEhB,OAFgB,EAIlBwF,EAAcpU,EAAAA,EANZ,GAOF,MAAOQ,GACP6T,GADc,EAEdD,EAFc,EAIhB,aAAIxF,EAAkB,MAd0B,EAehD,KAAgB,MAfgC,EAiBhD,OADArK,EAhBgD,oCCHlD,IAAInE,EAAgBhC,EADpB,IAEIiG,EAAuBjG,EAF3B,IAGI8B,EAA2B9B,EAH/B,IAKA5c,EAAAA,QAAiB,SAAU8iB,EAAQre,EAAK/D,GACtC,IAAIoyB,EAAclU,EAD2B,GAEzCkU,KAAJ,EAA2BjQ,EAAAA,EAAAA,EAAAA,EAA4CnE,EAAAA,EAAvE,IACKoE,EAAAA,GAHwC,oBCL/C,IAAI1F,EAASR,EAAb,IAEA5c,EAAAA,QAAAA,mBCFA4c,EAAAA,IACAA,EADAA,IAEAA,EAFAA,KAGAA,EAHAA,KAIAA,EAJAA,KAKAA,EALAA,KAMAA,EANAA,KAOAA,EAPAA,KAQA,IAAIiQ,EAAOjQ,EARXA,IAUA5c,EAAAA,QAAiB6sB,EAAjB7sB,sCCTA,IAAImd,EAAIP,EADR,GAEIQ,EAASR,EAFb,IAGIgE,EAAgBhE,EAHpB,IAIIgS,EAAiBhS,EAJrB,IAKIiS,EAAiBjS,EALrB,IAMIa,EAA4Bb,EANhC,IAOIyQ,EAASzQ,EAPb,IAQIU,EAA8BV,EARlC,IASI8B,EAA2B9B,EAT/B,IAUImW,EAAkBnW,EAVtB,IAWIoW,EAAoBpW,EAXxB,KAYIwU,EAAUxU,EAZd,IAaIqW,EAA0BrW,EAb9B,KAcI0D,EAAkB1D,EAdtB,IAeIsW,EAA0BtW,EAf9B,KAiBIoT,EAAgB1P,EAjBpB,eAkBI3lB,EAAQyiB,EAlBZ,MAmBImI,EAAO,GAnBX,KAqBI4N,EAAkB,SAAwBC,EAAQC,GACpD,IAD6E,EACzEvrB,EAAUkZ,UAAAA,OAAAA,EAAuBA,UAAvBA,QAD+D,EAEzEsS,EAAa1S,EAAAA,EAF4D,MAI7E,EACEoR,EAAOnD,EAAe,IAAIl0B,OAAnBk0B,GAAqCyE,EAAa1E,EAAb0E,MAD1B,IAGlBtB,EAAOsB,EAAAA,KAAoBjG,EADtB,GAEL/P,EAAAA,EAAAA,EAFK,UAIPA,EAAAA,EAAAA,UAA6C2V,EAAAA,EAVgC,KAW7E,GAA6B3V,EAAAA,EAAAA,QAA2CyV,EAAgBf,EAAhBe,MAXK,IAY7EC,EAAAA,EAZ6E,GAa7E,IAAIO,EAbyE,GAgB7E,OAFAnC,EAAAA,EAAAA,EAAsB,CAAEY,KAdqD,IAe7E1U,EAAAA,EAAAA,SAf6E,MAmB/E,EAAoBuR,EAAAA,EAApB,GACKpR,EAAAA,EAzCL,GA2CA,IAAI+V,EAA0BL,EAAAA,UAA4B9F,EAAO1yB,EAAP,UAAwB,CAChFO,YAAawjB,EAAAA,EADmE,GAEhF2U,QAAS3U,EAAAA,EAFuE,IAGhFpgB,KAAMogB,EAAAA,EAH0E,oBAQlFvB,EAAE,CAAEC,QAAJD,GAAoB,CAClBsW,eADFtW,qBCnDA,IAAIsC,EAAc7C,EAAlB,IACI8W,EAAa9W,EADjB,KAGIxU,EAAUqX,EAAY,GAH1B,SAIIE,EAAQF,EAAY,GAJxB,OAKIkU,EAAOlU,EAAY,GALvB,MAOImU,EAAgCltB,OAAO/L,MAP3C,UAO2B,OACvBk5B,EARJ,uBASIC,EAAwBD,EAAAA,KAT5B,GAUIE,EAA6B,YAAY55B,KAAKy5B,KAAU,SAASz5B,KAVrE,GAYA6F,EAAAA,QAAiB,SAAUg0B,EAAOC,GAChC,oBAAWD,EAAmB,OADe,EAE7C,KACE,KAAOC,KAAeD,EAAQ5rB,EAAAA,EAAAA,EADL,SAEpB,GAAI2rB,EACT,OAAOJ,EAAKD,EAAW/T,EAAAA,EAAX+T,MAALC,GAD8B,MAErC,OAN2C,oBCZ/C,IAAIvW,EAASR,EAAb,IACI6I,EAAkB7I,EADtB,IAEI8I,EAAoB9I,EAFxB,IAGIyU,EAAiBzU,EAHrB,IAKIvC,EAAQ+C,EALZ,MAMI+I,EAAMjtB,KANV,IAQA8G,EAAAA,QAAiB,SAAU2Q,EAAGlS,EAAOxF,GAKnC,IAJA,IAAI+L,EAAS0gB,EAD2B,GAEpC6C,EAAI9C,EAAAA,EAFgC,GAGpCyO,EAAMzO,OAAgBxsB,IAAAA,EAAAA,EAAhBwsB,EAH8B,GAIpCxiB,EAASoX,EAAM8L,EAAI+N,EAAJ/N,EAJqB,IAK/B7L,EAAT,EAAgBiO,EAAhB,EAAyBA,IAAKjO,IAAK+W,EAAAA,EAAAA,EAA0B1gB,EALrB,IAOxC,OADA1N,EAAAA,OANwC,sBCR1C,IAAIkd,EAAWvD,EAAf,IACIU,EAA8BV,EADlC,IAKA5c,EAAAA,QAAiB,SAAU2Q,EAAG7I,GACxBqY,EAAAA,IAAqB,UAAzB,GACE7C,EAAAA,EAAAA,QAAwCxV,EADG,yBCN/C,IAAInJ,EAAWie,EAAf,KAEA5c,EAAAA,QAAiB,SAAUkgB,EAAUiU,GACnC,YAAOjU,IAAAA,EAAyBc,UAAAA,OAAAA,EAAAA,GAAzBd,EAAgEvhB,EAD1B,qBCF/C,IAAIye,EAASR,EAAb,IACI8C,EAAU9C,EADd,IAGIlW,EAAS0W,EAHb,OAKApd,EAAAA,QAAiB,SAAUkgB,GACzB,cAAIR,EAAAA,GAAgC,MAAMnc,UADP,6CAEnC,OAAOmD,EAF4B,qBCLrC,IAAIuY,EAAQrC,EAAZ,IACI8B,EAA2B9B,EAD/B,IAGA5c,EAAAA,SAAkBif,GAAM,WACtB,IAAID,EAAQrkB,MADsB,KAElC,QAAM,UAAN,KAEAyD,OAAAA,eAAAA,EAAAA,QAAsCsgB,EAAAA,EAJJ,QAK3BM,EAAAA,2BCRT,IAAIuT,EAAwB3V,EAA5B,IACIW,EAAWX,EADf,IAEIje,EAAWie,EAFf,KAMA,GACEW,EAASnf,OAATmf,UAAAA,WAAAA,EAAiD,CAAEiG,QADzB,kCCL5B,IAAI+O,EAAwB3V,EAD5B,IAEI8C,EAAU9C,EAFd,IAMA5c,EAAAA,QAAiBuyB,EAAwB,GAAxBA,SAAsC,WACrD,MAAO,WAAa7S,EAAb,MADkE,mCCL3E,IA0DA,MA3DA,EACIvC,EAAIP,EADR,GAEIsF,EAAUtF,EAFd,IAGIQ,EAASR,EAHb,IAII+D,EAAa/D,EAJjB,IAKI4B,EAAO5B,EALX,IAMIwX,EAAgBxX,EANpB,KAOIW,EAAWX,EAPf,IAQIyX,EAAczX,EARlB,KASIiS,EAAiBjS,EATrB,IAUIkS,EAAiBlS,EAVrB,IAWI0X,EAAa1X,EAXjB,KAYI4E,EAAY5E,EAZhB,IAaI8D,EAAa9D,EAbjB,IAcIuD,EAAWvD,EAdf,IAeI2X,EAAa3X,EAfjB,KAgBIsG,EAAgBtG,EAhBpB,IAiBIwU,EAAUxU,EAjBd,IAkBI4X,EAA8B5X,EAlBlC,KAmBI6X,EAAqB7X,EAnBzB,KAoBI8X,EAAO9X,EAAAA,KApBX,IAqBI+X,EAAY/X,EArBhB,KAsBIgY,EAAiBhY,EAtBrB,KAuBIiY,EAAmBjY,EAvBvB,KAwBIkY,EAA6BlY,EAxBjC,KAyBImY,EAAUnY,EAzBd,KA0BIuG,EAAsBvG,EA1B1B,IA2BIc,EAAWd,EA3Bf,IA4BI0D,EAAkB1D,EA5BtB,IA6BIoY,EAAapY,EA7BjB,KA8BIqY,EAAUrY,EA9Bd,KA+BIsE,EAAatE,EA/BjB,IAiCIsY,EAAU5U,EAjCd,WAkCI6U,EAlCJ,UAoCI9R,EAAmBF,EAAAA,UApCvB,GAqCI+J,EAAmB/J,EArCvB,IAsCIiS,EAA0BjS,EAAAA,UAtC9B,GAuCIkS,EAAyBjB,GAAiBA,EAvC9C,UAwCIkB,EAxCJ,EAyCIC,EAzCJ,EA0CIhyB,EAAY6Z,EA1ChB,UA2CI7iB,EAAW6iB,EA3Cf,SA4CIJ,EAAUI,EA5Cd,QA6CIoY,EAAuBV,EA7C3B,EA8CIW,EA9CJ,EAgDIC,KAAoBn7B,GAAYA,EAAZ,aAAoC6iB,EAhD5D,eAiDIuY,EAAyBjV,EAAWtD,EAjDxC,uBAkDIwY,EAlDJ,qBAyDIC,IAzDJ,EA6DIjG,GAASlS,EAASyX,GAAS,WAC7B,IAAIW,EAA6B5S,EADQ,GAErC6S,EAAyBD,IAA+BpvB,OAFnB,GAMzC,IAAKqvB,GAAL,KAA+B7U,EAAmB,OANT,EAQzC,GAAIgB,IAAYqT,EAAAA,QAA6B,OARJ,EAYzC,GAAIrU,GAAAA,IAAoB,cAAc/mB,KAAtC,GAAwE,OAZ/B,EAczC,IAAI67B,EAAU,IAAIV,GAAmB,SAAU76B,GAAWA,EAAF,MACpDw7B,EAAc,YAChB9W,GAAK,eAA6B,gBAKpC,OAHkB6W,EAAAA,YAlBuB,IAmBzC96B,GAnByC,IAoBzC26B,GAAcG,EAAQ5yB,MAAK,yBApBc,KAuBjC2yB,GAA0Bf,IAvBO,KA0BvCkB,GAAsBtG,KAAW4E,GAA4B,SAAU3wB,GACzEyxB,EAAAA,IAAAA,GAAAA,OAA0C,kBAIxCa,GAAa,YACf,IAD6B,EAE7B,SAAOhW,EAAAA,KAAgBO,EAAWtd,EAAOgb,EAAlC+B,QAAAA,GAGLiW,GAAS,cACX,IAAI70B,EAAJ,UACAA,EAAAA,UAFsC,EAGtC,IAAI80B,EAAQ90B,EAH0B,UAItCozB,GAAU,WAKR,IAJA,IAAIj0B,EAAQa,EADQ,MAEhB+0B,EAvGR,GAuGa/0B,EAAAA,MACLwkB,EAHgB,EAKbsQ,EAAAA,OAAP,GAA6B,CAC3B,IAKA,IAN2B,EACvBE,EAAWF,EAAMtQ,KACjByQ,EAAUF,EAAKC,EAALD,GAAmBC,EAFN,KAGvB97B,EAAU87B,EAHa,QAIvB77B,EAAS67B,EAJc,OAKvBE,EAASF,EALc,OAO3B,IACE,GACE,IAnHV,IAoHgBh1B,EAAAA,WAA+Bm1B,GAD5B,GAEPn1B,EAAAA,UArHZ,IAuHU,IAAIi1B,EAAkBvzB,EAAtB,GAEE,GAAYwzB,EADT,QAEHxzB,EAASuzB,EAFN,GAGH,IACEC,EADU,OAEVE,GAFU,IAKV1zB,IAAWszB,EAAf,QACE77B,EAAO6I,EADwB,yBAEtBH,EAAO+yB,GAAX,IACL3X,EAAAA,EAAAA,EAAAA,EADoC,GAE/B/jB,EAlBI,IAmBNC,EApBL,GAqBF,MAAOskB,GACHyX,IAAJ,GAAuBA,EADT,OAEd/7B,EAFc,IAKlB6G,EAAAA,UAtCoB,GAuCpBA,EAAAA,UAvCoB,EAwChBq1B,IAAar1B,EAAjB,WAAkCs1B,GAxCd,QA4CpBC,GAAgB,gBAClB,MADmD,EAEnD,IACEC,EAAQx8B,EAAAA,YADU,UAElBw8B,QAFkB,EAGlBA,EAAAA,OAHkB,EAIlBA,EAAAA,UAAAA,GAAAA,GAJkB,GAKlB3Z,EAAAA,cALkB,IAMb2Z,EAAQ,CAAEf,QAAF,EAAoBnuB,OAApB,IACV8tB,IAA2Ba,EAAUpZ,EAAO,KAAjD,IAAgEoZ,EAAhE,GACSl4B,IAAJ,GAAkCu2B,EAAAA,8BAVY,IAajDgC,GAAc,YAChBrY,EAAAA,EAAAA,GAAmB,WACjB,IAD6B,EACzBwX,EAAUz0B,EADe,OAEzBb,EAAQa,EAFiB,MAK7B,GAFmBy1B,GAHU,KAM3B/zB,EAAS8xB,GAAQ,WACf,EACE/X,EAAAA,KAAAA,qBAAAA,EADW,GAEN8Z,GAAAA,EAAAA,EAHoB,MAM7Bv1B,EAAAA,UAAkB0zB,GAAW+B,GAAX/B,GA3KxB,IA4KUhyB,EAAJ,OAAkB,MAAMA,EARR,UAalB+zB,GAAc,YAChB,OAlLF,IAkLSz1B,EAAAA,YAAgCA,EADN,QAI/Bm1B,GAAoB,YACtBlY,EAAAA,EAAAA,GAAmB,WACjB,IAAIwX,EAAUz0B,EADe,OAE7B,EACEyb,EAAAA,KAAAA,mBADW,GAEN8Z,GA1LX,mBA0LWA,EAA0Cv1B,EAJpB,WAQ7Bse,GAAO,gBACT,OAAO,SAAUnf,GACfyB,EAAAA,EAAAA,EADsB,KAKtB80B,GAAiB,gBACf11B,EAAJ,OACAA,EAAAA,MAFmD,EAGnD,IAAYA,EAHuC,GAInDA,EAAAA,MAJmD,EAKnDA,EAAAA,MAzMF,EA0ME60B,GAAAA,GANmD,KASjDc,GAAkB,SAAlBA,EAAkB,OACpB,IAAI31B,EAAJ,MACAA,EAAAA,MAFoD,EAGpD,IAAYA,EAHwC,GAIpD,IACE,GAAIA,EAAAA,SAAJ,EAA4B,MAAMgC,EADhC,oCAEF,IAAIH,EAAO+yB,GAFT,GAGF,EACExB,GAAU,WACR,IAAIwC,EAAU,CAAEn1B,MADI,GAEpB,IACEwc,EAAAA,EAAAA,EACEqB,GAAAA,EAAAA,EADFrB,GAEEqB,GAAAA,GAAAA,EAHA,IAKF,MAAOb,GACPiY,GAAAA,EAAAA,EADc,QAKlB11B,EAAAA,MADK,EAELA,EAAAA,MAlON,EAmOM60B,GAAAA,GAHK,IAKP,MAAOpX,GACPiY,GAAe,CAAEj1B,MAAjBi1B,GAAAA,EADc,MAMlB,QAaE1B,GAXAD,EAAqB,SAAiB8B,GACpC7C,EAAAA,KAD8C,GAE9C/S,EAF8C,GAG9ChD,EAAAA,EAH8C,MAI9C,IAAIjd,EAAQ8hB,EAJkC,MAK9C,IACE+T,EAASvX,GAAAA,GAATuX,GAAuCvX,GAAAA,GADrC,IAEF,MAAOb,GACPiY,GAAAA,EADc,MATR,WAeVI,EAAW,SAAiBD,GAC1BlK,EAAAA,KAAuB,CACrBhrB,KADqB,EAErBF,MAFqB,EAGrBs1B,UAHqB,EAIrBC,QAJqB,EAKrBC,UALqB,GAMrBC,WANqB,EAOrBl2B,MAlQN,EAmQMb,WARqB,MAWzB22B,UAAqBhD,EAAYkB,EAAkB,CAGjDnyB,KAAM,SAAcs0B,EAAaC,GAC/B,IAAIp2B,EAAQ6zB,EAD+B,MAEvCoC,EAAYj2B,EAF2B,UAGvCg1B,EAAWf,EAAqBf,EAAAA,KAHO,IAU3C,OANA8B,EAAAA,IAAc7V,EAAAA,IAAAA,EACd6V,EAAAA,KAAgB7V,EAAAA,IAL2B,EAM3C6V,EAAAA,OAAkBtB,EAAUjY,EAAViY,YANyB,EAO3C1zB,EAAAA,QAP2C,EAQ3Ci2B,EAAUA,EAAVA,QAR2C,EAzQjD,GAkRUj2B,EAAAA,OAAwB60B,GAAAA,GATe,GAUpCG,EAVoC,SAc7C,MAAS,YACP,OAAOt7B,KAAKmI,UAAKuf,EADY,MAIjCiV,EAAuB,WACrB,IAAI5B,EAAU,IADmB,EAE7Bz0B,EAAQ8hB,EAFqB,GAGjCpoB,KAAA,QAHiC,EAIjCA,KAAA,QAAe4kB,GAAAA,GAJkB,GAKjC5kB,KAAA,OAAc4kB,GAAAA,GALmB,IAOnCiV,EAAAA,EAA+BU,EAAuB,YACpD,OAAOnlB,IAAAA,GAA4BA,IAA5BA,EACH,IAAIunB,EADDvnB,GAEHolB,EAH6D,KAM9DvT,GAAWxB,EAAZ,IAAyC2U,IAA2Bj3B,OAAxE,WAA0F,CACxFy5B,EAAaxC,EAD2E,KAGxF,KAEE9X,EAAAA,EAAAA,QAAyC,SAAcma,EAAaC,GAClE,IAAI3F,EAD0E,KAE9E,OAAO,IAAIsD,GAAmB,SAAU76B,EAASC,GAC/C8jB,EAAAA,EAAAA,EAAAA,EADuD,MAAlD,OAFuE,KAM7E,CAAEgF,QARW,IAWhBjG,EAAAA,EAAAA,QAA0CgY,EAAAA,MAA2B,CAAE/R,QAXvD,KAelB,WACS6R,EADL,YAEF,MAAOrW,KAGT,GACE6P,EAAAA,EADkB,GAMxB1R,EAAE,CAAEC,QAAF,EAAgB7Y,MAAhB,EAA4BmsB,OAA5B,IAA8C,CAC9Cr2B,QAtUF,IAyUAy0B,EAAAA,EAAAA,GAAAA,GAzUA,GA0UAwF,EA1UA,GA4UAwD,EAAiBnX,EA5UjB,GA+UAxD,EAAE,CAAEY,OAAF,EAAmBuT,MAAnB,EAA+BZ,OAA/B,IAAiD,CAGjDh2B,OAAQ,SAAgB6f,GACtB,IAAI7S,EAAa8tB,EADQ,MAGzB,OADAhX,EAAK9W,EAAL8W,YAAAA,EAFyB,GAGlB9W,EAHkB,WAO7ByV,EAAE,CAAEY,OAAF,EAAmBuT,MAAnB,EAA+BZ,OAAQxO,GAAvC,IAA4D,CAG5DznB,QAAS,SAAiB8C,GACxB,OAAOq3B,EAAe1S,GAAWjnB,OAAXinB,EAAAA,EAAf0S,KADoB,MAK/BzX,EAAE,CAAEY,OAAF,EAAmBuT,MAAnB,EAA+BZ,OAA/B,IAA8D,CAG9DqH,IAAK,SAAal0B,GAChB,IAAIwM,EADsB,KAEtB3I,EAAa8tB,EAFS,GAGtB/6B,EAAUiN,EAHY,QAItBhN,EAASgN,EAJa,OAKtBzE,EAAS8xB,GAAQ,WACnB,IAAIiD,EAAkBxW,EAAUnR,EADD,SAE3BzN,EAF2B,GAG3Bq1B,EAH2B,EAI3BC,EAJ2B,EAK/B9G,EAAAA,GAAkB,SAAU4E,GAC1B,IAAIjQ,EAAQkS,IACRE,GAF+B,EAGnCD,IACA1Z,EAAAA,EAAAA,EAAAA,GAAAA,MAAuC,SAAU9d,GAC/C,IACAy3B,GAFsD,EAGtDv1B,EAAAA,GAHsD,IAItD,GAAenI,EAJuC,MAJrB,QAWrC,GAAeA,EAhBgB,MAmBjC,OADIwI,EAAJ,OAAkBvI,EAAOuI,EAvBC,OAwBnByE,EAxBmB,SA4B5B0wB,KAAM,SAAcv0B,GAClB,IAAIwM,EADwB,KAExB3I,EAAa8tB,EAFW,GAGxB96B,EAASgN,EAHe,OAIxBzE,EAAS8xB,GAAQ,WACnB,IAAIiD,EAAkBxW,EAAUnR,EADD,SAE/B+gB,EAAAA,GAAkB,SAAU4E,GAC1BxX,EAAAA,EAAAA,EAAAA,GAAAA,KAAuC9W,EAAvC8W,QADmC,SAKvC,OADIvb,EAAJ,OAAkBvI,EAAOuI,EAVG,OAWrByE,EAXqB,4BChYhC,IAAI0V,EAASR,EAAb,IAEA5c,EAAAA,QAAiBod,EAAjBpd,yBCFA,IAAIud,EAAWX,EAAf,IAEA5c,EAAAA,QAAiB,SAAU+d,EAAQsa,EAAKvwB,GACtC,eAAqByV,EAAAA,EAAAA,EAAsB8a,EAAtB9a,GAD0B,GAE/C,OAF+C,iCCDjD,IAAIoD,EAAa/D,EADjB,IAEIiG,EAAuBjG,EAF3B,IAGI0D,EAAkB1D,EAHtB,IAII2B,EAAc3B,EAJlB,IAMIsY,EAAU5U,EANd,WAQAtgB,EAAAA,QAAiB,SAAUs4B,GACzB,IAAIC,EAAc5X,EADyB,GAEvCzB,EAAiB2D,EAFsB,EAIvCtE,GAAAA,IAA+Bga,EAAnC,IACErZ,EAAAA,EAAAA,EAAqC,CACnCte,cADmC,EAEnCgH,IAAK,WAAc,OAAF,0BCfvB,IAAIwV,EAASR,EAAb,IACIgE,EAAgBhE,EADpB,IAGIrZ,EAAY6Z,EAHhB,UAKApd,EAAAA,QAAiB,SAAUoe,EAAIoa,GAC7B,GAAI5X,EAAAA,EAAJ,GAAkC,OADM,EAExC,MAAMrd,EAFkC,0CCL1C,IAEI2rB,EAFkBtS,EAAtB,GAEe0D,CAFf,YAGImY,GAHJ,EAKA,IACE,IAAIC,EADF,EAEEC,EAAqB,CACvB50B,KAAM,WACJ,MAAO,CAAE/B,OAAQ02B,MAEnB,OAAU,WACRD,GADoB,IAIxBE,EAAAA,GAA+B,WAC7B,OADyC,MAI3Cte,MAAAA,KAAAA,GAA+B,WAAc,MAAF,KAC3C,MAAO2E,IAEThf,EAAAA,QAAiB,SAAUmf,EAAMyZ,GAC/B,IAAKA,IAAL,EAAoC,OADS,EAE7C,IAAIC,GAFyC,EAG7C,IACE,IAAI/V,EADF,GAEFA,EAAAA,GAAmB,WACjB,MAAO,CACL/e,KAAM,WACJ,MAAO,CAAE/B,KAAM62B,GADC,MAKtB1Z,EATE,GAUF,MAAOH,IACT,OAd6C,oBCtB/C,IAAI+D,EAAWnG,EAAf,IACIkc,EAAelc,EADnB,KAIIsY,EAFkBtY,EAFtB,GAIc0D,CAJd,WAQAtgB,EAAAA,QAAiB,SAAU2Q,EAAGooB,GAC5B,IADgD,EAC5C1oB,EAAI0S,EAAAA,GADwC,YAGhD,YAAO1S,IAAAA,QAAAA,IAAoB2oB,EAAIjW,EAAAA,GAAL,IAAnB1S,EAAkFyoB,EAHzC,qBCRlD,IAAI1b,EAASR,EAAb,IACIqc,EAAgBrc,EADpB,KAEI8E,EAAc9E,EAFlB,IAIIrZ,EAAY6Z,EAJhB,UAOApd,EAAAA,QAAiB,SAAUkgB,GACzB,GAAI+Y,EAAJ,GAA6B,OADM,EAEnC,MAAM11B,EAAUme,EAAAA,GAFmB,2CCPrC,IAAIjC,EAAc7C,EAAlB,IACIqC,EAAQrC,EADZ,IAEI8D,EAAa9D,EAFjB,IAGI8C,EAAU9C,EAHd,IAII+D,EAAa/D,EAJjB,IAKIsG,EAAgBtG,EALpB,IAOIsc,EAAO,aACPC,EARJ,GASIC,EAAYzY,EAAAA,UAThB,aAUI0Y,EAVJ,2BAWIla,EAAOM,EAAY4Z,EAXvB,MAYIC,GAAuBD,EAAAA,KAZ3B,GAcIE,EAAsB,YACxB,IAAK7Y,EAAL,GAA2B,OADiB,EAE5C,IAEE,OADA0Y,EAAAA,EAAAA,EADE,MAGF,MAAOpa,GACP,OADc,IAiBlBhf,EAAAA,SAAkBo5B,GAAana,GAAM,WACnC,IAD+C,EAE/C,OAAOsa,EAAoBA,EAApB,QACDA,EADC,UAEDA,GAAoB,WAAcb,GAAF,MAJS,KAZvB,YACxB,IAAKhY,EAAL,GAA2B,OADiB,EAE5C,OAAQhB,EAAR,IACE,IADF,gBAEE,IAFF,oBAGE,6BAA+B,OAHjC,EAKE,OAAO4Z,KAAyBna,EAAAA,EAAwB+D,EAPd,KAY9CljB,mBCpCA,IAsBA,MAtBA,EAAIod,EAASR,EAAb,IACI4c,EAAQ5c,EADZ,KAEIiD,EAAOjD,EAFX,IAGI8D,EAAa9D,EAHjB,IAIIxc,EAASwc,EAJb,IAKIqC,EAAQrC,EALZ,IAMI6Q,EAAO7Q,EANX,IAOI8W,EAAa9W,EAPjB,KAQIphB,EAAgBohB,EARpB,IASI6c,EAAS7c,EATb,KAUIqY,EAAUrY,EAVd,KAYIwH,EAAMhH,EAZV,aAaIsc,EAAQtc,EAbZ,eAcIJ,EAAUI,EAdd,QAeIuc,EAAWvc,EAff,SAgBInX,EAAWmX,EAhBf,SAiBIwc,EAAiBxc,EAjBrB,eAkBI1W,EAAS0W,EAlBb,OAmBI6a,EAnBJ,EAoBI4B,EApBJ,GAqBIC,EArBJ,qBAwBA,IAEEC,EAAW3c,EAFT,SAGF,MAAO4B,IAET,IAAIgb,EAAM,YACR,GAAI55B,EAAAA,EAAJ,GAAuB,CACrB,IAAI+B,EAAK03B,EADY,UAEdA,EAFc,GAGrB13B,MAIA83B,EAAS,YACX,OAAO,WACLD,EADiB,KAKjBE,EAAW,YACbF,EAAIjD,EAD0B,OAI5BoD,EAAO,YAET/c,EAAAA,YAAmB1W,EAAnB0W,GAA+B2c,EAAAA,SAAAA,KAA2BA,EAFnC,OAMpB3V,GAAL,IACEA,EAAM,SAAsBjiB,GAC1B,IAAIgpB,EAAOuI,EAAAA,UADmB,GAM9B,OAJAmG,IAAAA,GAAmB,WACjBL,EAAM9Y,EAAAA,GAAAA,EAAsBza,EAA5BuzB,QAAAA,EAD6B,IAG/BY,EAL8B,MAQhCV,EAAQ,SAAwBjX,UACvBoX,EAD2B,IAIpC,EACEO,EAAQ,YACNpd,EAAAA,SAAiBid,EADG,KAIbN,GAAYA,EAAhB,IACLS,EAAQ,YACNT,EAAAA,IAAaM,EADO,KAKbL,IAAJ,GAELS,GADAC,EAAU,IAD0B,SAGpCA,EAAAA,MAAAA,UAHoC,EAIpCF,EAAQva,EAAKwa,EAALxa,YAJ4B,IAQpCzC,EAAAA,kBACAsD,EAAWtD,EADXA,eAECA,EAFDA,eAAAA,GAAAA,UAGY2c,EAAAA,WACX9a,EALI,IAOLmb,EADA,EAEAhd,EAAAA,iBAAAA,UAAAA,GAFA,IAKAgd,EADSN,KAAsBt+B,EAA1B,UACG,YACNiyB,EAAAA,YAAiBjyB,EAAjBiyB,WAAAA,mBAAgE,WAC9DA,EAAAA,YAD0E,MAE1EuM,EAF0E,KAOtE,YACNO,WAAWN,EAAXM,GADoB,KAM1Bv6B,EAAAA,QAAiB,CACfokB,IADe,EAEfsV,MAFe,gBC7GjB,IAAI9Z,EAAoB3Z,SAAxB,UACIuzB,EAAQ5Z,EADZ,MAEIC,EAAOD,EAFX,KAGIpB,EAAOoB,EAHX,KAMA5f,EAAAA,QAAmC,iBAAXw6B,SAAuBA,QAA9B,QAAgD3a,EAAOrB,EAAAA,KAAP,GAA0B,WACzF,OAAOA,EAAAA,MAAAA,EAD8F,8BCNvG,IAAIiB,EAAc7C,EAAlB,IAEA5c,EAAAA,QAAiByf,EAAY,GAA7Bzf,wBCFA,IAAIohB,EAAYxE,EAAhB,IAEA5c,EAAAA,QAAiB,qCAAqC7F,KAAtD6F,oBCFA,IAAI0f,EAAU9C,EAAd,IACIQ,EAASR,EADb,IAGA5c,EAAAA,QAAAA,WAAiB0f,EAAQtC,EAARsC,0BCHjB,IAiBA,cAjBA,EAAItC,EAASR,EAAb,IACIiD,EAAOjD,EADX,IAEIS,EAA2BT,EAAAA,IAF/B,EAGI6d,EAAY7d,EAAAA,KAHhB,IAII6c,EAAS7c,EAJb,KAKI8d,EAAgB9d,EALpB,KAMI+d,EAAkB/d,EANtB,KAOIqY,EAAUrY,EAPd,KASIge,EAAmBxd,EAAAA,kBAA2BA,EATlD,uBAUI7iB,EAAW6iB,EAVf,SAWIJ,EAAUI,EAXd,QAYI/iB,EAAU+iB,EAZd,QAcIyd,EAA2Bxd,EAAAA,EAd/B,kBAeIyd,EAAiBD,GAA4BA,EAfjD,MAoBA,IACEE,EAAQ,WACN,MADkB,EAGlB,IADI9F,IAAYsC,EAASva,EAAzB,SAA0Cua,EAFxB,OAGlB,GAAa,CACXp1B,EAAK64B,EADM,GAEXA,EAAOA,EAFI,KAGX,IACE74B,IACA,MAAO6c,GAGP,MAFA,EAAUoX,IACL6E,OAFS,KAKhBA,OAbgB,EAclB,GAAY1D,EAdM,SAmBfkC,GAAD,WAAJ,GAQYiB,GAAiBrgC,GAAWA,EAAjC,UAEL27B,EAAU37B,EAAAA,aAF6C,IAIvD27B,YAJuD,EAKvD5yB,EAAOyc,EAAKmW,EAALnW,KALgD,GAMvDuW,EAAS,WACPhzB,EADmB,KAIZ6xB,EACTmB,EAAS,WACPpZ,EAAAA,SADmB,KAWrByd,EAAY5a,EAAAA,EAFP,GAGLuW,EAAS,WACPqE,EADmB,MA9BrBS,GAD2E,EAE3EC,EAAO5gC,EAAAA,eAFoE,IAG3E,mBAA0C,CAAE6gC,eAH+B,IAI3EhF,EAAS,WACP+E,EAAAA,KAAYD,GADO,KAiCzBl7B,EAAAA,QAAiB86B,GAAkB,SAAU34B,GAC3C,IAAIuyB,EAAO,CAAEvyB,GAAF,EAAU4B,UAAV,GACX,IAAUk3B,EAAAA,KAFqC,GAG/C,IACED,EADS,EAET5E,KACA6E,EAN6C,oBC7EjD,IAAI7Z,EAAYxE,EAAhB,IACIQ,EAASR,EADb,IAGA5c,EAAAA,QAAiB,oBAAoB7F,KAAKinB,SAA1CphB,IAAwDod,EAAAA,wBCHxD,IAAIgE,EAAYxE,EAAhB,IAEA5c,EAAAA,QAAiB,qBAAqB7F,KAAtC6F,oBCFA,IAAI+iB,EAAWnG,EAAf,IACIuD,EAAWvD,EADf,IAEI4Y,EAAuB5Y,EAF3B,KAIA5c,EAAAA,QAAiB,SAAUqQ,EAAG9S,GAE5B,GADAwlB,EAD+B,GAE3B5C,EAAAA,IAAe5iB,EAAAA,cAAnB,EAAwC,OAFT,EAG/B,IAAI89B,EAAoB7F,EAAAA,EAHO,GAM/B,OADA/6B,EADc4gC,EAJiB,YAMxBA,EANwB,uCCHjC,IAAI7Z,EAAY5E,EADhB,IAGI0e,EAAoB,YACtB,MADmC,EAEnCrgC,KAAA,QAAe,IAAIoV,GAAE,SAAUkrB,EAAWC,GACxC,QAAI/gC,IAAAA,QAAJ,IAA6BC,EAAsB,MAAM6I,UADP,2BAElD9I,EAFkD,EAGlDC,EAHkD,KAKpDO,KAAA,QAAeumB,EAPoB,GAQnCvmB,KAAA,OAAcumB,EARqB,IAarCxhB,EAAAA,QAAAA,EAAmB,SAAUqQ,GAC3B,OAAO,IAAIirB,EADmB,qBChBhC,IAAIle,EAASR,EAAb,IAEA5c,EAAAA,QAAiB,SAAUmb,EAAGC,GAC5B,IAAItiB,EAAUskB,EADiB,QAE3BtkB,GAAWA,EAAf,QACEkoB,GAAAA,UAAAA,OAAwBloB,EAAAA,MAAxBkoB,GAA2CloB,EAAAA,MAAAA,EADf,kBCJhCkH,EAAAA,QAAiB,SAAUmf,GACzB,IACE,MAAO,CAAEH,OAAF,EAAgBte,MAAOye,KAC9B,MAAOH,GACP,MAAO,CAAEA,OAAF,EAAete,MAAf,kBCJXV,EAAAA,QAAAA,iBAAwBqe,qCCCxB,IAAIlB,EAAIP,EADR,GAEI4B,EAAO5B,EAFX,IAGI4E,EAAY5E,EAHhB,IAIIkY,EAA6BlY,EAJjC,KAKImY,EAAUnY,EALd,KAMIwU,EAAUxU,EANd,IAUAO,EAAE,CAAEY,OAAF,UAAqBuT,MAArB,GAAmC,CACnCmK,WAAY,SAAoB53B,GAC9B,IAAIwM,EADoC,KAEpC3I,EAAaotB,EAAAA,EAFuB,GAGpCr6B,EAAUiN,EAH0B,QAIpChN,EAASgN,EAJ2B,OAKpCzE,EAAS8xB,GAAQ,WACnB,IAAIH,EAAiBpT,EAAUnR,EADA,SAE3BzN,EAF2B,GAG3Bq1B,EAH2B,EAI3BC,EAJ2B,EAK/B9G,EAAAA,GAAkB,SAAU4E,GAC1B,IAAIjQ,EAAQkS,IACRE,GAF+B,EAGnCD,IACA1Z,EAAAA,EAAAA,EAAAA,GAAAA,MAAsC,SAAU9d,GAC9C,IACAy3B,GAFqD,EAGrDv1B,EAAAA,GAAgB,CAAE84B,OAAF,YAAuBh7B,MAAvB,KAChB,GAAejG,EAJsC,OAKpD,SAAUukB,GACX,IACAmZ,GAFkB,EAGlBv1B,EAAAA,GAAgB,CAAE84B,OAAF,WAAsB7zB,OAAtB,KAChB,GAAepN,EAJG,YAOtB,GAAeA,EArBgB,MAwBjC,OADIwI,EAAJ,OAAkBvI,EAAOuI,EA5Be,OA6BjCyE,EA7BiC,yCCV5C,IAAIyV,EAAIP,EADR,GAEI4E,EAAY5E,EAFhB,IAGI+D,EAAa/D,EAHjB,IAII4B,EAAO5B,EAJX,IAKIkY,EAA6BlY,EALjC,KAMImY,EAAUnY,EANd,KAOIwU,EAAUxU,EAPd,IASI+e,EATJ,0BAaAxe,EAAE,CAAEY,OAAF,UAAqBuT,MAArB,GAAmC,CACnCsK,IAAK,SAAa/3B,GAChB,IAAIwM,EADsB,KAEtBojB,EAAiB9S,EAFK,kBAGtBjZ,EAAaotB,EAAAA,EAHS,GAItBr6B,EAAUiN,EAJY,QAKtBhN,EAASgN,EALa,OAMtBzE,EAAS8xB,GAAQ,WACnB,IAAIH,EAAiBpT,EAAUnR,EADA,SAE3B+iB,EAF2B,GAG3B6E,EAH2B,EAI3BC,EAJ2B,EAK3B2D,GAL2B,EAM/BzK,EAAAA,GAAkB,SAAU4E,GAC1B,IAAIjQ,EAAQkS,IACR6D,GAF+B,EAGnC5D,IACA1Z,EAAAA,EAAAA,EAAAA,GAAAA,MAAsC,SAAU9d,GAC1Co7B,GAAJ,IACAD,GAFqD,EAGrDphC,EAHqD,OAIpD,SAAUukB,GACP8c,GAAJ,IACAA,GAFkB,EAGlB1I,EAAAA,GAHkB,IAIlB,GAAe14B,EAAO,IAAI+4B,EAAeL,EAJvB,aAOtB,GAAe14B,EAAO,IAAI+4B,EAAeL,EArBV,OAwBjC,OADInwB,EAAJ,OAAkBvI,EAAOuI,EA7BC,OA8BnByE,EA9BmB,yCCb9B,IAAIyV,EAAIP,EADR,GAEIsF,EAAUtF,EAFd,IAGIwX,EAAgBxX,EAHpB,KAIIqC,EAAQrC,EAJZ,IAKI+D,EAAa/D,EALjB,IAMI8D,EAAa9D,EANjB,IAOI6X,EAAqB7X,EAPzB,KAQIgY,EAAiBhY,EARrB,KASIW,EAAWX,EATf,IAkCA,GAhBAO,EAAE,CAAEY,OAAF,UAAqB0S,OAArB,EAAkCsL,MAAlC,EAA8CrL,SAN9B,GAAmBzR,GAAM,WACzCmV,EAAAA,UAAAA,QAAAA,KAAwC,CAAEhxB,KAAM,eAA+B,mBAKV,CACrE,QAAW,YACT,IAAIiN,EAAIokB,EAAAA,KAAyB9T,EADH,YAE1Bqb,EAAatb,EAFa,GAG9B,OAAOzlB,KAAKmI,KACV44B,EAAa,SAAUz+B,GACrB,OAAOq3B,EAAevkB,EAAG4rB,KAAlB,MAAoC,WAAc,OAAF,MAFpD,EAILD,EAAa,SAAUnzB,GACrB,OAAO+rB,EAAevkB,EAAG4rB,KAAlB,MAAoC,WAAc,MAAF,MAR7B,OAe7B/Z,GAAWxB,EAAhB,GAA2C,CACzC,IAAIlf,EAASmf,EAAAA,WAAAA,UAAAA,QACTyT,EAAAA,UAAAA,UAAJ,GACE7W,EAAS6W,EAAT7W,UAAAA,UAAAA,EAAqD,CAAEiG,QADN,mCCnCrD,IAAI0Y,EAAStf,EAAAA,KADb,OAEIje,EAAWie,EAFf,KAGIuG,EAAsBvG,EAH1B,IAIIoQ,EAAiBpQ,EAJrB,IAMIuf,EANJ,kBAOIjP,EAAmB/J,EAPvB,IAQIE,EAAmBF,EAAAA,UARvB,GAYA6J,EAAAA,OAAAA,UAAiC,SAAUG,GACzCD,EAAAA,KAAuB,CACrBhrB,KADqB,EAErB0kB,OAAQjoB,EAFa,GAGrBonB,MAHqB,OAOtB,WACD,IADiB,EACbxkB,EAAQ8hB,EADK,MAEbuD,EAASrlB,EAFI,OAGbwkB,EAAQxkB,EAHK,MAKjB,OAAIwkB,GAASa,EAAb,OAAmC,CAAElmB,WAAF,EAAoBsB,MAApB,IACnCo6B,EAAQF,EAAAA,EANS,GAOjB36B,EAAAA,OAAe66B,EAPE,OAQV,CAAE17B,MAAF,EAAgBsB,MAAhB,wBC5BT,IAAIyd,EAAc7C,EAAlB,IACIsJ,EAAsBtJ,EAD1B,IAEIje,EAAWie,EAFf,KAGI4C,EAAyB5C,EAH7B,IAKIsf,EAASzc,EAAY,GALzB,QAMI4c,EAAa5c,EAAY,GAN7B,YAOIM,EAAcN,EAAY,GAP9B,OASIkG,EAAe,YACjB,OAAO,SAAUC,EAAOvf,GACtB,IAGA,EAJ2B,EACvB2yB,EAAIr6B,EAAS6gB,EADU,IAEvB8c,EAAWpW,EAFY,GAGvBqW,EAAOvD,EAHgB,OAK3B,OAAIsD,EAAAA,GAAgBA,GAApB,EAA6CE,EAAAA,QALlB,GAM3BlhB,EAAQ+gB,EAAAA,EANmB,IAOpB/gB,OAAkBA,EAAlBA,OAAoCghB,EAAAA,IAApChhB,IACD1b,EAASy8B,EAAAA,EAAcC,EAAxB,IADEhhB,OACiD1b,EADjD0b,MAEDkhB,EACEN,EAAAA,EADFM,GAFClhB,EAKDkhB,EACEzc,EAAAA,EAAAA,EAAyBuc,EAD3BE,GAE4B58B,EAA1B,OAAC0b,EAAA,OAAD,IAdmB,QAkB/Btb,EAAAA,QAAiB,CAGfy8B,OAAQ9W,GAHO,GAMfuW,OAAQvW,GANO,oBCrBR,SAAUzlB,GAAS,aAGxB,IAAIw8B,EAAmC,oBAAXp8B,QAAP,kBAAuCA,OAAP,SAAhC,OAEjB,SAAU2hB,GAAe,MAAO,UAAYA,EAArB,KAG3B,cAGA,aACI,2BAAW3D,KAAsB,KAG5B,qBAAWD,OAAwB,OAGnC,qBAAW,oBAAP,EAA+B,2BAAnC,EAKT,IAAIse,EAAUC,IAEd,cACI,MAAqB,kBAANr/B,GAAR,OAA0BA,GADZ,oBACkCA,EAE3D,IAAIs/B,EA5BoB,EA8BpBC,EA9BoB,QA+BpBC,EAAsB1iC,QAAAA,UA/BF,KAgCpB2iC,EAAyB3iC,QAAAA,QAAAA,KAhCL,GAiCpB4iC,EAAwB5iC,QAAAA,OAAAA,KAjCJ,GAkCxB,cACI,OAAO,IAAIyiC,EADe,GAG9B,cACI,OAAOE,EADyB,GAGpC,cACI,OAAOC,EAD0B,GAGrC,kBAGI,OAAOF,EAAAA,KAAAA,EAAAA,EAHmD,GAK9D,kBACIG,EAAmBA,EAAAA,EAAAA,EAAnBA,QAAAA,EADmD,GAGvD,gBACIC,EAAAA,EAD2C,GAG/C,gBACIA,EAAAA,OAAAA,EADwC,GAG5C,kBACI,OAAOD,EAAAA,EAAAA,EADkE,GAG7E,cACIA,EAAAA,OAAAA,EADwC,GAG5C,IAAIpC,EAAkB,WAClB,IAAIsC,EAAuBT,GAAWA,EADR,eAE9B,uBAAWS,EACP,OAD4C,EAGhD,IAAIC,EAAkBC,OALQ,GAM9B,OAAO,SAAUn7B,GAAM,OAAO+6B,EAAAA,EAAT,IANH,GAQtB,kBACI,uBAAW/sB,EACP,MAAM,IAAI5M,UADe,8BAG7B,OAAO0C,SAAAA,UAAAA,MAAAA,KAAAA,EAAAA,EAJsB,GAMjC,kBACI,IACI,OAAOq3B,EAAoBC,EAAAA,EAAAA,EAD3B,IAGJ,MAAO78B,GACH,OAAO88B,EADG,IAOlB,IAAIC,EAxFoB,MA+FpBC,EAA6B,WAC7B,aACIziC,KAAA,QADmB,EAEnBA,KAAA,MAFmB,EAInBA,KAAA,OAAc,CACV0iC,UADU,GAEVC,WAFU,GAId3iC,KAAA,MAAaA,KARM,OAYnBA,KAAA,QAZmB,EAcnBA,KAAA,MAdmB,EAoGvB,OApFAmD,OAAAA,eAAsBs/B,EAAtBt/B,UAAAA,SAAuD,CACnDwJ,IAAK,WACD,OAAO3M,KADM,OAGjB0F,YAJmD,EAKnDC,cALmD,IAWvD88B,EAAAA,UAAAA,KAA6B,SAAUG,GACnC,IAAIC,EAAU7iC,KAD8B,MAExC8iC,EAFwC,EAGxCD,EAAAA,UAAAA,SAA6BL,EAAjC,IACIM,EAAU,CACNJ,UADM,GAENC,WAFM,IAOdE,EAAAA,UAAAA,KAX4C,GAYxCC,IAAJ,IACI9iC,KAAA,MADqB,EAErB6iC,EAAAA,MAFqB,KAIvB7iC,KAhB0C,OAoBhDyiC,EAAAA,UAAAA,MAA8B,WAC1B,IAAIM,EAAW/iC,KADuB,OAElCgjC,EAFkC,EAGlCC,EAAYjjC,KAHsB,QAIlCkjC,EAAYD,EAJsB,EAKlCE,EAAWJ,EALuB,UAMlCH,EAAUO,EANwB,GAmBtC,OAZID,IAAJ,IACIF,EAAWD,EADyB,MAEpCG,EAFoC,KAKtCljC,KAZoC,MAatCA,KAAA,QAbsC,EAclC+iC,IAAJ,IACI/iC,KAAA,OADuB,GAI3BmjC,EAAAA,QAlBsC,KA6B1CV,EAAAA,UAAAA,QAAgC,SAAUW,GAItC,IAHA,IAAIlgC,EAAIlD,KADwC,QAE5CkgC,EAAOlgC,KAFqC,OAG5CmjC,EAAWjD,EAHiC,WAIzCh9B,IAAMigC,EAANjgC,aAAP,IAAgCg9B,EAAAA,SACxBh9B,IAAMigC,EAAV,SAGIjgC,EAHuB,EAIvB,KAFAigC,GADAjD,EAAOA,EADgB,kBAInBiD,UAIRC,EAASD,EAT6C,SAe9DV,EAAAA,UAAAA,KAA6B,WACzB,IAAIY,EAAQrjC,KADyB,OAEjCsjC,EAAStjC,KAFwB,QAGrC,OAAOqjC,EAAAA,UAH8B,IAhGA,EAAZ,GAwGjC,gBACIE,EAAAA,qBAD2D,EAE3DC,EAAAA,QAF2D,EAG3D,aAAIA,EAAAA,OACAC,EAD8B,GAG7B,WAAID,EAAAA,OACLE,EADiC,GAIjCC,EAAAA,EAAuDH,EADtD,cAMT,gBAEI,OAAOI,GADML,EAD0C,wBAI3D,cACI,aAAIA,EAAAA,qBAAAA,OACAM,EAAAA,EAAyC,IAAIv7B,UADM,qFAInDw7B,EAAAA,EAAkD,IAAIx7B,UADrD,qFAGLi7B,EAAAA,qBAAAA,aAPgD,EAQhDA,EAAAA,0BARgD,EAWpD,cACI,OAAO,IAAIj7B,UAAU,UAAYjF,EADF,qCAInC,cACIkgC,EAAAA,eAAwBQ,GAAW,SAAUvkC,EAASC,GAClD8jC,EAAAA,uBAD0D,EAE1DA,EAAAA,sBAF0D,KAKlE,gBACIE,EADoE,GAEpEI,EAAAA,EAFoE,GAIxE,cACIJ,EAD4D,GAE5DO,EAF4D,GAIhE,qBACI,IAAIT,EAAAA,wBAGJU,EAA0BV,EAJ4B,gBAKtDA,EAAAA,sBALsD,GAMtDA,EAAAA,4BANsD,EAOtDA,EAAAA,2BAPsD,GAS1D,gBACII,EAAAA,EAD+D,GAGnE,mBACI,IAAIJ,EAAAA,yBAGJA,EAAAA,4BAJ+C,GAK/CA,EAAAA,4BAL+C,EAM/CA,EAAAA,2BAN+C,GASnD,IAAIW,EAAazC,EA5QO,kBA6QpB0C,EAAa1C,EA7QO,kBA8QpB2C,EAAc3C,EA9QM,mBA+QpB4C,EAAY5C,EA/QQ,iBAmRpB6C,EAAiBt2B,OAAAA,UAAmB,SAAU1L,GAC9C,MAAoB,kBAANA,GAAkBiiC,SADiB,IAMjDC,EAAYvmC,KAAAA,OAAc,SAAUuP,GACpC,OAAOA,EAAAA,EAAQvP,KAAAA,KAARuP,GAAuBvP,KAAAA,MADS,IAK3C,cACI,MAAoB,kBAANqE,GADO,oBACkBA,EAE3C,gBACI,QAAIuD,IAAAA,IAAsB4+B,EAA1B,GACI,MAAM,IAAIn8B,UAAUnC,EADqB,sBAKjD,gBACI,uBAAW7D,EACP,MAAM,IAAIgG,UAAUnC,EADK,uBAKjC,cACI,MAAqB,kBAAN7D,GAAR,OAA0BA,GADhB,oBACsCA,EAE3D,gBACI,IAAK4iB,EAAL,GACI,MAAM,IAAI5c,UAAUnC,EADN,sBAItB,kBACI,YAAI7D,EACA,MAAM,IAAIgG,UAAU,aAAe+4B,EAAW,oBAAsBl7B,EADnD,MAIzB,kBACI,YAAI7D,EACA,MAAM,IAAIgG,UAAUo8B,EAAAA,oBAAAA,EADH,MAKzB,cACI,OAAO12B,OAD+B,GAG1C,cACI,OAAO1L,IAAAA,EAAAA,EADoB,EAG/B,cACI,OAAOqiC,EAAmBH,EADN,IAIxB,gBACI,IAAII,EADyD,EAEzDC,EAAa72B,OAF4C,iBAGzD1L,EAAI0L,OAHqD,GAK7D,GADA1L,EAAIqiC,EAJyD,IAKxDL,EAAL,GACI,MAAM,IAAIh8B,UAAUnC,EADA,2BAIxB,IADA7D,EAAIwiC,EARyD,IASzDxiC,GAAkBA,EAAtB,EACI,MAAM,IAAIgG,UAAUnC,EAAAA,qCAAAA,EAAAA,OAAAA,EADc,eAGtC,OAAKm+B,EAAD,IAAJ,IAA0BhiC,EAZmC,EAY1B,EAUvC,gBACI,IAAKyiC,GAAL,GACI,MAAM,IAAIz8B,UAAUnC,EADE,6BAM9B,cACI,OAAO,IAAI6+B,GADqC,GAIpD,iBACIxB,EAAAA,QAAAA,cAAAA,KADuD,GAG3D,mBACI,IACIyB,EADSzB,EAD8C,QAEzCD,cAFyC,QAG3D,EACI0B,EADM,cAINA,EAAAA,YADC,GAIT,eACI,OAAOzB,EAAAA,QAAAA,cADuC,OAGlD,eACI,IAAID,EAASC,EAD+B,QAE5C,gBAAID,KAGC2B,GAAL,GAUJ,IA1YwB,MA0YpBF,GAA6C,WAC7C,cAGI,GAFAG,EAAAA,EAAAA,EADyC,+BAEzCC,EAAAA,EAFyC,mBAGrCC,GAAJ,GACI,MAAM,IAAI/8B,UADsB,+EAGpCg9B,EAAAA,KANyC,GAOzCtlC,KAAA,cAAqB,IAPoB,EAmF7C,OA1EAmD,OAAAA,eAAsB6hC,EAAtB7hC,UAAAA,SAAuE,CAKnEwJ,IAAK,WACD,OAAKu4B,GAAL,MAGOllC,KAJM,eAEFuiC,EAAoBgD,GADW,YAK9C7/B,YAXmE,EAYnEC,cAZmE,IAiBvEq/B,EAAAA,UAAAA,OAA+C,SAAUp4B,GAErD,YADe,IAAXA,IAAqBA,OAAF,GAClBs4B,GAAL,WAGA,IAAIllC,KAAKwlC,qBACEjD,EAAoBkD,EADc,WAGtCC,EAAAA,KARsD,GAGlDnD,EAAoBgD,GADW,YAa9CP,EAAAA,UAAAA,KAA6C,WACzC,IAAKE,GAAL,MACI,OAAO3C,EAAoBgD,GADW,SAG1C,YAAIvlC,KAAKwlC,qBACL,OAAOjD,EAAoBkD,EADc,cAG7C,IAPqD,IASjD1K,EAAUgJ,GAAW,SAAUvkC,EAASC,GACxCkmC,EADgD,EAEhDC,EAFgD,KAUpD,OADAC,GAAAA,KALkB,CACdC,YAAa,YAAmB,OAAOH,EAAe,CAAElgC,MAAF,EAAgBsB,MAAhB,KACtDg/B,YAAa,WAAc,OAAOJ,EAAe,CAAElgC,WAAF,EAAoBsB,MAApB,KACjDi/B,YAAa,YAAe,OAAOJ,EAAT,MAhBuB,GA8BzDZ,EAAAA,UAAAA,YAAoD,WAChD,IAAKE,GAAL,MACI,MAAMK,GADgC,eAG1C,YAAIvlC,KAAKwlC,qBAAT,CAGA,GAAIxlC,KAAKimC,cAAcl8B,OAAvB,EACI,MAAM,IAAIzB,UADqB,uFAGnC49B,EAV4D,QAxEP,EAAZ,GAmGjD,eACI,QAAKC,EAAL,MAGKhjC,OAAAA,UAAAA,eAAAA,KAAAA,EAAL,kBAGOb,aAP+B,GAS1C,iBACI,IAAIkhC,EAASD,EAD6C,qBAE1DC,EAAAA,YAF0D,EAG1D,WAAIA,EAAAA,OACAyB,EAD4B,cAG3B,YAAIzB,EAAAA,OACLyB,EAAAA,YAAwBzB,EADU,cAIlCA,EAAAA,0BAAAA,GADC,GAKT,eACI,OAAO,IAAIl7B,UAAU,yCAA2CjF,EADpB,sDApChDF,OAAAA,iBAAwB6hC,GAAxB7hC,UAA+D,CAC3DijC,OAAQ,CAAE1gC,YADiD,GAE3D2gC,KAAM,CAAE3gC,YAFmD,GAG3D4gC,YAAa,CAAE5gC,YAH4C,GAI3D6gC,OAAQ,CAAE7gC,YAJiD,KAM/D,kBAAW+7B,EAAP,aACAt+B,OAAAA,eAAsB6hC,GAAtB7hC,UAA6Ds+B,EAA7Dt+B,YAAyF,CACrFsC,MADqF,8BAErFE,cAFqF,IAoC7F,kBAAW87B,EAAP,iBAG0B+E,GAAK,IAGxB/E,EAAH+E,eAAmC,WAC/B,OAD2C,MAHnDC,GAHkD,GAUlDtjC,OAAAA,eAAAA,GAA8Cs+B,EAA9Ct+B,cAA4E,CAAEuC,YAV5B,KActD,IAAIghC,GAAiD,WACjD,gBACI1mC,KAAA,qBAD4D,EAE5DA,KAAA,aAF4D,EAG5DA,KAAA,QAH4D,EAI5DA,KAAA,eAJ4D,EA4EhE,OAtEA0mC,EAAAA,UAAAA,KAAiD,WAC7C,IAAIC,EADqD,KAErDC,EAAY,WAAc,OAAOD,EAAT,cAI5B,OAHA3mC,KAAA,gBAAuBA,KAAK6mC,gBACxBC,EAAqB9mC,KAArB8mC,gBAAAA,EADmB,GAEnBF,IACG5mC,KANkD,iBAQ7D0mC,EAAAA,UAAAA,OAAmD,SAAUjhC,GACzD,IAAIkhC,EAD4D,KAE5DI,EAAc,WAAc,OAAOJ,EAAAA,aAAT,IAC9B,OAAO3mC,KAAK6mC,gBACRC,EAAqB9mC,KAArB8mC,gBAAAA,EADG,GAEHC,KAERL,EAAAA,UAAAA,WAAuD,WACnD,IAAIC,EAD2D,KAE/D,GAAI3mC,KAAJ,YACI,OAAOZ,QAAQI,QAAQ,CAAEiG,WAAF,EAAoBsB,MAApB,IAE3B,IAL+D,IAK3Dw8B,EAASvjC,KALkD,QAM/D,YAAIujC,EAAAA,qBACA,OAAOhB,EAAoBkD,EADgB,YAK/C,IAAI1K,EAAUgJ,GAAW,SAAUvkC,EAASC,GACxCkmC,EADgD,EAEhDC,EAFgD,KAyBpD,OADAC,GAAAA,EApBkB,CACdC,YAAa,YACTa,EAAAA,qBAD0B,EAI1B9G,GAAe,WAAc,OAAO8F,EAAe,CAAElgC,MAAF,EAAgBsB,MAAhB,QAEvDg/B,YAAa,WACTY,EAAAA,qBADqB,EAErBA,EAAAA,aAFqB,EAGrBT,EAHqB,GAIrBP,EAAe,CAAElgC,WAAF,EAAoBsB,MAApB,KAEnBi/B,YAAa,YACTW,EAAAA,qBAD2B,EAE3BA,EAAAA,aAF2B,EAG3BT,EAH2B,GAI3BN,EAJ2B,MA5B4B,GAsCnEc,EAAAA,UAAAA,aAAyD,SAAUjhC,GAC/D,GAAIzF,KAAJ,YACI,OAAOZ,QAAQI,QAAQ,CAAEiG,MAAF,EAAgBsB,MAAhB,IAE3B/G,KAAA,aAJsE,EAKtE,IAAIujC,EAASvjC,KALyD,QAMtE,YAAIujC,EAAAA,qBACA,OAAOhB,EAAoBkD,EADgB,qBAG/C,IAAKzlC,KAAL,eAA0B,CACtB,IAAIgI,EAAS09B,EAAAA,EADS,GAGtB,OADAQ,EAFsB,GAGfY,EAAqB9+B,GAAQ,WAAc,MAAQ,CAAEvC,MAAF,EAAgBsB,MAAhB,MAG9D,OADAm/B,EAdsE,GAe/D7D,EAAoB,CAAE58B,MAAF,EAAgBsB,MAAhB,KA3E8B,EAAZ,GA+EjDigC,GAAuC,CACvCl+B,KAAM,WACF,OAAKm+B,GAAL,MAGOjnC,KAAKknC,mBAJE,OAEH3E,EAAoB4E,GADW,UAK9CC,OAAQ,YACJ,OAAKH,GAAL,MAGOjnC,KAAKknC,mBAAmBE,OAJV,GAEV7E,EAAoB4E,GADW,aAUlD,iBACI,IAAI5D,EAAS8D,EADkD,GAE3DC,EAAO,IAAIZ,GAAgCnD,EAFgB,GAG3D54B,EAAWxH,OAAAA,OAHgD,IAK/D,OADAwH,EAAAA,mBAJ+D,IAOnE,eACI,IAAKw7B,EAAL,GACI,OADkB,EAGtB,IAAKhjC,OAAAA,UAAAA,eAAAA,KAAAA,EAAL,sBACI,OADgE,EAGpE,IAEI,OAAOb,EAAAA,8BAFP,GAKJ,MAAOkkC,IACH,OADO,GAKf,eACI,OAAO,IAAIl+B,UAAU,+BAAiCjF,EADJ,0DA5BtD,IAAIojC,IACAtjC,OAAAA,eAAAA,GADsC,IAkC1C,IAAIokC,GAAcv5B,OAAAA,OAAgB,SAAU1L,GAExC,OAAOA,IAFoC,GAK/C,eAGI,OAAO6gC,EAH4B,QAKvC,uBACI,sBAAyB,IAAIniC,WAAWo8B,EAAKoK,EAA7CnoB,GAD6D,GAIjE,eACI,OAD4B,EAKhC,eACI,OADyB,EAG7B,mBAGI,GAAIpT,EAAJ,MACI,OAAOA,EAAAA,MAAAA,EADO,GAGlB,IAAIlC,EAAS/L,EAN6B,EAOtCypC,EAAQ,IAAIC,YAP0B,GAS1C,OADAC,GAAAA,EAAAA,EAAAA,EAAAA,EAR0C,KAY9C,eACI,wBAAWn6B,IAGP+5B,GAAJ,MAGI/5B,EAAJ,GAKJ,eACI,IAAIvB,EAAS27B,GAAiBlyB,EAAjBkyB,OAA2BlyB,EAA3BkyB,WAAyClyB,EAAAA,WAAeA,EAD3C,YAE1B,OAAO,IAAI1U,WAFe,GAK9B,eACI,IAAI6mC,EAAOC,EAAAA,OADkB,QAM7B,OAJAA,EAAAA,iBAA6BD,EAFA,KAGzBC,EAAAA,gBAAJ,IACIA,EAAAA,gBAD+B,GAG5BD,EANsB,MAQjC,mBACI,IAAKE,GAAD,IAA8BzG,IAAlC,IACI,MAAM,IAAI0G,WADuC,wDAGrDF,EAAAA,OAAAA,KAAsB,CAAEriC,MAAF,EAAgB67B,KAAhB,IACtBwG,EAAAA,iBALkD,EAOtD,eAEI,OADWA,EAAAA,OADoB,aAInC,eACIA,EAAAA,OAAmB,IADQ,EAE3BA,EAAAA,gBAF2B,EAU/B,IAAIG,GAA2C,WAC3C,aACI,MAAM,IAAI3/B,UADuB,uBA0CrC,OAvCAnF,OAAAA,eAAsB8kC,EAAtB9kC,UAAAA,OAAmE,CAI/DwJ,IAAK,WACD,IAAKu7B,GAAL,MACI,MAAMC,GAD8B,QAGxC,OAAOnoC,KAJM,OAMjB0F,YAV+D,EAW/DC,cAX+D,IAanEsiC,EAAAA,UAAAA,QAA8C,SAAUG,GACpD,IAAKF,GAAL,MACI,MAAMC,GAD8B,WAKxC,GAFAhD,EAAAA,EAAAA,EAJkE,WAKlEiD,EAAeC,EAAAA,EALmD,wBAMlE,IAAIroC,KAAKsoC,wCACL,MAAM,IAAIhgC,UADkD,0CAG5DigC,GAAiBvoC,KAAKwoC,MAA1B,QACAC,GAAoCzoC,KAApCyoC,wCAVkE,IAYtER,EAAAA,UAAAA,mBAAyD,SAAUS,GAC/D,IAAKR,GAAL,MACI,MAAMC,GAD8B,sBAIxC,GADAhD,EAAAA,EAAAA,EAJqE,uBAKhEuC,YAAAA,OAAL,GACI,MAAM,IAAIp/B,UADiB,gDAG/B,YAAItI,KAAKsoC,wCACL,MAAM,IAAIhgC,UADkD,0CAG5DigC,GAAiBG,EAArB,QACAC,GAA+C3oC,KAA/C2oC,wCAZqE,IA7BlB,EAAZ,GA6C/CxlC,OAAAA,iBAAwB8kC,GAAxB9kC,UAA6D,CACzDylC,QAAS,CAAEljC,YAD8C,GAEzDmjC,mBAAoB,CAAEnjC,YAFmC,GAGzDgjC,KAAM,CAAEhjC,YAHiD,KAK7D,kBAAW+7B,EAAP,aACAt+B,OAAAA,eAAsB8kC,GAAtB9kC,UAA2Ds+B,EAA3Dt+B,YAAuF,CACnFsC,MADmF,4BAEnFE,cAFmF,IAU3F,IAAImjC,GAA8C,WAC9C,aACI,MAAM,IAAIxgC,UAD0B,uBA4HxC,OAzHAnF,OAAAA,eAAsB2lC,EAAtB3lC,UAAAA,cAA6E,CAIzEwJ,IAAK,WACD,IAAKo8B,GAAL,MACI,MAAMC,GADiC,eAG3C,OAAOC,GAJM,OAMjBvjC,YAVyE,EAWzEC,cAXyE,IAa7ExC,OAAAA,eAAsB2lC,EAAtB3lC,UAAAA,cAA6E,CAKzEwJ,IAAK,WACD,IAAKo8B,GAAL,MACI,MAAMC,GADiC,eAG3C,OAAOE,GAJM,OAMjBxjC,YAXyE,EAYzEC,cAZyE,IAkB7EmjC,EAAAA,UAAAA,MAA+C,WAC3C,IAAKC,GAAL,MACI,MAAMC,GADiC,SAG3C,GAAIhpC,KAAJ,gBACI,MAAM,IAAIsI,UADY,8DAG1B,IAAIhC,EAAQtG,KAAKmpC,8BAPsC,OAQvD,gBAAI7iC,EACA,MAAM,IAAIgC,UAAU,kBAAoBhC,EADlB,6DAG1B8iC,GAXuD,OAa3DN,EAAAA,UAAAA,QAAiD,SAAUl9B,GACvD,IAAKm9B,GAAL,MACI,MAAMC,GADiC,WAI3C,GADA7D,EAAAA,EAAAA,EAJ8D,YAKzDuC,YAAAA,OAAL,GACI,MAAM,IAAIp/B,UADkB,sCAGhC,OAAIsD,EAAAA,WACA,MAAM,IAAItD,UADc,uCAG5B,OAAIsD,EAAAA,OAAAA,WACA,MAAM,IAAItD,UADqB,gDAGnC,GAAItI,KAAJ,gBACI,MAAM,IAAIsI,UADY,gCAG1B,IAAIhC,EAAQtG,KAAKmpC,8BAjB6C,OAkB9D,gBAAI7iC,EACA,MAAM,IAAIgC,UAAU,kBAAoBhC,EADlB,kEAG1B+iC,GAAAA,KArB8D,IA0BlEP,EAAAA,UAAAA,MAA+C,SAAUl7B,GAErD,QADU,IAANA,IAAgBA,OAAF,IACbm7B,GAAL,MACI,MAAMC,GADiC,SAG3CM,GAAAA,KALwD,IAQ5DR,EAAAA,UAAAA,GAAsD,SAAUl8B,GAC5D28B,GADoE,MAEpEC,GAFoE,MAGpE,IAAIxhC,EAAShI,KAAKypC,iBAHkD,GAKpE,OADAC,GAJoE,SAQxEZ,EAAAA,UAAAA,GAAoD,SAAU7D,GAC1D,IAAIzB,EAASxjC,KAD0D,8BAEvE,GAAIA,KAAK2pC,gBAAT,GACI,IAAInhC,EAAQxI,KAAK4pC,OADS,QAE1B5pC,KAAA,iBAAwBwI,EAFE,WAG1BqhC,GAH0B,MAI1B,IAAInB,EAAO,IAAI1nC,WAAWwH,EAAf,OAA6BA,EAA7B,WAA+CA,EAJhC,YAK1By8B,EAAAA,YAL0B,OAA9B,CAQA,IAAI6E,EAAwB9pC,KAV2C,uBAWvE,YAAI8pC,EAAqC,CACrC,IAAI79B,OAAS,EACb,IACIA,EAAS,IAAIy7B,YADb,GAGJ,MAAOqC,GAAS,YACZ9E,EAAAA,YADY,GAIhB,IAAI+E,EAAqB,CACrB/9B,OADqB,EAErBg+B,iBAFqB,EAGrBC,WAHqB,EAIrBC,WAJqB,EAKrBC,YALqB,EAMrBC,YANqB,EAOrBC,gBAPqB,WAQrBC,WARqB,WAUzBvqC,KAAA,uBAnBqC,GAqBzCwqC,GAAAA,EAhCuE,GAiCvEC,GAjCuE,QA1FjB,EAAZ,GA6IlD,eACI,QAAKtE,EAAL,MAGKhjC,OAAAA,UAAAA,eAAAA,KAAAA,EAAL,kCAGOb,aAPgC,GAS3C,eACI,QAAK6jC,EAAL,MAGKhjC,OAAAA,UAAAA,eAAAA,KAAAA,EAAL,4CAGOb,aAP6B,GASxC,eACqBooC,GAD6C,KAK1DC,EAAJ,SACIA,EAAAA,YADqB,GAIzBA,EAAAA,UAT8D,EAY9DzI,EADkByI,EAX4C,kBAYrC,WACrBA,EAAAA,UADiC,EAE7BA,EAAJ,aACIA,EAAAA,YADuB,EAEvBF,GAFuB,OAI5B,SAAU78B,GACT07B,GAAAA,EADY,QAIpB,eACIsB,GADmE,GAEnED,EAAAA,kBAA+B,IAFoC,EAIvE,iBACI,IAAI5jC,GADkF,EAEtF,WAAIy8B,EAAAA,SACAz8B,GAD4B,GAGhC,IAAI8jC,EAAaC,GALqE,GAMtF,YAAId,EAAAA,WACAe,GAAAA,EAAAA,EAD6C,GAI7CC,GAAAA,EAAAA,EADC,GAIT,eACI,IAAIZ,EAAcJ,EAD6D,YAE3EK,EAAcL,EAF6D,YAG/E,OAAO,IAAIA,EAAJ,gBAAuCA,EAAvC,OAAkEA,EAAlE,WAAiGI,EAHzB,GAKnF,qBACIO,EAAAA,OAAAA,KAAuB,CAAE1+B,OAAF,EAAkBi+B,WAAlB,EAA0CC,WAA1C,IACvBQ,EAAAA,iBAFiG,EAIrG,iBACI,IAAIN,EAAcL,EAD+E,YAE7FiB,EAAsBjB,EAAAA,YAAiCA,EAAAA,YAFsC,EAG7FkB,EAAiBjtC,KAAAA,IAAS0sC,EAAT1sC,gBAAqC+rC,EAAAA,WAAgCA,EAHO,aAI7FmB,EAAiBnB,EAAAA,YAJ4E,EAK7FoB,EAAkBD,EAAiBA,EAL0D,EAM7FE,EAN6F,EAO7FC,GAP6F,EAQ7FF,EAAJ,IACIC,EAA4BD,EAAkBpB,EADP,YAEvCsB,GAFuC,GAK3C,IADA,IAAI1M,EAAQ+L,EAZqF,OAa1FU,EAAP,GAAsC,CAClC,IAAIE,EAAc3M,EADgB,OAE9B4M,EAAcvtC,KAAAA,IAAAA,EAAoCstC,EAFpB,YAG9BE,EAAYzB,EAAAA,WAAgCA,EAHd,YAIlCrC,GAAmBqC,EAAnBrC,OAAAA,EAAyD4D,EAAzD5D,OAA6E4D,EAA7E5D,WAJkC,GAK9B4D,EAAAA,aAAJ,EACI3M,EADwC,SAIxC2M,EAAAA,YADC,EAEDA,EAAAA,YAFC,GAILZ,EAAAA,iBAZkC,EAalCe,GAAAA,EAAAA,EAbkC,GAclCL,GAdkC,EAgBtC,OA7BiG,EA+BrG,mBACIrB,EAAAA,aADkG,EAGtG,eACQW,IAAAA,EAAAA,iBAAoCA,EAAxC,iBACIjB,GADgE,GAEhEiC,GAAoBhB,EAF4C,gCAKhEF,GADC,GAIT,eACI,OAAIE,EAAAA,eAGJA,EAAAA,aAAAA,6CAJmE,EAKnEA,EAAAA,aAAAA,MALmE,KAMnEA,EAAAA,aANmE,MAQvE,eACI,KAAOA,EAAAA,kBAAAA,OAAP,GAAgD,CAC5C,OAAIA,EAAAA,gBAAkC,OAGtC,IAAIX,EAAqBW,EAAAA,kBAJmB,OAKxCiB,GAAAA,EAAJ,KACIC,GAD6F,GAE7FC,GAAqDnB,EAArDmB,8BAF6F,KAMzG,mBACI,IAAItI,EAASmH,EADgE,8BAEzEN,EAFyE,EAGzE3B,EAAAA,cAAJ,WACI2B,EAAc3B,EAAAA,YADiB,mBAGnC,IAAI1/B,EAAO0/B,EANkE,YAQzEz8B,EAAS8/B,GAAoBrD,EAR4C,QAazEsB,EAAqB,CACrB/9B,OADqB,EAErBg+B,iBAAkBh+B,EAFG,WAGrBi+B,WAAYxB,EAHS,WAIrByB,WAAYzB,EAJS,WAKrB0B,YALqB,EAMrBC,YANqB,EAOrBC,gBAPqB,EAQrBC,WARqB,QAUzB,GAAII,EAAAA,kBAAAA,OAAJ,EAA6C,OACzCA,EAAAA,kBAAAA,KADyC,QAKzCqB,GAAAA,EALyC,GAQ7C,cAAIxI,EAAAA,OAAJ,CAKA,GAAImH,EAAAA,gBAAJ,EAAoC,CAChC,GAAIiB,GAAAA,EAAJ,GAAiG,CAC7F,IAAIf,EAAaC,GAD4E,UAE7FjB,GAF6F,QAG7FoC,EAAAA,YAH6F,GAMjG,GAAItB,EAAJ,gBAAgC,CAC5B,IAAI/8B,EAAI,IAAItF,UADgB,kEAE5BghC,GAAAA,EAF4B,QAG5B2C,EAAAA,YAH4B,IAOpCtB,EAAAA,kBAAAA,KAlD6E,GAmD7EqB,GAAAA,EAnD6E,GAoD7EvB,GApD6E,OA+B7E,CACI,IAAIyB,EAAY,IAAIljC,EAAKghC,EAAT,OAAoCA,EAApC,WADY,GAE5BiC,EAAAA,YAF4B,IAuBpC,iBACI,IAAIzI,EAASmH,EADsE,8BAEnF,GAAIwB,GAAJ,GACI,KAAOC,GAAAA,GAAP,GAEIN,GAAAA,EADyBD,GAD4B,IAMjE,mBAEI,GADAH,GAAAA,EAAAA,EADsG,KAElG1B,EAAAA,YAAiCA,EAArC,cAGA6B,GALsG,GAMtG,IAAIQ,EAAgBrC,EAAAA,YAAiCA,EANiD,YAOtG,GAAIqC,EAAJ,EAAuB,CACnB,IAAIruC,EAAMgsC,EAAAA,WAAgCA,EADvB,YAEfsC,EAAY1E,GAAiBoC,EAAjBpC,OAA4C5pC,EAA5C4pC,EAFG,GAGnB2E,GAAAA,EAAAA,EAAAA,EAA0ED,EAHvD,YAKvBtC,EAAAA,aAZsG,EAatG8B,GAAqDnB,EAArDmB,8BAbsG,GActGU,GAdsG,IAgB1G,iBACI,IAAIC,EAAkB9B,EAAAA,kBADqD,OAE3EC,GAF2E,GAI3E,WADYD,EAAAA,8BAH+D,OAKvE+B,GADoB,GAIpBC,GAAAA,EAAAA,EADC,GAGLlC,GAV2E,GAY/E,eAEI,OADiBE,EAAAA,kBADiD,QAItE,eACI,IAAInH,EAASmH,EAD+C,8BAE5D,mBAAInH,EAAAA,SAGAmH,EAAJ,mBAGKA,EAAL,cAGIiC,GAAAA,IAA0CC,GAAAA,GAA9C,OAGIV,GAAAA,IAAuCC,GAAAA,GAA3C,IAGkBlD,GAjB0C,GAkB5D,GAKJ,eACIyB,EAAAA,oBAD6D,EAE7DA,EAAAA,sBAF6D,EAKjE,eACI,IAAInH,EAASmH,EADsC,8BAEnD,IAAIA,EAAAA,iBAAJ,aAAkCnH,EAAAA,OAGlC,GAAImH,EAAAA,gBAAJ,EACIA,EAAAA,iBADgC,MAApC,CAIA,GAAIA,EAAAA,kBAAAA,OAAJ,GAC+BA,EAAAA,kBADc,OAErCmC,YAAJ,EAA0C,CACtC,IAAIl/B,EAAI,IAAItF,UAD0B,2DAGtC,MADAghC,GAAAA,EAFsC,KAM9CI,GAjBmD,GAkBnDiC,GAlBmD,IAoBvD,iBACI,IAAInI,EAASmH,EAD+C,8BAE5D,IAAIA,EAAAA,iBAAJ,aAAkCnH,EAAAA,OAAlC,CAGA,IAAIv3B,EAASL,EAL+C,OAMxDs+B,EAAat+B,EAN2C,WAOxDu+B,EAAav+B,EAP2C,WAQxDmhC,EAAoBhB,GARoC,GAS5D,GAAIpB,EAAAA,kBAAAA,OAAJ,EAA6C,CACzC,IAAImC,EAAuBnC,EAAAA,kBADc,OAErCpC,GAAiBuE,EAArB,QACAA,EAAAA,OAA8Bf,GAAoBe,EAHT,QAK7ClC,GAd4D,GAexDgC,GAAJ,GACI,IAAIC,GAAAA,GACAN,GAAAA,EAAAA,EAAAA,EADgD,IAI5C5B,EAAAA,kBAAAA,OAAJ,GACIkB,GADyC,GAI7Cd,GAAAA,EADsB,IAAI/pC,WAAW+rC,EAAmB7C,EAJvD,QAQAiC,GAAJ,IAEDI,GAAAA,EAAAA,EAAAA,EAF0C,GAG1CC,GAH0C,IAM1CD,GAAAA,EAAAA,EAAAA,EADC,GAGL9B,GAnC4D,IAqChE,iBACI,IAAIjH,EAASmH,EADyC,8BAEtD,aAAInH,EAAAA,SAGJ+F,GALsD,GAMtDC,GANsD,GAOtDE,GAPsD,GAQtDsD,GAAAA,EARsD,IAU1D,eACI,GAAIrC,OAAAA,EAAAA,cAAoCA,EAAAA,kBAAAA,OAAxC,EAAiF,CAC7E,IAAI8B,EAAkB9B,EAAAA,kBADuD,OAEzEjC,EAAO,IAAI1nC,WAAWyrC,EAAf,OAAuCA,EAAAA,WAA6BA,EAApE,YAAiGA,EAAAA,WAA6BA,EAF5D,aAGzEQ,EAAc9pC,OAAAA,OAAc8kC,GAH6C,WAI7EiF,GAAAA,EAAAA,EAJ6E,GAK7EvC,EAAAA,aAL6E,EAOjF,OAAOA,EARqD,aAUhE,eACI,IAAIrkC,EAAQqkC,EAAAA,8BADgD,OAE5D,kBAAIrkC,EAAqB,KAGzB,WAAIA,EAAoB,EAGjBqkC,EAAAA,aAA0BA,EAR2B,gBAUhE,iBACI,IAAI8B,EAAkB9B,EAAAA,kBAD6C,OAGnE,cADYA,EAAAA,8BAFuD,QAI/D,OAAIvC,EACA,MAAM,IAAI9/B,UADU,wEAIvB,CACD,OAAI8/B,EACA,MAAM,IAAI9/B,UADU,mFAGxB,GAAImkC,EAAAA,YAAAA,EAA6CA,EAAjD,WACI,MAAM,IAAIzE,WAD+D,6BAIjFyE,EAAAA,OAAyBV,GAAoBU,EAhBsB,QAiBnEU,GAAAA,EAjBmE,GAmBvE,iBACI,IAAIV,EAAkB9B,EAAAA,kBADgD,OAGtE,cADYA,EAAAA,8BAF0D,QAIlE,OAAIjC,EAAAA,WACA,MAAM,IAAIpgC,UADa,yFAK3B,OAAIogC,EAAAA,WACA,MAAM,IAAIpgC,UADa,mGAI/B,GAAImkC,EAAAA,WAA6BA,EAA7BA,cAA6D/D,EAAjE,WACI,MAAM,IAAIV,WADoE,2DAGlF,GAAIyE,EAAAA,mBAAqC/D,EAAAA,OAAzC,WACI,MAAM,IAAIV,WADmD,8DAGjE,GAAIyE,EAAAA,YAA8B/D,EAA9B+D,WAAgDA,EAApD,WACI,MAAM,IAAIzE,WADkE,2DAGhF,IAAIoF,EAAiB1E,EAtBiD,WAuBtE+D,EAAAA,OAAyBV,GAAoBrD,EAvByB,QAwBtEyE,GAAAA,EAxBsE,GA0B1E,2BACIxC,EAAAA,8BADiJ,EAEjJA,EAAAA,YAFiJ,EAGjJA,EAAAA,UAHiJ,EAIjJA,EAAAA,aAJiJ,KAMjJA,EAAAA,OAAoBA,EAAAA,qBAN6H,EAOjJnB,GAPiJ,GAQjJmB,EAAAA,iBARiJ,EASjJA,EAAAA,UATiJ,EAUjJA,EAAAA,aAViJ,EAWjJA,EAAAA,eAXiJ,EAYjJA,EAAAA,iBAZiJ,EAajJA,EAAAA,uBAbiJ,EAcjJA,EAAAA,kBAA+B,IAdkH,EAejJnH,EAAAA,0BAfiJ,EAiBjJtB,EAAYG,EADMgL,MAC4B,WAC1C1C,EAAAA,UADsD,EAEtDF,GAFsD,MAGvD,SAAUnrB,GACTgqB,GAAAA,EADY,MAIpB,mBACI,IAAIqB,EAAaxnC,OAAAA,OAAc2lC,GADyE,WAEpGuE,EAAiB,aACjBC,EAAgB,WAAc,OAAOjL,OAAT,IAC5BkL,EAAkB,WAAc,OAAOlL,OAAT,SAClC,IAAImL,EAAAA,QACAH,EAAiB,WAAc,OAAOG,EAAAA,MAAT,UAEjC,IAAIA,EAAAA,OACAF,EAAgB,WAAc,OAAOE,EAAAA,KAAT,UAEhC,IAAIA,EAAAA,SACAD,EAAkB,YAAoB,OAAOC,EAAAA,OAAT,KAExC,IAAI1D,EAAwB0D,EAd4E,sBAexG,OAAI1D,EACA,MAAM,IAAIxhC,UADmB,gDAGjCmlC,GAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAlBwG,GAoB5G,mBACI5sC,EAAAA,wCAD+D,EAE/DA,EAAAA,MAF+D,EAKnE,eACI,OAAO,IAAIyH,UAAU,uCAAyCjF,EADpB,oDAI9C,eACI,OAAO,IAAIiF,UAAU,0CAA4CjF,EADd,uDAKvD,eACI,OAAO,IAAIqqC,GADkC,GAIjD,iBACIlK,EAAAA,QAAAA,kBAAAA,KAD+D,GAGnE,mBACI,IACIyI,EADSzI,EADkD,QAEzCD,kBAFyC,QAG/D,EACI0I,EAAAA,YADM,GAINA,EAAAA,YADC,GAIT,eACI,OAAOzI,EAAAA,QAAAA,kBAD2C,OAGtD,eACI,IAAID,EAASC,EAD4B,QAEzC,gBAAID,KAGCoK,GAAL,GAjeJxqC,OAAAA,iBAAwB2lC,GAAxB3lC,UAAgE,CAC5DyqC,MAAO,CAAEloC,YADmD,GAE5DmoC,QAAS,CAAEnoC,YAFiD,GAG5Dqe,MAAO,CAAEre,YAHmD,GAI5DunC,YAAa,CAAEvnC,YAJ6C,GAK5DooC,YAAa,CAAEpoC,YAL6C,KAOhE,kBAAW+7B,EAAP,aACAt+B,OAAAA,eAAsB2lC,GAAtB3lC,UAA8Ds+B,EAA9Dt+B,YAA0F,CACtFsC,MADsF,+BAEtFE,cAFsF,IAme9F,IAAI+nC,GAA0C,WAC1C,cAGI,GAFAvI,EAAAA,EAAAA,EADsC,4BAEtCC,EAAAA,EAFsC,mBAGlCC,GAAJ,GACI,MAAM,IAAI/8B,UADsB,+EAGpC,IAAKygC,GAA+BvF,EAApC,2BACI,MAAM,IAAIl7B,UAAU,+FAGxBg9B,EAAAA,KAVsC,GAWtCtlC,KAAA,kBAAyB,IAXa,EAiG1C,OApFAmD,OAAAA,eAAsBuqC,EAAtBvqC,UAAAA,SAAoE,CAKhEwJ,IAAK,WACD,OAAKghC,GAAL,MAGO3tC,KAJM,eAEFuiC,EAAoBwL,GADQ,YAK3CroC,YAXgE,EAYhEC,cAZgE,IAiBpE+nC,EAAAA,UAAAA,OAA4C,SAAU9gC,GAElD,YADe,IAAXA,IAAqBA,OAAF,GAClB+gC,GAAL,WAGA,IAAI3tC,KAAKwlC,qBACEjD,EAAoBkD,EADc,WAGtCC,EAAAA,KARmD,GAG/CnD,EAAoBwL,GADQ,YAa3CL,EAAAA,UAAAA,KAA0C,SAAUhF,GAChD,IAAKiF,GAAL,MACI,OAAOpL,EAAoBwL,GADQ,SAGvC,IAAKrG,YAAAA,OAAL,GACI,OAAOnF,EAAoB,IAAIj6B,UADJ,sCAG/B,OAAIogC,EAAAA,WACA,OAAOnG,EAAoB,IAAIj6B,UADR,uCAG3B,OAAIogC,EAAAA,OAAAA,WACA,OAAOnG,EAAoB,IAAIj6B,UADD,gDAIlC,GADIigC,GAAiBG,EAArB,aACA,IAAI1oC,KAAKwlC,qBACL,OAAOjD,EAAoBkD,EADc,cAG7C,IAjBsD,IAmBlD1K,EAAUgJ,GAAW,SAAUvkC,EAASC,GACxCkmC,EADgD,EAEhDC,EAFgD,KAUpD,OADAoI,GAAAA,KAAAA,EALsB,CAClBlI,YAAa,YAAmB,OAAOH,EAAe,CAAElgC,MAAF,EAAgBsB,MAAhB,KACtDg/B,YAAa,YAAmB,OAAOJ,EAAe,CAAElgC,MAAF,EAAgBsB,MAAhB,KACtDi/B,YAAa,YAAe,OAAOJ,EAAT,MA1BwB,GAwC1D8H,EAAAA,UAAAA,YAAiD,WAC7C,IAAKC,GAAL,MACI,MAAMI,GAD6B,eAGvC,YAAI/tC,KAAKwlC,qBAAT,CAGA,GAAIxlC,KAAKiuC,kBAAkBlkC,OAA3B,EACI,MAAM,IAAIzB,UADyB,uFAGvC49B,EAVyD,QAtFP,EAAZ,GAiH9C,eACI,QAAKC,EAAL,MAGKhjC,OAAAA,UAAAA,eAAAA,KAAAA,EAAL,sBAGOb,aAP4B,GASvC,mBACI,IAAIkhC,EAASD,EADoD,qBAEjEC,EAAAA,YAFiE,EAGjE,YAAIA,EAAAA,OACAyI,EAAAA,YAA4BzI,EADC,cAI7B0K,GAAqC1K,EAArC0K,0BAAAA,EADC,GAKT,eACI,OAAO,IAAI5lC,UAAU,sCAAwCjF,EADpB,mDAI7C,iBACI,IAAI8qC,EAAgBC,EAD4B,cAEhD,YAAID,EACA,OAD6B,EAGjC,GAAI5G,GAAAA,IAA8B4G,EAAlC,EACI,MAAM,IAAInG,WADuC,yBAGrD,OARgD,EAUpD,eACI,IAAI1G,EAAO8M,EADyB,KAEpC,UACW,WAAc,OAAF,GAK3B,iBACIC,EAAAA,EAD2C,GAE3C,IAAIF,EAAgBG,OAAAA,QAA0B,IAATA,OAAkB,EAASA,EAFrB,cAGvChN,EAAOgN,OAAAA,QAA0B,IAATA,OAAkB,EAASA,EAHZ,KAI3C,MAAO,CACHH,mBAAeA,IAAAA,OAAAA,EAA0CI,EADtD,GAEHjN,UAAMA,IAAAA,OAAAA,EAAiCkN,GAAAA,EAAiCroC,EAFrE,4BAKX,iBAEI,OADAsoC,EAAAA,EAD6C,GAEtC,SAAU7iC,GAAS,OAAO2iC,EAA0BrnC,EAAnC,KAG5B,iBACImnC,EAAAA,EAD8C,GAE9C,IAAIK,EAAQC,OAAAA,QAAkC,IAAbA,OAAsB,EAASA,EAFlB,MAG1Cf,EAAQe,OAAAA,QAAkC,IAAbA,OAAsB,EAASA,EAHlB,MAI1CnrC,EAAQmrC,OAAAA,QAAkC,IAAbA,OAAsB,EAASA,EAJlB,MAK1C1nC,EAAO0nC,OAAAA,QAAkC,IAAbA,OAAsB,EAASA,EALjB,KAM1CC,EAAQD,OAAAA,QAAkC,IAAbA,OAAsB,EAASA,EANlB,MAO9C,MAAO,CACHD,WAAOA,IAAAA,OAAAA,EAEHG,GAAAA,EAAAA,EAAoD1oC,EAHrD,4BAIHynC,WAAOA,IAAAA,OAAAA,EAEHkB,GAAAA,EAAAA,EAAoD3oC,EANrD,4BAOH3C,WAAOA,IAAAA,OAAAA,EAEHurC,GAAAA,EAAAA,EAAoD5oC,EATrD,4BAUHyoC,WAAOA,IAAAA,OAAAA,EAEHI,GAAAA,EAAAA,EAAoD7oC,EAZrD,4BAaHc,KAbG,GAgBX,mBAEI,OADAwnC,EAAAA,EAD+D,GAExD,SAAU7hC,GAAU,OAAOqiC,EAAAA,EAAAA,EAA0B,CAAnC,KAE7B,mBAEI,OADAR,EAAAA,EAD+D,GAExD,WAAc,OAAOQ,EAAAA,EAAAA,EAAT,KAEvB,mBAEI,OADAR,EAAAA,EAD+D,GAExD,SAAU9D,GAAc,OAAOrI,EAAAA,EAAAA,EAA0B,CAAnC,KAEjC,mBAEI,OADAmM,EAAAA,EAD+D,GAExD,SAAU7iC,EAAO++B,GAAc,OAAOsE,EAAY/nC,EAAIynC,EAAU,CAAC/iC,EAAO++B,KAGnF,iBACI,IAAKuE,GAAL,GACI,MAAM,IAAI5mC,UAAUnC,EADE,6BAK9B,eACI,GAAqB,kBAAVV,GAAX,OAAiCA,EAC7B,OAD6C,EAGjD,IACI,MADA,mBACcA,EAAP,QAEX,MAAO+gC,IAEH,OAFO,GA1HfrjC,OAAAA,iBAAwBuqC,GAAxBvqC,UAA4D,CACxDijC,OAAQ,CAAE1gC,YAD8C,GAExD2gC,KAAM,CAAE3gC,YAFgD,GAGxD4gC,YAAa,CAAE5gC,YAHyC,GAIxD6gC,OAAQ,CAAE7gC,YAJ8C,KAM5D,kBAAW+7B,EAAP,aACAt+B,OAAAA,eAAsBuqC,GAAtBvqC,UAA0Ds+B,EAA1Dt+B,YAAsF,CAClFsC,MADkF,2BAElFE,cAFkF,IAwH1F,IAAIwpC,GAlnDoB,oBAknDaC,gBAMrC,cACI,MACI,OAAO,IADkB,gBAWjC,IAAIC,GAAgC,WAChC,qBAC8B,IAAtBC,IAAgCA,EAAF,SACd,IAAhBC,IAA0BA,EAAF,SAC5B,IAAID,EACAA,EADiC,KAIjCE,EAAAA,EADC,mBAGL,IAAIpB,EAAWqB,GAAAA,EATqC,oBAUhDC,EAAiBC,GAAAA,EAV+B,mBAapD,GAFAC,GAXoD,WAapD,IADWF,EAZyC,KAchD,MAAM,IAAI1H,WADU,6BAGxB,IAAI6H,EAAgBC,GAhBgC,GAkBpDC,GAAAA,KAAAA,EADoBC,GAAAA,EAjBgC,MAsFxD,OAlEA7sC,OAAAA,eAAsBksC,EAAtBlsC,UAAAA,SAA0D,CAItDwJ,IAAK,WACD,IAAKuiC,GAAL,MACI,MAAMe,GADmB,UAG7B,OAAOC,GAJM,OAMjBxqC,YAVsD,EAWtDC,cAXsD,IAsB1D0pC,EAAAA,UAAAA,MAAiC,SAAUziC,GAEvC,YADe,IAAXA,IAAqBA,OAAF,GAClBsiC,GAAL,MAGIgB,GAAJ,MACW3N,EAAoB,IAAIj6B,UADD,oDAG3B6nC,GAAAA,KARwC,GAGpC5N,EAAoB0N,GADF,WAgBjCZ,EAAAA,UAAAA,MAAiC,WAC7B,OAAKH,GAAL,MAGIgB,GAAJ,MACW3N,EAAoB,IAAIj6B,UADD,oDAG9B8nC,GAAJ,MACW7N,EAAoB,IAAIj6B,UADY,2CAGxC+nC,GAVkC,MAE9B9N,EAAoB0N,GADF,WAmBjCZ,EAAAA,UAAAA,UAAqC,WACjC,IAAKH,GAAL,MACI,MAAMe,GADmB,aAG7B,OAAOK,GAJsC,OAjFL,EAAZ,GAsGpC,eACI,OAAO,IAAIC,GADqC,GAIpD,8BAC0B,IAAlBpC,IAA4BA,EAAF,QACR,IAAlB0B,IAA4BA,EAAgB,WAAc,OAAF,IAC5D,IAAIrM,EAASrgC,OAAAA,OAAcksC,GAH6F,WAOxH,OAHAO,GAJwH,GAMxHY,GAAAA,EADiBrtC,OAAAA,OAAcstC,GALyF,WAMxHD,EAAAA,EAAAA,EAAAA,EAAAA,EANwH,KAS5H,eACIhN,EAAAA,OADsC,WAItCA,EAAAA,kBAJsC,EAKtCA,EAAAA,aALsC,EAQtCA,EAAAA,+BARsC,EAWtCA,EAAAA,eAAwB,IAXc,EActCA,EAAAA,2BAdsC,EAiBtCA,EAAAA,mBAjBsC,EAoBtCA,EAAAA,2BApBsC,EAsBtCA,EAAAA,0BAtBsC,EAwBtCA,EAAAA,eAxBsC,EA0B1C,eACI,QAAK2C,EAAL,MAGKhjC,OAAAA,UAAAA,eAAAA,KAAAA,EAAL,8BAGOb,aAPkB,GAS7B,eACI,gBAAIkhC,EAAAA,QAKR,iBACI,IADyC,EAEzC,GAAIA,WAAAA,EAAAA,QAAJ,YAAkCA,EAAAA,OAC9B,OAAOnB,OADoD,GAG/DmB,EAAAA,0BAAAA,aALyC,EAMzC,QAACgD,EAAKhD,EAAAA,0BAAN,wBAA4E,IAAPgD,GAAyBA,EANrD,QAUzC,IAAIlgC,EAAQk9B,EAV6B,OAWzC,GAAIl9B,WAAAA,GAAJ,YAA0BA,EACtB,OAAO+7B,OADoC,GAG/C,YAAImB,EAAAA,qBACA,OAAOA,EAAAA,qBADoC,SAG/C,IAAIkN,GAjBqC,EAkBzC,aAAIpqC,IACAoqC,GADsB,EAGtB9jC,OAHsB,GAK1B,IAAImuB,EAAUgJ,GAAW,SAAUvkC,EAASC,GACxC+jC,EAAAA,qBAA8B,CAC1BmN,cAD0B,EAE1BC,SAF0B,EAG1BC,QAH0B,EAI1BC,QAJ0B,EAK1BC,oBAL0B,MAYlC,OAJAvN,EAAAA,qBAAAA,SAhCyC,EAiCzC,GACIwN,GAAAA,EADqB,GAjCgB,EAsC7C,eACI,IAAI1qC,EAAQk9B,EADqB,OAEjC,GAAIl9B,WAAAA,GAAJ,YAA0BA,EACtB,OAAOi8B,EAAoB,IAAIj6B,UAAU,kBAAoBhC,EADlB,8DAG/C,IAAIy0B,EAAUgJ,GAAW,SAAUvkC,EAASC,GACxC,IAAIwxC,EAAe,CACfL,SADe,EAEfC,QAFe,GAInBrN,EAAAA,cALgD,KAOhD0N,EAAS1N,EAZoB,QAiBjC,YAJI0N,IAAAA,GAAwB1N,EAAxB0N,eAAJ,aAAoD5qC,GAChD6qC,GADsE,GAG1EC,GAAqC5N,EAhBJ,6BAoBrC,eAQI,OAPcO,GAAW,SAAUvkC,EAASC,GACxC,IAAI4xC,EAAe,CACfT,SADe,EAEfC,QAFe,GAInBrN,EAAAA,eAAAA,KALgD,MASxD,iBAEI,aADYA,EADwC,OAMpD8N,GANoD,GAGhDN,GAAAA,EADsB,GAM9B,iBACI,IAAIrG,EAAanH,EADgC,0BAEjDA,EAAAA,OAFiD,WAGjDA,EAAAA,aAHiD,EAIjD,IAAI0N,EAAS1N,EAJoC,aAKjD,IAAI0N,GACAK,GAAAA,EADsB,IAGrBC,GAAD,IAAqD7G,EAAzD,UACI2G,GAD0E,GAIlF,eACI9N,EAAAA,OAD0C,UAE1CA,EAAAA,0BAF0C,KAG1C,IAAIiO,EAAcjO,EAHwB,aAQ1C,GAJAA,EAAAA,eAAAA,SAA8B,SAAU6N,GACpCA,EAAAA,QADkD,MAGtD7N,EAAAA,eAAwB,IAPkB,OAQ1C,IAAIA,EAAAA,qBAAJ,CAIA,IAAIkO,EAAelO,EAZuB,qBAc1C,GADAA,EAAAA,0BAb0C,EActCkO,EAAJ,oBAAsC,OAClCA,EAAAA,QADkC,QAElCC,GAFkC,GAMtCzP,EADcsB,EAAAA,0BAAAA,GAA6CkO,EAnBjB,UAoBrB,WACjBA,EAD6B,WAE7BC,GAF6B,MAG9B,SAAU/kC,GACT8kC,EAAAA,QADiB,GAEjBC,GAFiB,WAdjBA,GAD2C,GAoBnD,eACInO,EAAAA,sBAAAA,cAD+C,GAE/CA,EAAAA,2BAF+C,EAInD,iBACIA,EAAAA,sBAAAA,QAD+D,GAE/DA,EAAAA,2BAF+D,EAG/DoO,GAAAA,EAH+D,GAKnE,eACIpO,EAAAA,sBAAAA,cAD+C,GAE/CA,EAAAA,2BAF+C,EAI/C,aADYA,EAHmC,SAM3CA,EAAAA,kBAFsB,OAGtB,IAAIA,EAAAA,uBACAA,EAAAA,qBAD2C,WAE3CA,EAAAA,0BAF2C,IAKnDA,EAAAA,OAZ+C,SAa/C,IAAI0N,EAAS1N,EAbkC,aAc/C,IAAI0N,GACAW,GADsB,GAI9B,iBACIrO,EAAAA,sBAAAA,QAD+D,GAE/DA,EAAAA,2BAF+D,OAI/D,IAAIA,EAAAA,uBACAA,EAAAA,qBAAAA,QAD2C,GAE3CA,EAAAA,0BAF2C,GAI/CoO,GAAAA,EAR+D,GAWnE,eACI,YAAIpO,IAAAA,EAAAA,oBAAJ,IAA0CA,EAAAA,sBAK9C,eACI,YAAIA,IAAAA,EAAAA,4BAAJ,IAAkDA,EAAAA,sBAKtD,eACIA,EAAAA,sBAA+BA,EADqB,cAEpDA,EAAAA,mBAFoD,EAIxD,eACIA,EAAAA,sBAA+BA,EAAAA,eAD0B,QAG7D,oBACI,IAAIA,EAAAA,gBACAA,EAAAA,cAAAA,QAA6BA,EADO,cAEpCA,EAAAA,mBAFoC,GAIxC,IAAI0N,EAAS1N,EALkD,aAM/D,IAAI0N,GACAY,GAAAA,EAAyCtO,EADnB,cAI9B,iBACI,IAAI0N,EAAS1N,EAD+C,aAExD0N,IAAAA,GAAwBa,IAAiBvO,EAA7C,gBACI,EACIwO,GADc,GAIdb,GADC,IAIT3N,EAAAA,cAV4D,EA1PhErgC,OAAAA,iBAAwBksC,GAAxBlsC,UAAkD,CAC9CurC,MAAO,CAAEhpC,YADqC,GAE9CkoC,MAAO,CAAEloC,YAFqC,GAG9CusC,UAAW,CAAEvsC,YAHiC,GAI9CwsC,OAAQ,CAAExsC,YAJoC,KAMlD,kBAAW+7B,EAAP,aACAt+B,OAAAA,eAAsBksC,GAAtBlsC,UAAgDs+B,EAAhDt+B,YAA4E,CACxEsC,MADwE,iBAExEE,cAFwE,IAoQhF,IAAI4qC,GAA6C,WAC7C,cAGI,GAFApL,EAAAA,EAAAA,EADyC,+BAEzCgN,GAAAA,EAFyC,mBAGrCjC,GAAJ,GACI,MAAM,IAAI5nC,UADsB,+EAGpCtI,KAAA,qBANyC,EAOzCwjC,EAAAA,QAPyC,KAQzC,IAAIl9B,EAAQk9B,EAR6B,OASzC,gBAAIl9B,GACK8pC,GAAD,IAAgD5M,EAApD,cACI4O,GADsE,MAItEC,GADC,MAGLC,GAPsB,WASrB,gBAAIhsC,EACLisC,GAAAA,KAAoD/O,EADzB,cAE3B8O,GAF2B,WAI1B,cAAIhsC,EACL+rC,GADyB,MAEzBG,GAFyB,UAIxB,CACD,IAAIf,EAAcjO,EADjB,aAED+O,GAAAA,KAFC,GAGDE,GAAAA,KAHC,IAsHT,OAhHAtvC,OAAAA,eAAsBotC,EAAtBptC,UAAAA,SAAuE,CAKnEwJ,IAAK,WACD,OAAK+lC,GAAL,MAGO1yC,KAJM,eAEFuiC,EAAoBoQ,GADW,YAK9CjtC,YAXmE,EAYnEC,cAZmE,IAcvExC,OAAAA,eAAsBotC,EAAtBptC,UAAAA,cAA4E,CASxEwJ,IAAK,WACD,IAAK+lC,GAAL,MACI,MAAMC,GADgC,eAG1C,YAAI3yC,KAAK4yC,qBACL,MAAMC,GADmC,eAG7C,OAAOC,GAPM,OASjBptC,YAlBwE,EAmBxEC,cAnBwE,IAqB5ExC,OAAAA,eAAsBotC,EAAtBptC,UAAAA,QAAsE,CASlEwJ,IAAK,WACD,OAAK+lC,GAAL,MAGO1yC,KAJM,cAEFuiC,EAAoBoQ,GADW,WAK9CjtC,YAfkE,EAgBlEC,cAhBkE,IAqBtE4qC,EAAAA,UAAAA,MAA8C,SAAU3jC,GAEpD,YADe,IAAXA,IAAqBA,OAAF,GAClB8lC,GAAL,WAGA,IAAI1yC,KAAK4yC,qBACErQ,EAAoBsQ,GADc,UAGtCE,GAAAA,KARqD,GAGjDxQ,EAAoBoQ,GADW,WAW9CpC,EAAAA,UAAAA,MAA8C,WAC1C,IAAKmC,GAAL,MACI,OAAOnQ,EAAoBoQ,GADW,UAG1C,IAAInP,EAASxjC,KAJyC,qBAKtD,gBAAIwjC,EACOjB,EAAoBsQ,GADL,UAGtBzC,GAAJ,GACW7N,EAAoB,IAAIj6B,UADc,2CAG1C0qC,GAX+C,OAuB1DzC,EAAAA,UAAAA,YAAoD,WAChD,IAAKmC,GAAL,MACI,MAAMC,GADgC,oBAI1C,IADa3yC,KAJ+C,sBAQ5DizC,GAR4D,OAUhE1C,EAAAA,UAAAA,MAA8C,SAAU3kC,GAEpD,YADc,IAAVA,IAAoBA,OAAF,GACjB8mC,GAAL,WAGA,IAAI1yC,KAAK4yC,qBACErQ,EAAoBsQ,GADc,aAGtCK,GAAAA,KARoD,GAGhD3Q,EAAoBoQ,GADW,WAzIW,EAAZ,GAmKjD,eACI,QAAKxM,EAAL,MAGKhjC,OAAAA,UAAAA,eAAAA,KAAAA,EAAL,yBAGOb,aAP+B,GAU1C,iBAEI,OAAO6tC,GADMe,EADyC,wBAI1D,eAEI,OAAOb,GADMa,EADiC,sBAIlD,eACI,IAAI1N,EAAS0N,EADqD,qBAE9D5qC,EAAQk9B,EAFsD,OAGlE,OAAI4M,GAAAA,IAAJ,WAAmD9pC,EACxC+7B,OAD4D,GAGvE,YAAI/7B,EACOi8B,EAAoBiB,EADN,cAGlBwP,GAT2D,GAWtE,iBACI,YAAI9B,EAAAA,oBACAY,GAAAA,EAD0C,GAI1CqB,GAAAA,EADC,GAIT,iBACI,YAAIjC,EAAAA,mBACAkC,GAAAA,EADyC,GAIzCC,GAAAA,EADC,GAIT,eACI,IAAI7P,EAAS0N,EAD0C,qBAEnD5qC,EAAQk9B,EAF2C,OAGvD,MAAIl9B,YAAAA,GAAJ,aAA2BA,EAAsB,KAGjD,WAAIA,EAAoB,EAGjBgtC,GAA8C9P,EATE,2BAW3D,eACI,IAAIA,EAAS0N,EADmC,qBAE5CqC,EAAgB,IAAIjrC,UAFwB,oFAGhDipC,GAAAA,EAHgD,GAMhDiC,GAAAA,EANgD,GAOhDhQ,EAAAA,aAPgD,EAQhD0N,EAAAA,0BARgD,EAUpD,iBACI,IAAI1N,EAAS0N,EADwC,qBAEjDvG,EAAanH,EAFoC,0BAGjDiQ,EAAYC,GAAAA,EAHqC,GAIrD,GAAIlQ,IAAW0N,EAAf,qBACI,OAAO3O,EAAoBsQ,GADa,aAG5C,IAAIvsC,EAAQk9B,EAPyC,OAQrD,eAAIl9B,EACA,OAAOi8B,EAAoBiB,EADN,cAGzB,GAAI4M,GAAAA,IAAJ,WAAmD9pC,EAC/C,OAAOi8B,EAAoB,IAAIj6B,UADoC,6DAGvE,gBAAIhC,EACA,OAAOi8B,EAAoBiB,EADL,cAG1B,IAAIzI,EAAU4Y,GAjBuC,GAmBrD,OADAC,GAAAA,EAAAA,EAlBqD,KAlFzDzwC,OAAAA,iBAAwBotC,GAAxBptC,UAA+D,CAC3DurC,MAAO,CAAEhpC,YADkD,GAE3DkoC,MAAO,CAAEloC,YAFkD,GAG3D4gC,YAAa,CAAE5gC,YAH4C,GAI3DkpC,MAAO,CAAElpC,YAJkD,GAK3D6gC,OAAQ,CAAE7gC,YALiD,GAM3DooC,YAAa,CAAEpoC,YAN4C,GAO3D4lC,MAAO,CAAE5lC,YAPkD,KAS/D,kBAAW+7B,EAAP,aACAt+B,OAAAA,eAAsBotC,GAAtBptC,UAA6Ds+B,EAA7Dt+B,YAAyF,CACrFsC,MADqF,8BAErFE,cAFqF,IA6F7F,IAAIkuC,GAluEoB,GAwuEpBpD,GAAiD,WACjD,aACI,MAAM,IAAInoC,UAD6B,uBAqE3C,OAlEAnF,OAAAA,eAAsBstC,EAAtBttC,UAAAA,cAAgF,CAQ5EwJ,IAAK,WACD,IAAKmnC,GAAL,MACI,MAAMC,GADoC,eAG9C,OAAO/zC,KAJM,cAMjB0F,YAd4E,EAe5EC,cAf4E,IAiBhFxC,OAAAA,eAAsBstC,EAAtBttC,UAAAA,SAA2E,CAIvEwJ,IAAK,WACD,IAAKmnC,GAAL,MACI,MAAMC,GADoC,UAG9C,YAAI/zC,KAAKg0C,iBAIL,MAAM,IAAI1rC,UAJ2B,qEAMzC,OAAOtI,KAAKg0C,iBAVC,QAYjBtuC,YAhBuE,EAiBvEC,cAjBuE,IA0B3E8qC,EAAAA,UAAAA,MAAkD,SAAU7iC,GAExD,QADU,IAANA,IAAgBA,OAAF,IACbkmC,GAAL,MACI,MAAMC,GADoC,SAI9C,aADY/zC,KAAKi0C,0BAL0C,QAW3DC,GAAAA,KAX2D,IAc/DzD,EAAAA,UAAAA,GAAwD,SAAU7jC,GAC9D,IAAI5E,EAAShI,KAAKm0C,gBADoD,GAGtE,OADAC,GAFsE,SAM1E3D,EAAAA,UAAAA,GAAwD,WACpDjH,GADgE,OAnEP,EAAZ,GAoFrD,eACI,QAAKrD,EAAL,MAGKhjC,OAAAA,UAAAA,eAAAA,KAAAA,EAAL,8BAGOb,aAPmC,GAS9C,6BACIqoC,EAAAA,0BAD4J,EAE5JnH,EAAAA,0BAF4J,EAI5JmH,EAAAA,YAJ4J,EAK5JA,EAAAA,qBAL4J,EAM5JnB,GAN4J,GAO5JmB,EAAAA,kBAP4J,EAQ5JA,EAAAA,iBAA8B0J,KAC9B1J,EAAAA,UAT4J,EAU5JA,EAAAA,uBAV4J,EAW5JA,EAAAA,aAX4J,EAY5JA,EAAAA,gBAZ4J,EAa5JA,EAAAA,gBAb4J,EAc5JA,EAAAA,gBAd4J,EAe5J,IAAIoH,EAAeuC,GAfyI,GAgB5JC,GAAAA,EAhB4J,GAmB5JrS,EADmBG,EADDgL,MAEQ,WACtB1C,EAAAA,UADkC,EAElC6J,GAFkC,MAGnC,SAAUl1B,GACTqrB,EAAAA,UADY,EAEZiH,GAAAA,EAFY,MAKpB,qBACI,IAAIjH,EAAaxnC,OAAAA,OAAcstC,GADmF,WAE9GpD,EAAiB,aACjBoH,EAAiB,WAAc,OAAOpS,OAAT,IAC7BqS,EAAiB,WAAc,OAAOrS,OAAT,IAC7BsS,EAAiB,WAAc,OAAOtS,OAAT,SACjC,IAAIqN,EAAAA,QACArC,EAAiB,WAAc,OAAOqC,EAAAA,MAAT,UAEjC,IAAIA,EAAAA,QACA+E,EAAiB,YAAmB,OAAO/E,EAAAA,MAAAA,EAAT,UAEtC,IAAIA,EAAAA,QACAgF,EAAiB,WAAc,OAAOhF,EAAT,eAEjC,IAAIA,EAAAA,QACAiF,EAAiB,YAAoB,OAAOjF,EAAAA,MAAT,KAEvCc,GAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAlBkH,GAqBtH,eACI7F,EAAAA,qBADgE,EAEhEA,EAAAA,qBAFgE,EAGhEA,EAAAA,qBAHgE,EAIhEA,EAAAA,4BAJgE,EAMpE,eACIiK,GAAAA,EAAAA,GADsD,GAEtDJ,GAFsD,GAI1D,iBACI,IACI,OAAO7J,EAAAA,uBADP,GAGJ,MAAOkK,GAEH,OADAC,GAAAA,EADe,MAKvB,eACI,OAAOnK,EAAAA,aAA0BA,EAD8B,gBAGnE,mBACI,IACIiK,GAAAA,EAAAA,EADA,GAGJ,MAAOG,GAAU,YACbD,GAAAA,EADa,GAIjB,IAAItR,EAASmH,EAR2D,0BASnEyF,GAAD,IAAJ,aAAoD5M,EAAAA,QAEhD+Q,GAAAA,EADmBD,GAD2D,IAIlFE,GAbwE,GAgB5E,eACI,IAAIhR,EAASmH,EADwD,0BAErE,GAAKA,EAAL,eAGA,IAAInH,EAAAA,sBAIJ,gBADYA,EARyD,QAarE,OAAImH,EAAAA,OAAAA,OAAJ,CAGA,IAAIllC,EAAQuvC,GAhByD,GAiBjEvvC,IAAJ,GACIwvC,GADyB,GAIzBC,GAAAA,EADC,SAVD5D,GADsB,GAe9B,iBACI,aAAI3G,EAAAA,0BAAAA,QACAuJ,GAAAA,EAD4D,GAIpE,eACI,IAAI1Q,EAASmH,EADgD,0BAE7DwK,GAF6D,GAG7DC,GAH6D,GAI7D,IAAIC,EAAmB1K,EAJsC,kBAK7DyJ,GAL6D,GAM7DlS,EAAAA,GAA8B,WAC1BoT,GADsC,MAEvC,SAAU1oC,GACT2oC,GAAAA,EADiB,MAIzB,iBACI,IAAI/R,EAASmH,EADuD,0BAEpE6K,GAFoE,GAIpEtT,EADuByI,EAAAA,gBAH6C,IAItC,WAC1B8K,GADsC,GAEtC,IAAInvC,EAAQk9B,EAF0B,OAItC,GADA4R,GAHsC,IAIjChF,GAAD,IAAJ,aAAoD9pC,EAAsB,CACtE,IAAIyrC,EAAeuC,GADmD,GAEtEC,GAAAA,EAFsE,GAI1EC,GARsC,MASvC,SAAU5nC,GACT,aAAI42B,EAAAA,QACA4Q,GAD8B,GAGlCsB,GAAAA,EAJiB,MAOzB,eAEI,OADkBpC,GAD8C,MAKpE,iBACI,IAAI9P,EAASmH,EADgD,0BAE7DyJ,GAF6D,GAG7DpD,GAAAA,EAH6D,GAMjE,eACI,OAAO,IAAI1oC,UAAU,4BAA8BjF,EADZ,yCAI3C,eACI,OAAO,IAAIiF,UAAU,6CAA+CjF,EADlB,0DAItD,eACI,OAAO,IAAIiF,UAAU,yCAA2CjF,EADpB,sDAGhD,eACI,OAAO,IAAIiF,UAAU,UAAYjF,EADK,qCAG1C,eACI6tC,EAAAA,eAAwBnN,GAAW,SAAUvkC,EAASC,GAClDyxC,EAAAA,uBAD0D,EAE1DA,EAAAA,sBAF0D,EAG1DA,EAAAA,oBAH0D,aAMlE,iBACIoB,GADoE,GAEpER,GAAAA,EAFoE,GAIxE,eACIQ,GAD4D,GAE5DT,GAF4D,GAIhE,sBACI,IAAIX,EAAAA,wBAGJjN,EAA0BiN,EAJ4B,gBAKtDA,EAAAA,sBALsD,GAMtDA,EAAAA,4BANsD,EAOtDA,EAAAA,2BAPsD,EAQtDA,EAAAA,oBARsD,YAU1D,iBACIuB,GAAAA,EAD+D,GAGnE,oBACI,IAAIvB,EAAAA,yBAGJA,EAAAA,4BAJ+C,GAK/CA,EAAAA,4BAL+C,EAM/CA,EAAAA,2BAN+C,EAO/CA,EAAAA,oBAP+C,YASnD,eACIA,EAAAA,cAAuBnN,GAAW,SAAUvkC,EAASC,GACjDyxC,EAAAA,sBADyD,EAEzDA,EAAAA,qBAFyD,KAI7DA,EAAAA,mBALiD,UAOrD,iBACIkB,GADmE,GAEnEgB,GAAAA,EAFmE,GAIvE,eACIhB,GAD2D,GAE3DjB,GAF2D,GAI/D,sBACI,IAAID,EAAAA,uBAGJjN,EAA0BiN,EAJ2B,eAKrDA,EAAAA,qBALqD,GAMrDA,EAAAA,2BANqD,EAOrDA,EAAAA,0BAPqD,EAQrDA,EAAAA,mBARqD,YAUzD,eACIkB,GAD4C,GAGhD,iBACIG,GAAAA,EAD8D,GAGlE,oBACI,IAAIrB,EAAAA,wBAGJA,EAAAA,2BAJ8C,GAK9CA,EAAAA,2BAL8C,EAM9CA,EAAAA,0BAN8C,EAO9CA,EAAAA,mBAP8C,aArQlD/tC,OAAAA,iBAAwBstC,GAAxBttC,UAAmE,CAC/DwyC,YAAa,CAAEjwC,YADgD,GAE/DkwC,OAAQ,CAAElwC,YAFqD,GAG/Dqe,MAAO,CAAEre,YAHsD,KAKnE,kBAAW+7B,EAAP,aACAt+B,OAAAA,eAAsBstC,GAAtBttC,UAAiEs+B,EAAjEt+B,YAA6F,CACzFsC,MADyF,kCAEzFE,cAFyF,IA0QjG,IAAIkwC,GAA6C,qBAAjBC,aAA+BA,kBAhkFvC,EAmkFxB,eACI,GAAsB,oBAAT9sC,GAAb,kBAA2CA,EACvC,OAD2D,EAG/D,IAEI,OADA,IADA,KAIJ,MAAOw9B,IACH,OADO,GAIf,cAEI,IAAIx9B,EAAO,SAAsBovB,EAAS/0B,GACtCrD,KAAA,QAAeo4B,GAD6B,GAE5Cp4B,KAAA,KAAYqD,GAFgC,QAGxC3D,MAAJ,mBACIA,MAAAA,kBAAAA,KAA8BM,KADL,cAMjC,OAFAgJ,EAAAA,UAAiB7F,OAAAA,OAAczD,MATG,WAUlCyD,OAAAA,eAAsB6F,EAAtB7F,UAAAA,cAAqD,CAAEsC,MAAF,EAAeG,UAAf,EAA+BD,cAA/B,IAVnB,EActC,IAAIowC,GAAiBC,GAAAA,IAAAA,GAAqEC,KAE1F,yBACI,IAAI1S,EAAS8D,EAD8E,GAEvF6J,EAASZ,GAF8E,GAG3F5tB,EAAAA,YAH2F,EAI3F,IAAIwzB,GAJuF,EAMvFC,EAAe9T,OANwE,GAO3F,OAAO0B,GAAW,SAAUvkC,EAASC,GACjC,IADyC,EAEzC,YAAIm2C,EAAsB,CAsBtB,GArBAjB,EAAiB,WACb,IAAI5wB,EAAQ,IAAIgyB,GAAe,UADN,cAErBK,EAFqB,GAGzB,GACIA,EAAAA,MAAa,WACT,mBAAIC,EAAAA,OACOlG,GAAAA,EADqB,GAGzB9N,OAJc,MAO7B,GACI+T,EAAAA,MAAa,WACT,mBAAI1zB,EAAAA,OACOkhB,GAAAA,EADuB,GAG3BvB,OAJc,MAO7BiU,GAAmB,WAAc,OAAOl3C,QAAQ09B,IAAIsZ,EAAQjoB,KAAI,SAAUooB,GAAU,OAAOA,WAA3FD,EAnByB,IAqBzBV,EAAJ,QAAoB,YAChBjB,IAGJiB,EAAAA,iBAAAA,QA1BsB,GA+B1B,aACI,OAAO7R,GAAW,SAAUyS,EAAaC,GACrC,cACI,EACID,IAKAvU,EAAmByU,IAAnBzU,EAHC,GAMTn5B,GAXiD,MAczD,aACI,SACWu5B,GADO,GAGXJ,EAAmBiP,EAAnB,eAAyC,WAC5C,OAAOnN,GAAW,SAAU4S,EAAaC,GACrC/Q,GAAAA,EAAwC,CACpCC,YAAa,YACTqQ,EAAelU,EAAmBiR,GAAAA,EAAnBjR,QAAAA,EADW,GAE1B0U,GAF0B,IAI9B5Q,YAAa,WAAc,OAAO4Q,GAAT,IACzB3Q,YANoC,UAuCpD,GA3BA6Q,EAAAA,EAA2BtT,EAA3BsT,gBAAkD,SAAUpF,GACxD,EAIIqF,GAAAA,EADC,GAFDR,GAAmB,WAAc,OAAOnG,GAAAA,EAAT,MAA/BmG,EADe,MAQvBO,EAAAA,EAAyB3F,EAAzB2F,gBAAgD,SAAUpF,GACtD,EAIIqF,GAAAA,EADC,GAFDR,GAAmB,WAAc,OAAO1S,GAAAA,EAAT,MAA/B0S,EADgB,MAQxBS,EAAAA,EAA0BxT,EAA1BwT,gBAAiD,WAC7C,EAIID,IAHAR,GAAmB,WAAc,OAAOU,GAAT,SAOnC5G,GAAAA,IAAJ,WAAiDiG,EAAAA,OAA0B,CACvE,IAAIY,EAAe,IAAI3uC,UADgD,+EAEvE,EAIIwuC,GAAAA,EADC,GAFDR,GAAmB,WAAc,OAAO1S,GAAAA,EAAT,MAA/B0S,EADgB,GAQxB,aAGI,IAAIY,EAHyB,EAI7B,OAAOjV,EAAmBkU,GAAc,WAAc,OAAOe,IAAAA,EAAmCC,SAA5C,KAExD,kBACI,YAAI3T,EAAAA,OACA+S,EAAO/S,EADsB,cAI7B4T,EAAAA,EADC,GAIT,kBACI,WAAI5T,EAAAA,OACA+S,IAGAc,EAAAA,EADC,GAIT,kBAWI,aACInV,EAAYqU,KAAU,WAAc,OAAOe,EAAAA,EAAT,MAAsD,SAAUC,GAAY,OAAOD,GAAAA,EAAT,MAXhH,IAGApB,GAJgE,EAK5DG,aAAAA,EAAAA,QAA+BjG,GAAnC,GAIIoH,IAHAH,EAAgBF,IAD0D,IAUlF,gBACI,IAGAjB,GAJ8B,EAK1BG,aAAAA,EAAAA,QAA+BjG,GAAnC,GAIIkH,EAAAA,EADC,GAFDD,EAAgBF,KAAyB,WAAc,OAAOG,EAAAA,EAAT,OAM7D,gBACIrE,GAD8B,GAE9B/M,EAF8B,QAG9B,IAAI0P,GACAA,EAAAA,oBAAAA,QADsB,GAG1B,EACIn2C,EADS,GAITD,OADC,GA3DTykC,EAA0BwT,QAuElC,IAAIC,GAAiD,WACjD,aACI,MAAM,IAAIpvC,UAD6B,uBA4E3C,OAzEAnF,OAAAA,eAAsBu0C,EAAtBv0C,UAAAA,cAAgF,CAK5EwJ,IAAK,WACD,IAAKgrC,GAAL,MACI,MAAMC,GADoC,eAG9C,OAAOC,GAJM,OAMjBnyC,YAX4E,EAY5EC,cAZ4E,IAkBhF+xC,EAAAA,UAAAA,MAAkD,WAC9C,IAAKC,GAAL,MACI,MAAMC,GADoC,SAG9C,IAAKE,GAAL,MACI,MAAM,IAAIxvC,UAD+C,mDAG7DyvC,GAP0D,OAS9DL,EAAAA,UAAAA,QAAoD,SAAU9rC,GAE1D,QADc,IAAVA,IAAoBA,OAAF,IACjB+rC,GAAL,MACI,MAAMC,GADoC,WAG9C,IAAKE,GAAL,MACI,MAAM,IAAIxvC,UAD+C,qDAG7D,OAAO0vC,GAAAA,KAR0D,IAarEN,EAAAA,UAAAA,MAAkD,SAAU9pC,GAExD,QADU,IAANA,IAAgBA,OAAF,IACb+pC,GAAL,MACI,MAAMC,GADoC,SAG9CK,GAAAA,KAL2D,IAQ/DP,EAAAA,UAAAA,GAAyD,SAAU9qC,GAC/D48B,GADuE,MAEvE,IAAIxhC,EAAShI,KAAKypC,iBAFqD,GAIvE,OADAyO,GAHuE,SAO3ER,EAAAA,UAAAA,GAAuD,SAAUzS,GAC7D,IAAIzB,EAASxjC,KAD6D,0BAE1E,GAAIA,KAAK4pC,OAAO7/B,OAAhB,EAA4B,CACxB,IAAI6B,EAAQwpC,GADY,MAEpBp1C,KAAKm4C,iBAAT,IAA4Bn4C,KAAK4pC,OAAO7/B,QACpCmuC,GADkD,MAElDvM,GAFkD,IAKlDyM,GADC,MAGLnT,EAAAA,YATwB,QAYxBuF,GAAAA,EADC,GAED4N,GAFC,OAxEoD,EAAZ,GA4FrD,eACI,QAAKjS,EAAL,MAGKhjC,OAAAA,UAAAA,eAAAA,KAAAA,EAAL,8BAGOb,aAPmC,GAS9C,eACqB+1C,GADgD,KAK7D1N,EAAJ,SACIA,EAAAA,YADqB,GAIzBA,EAAAA,UATiE,EAWjEzI,EADkByI,EAV+C,kBAWxC,WACrBA,EAAAA,UADiC,EAE7BA,EAAJ,aACIA,EAAAA,YADuB,EAEvByN,GAFuB,OAI5B,SAAUxqC,GACTqqC,GAAAA,EADY,QAIpB,eACI,IAAIzU,EAASmH,EADkD,0BAE/D,QAAKmN,GAAL,MAGKnN,EAAL,cAGItF,GAAAA,IAAkCwH,GAAAA,GAAtC,IAGkBgL,GAX6C,GAY/D,GAKJ,eACIlN,EAAAA,oBADgE,EAEhEA,EAAAA,sBAFgE,EAGhEA,EAAAA,4BAHgE,EAMpE,eACI,GAAKmN,GAAL,IAGA,IAAItU,EAASmH,EAJyC,0BAKtDA,EAAAA,iBALsD,EAMtD,IAAIA,EAAAA,OAAAA,SACAuN,GADgC,GAEhCvM,GAFgC,KAKxC,iBACI,GAAKmM,GAAL,IAGA,IAAItU,EAASmH,EAJkD,0BAK/D,GAAItF,GAAAA,IAAkCwH,GAAAA,GAAtC,EACI9B,GAAAA,EAAAA,GADgF,OAG/E,CACD,IAAI0I,OAAY,EAChB,IACIA,EAAY9I,EAAAA,uBADZ,GAGJ,MAAOkK,GAEH,MADAoD,GAAAA,EADe,KAInB,IACIrD,GAAAA,EAAAA,EADA,GAGJ,MAAOG,GAEH,MADAkD,GAAAA,EADa,MAKrBG,GAzB+D,IA2BnE,iBACI,IAAI5U,EAASmH,EAD4C,0BAEzD,aAAInH,EAAAA,SAGJgG,GALyD,GAMzD0O,GANyD,GAOzDlL,GAAAA,EAPyD,IAS7D,eACI,IAAI1mC,EAAQqkC,EAAAA,0BADmD,OAE/D,kBAAIrkC,EAAqB,KAGzB,WAAIA,EAAoB,EAGjBqkC,EAAAA,aAA0BA,EAR8B,gBAWnE,eACI,OAAI0N,GAAJ,GAKJ,eACI,IAAI/xC,EAAQqkC,EAAAA,0BADsD,OAElE,OAAKA,EAAD,iBAAJ,aAAmCrkC,EAKvC,2BACIqkC,EAAAA,0BAD4I,EAE5IA,EAAAA,YAF4I,EAG5IA,EAAAA,qBAH4I,EAI5InB,GAJ4I,GAK5ImB,EAAAA,UAL4I,EAM5IA,EAAAA,iBAN4I,EAO5IA,EAAAA,YAP4I,EAQ5IA,EAAAA,UAR4I,EAS5IA,EAAAA,uBAT4I,EAU5IA,EAAAA,aAV4I,EAW5IA,EAAAA,eAX4I,EAY5IA,EAAAA,iBAZ4I,EAa5InH,EAAAA,0BAb4I,EAe5ItB,EAAYG,EADMgL,MAC4B,WAC1C1C,EAAAA,UADsD,EAEtDyN,GAFsD,MAGvD,SAAU94B,GACT24B,GAAAA,EADY,MAIpB,qBACI,IAAItN,EAAaxnC,OAAAA,OAAcu0C,GADuF,WAElHrK,EAAiB,aACjBC,EAAgB,WAAc,OAAOjL,OAAT,IAC5BkL,EAAkB,WAAc,OAAOlL,OAAT,SAClC,IAAIiW,EAAAA,QACAjL,EAAiB,WAAc,OAAOiL,EAAAA,MAAT,UAEjC,IAAIA,EAAAA,OACAhL,EAAgB,WAAc,OAAOgL,EAAAA,KAAT,UAEhC,IAAIA,EAAAA,SACA/K,EAAkB,YAAoB,OAAO+K,EAAAA,OAAT,KAExCC,GAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAdsH,GAiB1H,eACI,OAAO,IAAIjwC,UAAU,6CAA+CjF,EADlB,0DAItD,iBACI,OAAI0lC,GAA+BvF,EAAnC,2BACWgV,GAD2D,GAG/DC,GAJyC,GAMpD,iBACI,IADuD,UACnDlV,EAAS8D,EAD0C,GAEnDqR,GAFmD,EAGnDC,GAHmD,EAInDC,GAJmD,EAKnDC,GALmD,EAWnDC,EAAgB/U,GAAW,SAAUvkC,GACrCu5C,EAD8C,KAGlD,aACI,UACIJ,GADS,EAEFtW,OAFE,KAIbqW,GALqB,EAgDrB7S,GAAAA,EA1CkB,CACdC,YAAa,YAITjG,GAAe,WACX8Y,GADuB,EAEvB,IAAIK,EAFmB,EAGnBC,EAHmB,EASvB,GACIjB,GAAuCkB,EAAvClB,0BADY,GAGhB,GACIA,GAAuCmB,EAAvCnB,0BADY,GAGhBU,GAfuB,EAgBvB,GACIpL,QAIZvH,YAAa,WACT2S,GADqB,EAErB,GACIX,GAAqCmB,EADzB,2BAGhB,GACInB,GAAqCoB,EADzB,2BAGXP,GAAL,GACIG,OAD0B,IAIlC/S,YAAa,WACT0S,GADqB,KAKtBrW,OAjDc,IAmDzB,cAGI,GAFAuW,GAD8B,EAE9BQ,EAF8B,EAG9B,EAAe,CACX,IAAIC,EAAkBC,GAAoB,CAACF,EAASG,IAChDC,EAAe5V,GAAAA,EAFR,GAGXmV,EAHW,GAKf,OAR8B,EAUlC,cAGI,GAFAF,GAD8B,EAE9BU,EAF8B,EAG9B,EAAe,CACX,IAAIF,EAAkBC,GAAoB,CAACF,EAASG,IAChDC,EAAe5V,GAAAA,EAFR,GAGXmV,EAHW,GAKf,OAR8B,EAUlC,cAYA,OATAG,EAAUO,GAAAA,EAAAA,EAxF6C,GAyFvDN,EAAUM,GAAAA,EAAAA,EAzF6C,GA0FvDrC,EAAc7T,EAAd6T,gBAAqC,SAAU93B,GAC3C24B,GAAqCiB,EAArCjB,0BAD8C,GAE9CA,GAAqCkB,EAArClB,0BAF8C,GAGzCW,GAAL,GACIG,OAD0B,MAI3B,CAACG,EAASC,GAErB,eACI,IADmC,UAC/B5V,EAAS8D,EADsB,GAE/BqR,GAF+B,EAG/BgB,GAH+B,EAI/BC,GAJ+B,EAK/Bf,GAL+B,EAM/BC,GAN+B,EAY/BC,EAAgB/U,GAAW,SAAUvkC,GACrCu5C,EAD8C,KAGlD,cACI3B,EAAcwC,EAAdxC,gBAAyC,SAAU93B,GAC3Cs6B,IAAJ,IAGAtQ,GAAkC4P,EAAlC5P,0BAJkD,GAKlDA,GAAkC6P,EAAlC7P,0BALkD,GAM7CsP,GAAL,GACIG,OAD0B,OAKtC,aACQpL,GAAJ,KACIzH,EADoC,GAGpC2T,EADAtW,EAAS8D,EAF2B,KA+DxCxB,GAAAA,EA1DkB,CACdC,YAAa,YAITjG,GAAe,WACX6Z,GADuB,EAEvBC,GAFuB,EAGvB,IAAIX,EAHmB,EAInBC,EAJmB,EAKvB,IAAKL,IAAL,EACI,IACIK,EAASa,GADT,GAGJ,MAAOC,GAAQ,OACXzQ,GAAkC4P,EAAlC5P,0BADW,GAEXA,GAAkC6P,EAAlC7P,0BAFW,QAGXyP,EAAqBnV,GAAAA,EAHV,IAOnB,GACIyF,GAAoC6P,EAApC7P,0BADY,GAGhB,GACIA,GAAoC8P,EAApC9P,0BADY,GAGhBqP,GAtBuB,EAuBvB,EACIsB,IAEKL,GACLM,QAIZlU,YAAa,WACT2S,GADqB,EAErB,GACItP,GAAkC8P,EADtB,2BAGhB,GACI9P,GAAkC+P,EADtB,2BAGZD,EAAAA,0BAAAA,kBAAAA,OAAJ,GACIzQ,GAAoCyQ,EAApCzQ,0BADgE,GAGhE0Q,EAAAA,0BAAAA,kBAAAA,OAAJ,GACI1Q,GAAoC0Q,EAApC1Q,0BADgE,GAG/DmQ,GAAL,GACIG,OAD0B,IAIlC/S,YAAa,WACT0S,GADqB,KAMjC,gBACQxT,GAAJ,KACIgB,EADuC,GAGvC2T,EADAtW,EAAS2W,GAF8B,KAK3C,IAAIC,EAAaC,EAAAA,EANyB,EAOtCC,EAAcD,EAAAA,EAPwB,EAwE1CpM,GAAAA,EAAAA,EAhEsB,CAClBlI,YAAa,YAITjG,GAAe,WACX6Z,GADuB,EAEvBC,GAFuB,EAGvB,IAAIW,EAAeF,EAAAA,EAHI,EAKvB,GADoBA,EAAAA,EAJG,EAqBlB,GACDzR,GAA+CwR,EAA/CxR,0BADoB,OAhBJ,CAChB,IAAI4R,OAAc,EAClB,IACIA,EAAcT,GADd,GAGJ,MAAOC,GAAQ,OACXzQ,GAAkC6Q,EAAlC7Q,0BADW,GAEXA,GAAkC+Q,EAAlC/Q,0BAFW,QAGXyP,EAAqBnV,GAAAA,EAHV,IAMf,GACI+E,GAA+CwR,EAA/CxR,0BADe,GAGnBU,GAAoCgR,EAApChR,0BAdgB,GAmBpBqP,GAxBuB,EAyBvB,EACIsB,IAEKL,GACLM,QAIZlU,YAAa,YACT2S,GAD0B,EAE1B,IAAI4B,EAAeF,EAAAA,EAFO,EAGtBI,EAAgBJ,EAAAA,EAHM,EAI1B,GACIhR,GAAkC+Q,EADnB,2BAGnB,GACI/Q,GAAkCiR,EADlB,gCAGpB,IAAIzuC,IACA,GACI+8B,GAA+CwR,EAA/CxR,0BADe,IAGd6R,GAAiBH,EAAAA,0BAAAA,kBAAAA,OAAtB,GACI5R,GAAoC4R,EAApC5R,0BADsF,IAIzF6R,GAAL,GACIvB,OADiC,IAIzC/S,YAAa,WACT0S,GADqB,KAMjC,aACI,KAEI,OADAgB,GADS,EAEFrX,OAFE,GAIbqW,GALsB,EAMtB,IAAIzL,EAAchE,GAA2CiQ,EANvC,2BAatB,OANA,OAAIjM,EACAwN,IAGAC,EAAmBzN,EAAnByN,OADC,GAGErY,OAbe,GAe1B,aACI,KAEI,OADAsX,GADS,EAEFtX,OAFE,GAIbqW,GALsB,EAMtB,IAAIzL,EAAchE,GAA2CkQ,EANvC,2BAatB,OANA,OAAIlM,EACAwN,IAGAC,EAAmBzN,EAAnByN,OADC,GAGErY,OAbe,GAe1B,cAGI,GAFAuW,GAD8B,EAE9BQ,EAF8B,EAG9B,EAAe,CACX,IAAIC,EAAkBC,GAAoB,CAACF,EAASG,IAChDC,EAAe5V,GAAAA,EAFR,GAGXmV,EAHW,GAKf,OAR8B,EAUlC,cAGI,GAFAF,GAD8B,EAE9BU,EAF8B,EAG9B,EAAe,CACX,IAAIF,EAAkBC,GAAoB,CAACF,EAASG,IAChDC,EAAe5V,GAAAA,EAFR,GAGXmV,EAHW,GAKf,OAR8B,EAUlC,cAMA,OAHAG,EAAUyB,GAAAA,EAAAA,EA5NyB,GA6NnCxB,EAAUwB,GAAAA,EAAAA,EA7NyB,GA8NnCd,EA9NmC,GA+N5B,CAACX,EAASC,GAGrB,iBACI9K,EAAAA,EAD2D,GAE3D,IAAIM,EAFuD,EAGvD7E,EAAwB6E,OAAAA,QAAkC,IAAbA,OAAsB,EAASA,EAHrB,sBAIvDvI,EAASuI,OAAAA,QAAkC,IAAbA,OAAsB,EAASA,EAJN,OAKvDiM,EAAOjM,OAAAA,QAAkC,IAAbA,OAAsB,EAASA,EALJ,KAMvDnrC,EAAQmrC,OAAAA,QAAkC,IAAbA,OAAsB,EAASA,EANL,MAOvD1nC,EAAO0nC,OAAAA,QAAkC,IAAbA,OAAsB,EAASA,EAPJ,KAQ3D,MAAO,CACH7E,2BAAuBA,IAAAA,OAAAA,EAEnBzB,EAAAA,EAA+DliC,EAHhE,4CAIHigC,YAAQA,IAAAA,OAAAA,EAEJyU,GAAAA,EAAAA,EAAwD10C,EANzD,6BAOHy0C,UAAMA,IAAAA,OAAAA,EAEFE,GAAAA,EAAAA,EAAoD30C,EATrD,2BAUH3C,WAAOA,IAAAA,OAAAA,EAEHu3C,GAAAA,EAAAA,EAAsD50C,EAZvD,4BAaHc,UAAMA,IAAAA,OAAAA,EAAiC+zC,GAAAA,EAAgC70C,EAbpE,4BAgBX,mBAEI,OADAsoC,EAAAA,EADkE,GAE3D,SAAU7hC,GAAU,OAAOqiC,EAAAA,EAAAA,EAA0B,CAAnC,KAE7B,mBAEI,OADAR,EAAAA,EADgE,GAEzD,SAAU9D,GAAc,OAAOsE,EAAAA,EAAAA,EAA0B,CAAnC,KAEjC,mBAEI,OADAR,EAAAA,EADiE,GAE1D,SAAU9D,GAAc,OAAOrI,EAAAA,EAAAA,EAA0B,CAAnC,KAEjC,iBAEI,cADAr7B,EAAO,GADuC,GAG1C,MAAM,IAAIqB,UAAUnC,EAAAA,KAAAA,EADF,6DAGtB,OAL8C,EAQlD,iBACIkoC,EAAAA,EAD4C,GAE5C,IAAIlnB,EAAOta,OAAAA,QAAgC,IAAZA,OAAqB,EAASA,EAFjB,KAG5C,MAAO,CACHsa,UAAMA,IAAAA,OAAAA,EAAiC8zB,GAAAA,EAAsC90C,EAJrC,4BAOhD,iBAEI,aADAghB,EAAO,GAD6C,GAGhD,MAAM,IAAI7e,UAAUnC,EAAAA,KAAAA,EADH,mEAGrB,OALoD,EAQxD,iBACIkoC,EAAAA,EAD8C,GAE9C,IAAI6M,EAAgBruC,OAAAA,QAAgC,IAAZA,OAAqB,EAASA,EAFxB,cAG9C,MAAO,CAAEquC,cAAeC,QAHsB,IAMlD,iBACI9M,EAAAA,EAD0C,GAE1C,IAAI+M,EAAevuC,OAAAA,QAAgC,IAAZA,OAAqB,EAASA,EAF3B,aAGtCquC,EAAgBruC,OAAAA,QAAgC,IAAZA,OAAqB,EAASA,EAH5B,cAItCwuC,EAAexuC,OAAAA,QAAgC,IAAZA,OAAqB,EAASA,EAJ3B,aAKtC+oC,EAAS/oC,OAAAA,QAAgC,IAAZA,OAAqB,EAASA,EALrB,OAS1C,YAHA,IAAI+oC,GACA0F,GAAAA,EAA0Bn1C,EADJ,6BAGnB,CACHi1C,aAAcD,QADX,GAEHD,cAAeC,QAFZ,GAGHE,aAAcF,QAHX,GAIHvF,OAJG,GAOX,iBACI,IAAK2F,GAAL,GACI,MAAM,IAAIjzC,UAAUnC,EADI,2BAKhC,iBACIkoC,EAAAA,EADgD,GAEhD,IAAImN,EAAW3T,OAAAA,QAA0B,IAATA,OAAkB,EAASA,EAFX,SAGhD4T,EAAAA,EAAAA,WAHgD,wBAIhDrW,EAAAA,EAA+Bj/B,EAJiB,+BAKhD,IAAIP,EAAWiiC,OAAAA,QAA0B,IAATA,OAAkB,EAASA,EALX,SAQhD,OAFA4T,EAAAA,EAAAA,WANgD,wBAOhDtJ,GAAAA,EAA+BhsC,EAPiB,+BAQzC,CAAEq1C,SAAF,EAAsB51C,SAAtB,GA9lBXzC,OAAAA,iBAAwBu0C,GAAxBv0C,UAAmE,CAC/DyqC,MAAO,CAAEloC,YADsD,GAE/DmoC,QAAS,CAAEnoC,YAFoD,GAG/Dqe,MAAO,CAAEre,YAHsD,GAI/DooC,YAAa,CAAEpoC,YAJgD,KAMnE,kBAAW+7B,EAAP,aACAt+B,OAAAA,eAAsBu0C,GAAtBv0C,UAAiEs+B,EAAjEt+B,YAA6F,CACzFsC,MADyF,kCAEzFE,cAFyF,IA+lBjG,IAAI+1C,GAAgC,WAChC,qBACgC,IAAxBC,IAAkCA,EAAF,SAChB,IAAhBpM,IAA0BA,EAAF,SAC5B,IAAIoM,EACAA,EADmC,KAInCnM,EAAAA,EADC,mBAGL,IAAIpB,EAAWqB,GAAAA,EATuC,oBAUlD6I,EAAmBsD,GAAAA,EAV+B,mBAYtD,GADAC,GAXsD,MAYtD,UAAIvD,EAAAA,KAAmC,CACnC,YAAIlK,EAAAA,KACA,MAAM,IAAIpG,WADmB,8DAIjC8T,GAAAA,KAAAA,EADoB9L,GAAAA,EAJe,QAOlC,CACD,IAAIH,EAAgBC,GADnB,GAGDiM,GAAAA,KAAAA,EADoB/L,GAAAA,EAFnB,OAoHT,OA9GA7sC,OAAAA,eAAsBu4C,EAAtBv4C,UAAAA,SAA0D,CAItDwJ,IAAK,WACD,IAAKo4B,GAAL,MACI,MAAMiX,GADmB,UAG7B,OAAO3W,GAJM,OAMjB3/B,YAVsD,EAWtDC,cAXsD,IAmB1D+1C,EAAAA,UAAAA,OAAkC,SAAU9uC,GAExC,YADe,IAAXA,IAAqBA,OAAF,GAClBm4B,GAAL,MAGIM,GAAJ,MACW9C,EAAoB,IAAIj6B,UADD,qDAG3Bs7B,GAAAA,KARyC,GAGrCrB,EAAoByZ,GADF,YAQjCN,EAAAA,UAAAA,UAAqC,SAAUO,GAE3C,QADmB,IAAfA,IAAyBA,OAAF,IACtBlX,GAAL,MACI,MAAMiX,GADmB,aAI7B,gBADcE,GAAAA,EALyC,mBAMnDrvC,KACOw6B,EADqB,MAGzB6S,GATgD,OAW3DwB,EAAAA,UAAAA,YAAuC,SAAUS,EAAcF,GAE3D,QADmB,IAAfA,IAAyBA,EAAF,KACtBlX,GAAL,MACI,MAAMiX,GADmB,eAG7B7W,EAAAA,EAAAA,EALuE,eAMvE,IAAIntB,EAAYokC,GAAAA,EANuD,mBAOnEvvC,EAAUwvC,GAAAA,EAPyD,oBAQvE,GAAIhX,GAAJ,MACI,MAAM,IAAI/8B,UADoB,kFAGlC,GAAI4nC,GAAuBl4B,EAA3B,UACI,MAAM,IAAI1P,UADkC,kFAKhD,OADA27B,EADcqY,GAAAA,KAA2BtkC,EAA3BskC,SAA+CzvC,EAA/CyvC,aAAqEzvC,EAArEyvC,aAA2FzvC,EAA3FyvC,cAAkHzvC,EAdzD,SAgBhEmL,EAhBgE,UAkB3E0jC,EAAAA,UAAAA,OAAkC,SAAUa,EAAaN,GAErD,QADmB,IAAfA,IAAyBA,EAAF,KACtBlX,GAAL,MACI,OAAOxC,EAAoByZ,GADF,WAG7B,YAAIO,EACA,OAAOha,EADoB,wCAG/B,IAAK2M,GAAL,GACI,OAAO3M,EAAoB,IAAIj6B,UADC,8EAGpC,IAXiE,EAYjE,IACIuE,EAAUwvC,GAAAA,EADV,oBAGJ,MAAOzuC,GACH,OAAO20B,EADD,GAGV,OAAI8C,GAAJ,MACW9C,EAAoB,IAAIj6B,UADD,8EAG9B4nC,GAAJ,GACW3N,EAAoB,IAAIj6B,UADM,8EAGlCg0C,GAAAA,KAAAA,EAAwCzvC,EAAxCyvC,aAA8DzvC,EAA9DyvC,aAAoFzvC,EAApFyvC,cAA2GzvC,EAxBjD,SAqCrE6uC,EAAAA,UAAAA,IAA+B,WAC3B,IAAK3W,GAAL,MACI,MAAMiX,GADmB,OAI7B,OAAO1C,GADQkD,GAJwB,QAO3Cd,EAAAA,UAAAA,OAAkC,SAAUO,GAExC,QADmB,IAAfA,IAAyBA,OAAF,IACtBlX,GAAL,MACI,MAAMiX,GADmB,UAI7B,OAAOS,GAAAA,KADOC,GAAAA,EALsC,mCAhIZ,EAAZ,GAkKpC,4BAC0B,IAAlBvO,IAA4BA,EAAF,QACR,IAAlB0B,IAA4BA,EAAgB,WAAc,OAAF,IAC5D,IAAIrM,EAASrgC,OAAAA,OAAcu4C,GAH6E,WAOxG,OAHAG,GAJwG,GAMxGtD,GAAAA,EADiBp1C,OAAAA,OAAcu0C,GALyE,WAMxGa,EAAAA,EAAAA,EAAAA,EANwG,KAU5G,mBACI,IAAI/U,EAASrgC,OAAAA,OAAcu4C,GADmD,WAK9E,OAHAG,GAF8E,GAI9EpO,GAAAA,EADiBtqC,OAAAA,OAAc2lC,GAH+C,WAI9E2E,EAAAA,EAAAA,EAAAA,OAJ8E,KAOlF,eACIjK,EAAAA,OADsC,WAEtCA,EAAAA,aAFsC,EAGtCA,EAAAA,kBAHsC,EAItCA,EAAAA,YAJsC,EAM1C,eACI,QAAK2C,EAAL,MAGKhjC,OAAAA,UAAAA,eAAAA,KAAAA,EAAL,8BAGOb,aAPkB,GAS7B,eACI,gBAAIkhC,EAAAA,QAMR,iBAEI,GADAA,EAAAA,YAD0C,EAE1C,WAAIA,EAAAA,OACA,OAAOnB,OADqB,GAGhC,eAAImB,EAAAA,OACA,OAAOjB,EAAoBiB,EADE,cAGjCmI,GAR0C,GAS1C,IAAIpI,EAASC,EAT6B,QAiB1C,YAPID,IAAAA,GAAwBoK,GAA5B,KACIpK,EAAAA,kBAAAA,SAAiC,SAAU0I,GACvCA,EAAAA,iBADwD,MAG5D1I,EAAAA,kBAA2B,IAJiC,GAOzDuD,EADmBtD,EAAAA,0BAAAA,GAhBgB,MAmB9C,eACIA,EAAAA,OADiC,SAEjC,IAAID,EAASC,EAFoB,aAGjC,IAAID,IAGJS,EANiC,GAO7BkB,GAAJ,KACI3B,EAAAA,cAAAA,SAA6B,SAAU0B,GACnCA,EADgD,iBAGpD1B,EAAAA,cAAuB,IAJgB,IAO/C,iBACIC,EAAAA,OADoC,UAEpCA,EAAAA,aAFoC,EAGpC,IAAID,EAASC,EAHuB,aAIpC,IAAID,IAGJM,EAAAA,EAPoC,GAQhCqB,GAAJ,IACI3B,EAAAA,cAAAA,SAA6B,SAAU0B,GACnCA,EAAAA,YADgD,MAGpD1B,EAAAA,cAAuB,IAJgB,IAOvCA,EAAAA,kBAAAA,SAAiC,SAAU0I,GACvCA,EAAAA,YADwD,MAG5D1I,EAAAA,kBAA2B,IAJ1B,IAQT,eACI,OAAO,IAAIj7B,UAAU,4BAA8BjF,EADZ,yCAI3C,iBACIgrC,EAAAA,EAD+C,GAE/C,IAAIF,EAAgBG,OAAAA,QAA0B,IAATA,OAAkB,EAASA,EAFjB,cAI/C,OADAmN,EAAAA,EAAAA,gBAH+C,uBAIxC,CACHtN,cAAeI,EAL4B,IA1HnDprC,OAAAA,iBAAwBu4C,GAAxBv4C,UAAkD,CAC9CijC,OAAQ,CAAE1gC,YADoC,GAE9Ci3C,UAAW,CAAEj3C,YAFiC,GAG9Ck3C,YAAa,CAAEl3C,YAH+B,GAI9Cm3C,OAAQ,CAAEn3C,YAJoC,GAK9Co3C,IAAK,CAAEp3C,YALuC,GAM9CiC,OAAQ,CAAEjC,YANoC,GAO9CwsC,OAAQ,CAAExsC,YAPoC,KASlD,kBAAW+7B,EAAP,aACAt+B,OAAAA,eAAsBu4C,GAAtBv4C,UAAgDs+B,EAAhDt+B,YAA4E,CACxEsC,MADwE,iBAExEE,cAFwE,IAKhF,kBAAW87B,EAAP,eACAt+B,OAAAA,eAAsBu4C,GAAtBv4C,UAAgDs+B,EAAhDt+B,cAA8E,CAC1EsC,MAAOi2C,GAAAA,UADmE,OAE1E91C,UAF0E,EAG1ED,cAH0E,IAoHlF,IAAIo3C,GAAyB,YACzB,OAAOnxC,EADmC,YAG9CzI,OAAAA,eAAAA,GAAAA,OAAsD,CAClDsC,MADkD,OAElDE,cAFkD,IAStD,IAAIq3C,GAA2C,WAC3C,cACI7X,EAAAA,EAAAA,EADwC,6BAExCt4B,EAAUowC,GAAAA,EAF8B,mBAGxCj9C,KAAA,wCAA+C6M,EAHP,cA+B5C,OA1BA1J,OAAAA,eAAsB65C,EAAtB75C,UAAAA,gBAA4E,CAIxEwJ,IAAK,WACD,IAAKuwC,GAAL,MACI,MAAMC,GAD8B,iBAGxC,OAAOn9C,KAJM,yCAMjB0F,YAVwE,EAWxEC,cAXwE,IAa5ExC,OAAAA,eAAsB65C,EAAtB75C,UAAAA,OAAmE,CAI/DwJ,IAAK,WACD,IAAKuwC,GAAL,MACI,MAAMC,GAD8B,QAGxC,OAJa,IAMjBz3C,YAV+D,EAW/DC,cAX+D,IAnBZ,EAAZ,GA6C/C,eACI,OAAO,IAAI2C,UAAU,uCAAyCjF,EADrB,oDAG7C,eACI,QAAK8iC,EAAL,MAGKhjC,OAAAA,UAAAA,eAAAA,KAAAA,EAAL,4CAGOb,aAP6B,GAdxCa,OAAAA,iBAAwB65C,GAAxB75C,UAA6D,CACzDgrC,cAAe,CAAEzoC,YADwC,GAEzD47B,KAAM,CAAE57B,YAFiD,KAI7D,kBAAW+7B,EAAP,aACAt+B,OAAAA,eAAsB65C,GAAtB75C,UAA2Ds+B,EAA3Dt+B,YAAuF,CACnFsC,MADmF,4BAEnFE,cAFmF,IAoB3F,IAAIy3C,GAAoB,WACpB,OADgC,GAGpCj6C,OAAAA,eAAAA,GAAAA,OAAiD,CAC7CsC,MAD6C,OAE7CE,cAF6C,IASjD,IAAI03C,GAAsC,WACtC,cACIlY,EAAAA,EAAAA,EADmC,wBAEnCt4B,EAAUowC,GAAAA,EAFyB,mBAGnCj9C,KAAA,mCAA0C6M,EAHP,cAgCvC,OA3BA1J,OAAAA,eAAsBk6C,EAAtBl6C,UAAAA,gBAAuE,CAInEwJ,IAAK,WACD,IAAK2wC,GAAL,MACI,MAAMC,GADyB,iBAGnC,OAAOv9C,KAJM,oCAMjB0F,YAVmE,EAWnEC,cAXmE,IAavExC,OAAAA,eAAsBk6C,EAAtBl6C,UAAAA,OAA8D,CAK1DwJ,IAAK,WACD,IAAK2wC,GAAL,MACI,MAAMC,GADyB,QAGnC,OAJa,IAMjB73C,YAX0D,EAY1DC,cAZ0D,IAnBZ,EAAZ,GA8C1C,eACI,OAAO,IAAI2C,UAAU,kCAAoCjF,EADrB,+CAGxC,eACI,QAAK8iC,EAAL,MAGKhjC,OAAAA,UAAAA,eAAAA,KAAAA,EAAL,uCAGOb,aAPwB,GAUnC,iBACI+rC,EAAAA,EAD2C,GAE3C,IAAIvO,EAAQ6O,OAAAA,QAAkC,IAAbA,OAAsB,EAASA,EAFrB,MAGvC6O,EAAe7O,OAAAA,QAAkC,IAAbA,OAAsB,EAASA,EAH5B,aAIvCnrC,EAAQmrC,OAAAA,QAAkC,IAAbA,OAAsB,EAASA,EAJrB,MAKvC32B,EAAY22B,OAAAA,QAAkC,IAAbA,OAAsB,EAASA,EALzB,UAMvC8O,EAAe9O,OAAAA,QAAkC,IAAbA,OAAsB,EAASA,EAN5B,aAO3C,MAAO,CACH7O,WAAOA,IAAAA,OAAAA,EAEH4d,GAAAA,EAAAA,EAAiDv3C,EAHlD,4BAIHq3C,aAJG,EAKHh6C,WAAOA,IAAAA,OAAAA,EAEHm6C,GAAAA,EAAAA,EAAiDx3C,EAPlD,4BAQH6R,eAAWA,IAAAA,OAAAA,EAEP4lC,GAAAA,EAAAA,EAAyDz3C,EAV1D,gCAWHs3C,aAXG,GAcX,mBAEI,OADAhP,EAAAA,EAD4D,GAErD,SAAU9D,GAAc,OAAOsE,EAAAA,EAAAA,EAA0B,CAAnC,KAEjC,mBAEI,OADAR,EAAAA,EAD4D,GAErD,SAAU9D,GAAc,OAAOrI,EAAAA,EAAAA,EAA0B,CAAnC,KAEjC,mBAEI,OADAmM,EAAAA,EADgE,GAEzD,SAAU7iC,EAAO++B,GAAc,OAAOsE,EAAY/nC,EAAIynC,EAAU,CAAC/iC,EAAO++B,KAvDnFxnC,OAAAA,iBAAwBk6C,GAAxBl6C,UAAwD,CACpDgrC,cAAe,CAAEzoC,YADmC,GAEpD47B,KAAM,CAAE57B,YAF4C,KAIxD,kBAAW+7B,EAAP,aACAt+B,OAAAA,eAAsBk6C,GAAtBl6C,UAAsDs+B,EAAtDt+B,YAAkF,CAC9EsC,MAD8E,uBAE9EE,cAF8E,IA8DtF,IAAIk4C,GAAiC,WACjC,uBAC2B,IAAnBC,IAA6BA,EAAF,SACH,IAAxBC,IAAkCA,EAAF,SACR,IAAxBC,IAAkCA,EAAF,SACpC,IAAIF,IACAA,EAD8B,MAGlC,IAAIG,EAAmBxO,GAAAA,EAPwD,oBAQ3EyO,EAAmBzO,GAAAA,EARwD,mBAS3E0O,EAAcC,GAAAA,EAT6D,mBAU/E,YAAID,EAAAA,aACA,MAAM,IAAInW,WAD8B,kCAG5C,YAAImW,EAAAA,aACA,MAAM,IAAInW,WAD8B,kCAG5C,IAhB+E,EAgB3EqW,EAAwBrO,GAAAA,EAhBmD,GAiB3EsO,EAAwBxO,GAjBmD,GAkB3EyO,EAAwBvO,GAAAA,EAlBmD,GAmB3EwO,EAAwB1O,GAnBmD,GAwB/E2O,GAAAA,KAHmB1a,GAAW,SAAUvkC,GACpCk/C,EAD6C,KAGjDD,EAAAA,EAAAA,EAxB+E,GAyB/EE,GAAAA,KAzB+E,QA0B/E,IAAIR,EAAAA,MACAO,EAAqBP,EAAAA,MAAkBn+C,KADN,6BAIjC0+C,OADC,GA8BT,OA1BAv7C,OAAAA,eAAsB06C,EAAtB16C,UAAAA,WAA6D,CAIzDwJ,IAAK,WACD,IAAKiyC,GAAL,MACI,MAAMC,GADoB,YAG9B,OAAO7+C,KAJM,WAMjB0F,YAVyD,EAWzDC,cAXyD,IAa7DxC,OAAAA,eAAsB06C,EAAtB16C,UAAAA,WAA6D,CAIzDwJ,IAAK,WACD,IAAKiyC,GAAL,MACI,MAAMC,GADoB,YAG9B,OAAO7+C,KAJM,WAMjB0F,YAVyD,EAWzDC,cAXyD,IA/ChB,EAAZ,GAwErC,yBACI,aACI,OADsB,EAG1B,cACI,OAAOm5C,GAAAA,EADoB,GAG/B,cACI,OAAOC,GAAAA,EADqB,GAGhC,aACI,OAAOC,GADe,GAI1B,aACI,OAAOC,GADc,GAGzB,cAEI,OADAC,GAAAA,EAD6B,GAEtB7c,OAFsB,GAJjCmB,EAAAA,UAAmB2b,GAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAb8H,GAqBjJ3b,EAAAA,UAAmBiW,GAAAA,EAAAA,EAAAA,EAAAA,EArB8H,GAuBjJjW,EAAAA,mBAvBiJ,EAwBjJA,EAAAA,gCAxBiJ,EAyBjJA,EAAAA,wCAzBiJ,EA0BjJ4b,GAAAA,GA1BiJ,GA2BjJ5b,EAAAA,gCA3BiJ,EA6BrJ,eACI,QAAK2C,EAAL,MAGKhjC,OAAAA,UAAAA,eAAAA,KAAAA,EAAL,+BAGOb,aAPmB,GAU9B,iBACI21C,GAAqCzU,EAAAA,UAArCyU,0BADqC,GAErCiH,GAAAA,EAFqC,GAIzC,iBACIG,GAAgD7b,EADY,4BAE5DsR,GAA6CtR,EAAAA,UAA7CsR,0BAF4D,GAGxDtR,EAAJ,eAII4b,GAAAA,GAJsB,GAO9B,sBAEI,IAAI5b,EAAAA,4BACAA,EADiD,qCAGrDA,EAAAA,2BAAoCO,GAAW,SAAUvkC,GACrDgkC,EAAAA,mCAD8D,KAGlEA,EAAAA,cAR0D,EA/D9DrgC,OAAAA,iBAAwB06C,GAAxB16C,UAAmD,CAC/Cq4C,SAAU,CAAE91C,YADmC,GAE/CE,SAAU,CAAEF,YAFmC,KAInD,kBAAW+7B,EAAP,aACAt+B,OAAAA,eAAsB06C,GAAtB16C,UAAiDs+B,EAAjDt+B,YAA6E,CACzEsC,MADyE,kBAEzEE,cAFyE,IA0EjF,IAAI25C,GAAkD,WAClD,aACI,MAAM,IAAIh3C,UAD8B,uBA6C5C,OA1CAnF,OAAAA,eAAsBm8C,EAAtBn8C,UAAAA,cAAiF,CAI7EwJ,IAAK,WACD,IAAK4yC,GAAL,MACI,MAAMC,GADqC,eAI/C,OAAO3H,GADkB73C,KAAKy/C,2BAA2BC,UAJ5C,4BAOjBh6C,YAX6E,EAY7EC,cAZ6E,IAcjF25C,EAAAA,UAAAA,QAAqD,SAAU1zC,GAE3D,QADc,IAAVA,IAAoBA,OAAF,IACjB2zC,GAAL,MACI,MAAMC,GADqC,WAG/CG,GAAAA,KALkE,IAWtEL,EAAAA,UAAAA,MAAmD,SAAU1yC,GAEzD,QADe,IAAXA,IAAqBA,OAAF,IAClB2yC,GAAL,MACI,MAAMC,GADqC,SAG/CI,GAAAA,KALiE,IAWrEN,EAAAA,UAAAA,UAAuD,WACnD,IAAKC,GAAL,MACI,MAAMC,GADqC,aAG/CK,GAJ+D,OAxCL,EAAZ,GA6DtD,eACI,QAAK1Z,EAAL,MAGKhjC,OAAAA,UAAAA,eAAAA,KAAAA,EAAL,+BAGOb,aAPoC,GAS/C,qBACIqoC,EAAAA,2BADmG,EAEnGnH,EAAAA,2BAFmG,EAGnGmH,EAAAA,oBAHmG,EAInGA,EAAAA,gBAJmG,EAMvG,iBACI,IAAIA,EAAaxnC,OAAAA,OAAcm8C,GADgD,WAE3EQ,EAAqB,YACrB,IAEI,OADAH,GAAAA,EADA,GAEOtd,OAFP,GAIJ,MAAO0d,GACH,OAAOxd,EADc,KAIzByd,EAAiB,WAAc,OAAO3d,OAAT,SACjC,IAAI8b,EAAAA,YACA2B,EAAqB,YAAmB,OAAO3B,EAAAA,UAAAA,EAAT,UAE1C,IAAIA,EAAAA,QACA6B,EAAiB,WAAc,OAAO7B,EAAAA,MAAT,KAEjC8B,GAAAA,EAAAA,EAAAA,EAlB+E,GAoBnF,eACItV,EAAAA,yBADiE,EAEjEA,EAAAA,qBAFiE,EAIrE,iBACI,IAAInH,EAASmH,EADmD,2BAE5DuV,EAAqB1c,EAAAA,UAFuC,0BAGhE,IAAKsU,GAAL,GACI,MAAM,IAAIxvC,UAD6D,wDAK3E,IACI0vC,GAAAA,EADA,GAGJ,MAAOpqC,GAGH,MADAsxC,GAAAA,EAFM,GAGA1b,EAAAA,UAHA,aAKS2c,GAhB6C,KAiB3C3c,EAArB,eACI4b,GAAAA,GADuC,GAI/C,iBACIgB,GAAqBzV,EAArByV,2BAD0D,GAG9D,iBAEI,OAAOtZ,EADgB6D,EAAAA,oBADkD,QAE3BjjB,GAAW,SAAUpI,GAE/D,MADA8gC,GAAqBzV,EAArByV,2BADkE,QAK1E,eACI,IAAI5c,EAASmH,EAD8C,2BAG3DoN,GADyBvU,EAAAA,UAFkC,2BAK3D0b,GAAAA,EADY,IAAI52C,UAJ2C,+BAQ/D,iBACI,IAAIqiC,EAAanH,EAD4C,2BAE7D,OAAIA,EAAJ,cAEWsD,EADyBtD,EADV,4BAEiC,WACnD,IAAI59B,EAAW49B,EADgD,UAG/D,gBADY59B,EAFmD,OAI3D,MAAMA,EADgB,aAG1B,OAAOy6C,GAAAA,EANwD,MAShEA,GAAAA,EAbsD,GAejE,iBAII,OADAD,GAAAA,EAH8D,GAIvD/d,OAJuD,GAMlE,eAEI,IAAImZ,EAAWhY,EAFuC,UAGlDmH,EAAanH,EAHqC,2BAIlD8c,EAAe3V,EAJmC,kBAOtD,OAFA0U,GALsD,GAO/CvY,EAAqBwZ,GAAc,WACtC,eAAI9E,EAAAA,OACA,MAAMA,EADyB,aAGnCzD,GAAqCyD,EAJa,8BAKnD,SAAUl8B,GAET,MADA8gC,GAAAA,EADY,GAEN5E,EAFM,gBAMpB,eAII,OAFA4D,GAAAA,GAFuD,GAIhD5b,EAJgD,2BAO3D,eACI,OAAO,IAAIl7B,UAAU,8CAAgDjF,EADrB,2DAIpD,eACI,OAAO,IAAIiF,UAAU,6BAA+BjF,EADf,0CA7IzCF,OAAAA,iBAAwBm8C,GAAxBn8C,UAAoE,CAChE0qC,QAAS,CAAEnoC,YADqD,GAEhEqe,MAAO,CAAEre,YAFuD,GAGhE66C,UAAW,CAAE76C,YAHmD,GAIhEooC,YAAa,CAAEpoC,YAJiD,KAMpE,kBAAW+7B,EAAP,aACAt+B,OAAAA,eAAsBm8C,GAAtBn8C,UAAkEs+B,EAAlEt+B,YAA8F,CAC1FsC,MAD0F,mCAE1FE,cAF0F,IA0IlGV,EAAAA,0BA7tIwB,GA8tIxBA,EAAAA,qBA9tIwB,GA+tIxBA,EAAAA,6BA/tIwB,GAguIxBA,EAAAA,eAhuIwB,GAiuIxBA,EAAAA,yBAjuIwB,GAkuIxBA,EAAAA,0BAluIwB,GAmuIxBA,EAAAA,gCAnuIwB,GAouIxBA,EAAAA,4BApuIwB,GAquIxBA,EAAAA,gBAruIwB,GAsuIxBA,EAAAA,iCAtuIwB,GAuuIxBA,EAAAA,eAvuIwB,GAwuIxBA,EAAAA,gCAxuIwB,GAyuIxBA,EAAAA,4BAzuIwB,GA2uIxB9B,OAAAA,eAAAA,EAAAA,aAA6C,CAAEsC,OA3uIvB,IAHuCtI,CAA/D,iOCWJ,ooBAEA,aACE8C,SAAAA,IAAc,UACRD,KAAKC,cAAT,IACEue,EAAAA,EAAAA,aAD0C,wEAK9C4T,SAAAA,EAAAA,GACE,GAAInwB,GAAAA,GAAcC,GAAlB,EACE,MAAM,IAAIxC,MADmB,uBAG/B,IAAMW,EAASL,KAAKI,cAAc6B,EAJd,GAKpB,MAAO,CACL5B,OADK,EAEL8F,QAAS9F,EAAAA,WAFJ,4BAMToJ,SAAAA,EAAAA,EAAAA,GACE,IAAK+2C,EAAL,OACE,MAAM,IAAI9gD,MADkB,2BAG9B,GAAIuC,GAAAA,GAAcC,GAAlB,EACE,MAAM,IAAIxC,MADmB,uBAG/B8gD,EAAAA,OAAAA,MAPqC,EAQrCA,EAAAA,OAAAA,OARqC,yBAWvCC,SAAAA,GACE,IAAKD,EAAL,OACE,MAAM,IAAI9gD,MADkB,2BAK9B8gD,EAAAA,OAAAA,MANwB,EAOxBA,EAAAA,OAAAA,OAPwB,EAQxBA,EAAAA,OARwB,KASxBA,EAAAA,QATwB,kCAe1BpgD,SAAAA,EAAAA,IACEoe,EAAAA,EAAAA,aAD2B,iDA5C/B,6BAiDA,aACEve,SAAAA,EAAAA,GAAsD,QAAxC6D,QAAAA,OAAwC,MAA1C,KAA0C,MAAxB48C,aAAAA,OAAwB,mBAChD1gD,KAAKC,cAAT,IACEue,EAAAA,EAAAA,aAD8C,4CAGhDxe,KAAA,QAJoD,EAKpDA,KAAA,aALoD,oEAQtD,kHACOA,KADP,8BAEU,IAAIN,MACR,2HAHN,kCAQU,IAAIA,MARd,8CAUQpC,EAAM0C,KAAK8D,QAAUT,GAAQrD,KAAK0gD,aAAe,SAVzD,IAWQt/C,EAAkBpB,KAAK0gD,aACzBC,EAAAA,oBADoB,OAEpBA,EAAAA,oBAbN,uBAeS3gD,KAAKiB,WAAW3D,EAAK8D,GAArB,OAA4CwL,SAAAA,GACjD,MAAM,IAAIlN,MAAM,kBAAV,OACc,yBADd,uBADqD,QAf/D,+HAyBAuB,SAAAA,EAAAA,IACEud,EAAAA,EAAAA,aAD+B,8CAlCnC,iCAuCA,aACEve,SAAAA,EAAAA,GAAgC,QAAlB6D,QAAAA,OAAkB,MAApB,KAAoB,YAC1B9D,KAAKC,cAAT,IACEue,EAAAA,EAAAA,aADoD,kDAGtDxe,KAAA,QAJ8B,oEAOhC,6GACOA,KADP,8BAEU,IAAIN,MACR,6HAHN,kCAQU,IAAIA,MARd,kDAUQpC,EAVR,UAUiB0C,KAVjB,qCAYSA,KAAKiB,WAAW3D,GAAhB,OAA2BsP,SAAAA,GAChC,MAAM,IAAIlN,MAAM,gCAAV,OADoC,QAZ9C,+HAoBAuB,SAAAA,IACEud,EAAAA,EAAAA,aADc,8CA5BlB,uCAiCA,aACEve,SAAAA,IAAc,UACRD,KAAKC,cAAT,IACEue,EAAAA,EAAAA,aADuC,qEAK3C4T,SAAAA,EAAAA,GACE,GAAInwB,GAAAA,GAAcC,GAAlB,EACE,MAAM,IAAIxC,MADmB,0BAG/B,IAAMkhD,EAAM5gD,KAAKqB,WAJG,WAWpB,OANAu/C,EAAAA,aAAAA,UALoB,OAMpBA,EAAAA,aAAAA,QAAAA,GAAAA,OANoB,EAMpBA,OACAA,EAAAA,aAAAA,SAAAA,GAAAA,OAPoB,EAOpBA,OACAA,EAAAA,aAAAA,sBARoB,QASpBA,EAAAA,aAAAA,UAAAA,OAAAA,OAAAA,EAAAA,KAAAA,OAToB,mCActBrgD,SAAAA,GACE,qBAAW0G,EACT,MAAM,IAAIvH,MADkB,4BAG9B,OAAOM,KAAKqB,WAJM,6BAUpBA,SAAAA,IACEmd,EAAAA,EAAAA,aADe,8CA/BnB,6mBCvHA,6BAqBA,sCAWA,sCACA,qCApDA,slJAmEA,IAAMqiC,yBAnEN,MAoEMC,4BApEN,IAsEMC,qBACJ,gDAvEF,kFA0EA,IAAMC,yBACJ,oDA3EF,8FA8EA,IAAMC,+BACJ,0DA/EF,iEA2GA,uCACEC,uBAD2D,EA4H7D,wBACE,IADwB,EAClBznB,EAAO,IADW,uBAIxB,GAAmB,kBAAR2D,GAAoBA,aAA/B,IACE1a,EAAS,CAAEplB,IADsC,QAE5C,IAAI6jD,EAAAA,MAAAA,eAAJ,GACLz+B,EAAS,CAAE3hB,KADkB,QAExB,GAAIq8B,aAAJ,sBACL1a,EAAS,CAAE0+B,MADoC,OAE1C,CACL,cAAI,WACF,MAAM,IAAI1hD,MACR,+FAIJ,IAAK09B,EAAD,MAAaA,EAAb,OAA0BA,EAA9B,MACE,MAAM,IAAI19B,MAD6B,+DAKzCgjB,EAZK,EAcP,IAAM2+B,EAASl+C,OAAAA,OAxBS,MAyBpBm+C,EAAJ,KACEC,EA1BsB,KA4BxB,eAA0B,CACxB,IAAM97C,EAAQid,EADU,GAGxB,UACE,UACE,wBAAWU,OACT,IAEEi+B,EAAAA,GAAc,IAAIt9C,IAAI0B,EAAO2d,OAAf,UAFZ,cAIF,MAAO1kB,IACPN,EAAAA,MAAAA,MAAAA,6BAAAA,OADW,EACXA,YAEG,GAAqB,kBAAVqH,GAAsBA,aAAjC,IAAuD,CAC5D47C,EAAAA,GAAc57C,EAD8C,oBAI9D,MAAM,IAAI/F,MACR,sFAGJ,YACE4hD,EADF,EAlBF,SAqBE,aACEC,EADF,EArBF,SAwBE,WAEE,GACE,wCAGO1/B,QACPpc,aALF,OAOE47C,EAAAA,GAAc,IAAIrgD,WADlB,OAEK,IAAIyE,aAAJ,WAAiC,MAEjC,qBAAWA,EAChB47C,EAAAA,IAAczgD,EAAAA,MAAAA,eADsB,QAE/B,GACL,8BACA6E,GACCoD,MAAMpD,EAHF,QAMA,MAAI07C,EAAAA,MAAAA,eAAJ,GAGL,MAAM,IAAIzhD,MACR,+GAHF2hD,EAAAA,GAAc,IAAIrgD,WADa,QAD/BqgD,EAAAA,GAAc,IAAIrgD,WADlB,GA1CN,SAsDAqgD,EAAAA,GAzDwB,EAsH1B,GA1DAA,EAAAA,eAAwBA,EAAAA,gBAxFA,yBAyFxBA,EAAAA,kBACEA,EAAAA,mBA1FsB,yBA2FxBA,EAAAA,wBACEA,EAAAA,yBA5FsB,+BA6FxBA,EAAAA,cA7FwB,IA6FFA,EAAAA,aACtBA,EAAAA,qBA9FwB,IA8FKA,EAAAA,oBAC7BA,EAAAA,QA/FwB,IA+FRA,EAAAA,OAChBA,EAAAA,WAhGwB,IAgGLA,EAAAA,WAGjB,kBAAOA,EAAP,aACAljD,EAAAA,eAAAA,cAAakjD,EAFf,eAOEA,EAAAA,WAJA,MAMGrzC,OAAAA,UAAiBqzC,EAAtB,gBACEA,EAAAA,cAD0C,GAG5C,mBAAWA,EAAP,iBACFA,EAAAA,eACEA,EAAAA,oBAAAA,eAAAA,sBACAA,EAAAA,0BAH4C,2CAKhD,mBAAWA,EAAP,kBACFA,EAAAA,iBAD+C,GAGjD,mBAAWA,EAAP,kBACFA,EAAAA,gBAD+C,mBAIjD,mBAAWA,EAAP,iBACFA,EAAAA,gBACG,SAAD,WAGMA,EALsC,iBAOhD,qBAAWA,EAAP,gBACFA,EAAAA,cAAuBlhD,WADwB,UAIjD,mBAAWkhD,EAAP,eACFA,EAAAA,cAD4C,GAG9C,mBAAWA,EAAP,gBACFA,EAAAA,eAD6C,GAG/C,mBAAWA,EAAP,mBACFA,EAAAA,kBADgD,IAKlDG,EAAAA,MAAAA,mBAAkBH,EAhJM,YAkJxB,EAAa,CACX,IAAMI,EAAe,CACnBn0C,UAAW+zC,EADQ,UAEnBjiB,KAAMsiB,gBAAAA,oBAFa,YAMrBH,EAASE,EAAAA,KACLE,UAAAA,SADKF,GAEL,IAAIE,UATG,GAUXloB,EAAAA,QAVW,EAYb,IAAMmoB,EAAQnoB,EA9JU,MA+NxB,OAhEA8nB,EAAAA,QAAAA,MACQ,WACJ,GAAI9nB,EAAJ,UACE,MAAM,IAAI/5B,MADQ,mBAIpB,IAAMmiD,EAAkBC,eAAAA,EAAAA,EAAAA,EALR,GAWVC,EAAuB,IAAI3iD,SAAQ,SAAUI,GACjD,IAD0D,EAE1D,EACEwiD,EAAgB,IAAI,kBAAJ,uBACd,CACEj4C,OAAQs3C,EADV,OAEEY,YAAaZ,EAFf,YAGEa,gBAAiBb,EAHnB,gBAIEc,2BAA4Bd,EAJ9B,2BAKEe,aAAcf,EALhB,aAMEgB,cAAehB,EANjB,eAFgB,GAYRA,EAAL,OACLW,EAAgBd,uBAAuB,CACrC5jD,IAAK+jD,EADgC,IAErCt3C,OAAQs3C,EAF6B,OAGrCiB,YAAajB,EAHwB,YAIrCkB,gBAAiBlB,EAJoB,gBAKrCmB,eAAgBnB,EALqB,eAMrCe,aAAcf,EANuB,aAOrCgB,cAAehB,EAPsB,iBAUzC7hD,EAzB0D,MA4B5D,OAAOJ,QAAQ09B,IAAI,CAAC+kB,EAAb,UACL,SAAU,GAA2B,0BAA3B,EAA2B,KAArC,EAAqC,KACnC,GAAIpoB,EAAJ,UACE,MAAM,IAAI/5B,MADQ,mBAIpB,IAAM+iD,EAAiB,IAAI,iBAAJ,mBAGrBlB,EARiC,MAU7BmB,EAAY,IAAIC,gBAAgB,EAApB,IAViB,GAgBnClpB,EAAAA,WAhBmC,EAiBnCgpB,EAAAA,KAAAA,QAjBmC,YAzC3ClB,MA8DS9nB,EAAAA,YA7Ne,mBA6O1B,oRACM8nB,EADN,gCAEU,IAAI7hD,MAFd,sCAKE,IACEgjB,EAAAA,OAAgBkgC,EADS,OAEzBlgC,EAAAA,YAAqBkgC,EAFI,YAGzBlgC,EAAAA,gBAAyBkgC,EAHA,gBAIzBlgC,EAAAA,2BACEkgC,EALuB,4BAL7B,SAYyBrB,EAAOkB,eAAeI,gBAAgB,gBAE3D,CACEjB,MADF,EAEEkB,WAFF,WAOEpgC,OAAQ,CACN3hB,KAAM2hB,EADA,KAENplB,IAAKolB,EAFC,IAGNqgC,SAAUrgC,EAHJ,SAINsgC,iBAAkBtgC,EAJZ,iBAKN8/B,eAAgB9/B,EALV,eAMN3Y,OAAQ2Y,EANF,QAQRugC,aAAcvgC,EAfhB,aAgBEwgC,gBAAiBxgC,EAhBnB,gBAiBEygC,WAAYzgC,EAjBd,WAkBE0gC,aAAc1gC,EAlBhB,aAmBExD,gBAAiBwD,EAnBnB,gBAoBE2gC,oBAAqB3gC,EApBvB,oBAqBE4gC,UAAW5gC,EArBb,UAsBE6gC,eAAgB7gC,EAtBlB,eAuBE8gC,QAAS9gC,EAAAA,eAAwBA,EAAxBA,QAvBX,KAwBE+gC,oBAAqB/gC,EAAAA,eACjBA,EADiBA,oBAxBvB,OAdJ,UAYQghC,EAZR,QA4CMnC,EA5CN,gCA6CU,IAAI7hD,MA7Cd,uMA6DA,kCAKEO,SAAAA,IAAc,wBACZD,KAAA,aADY,mCAEZA,KAAA,WAFY,KAGZA,KAAA,QAHY,KASZA,KAAA,iBAAiB2jD,EAAAA,WATL,OAeZ3jD,KAAA,WAfY,EAuBZA,KAAA,WAvBY,KA+BZA,KAAA,WA/BY,KAsCZA,KAAA,qBAtCY,+CA6Cd,WACE,OAAOA,KAAK4jD,YADA,6FASd,4GACE5jD,KAAA,WADc,EAAhB,mBAEQA,KAFR,+BAEQ,EAFR,iBAIEA,KAAA,WAJc,KAKVA,KAAJ,UACEA,KAAA,QADgB,UAEhBA,KAAA,QAFgB,MALpB,8HA1DA,WACE,OAAOD,EAAAA,MAAAA,QAAAA,KAAAA,aAA2B,CAAE8jD,IADd,UAD1B,6DA0EA,iCAOE5jD,SAAAA,EAAAA,EAAAA,GAKE,IAFAiiD,EAEA,wDADAC,EACA,uDALFliD,KAKE,wBACAD,KAAA,OADA,EAEAA,KAAA,YAFA,EAGAA,KAAA,gBAHA,EAIAA,KAAA,2BAJA,EAMAA,KAAA,gBANA,GAOAA,KAAA,mBAPA,GAQAA,KAAA,0BARA,GASAA,KAAA,0BATA,GAUAA,KAAA,kBAVA,wFAaF8jD,SAAAA,GACE9jD,KAAA,qBADyB,sCAI3B+jD,SAAAA,GACE/jD,KAAA,wBAD4B,6CAI9BgkD,SAAAA,GACEhkD,KAAA,+BADmC,6CAIrCikD,SAAAA,GACEjkD,KAAA,+BADmC,8BAIrCkkD,SAAAA,EAAAA,GAA0B,mCACDlkD,KADC,qBACxB,4BACEi/B,EAD2C,SAC3CA,EAD2C,GADrB,6DAM1BklB,SAAAA,EAAAA,GAA8B,WAC5BnkD,KAAA,+BAAmC,WAAM,mCAChB,EADgB,wBACvC,4BACEi/B,EAD8C,SAC9CA,EAD8C,GADT,uEAO3CmlB,SAAAA,GAA6B,WAC3BpkD,KAAA,+BAAmC,WAAM,mCAChB,EADgB,+BACvC,4BACEi/B,EADqD,YADhB,uEAO3ColB,WAAwB,WACtBrkD,KAAA,+BAAmC,WAAM,mCAChB,EADgB,+BACvC,4BACEi/B,EADqD,WADhB,gEAO3CqlB,WACEtkD,KAAA,iBADe,0CAIjBukD,SAAAA,EAAAA,IACE/lC,EAAAA,MAAAA,aAD2B,+EAI7BkwB,kBA/EF,2DAqFA,4BACEzuC,SAAAA,EAAAA,EAAAA,GAAgC,mCAC9BD,KAAA,SAD8B,EAE9BA,KAAA,WAF8B,EAK5BmD,OAAAA,eAAAA,KAAAA,cAA2C,CACzCwJ,IADyC,WAMvC,OAJA63C,EAAAA,eAAAA,YACE,uFAGKxkD,KAAKykD,aALR,MASRthD,OAAAA,eAAAA,KAAAA,WAAwC,CACtCsC,MAAAA,WAAAA,IAAAA,EAAAA,kBAAAA,aAAAA,QAAAA,MAAO,sGACL++C,EAAAA,eAAAA,YACE,wFAFG,kBAKE,SAAc,CAAEE,YAAF,GAAmBC,UAAnB,KALhB,2CAAPl/C,OAAAA,WAAAA,OAAAA,EAAAA,MAAAA,KAAAA,YAAAA,yDAcN,WACE,OAAOzF,KAAK4kD,WADU,wCAOxB,WACE,OAAO5kD,KAAK6kD,SADC,mCAUf,WACE,OAAO7kD,KAAK6kD,SADK,gCAkBnB,WACE,OAAO7kD,KAAK4kD,WADF,6BAOZ,WACE,QAAS5kD,KAAK4kD,WADA,oCAUhB,WACE,OAAO5kD,KAAK4kD,WADG,mCASjBE,SAAAA,GACE,OAAO9kD,KAAK4kD,WAAWE,QADL,+BASpBC,SAAAA,GACE,OAAO/kD,KAAK4kD,WAAWG,aADP,kCAUlBC,WACE,OAAOhlD,KAAK4kD,WADI,gDAUlBK,SAAAA,GACE,OAAOjlD,KAAK4kD,WAAWK,eADN,gCASnBC,WACE,OAAOllD,KAAK4kD,WADE,6CAQhBO,WACE,OAAOnlD,KAAK4kD,WADE,2CAQhBQ,WACE,OAAOplD,KAAK4kD,WADA,kDASdS,WACE,OAAOrlD,KAAK4kD,WADS,oDASvBU,WACE,OAAOtlD,KAAK4kD,WADE,8CAQhBW,WACE,OAAOvlD,KAAK4kD,WADG,8CASjBY,WACE,OAAOxlD,KAAK4kD,WADE,4CAWhBa,WACE,OAAOzlD,KAAK4kD,WADC,4CAuBfc,WACE,OAAO1lD,KAAK4kD,WADD,qDASbe,WACE,OAAO3lD,KAAK4kD,WADa,yDAS3BgB,WACE,OAAO5lD,KAAK4kD,WADG,4CAWjBiB,WACE,OAAO7lD,KAAK4kD,WADA,yCAiBdkB,WACE,OAAO9lD,KAAK4kD,WADA,qCAQdmB,WACE,OAAO/lD,KAAK4kD,WADJ,yCASVoB,WACE,OAAOhmD,KAAK4kD,WAAWqB,uBADP,+BAgBlBC,WAAiC,IAAzBC,EAAyB,wDAC/B,OAAOnmD,KAAK4kD,WAAWwB,aAAaD,GAAmBnmD,KADxB,kCAOjCygD,WACE,OAAOzgD,KAAKqmD,YADJ,qCAQV,WACE,OAAOrmD,KAAK4kD,WADM,uCAOpB,WACE,OAAO5kD,KAAK4kD,WADI,wCAQlB0B,WAUE,OAPEtmD,KAAK4kD,WAAW2B,kBAAkBjlB,MAFpC,IAIEkjB,EAAAA,eAAAA,YACE,kGAIGxkD,KAAK4kD,WAVC,8CAkBf4B,WACE,OAAOxmD,KAAK4kD,WADI,8CAQlB6B,WACE,OAAOzmD,KAAK4kD,WADC,qDASf8B,WACE,OAAO1mD,KAAK4kD,WADW,+BAvW3B,iDAyhBA,wBACE3kD,SAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GAA2E,IAAhB0mD,EAAgB,gFACzE3mD,KAAA,WADyE,EAEzEA,KAAA,UAFyE,EAGzEA,KAAA,eAHyE,EAIzEA,KAAA,WAJyE,EAKzEA,KAAA,OAAc2mD,EAAS,IAATA,eAAAA,UAL2D,KAMzE3mD,KAAA,QANyE,EAOzEA,KAAA,WAAkB0iD,EAPuD,WAQzE1iD,KAAA,KAAY,IAR6D,WAUzEA,KAAA,oBAVyE,EAWzEA,KAAA,gBAXyE,EAYzEA,KAAA,cAAqB,IAZoD,IAazEA,KAAA,oBAA2B,IAb8C,IAczEA,KAAA,WAdyE,+CAoB3E,WACE,OAAOA,KAAK4mD,WADG,sBAOjB,WACE,OAAO5mD,KAAK6mD,UADD,wBAOb,WACE,OAAO7mD,KAAK6mD,UADJ,0BAOV,WACE,OAAO7mD,KAAK6mD,UADC,2BAQf,WACE,OAAO7mD,KAAK6mD,UADH,gCASXC,WAMQ,6DANRA,GAAY,EAMJ,EANI,MAMJ,IAJNloD,SAAAA,OAIM,MAJKoB,KAFD,OAMJ,MAHNsB,QAAAA,OAGM,MANI,EAMJ,MAFNC,QAAAA,OAEM,MANI,EAMJ,MADNC,SAAAA,OACM,SACN,OAAO,IAAI,eAAJ,aAAiB,CACtB1C,QAASkB,KADa,KAEtBrB,MAFsB,EAGtBC,SAHsB,EAItB0C,QAJsB,EAKtBC,QALsB,EAMtBC,SAAAA,kCASJulD,WAA4C,6DAA5CA,GAA4C,IAA3BC,OAAAA,OAA2B,MAA7B,UAA6B,EACpCC,EAAajnD,KAAK4kD,WAAWsC,mBADO,GAGtCnsB,EAAU/6B,KAAKmnD,oBAAoBx6C,IAAIs6C,EAHD,UAuC1C,OAnCA,IACElsB,EAAU/6B,KAAK4kD,WAAWmC,eACxB/mD,KADQ,WAERinD,EAHU,iBAKZjnD,KAAA,wBAA6BinD,EAA7B,SALY,GAQVlsB,EAAUA,EAAQ5yB,MAAKi/C,SAAAA,GAAe,+DACpC,EADoC,aAElC,IAAIC,EAAAA,UACFlkD,OAAAA,eAAAA,EAAAA,QAA2C,CACzCwJ,IADyC,WAKvC,OAHA63C,EAAAA,eAAAA,YADI,kEAIG6C,EAAAA,SAJH,YAQV,IAAIA,EAAAA,aACFlkD,OAAAA,eAAAA,EAAAA,WAA8C,CAC5CwJ,IAD4C,WAK1C,OAHA63C,EAAAA,eAAAA,YADI,wEAIG6C,EAAAA,YAJH,QAbZ,2BAAsC,IADF,8BAuBpC,OAvBoC,MAZA,8BA8C5C5B,WACE,OAAQzlD,KAAR,oBAAQA,KAAR,kBAAmCA,KAAK4kD,WAAW0C,iBACjDtnD,KAFW,iGAYf,+HACS,UAAAA,KAAA,sDAAsCA,KAAtC,cADT,gIAWAunD,SAAAA,GAWG,iBAXI,EAWJ,EAXI,gBAWJ,EAXI,SAWJ,IARDP,OAAAA,OAQC,MAXI,UAWJ,MAPDQ,eAAAA,OAOC,MAPgBC,MAAAA,eAJZ,OAWJ,MANDzvC,UAAAA,OAMC,MAXI,KAWJ,MALD0vC,WAAAA,OAKC,MAXI,KAWJ,MAJDC,cAAAA,OAIC,MAXI,KAWJ,MAHDC,WAAAA,OAGC,MAXI,KAWJ,MAFDC,6BAAAA,OAEC,MAXI,KAWJ,MADDC,oBAAAA,OACC,MAXHP,KAWG,OAEC,KAAIxhC,QAAAA,EAAAA,UAAAA,UAAAA,IAAAA,OAAAA,EAAAA,EAAAA,2BACFy+B,EAAAA,eAAAA,YACE,kHAIAz+B,IAAAA,UAAAA,GAAAA,wBACAyhC,IAAmBC,MAAAA,eAFrB,SAIED,EAAiBC,MAAAA,eADjB,oBAIJ,KAAI1hC,QAAAA,EAAAA,UAAAA,UAAAA,IAAAA,OAAAA,EAAAA,EAAAA,6BACFy+B,EAAAA,eAAAA,YACE,oHAIAz+B,IAAAA,UAAAA,GAAAA,0BACAyhC,IAAmBC,MAAAA,eAFrB,SAIED,EAAiBC,MAAAA,eADjB,iBAMFznD,KAAJ,QACEA,KAAA,YADe,WAIjB,IAAMinD,EAAajnD,KAAK4kD,WAAWsC,mBAAmB,EAhCrD,GAsCDlnD,KAAA,gBAtCC,EAwCD,IACE6nD,EAA+B7nD,KAAK4kD,WADH,4BAInC,IAAImD,EAAc/nD,KAAKgoD,cAAcr7C,IAAIs6C,EA5CxC,UA6CD,IACEc,EAAc5kD,OAAAA,OADE,MAEhBnD,KAAA,kBAAuBinD,EAAvB,SAFgB,IAMdc,EAAJ,4BACEE,aAAaF,EAD4B,2BAEzCA,EAAAA,0BAFyC,MAK3C,IAAMG,EACJP,GACA,IAAI5G,qBAAqB,CAAE7gD,cAAeF,KA1D3C,iBA2DKmoD,KACJlB,EAAWmB,gBAAkBC,MAAAA,oBA5D9B,OAiEIN,EAAL,yBACEA,EAAAA,wBADuC,mCAEvCA,EAAAA,aAA2B,CACzBO,QADyB,GAEzBC,UAFyB,GAGzBC,WAHyB,GAMvBxoD,KAAJ,QACEA,KAAA,YADe,gBAGjBA,KAAA,kBAXuC,IAczC,IAAMsK,EAAWyZ,SAAAA,GACfgkC,EAAAA,YAAAA,OADwB,IAKpB,sBAAJ,KACE,kBAD0C,GAG5C,EARwB,cAUxB,GACEU,EAAAA,WAAAA,OADS,GAGT,qBAAwB,CACtBV,YADsB,EAEtBn7C,OAAQmX,aAAAA,MAAAA,EAAiC,IAAIrkB,MAFvB,MAKxB+oD,EAAAA,WADK,UAGH,EAAJ,SACE,iBADe,aAEf,iBAFe,aAMbA,EAAqB,IAAIC,mBAAmB,CAChDtlB,SADgD,EAGhDie,OAAQ,CACNsH,cADM,EAENC,SAFM,EAGN5wC,UAHM,EAIN0vC,WAJM,EAKNE,WAAAA,GAEFiB,KAAM7oD,KAV0C,KAWhD8oD,WAAY9oD,KAXoC,WAYhD8nD,oBAZgD,EAahDiB,aAAchB,EAbkC,aAchDiB,UAAWhpD,KAdqC,WAehD2nD,cAfgD,EAgBhDsB,0BAhBgD,EAiBhDtC,OAAQ3mD,KAjBwC,YAoBjD,EAAA+nD,GAAA,4BAA4B,IAA7B,UA7HC,GA8HD,IAAMmB,EAAaT,EA9HlB,KAoJD,OApBArpD,QAAAA,IAAY,CACV2oD,EAAAA,uBADU,QAAZ3oD,IAAAA,MAIQ,YAA2C,0BAA1C,EAA0C,KAA3C,EAA2C,KAC3C,EAAJ,eACEkL,KAGE,EAAJ,QACE,cADe,aAGjBm+C,EAAAA,mBAAsC,CACpCU,aADoC,EAEpCC,sBAAAA,IAEFX,EAZ+C,0BAJnDrpD,MAhIC,oCA6JHiqD,WAGQ,6DAHRA,GAGQ,IAFNrC,OAAAA,OAEM,MAHQ,UAGR,MADNQ,eAAAA,OACM,MADWC,MAAAA,eAFH,OAGR,EACN,aACMM,EAAAA,aAAJ,YACEA,EAAAA,qBAAAA,QAAyCA,EADH,cAGtCA,EAAAA,YAAAA,OAHsC,IAO1C,IATM,EAqBiC,EAZjCd,EAAajnD,KAAK4kD,WAAWsC,mBAAmB,EAAnC,GATb,GAcFa,EAAc/nD,KAAKgoD,cAAcr7C,IAAIs6C,EAdnC,UAqCN,OAtBA,IACEc,EAAc5kD,OAAAA,OADE,MAEhBnD,KAAA,kBAAuBinD,EAAvB,SAFgB,IAMbc,EAAL,wBACEuB,EAAanmD,OAAAA,OADwB,OAErCmmD,oBAFqC,EAGrCvB,EAAAA,sBAHqC,qCAIpC,EAAAA,GAAA,4BAA4B,IAA7B,UAJqC,GAKrCA,EAAAA,aAA2B,CACzBO,QADyB,GAEzBC,UAFyB,GAGzBC,WAHyB,GAMvBxoD,KAAJ,QACEA,KAAA,YADe,gBAGjBA,KAAA,kBAdqC,IAgBhC+nD,EAAAA,qBArCD,yCA4CRwB,WAIQ,6DAJRA,GAIQ,IAHNC,oBAAAA,OAGM,aAFNC,wBAAAA,OAEM,aADNC,qBAAAA,OACM,SACAC,EADA,IAGN,OAAO3pD,KAAK4kD,WAAWnC,eAAemH,eAAe,iBAEnD,CACEZ,UAAWhpD,KADb,WAEEwpD,qBAFF,IAEuBA,EACrBK,kBAHF,IAGoBJ,EAClBC,sBAJF,IAIwBA,GAExB,CACEvb,cADF,EAEE7M,KAFF,YAGI,OAAOwoB,EAAAA,MADS,wCAYxBC,WAA4B,IAAb1I,EAAa,uDAA5B0I,GACE,GAAI/pD,KAAK4kD,WAAT,YAGE,OAAO5kD,KAAKgqD,SAAS7hD,MAAK8hD,SAAAA,GACxB,OAAOC,UAAAA,QAAAA,YADwB,MAInC,IAAMC,EAAiBnqD,KAAKupD,kBARF,GAU1B,OAAO,IAAInqD,SAAQ,SAAUI,EAASC,GAapC,IAAM8jC,EAAS4mB,EAb6B,YActCL,EAAc,CAClBM,MADkB,GAElBC,OAAQlnD,OAAAA,OAFU,QAbpB,aACEogC,EAAAA,OAAAA,MAAmB,SAAU,GAAiB,MAAjB,EAAiB,EAAjB,MAAiB,EAA3B,KAEf/jC,EADQ,IAIV2D,OAAAA,OAAc2mD,EAAd3mD,OAAkCsC,EALU,SAM5CqkD,EAAAA,EAAAA,OAAAA,KAAAA,MAAAA,EAAAA,mBAA0BrkD,EANkB,QAO5C6kD,OARY,GAiBhBA,mCASJC,WACE,OAAQvqD,KAAR,qBAAQA,KAAR,mBAAoCA,KAAK4kD,WAAW2F,cAClDvqD,KAFY,qCAUhBwqD,WACExqD,KAAA,WADS,EAGT,IAHS,EAGHyqD,EAHG,gCAIiBzqD,KAAKgoD,cAJtB,cAIT,2BAAuD,KAAvD,EAAuD,QAOrD,GANAhoD,KAAA,mBAAwB,CACtB+nD,YADsB,EAEtBn7C,OAAQ,IAAIlN,MAFU,uBAGtBgrD,OAHsB,KAMpB3C,EAAJ,sBAPqD,mCAWpBA,EAXoB,iBAWrD,2BAA0D,KAA1D,EAA0D,QACxD0C,EAAAA,KAAYhC,EAD4C,WAExDA,EAFwD,UAXL,iCAJ9C,8BAyBT,OALAzoD,KAAA,KApBS,QAqBTA,KAAA,oBArBS,QAsBTA,KAAA,kBAtBS,KAuBTA,KAAA,mBAvBS,KAwBTA,KAAA,gBAxBS,EAyBFZ,QAAAA,IAzBE,0BAmCX8mD,WAA4B,IAApByE,EAAoB,wDAE1B,OADA3qD,KAAA,gBAD0B,EAEnBA,KAAK4qD,YAFc,8BAS5BA,WAAgC,IAApBD,EAAoB,wDAC9B,IAAK3qD,KAAL,eACE,OADwB,EADI,mCAIcA,KAAKgoD,cAJnB,cAI9B,2BAAyE,eAA9D,EAA8D,EAA9D,YAAX,EAAyE,EAAzE,aACE,GAAI6C,EAAAA,KAAAA,IAAyB9B,EAA7B,UACE,OADmD,GALzB,8BAmB9B,OATA/oD,KAAA,cAV8B,QAW9BA,KAAA,KAX8B,QAY9BA,KAAA,oBAZ8B,QAa9BA,KAAA,kBAb8B,KAc9BA,KAAA,mBAd8B,KAe1B2qD,GAAc3qD,KAAlB,SACEA,KAAA,OAAc,IADe,0BAG/BA,KAAA,gBAlB8B,qCAyBhC8qD,SAAAA,EAAAA,GACE,IAAM/C,EAAc/nD,KAAKgoD,cAAcr7C,IADA,GAEvC,IAGI3M,KAAJ,QACEA,KAAA,eADe,gBAKb+nD,EAAJ,wBACEA,EAAAA,uBAAAA,QADsC,oCAQ1CgD,SAAAA,EAAAA,GAEE,IAAK,IAAI7nD,EAAJ,EAAWD,EAAK+nD,EAArB,OAA+C9nD,EAA/C,EAAuDA,IACrD6kD,EAAAA,aAAAA,QAAAA,KAAsCiD,EAAAA,QADoB,IAE1DjD,EAAAA,aAAAA,UAAAA,KAAwCiD,EAAAA,UAFkB,IAI5DjD,EAAAA,aAAAA,UAAqCiD,EANU,6CASdjD,EATc,iBAS/C,2BAA0D,8BATX,8BAa3CiD,EAAJ,WACEhrD,KAD+B,+CAQnCirD,SAAAA,GAAiD,WAA/B,EAA+B,EAA/B,gBAAlBA,EAAiD,EAAjDA,SAuBQ1nB,EAZiBvjC,KAAK4kD,WAAWnC,eAAemH,eAAe,kBAEnE,CACEZ,UAAWhpD,KADb,WAEEgnD,OAFF,EAGEkE,SAHF,EAIE3E,kBACE6B,EAAkBC,MAAAA,oBAAlBD,oBACIpoD,KAAK4kD,WAAW2B,kBADpB6B,aALJ,OAb6C,YAyBzCL,EAAc/nD,KAAKgoD,cAAcr7C,IAzBQ,GA0B/Co7C,EAAAA,aA1B+C,EA4BlC,SAAPuC,IACJ/mB,EAAAA,OAAAA,MACE,YAAqB,IAApB,EAAoB,EAApB,MAAoB,EAArB,KAEIwkB,EAAAA,aADQ,KAIN,aAAJ,YAGA,qBARmB,GASnBuC,QAEF19C,SAAAA,GAGE,GAFAm7C,EAAAA,aADQ,MAGJ,aAAJ,WAGA,GAAIA,EAAJ,aAA8B,CAE5BA,EAAAA,aAAAA,WAF4B,qCAIKA,EAJL,iBAI5B,2BAA0D,8BAJ9B,8BAO5B,EAP4B,cAU9B,GAAIA,EAAJ,uBACEA,EAAAA,uBAAAA,OADsC,OAEjC,KAAIA,EAAJ,qBAGL,MADK,EADLA,EAAAA,qBAAAA,OAD2C,QAQnDuC,qCAMFa,SAAAA,GAA2D,WAAxC,EAAwC,EAAxC,cAAwC,EAAxC,OAAwC,IAAjBT,MAAAA,OAAiB,SAWzD,GAAK3C,EAAL,cAGA,MAAY,CAGV,GAAIA,EAAAA,YAAAA,KAAJ,EAAsC,OAMtC,GAAIn7C,aAAJ,2CAAmD,YACjDm7C,EAAAA,0BAAwCzoB,YAAW,WACjD,qBAAwB,CAAEyoB,YAAF,EAAen7C,OAAf,EAAuB89C,OAAvB,IACxB3C,EAAAA,0BAFuD,OADR,8BAerD,GAPAA,EAAAA,aAAAA,OACU,IAAI,MAAJ,eAAmBn7C,EAD7Bm7C,UAAAA,OAES,eAGTA,EAAAA,aApCyD,MAsCrD/nD,KAAK4kD,WAAT,WAtCyD,mCA2Cb5kD,KA3Ca,mBA2CzD,2BAAgE,iCAArD,EAAqD,KAC9D,GAD8D,OAC9D,EAAoC,CAClCA,KAAA,qBADkC,WA5CmB,8BAkDzDA,KAlDyD,+BAwD3D,WACE,OAAOA,KADG,aAtqBd,yCA2qBA,wBACEC,SAAAA,IAAc,wBACZD,KAAA,WADY,GAEZA,KAAA,UAAiBZ,QAFL,0DAKdgsD,SAAAA,EAAAA,GAA4B,WAqFpBtvB,EAAQ,CAAE/6B,KApFhB,YACE,GAEEZ,WAFF,gBAIE,OAAOA,WAAAA,gBAAAA,EADP,GA4EF,IAAMkrD,EAAS,IAhFW,QAiF1B,OAvEA,cACE,GACmB,oBAAV5lD,GAAP,WACA,YACAA,aAHF,IAKE,MAAM,IAAI/F,MAAM,4CAAV,cACwC+F,QADxC,IACwCA,OADxC,EACwCA,EAF9C,aAMF,GAAI,uBAAJ,OAAiCA,EAC/B,OAD+C,EAGjD,GAAI4lD,EAAAA,IAAJ,GAEE,OAAOA,EAAAA,IAFc,GAIvB,MAlBiC,EAmBjC,IAAKp/C,EAASxG,EAAV,UAA2B07C,EAAAA,MAAAA,eAA/B,GAYE,OATEn5C,EADF,OAAIsjD,QAAJ,IAAIA,GAAAA,EAAAA,SAAJ,GACW,IAAI7lD,EAAJ,cAEPA,EAFO,WAGPA,EAJ6B,YAOtB,IAAIA,EAAJ,YADJ,GAGP4lD,EAAAA,IAAAA,EAXoD,KActD,GAAI5lD,aAAJ,IAA0B,CACxBuC,EAAS,IADe,IAExBqjD,EAAAA,IAAAA,EAFwB,6CAGxB,2BAAgC,iCAArB,EAAqB,KAAhC,EAAgC,KAC9BrjD,EAAAA,IAAAA,EAAgBujD,EADc,KAHR,8BAMxB,OANwB,EAQ1B,GAAI9lD,aAAJ,IAA0B,CACxBuC,EAAS,IADe,IAExBqjD,EAAAA,IAAAA,EAFwB,6CAGxB,2BAAyB,KAAzB,EAAyB,QACvBrjD,EAAAA,IAAWujD,EADY,KAHD,8BAMxB,OANwB,EAY1B,aAJAvjD,EAASoX,MAAAA,QAAAA,GAAAA,GAA4Bjc,OAAAA,OAjDJ,MAkDjCkoD,EAAAA,IAAAA,EAlDiC,GAqDjC,EAAuB,CAGrB,IAHqB,MACjBG,OAAJ,EACE/rC,EAFmB,IAGZ+rC,EAAOroD,OAAAA,yBAAAA,EAAhB,KACEsc,EAAItc,OAAAA,eADkD,GAGxD,qBAAWqoD,EAAP,QAGA,oBAAOA,EAAP,OAAoC,UAAC/lD,EAAD,6BAACA,EAAAA,KAAAA,EAAzCvC,MAGA8E,EAAAA,GAAYujD,EAAmBC,EAZV,QAcvB,OAnEiC,EAuE5BD,CAjFmB,GAoFNE,CArFI,IAuF1BzrD,KAAA,gBAAoB,WAAM,mCACD,EADC,gBACxB,2BAAwC,QACtCi/B,KAAAA,EADsC,GADhB,kEAO5BysB,SAAAA,EAAAA,GACE1rD,KAAA,gBAD+B,sCAIjC2rD,SAAAA,EAAAA,GACE,IAAMzoD,EAAIlD,KAAK4rD,WAAWvhC,QADQ,GAElCrqB,KAAA,oBAFkC,4BAKpCugD,WACEvgD,KAAA,kBADU,QA7Gd,qCA0HA,IAAM6rD,cAAgB,CACpBC,kBADoB,EAEpBC,kBAFoB,KAGpBC,aAHoB,GAOpB,GAAIlqC,SAAAA,SAEF+pC,cAAAA,kBAF6D,EAI7DA,cAAAA,kBAJ6D,uBAOxD,eAAI,6DAA8B,qCACjCI,cAAAA,QAAAA,UAAAA,gBAAAA,IAAAA,WAAAA,QAAAA,sBAAgB3sD,UAAhB2sD,qBAAAA,IAAAA,2BAAAA,EAAgB3sD,sBADiB,IAEvC,gBACEusD,cAAAA,kBAAkCI,cAAAA,QAAAA,4BADjB,gBAQrBJ,cAAAA,iBAAiC,SAAUvuD,GAIzC,IAAM4+B,EAAAA,kBAAAA,OAJwC,EAI9C,OACA,OAAOn4B,IAAAA,gBAAoB,IAAIgI,KAAK,CALU,UAiBlD,qBAKE9L,SAAAA,YAIQ,6DAJRA,GAIQ,IAHNoD,KAAAA,OAGM,MAJI,KAIJ,MAFN+7B,KAAAA,OAEM,MAJI,KAIJ,MADN9xB,UAAAA,OACM,OAJI,6BAIJ,EACN,GADM,gCACF8xB,GAAQuiB,UAAAA,aAAAA,IAAZ,GACE,MAAM,IAAIjiD,MADkC,gDAa9C,GATAM,KAAA,KALM,EAMNA,KAAA,WANM,EAONA,KAAA,UAPM,EASNA,KAAA,kBATM,mCAUNA,KAAA,MAVM,KAWNA,KAAA,WAXM,KAYNA,KAAA,gBAZM,KAcN,EAAU,OACR2hD,UAAAA,aAAAA,IAAAA,EADQ,WAER3hD,KAAA,oBAFQ,GAKVA,KAnBM,gEA0BR,WACE,OAAOA,KAAKksD,iBADA,0BAQd,WACE,OAAOlsD,KADE,kCAQX,WACE,OAAOA,KADY,mDAIrBmsD,SAAAA,GACEnsD,KAAA,MADwB,EAExBA,KAAA,gBAAuB,IAAI,iBAAJ,+BAFC,GAGxBA,KAAA,4BAAiC,eAIjCA,KAAA,iBAPwB,qCAU1BosD,WAAc,WAMZ,GACoB,qBAAXC,SACNR,cADD,mBAEClK,UAHH,gCAIE,CACA,IAAI2K,EAAY3K,UADhB,UAGA,KAMK4K,EAAAA,MAAAA,cAAanpC,OAAAA,SAAbmpC,KAHH,KAKED,EAAYT,cAAAA,iBACV,IAAI9nD,IAAIuoD,EAAWlpC,OAAnB,UAFF,OAQF,IAAMm+B,EAAS,IAAI8K,OAfjB,GAgBI5J,EAAiB,IAAI,iBAAJ,+BAhBrB,GAiBI+J,EAAiB,WACrBjL,EAAAA,oBAAAA,QAD2B,GAE3BkB,EAF2B,UAG3BlB,EAH2B,YAIvB,EAAJ,UACE,0BAA6B,IAAI7hD,MADf,yBAKlB,EAHK,oBAOH+sD,EAAgB,WACf,EAAL,YAGED,KAGJjL,EAAAA,iBAAAA,QArCE,GAuCFkB,EAAAA,GAAAA,QAA0B1hD,SAAAA,GACxBwgD,EAAAA,oBAAAA,QADgC,GAE5B,EAAJ,UACEiL,IAGF,GACE,kBADQ,EAER,QAFQ,EAGR,aAHQ,EAKR,mBALQ,UAOR/J,EAAAA,KAAAA,YAAiC,CAC/Bn1C,UAAW,EARL,cAWR,EADK,mBAELm1C,EAFK,UAGLlB,EAHK,gBAOTkB,EAAAA,GAAAA,SAA2B1hD,SAAAA,GAEzB,GADAwgD,EAAAA,oBAAAA,QADiC,GAE7B,EAAJ,UACEiL,SAGF,IACEE,IACA,MAAO9+C,GAEP,EAFU,uBAMd,IAAM8+C,EAAW,WACf,IAAMC,EAAU,IAAI3rD,WAAW,CADV,MAIrB,IACEyhD,EAAAA,KAAAA,OAAAA,EAAqC,CAACkK,EADpC,SAEF,MAAOjuD,IACPN,EAAAA,MAAAA,MADW,qCAEXuuD,EAAAA,GAFW,EAGXlK,EAAAA,KAAAA,OAHW,KAlFb,YA4FFiK,IAEA,MAAO9+C,IACPrF,EAAAA,MAAAA,MADU,kCAMdvI,KAjHY,mDAoHd4sD,WAAmB,WACZf,cAAL,oBACEztD,EAAAA,MAAAA,MADmC,2BAEnCytD,cAAAA,kBAFmC,GAKrClK,UAAAA,uBAAAA,MACQkL,SAAAA,GACJ,GAAI,EAAJ,UACE,0BAA6B,IAAIntD,MADf,6BAApB,CAIA,IAAM0/B,EAAO,IALe,aAM5B,QAN4B,EAS5B,IAAM5X,EAAAA,OAAAA,OAAYqkC,cATU,gBAatBiB,EAAgB,IAAI,iBAAJ,eAAmBtlC,EAAnB,YAbM,GAc5BqlC,EAAAA,MAAAA,EAd4B,GAgB5B,IAAMpK,EAAiB,IAAI,iBAAJ,iBAAuBj7B,EAAvB,UAhBK,GAiB5B,kBAjB4B,EAkB5B,mBAlB4B,UAoB5Bi7B,EAAAA,KAAAA,YAAiC,CAC/Bn1C,UAAW,EArBe,gBADhCq0C,OAyBS/0C,SAAAA,GACL,0BACE,IAAIlN,MAAM,mCAAV,OAA6CkN,EAFhC,QACf,kCASN6zC,WACEzgD,KAAA,WADQ,EAEJA,KAAJ,aAEEA,KAAA,WAFmB,YAGnBA,KAAA,WAHmB,MAKrB2hD,UAAAA,aAAAA,OAA8B3hD,KAPtB,OAQRA,KAAA,MARQ,KASJA,KAAJ,kBACEA,KAAA,gBADwB,UAExBA,KAAA,gBAFwB,kCAtO5B,WACE,OAAOD,EAAAA,MAAAA,QAAAA,KAAAA,eAA6B,IADZ,iCA+O1B,YACE,GAAI,OAACshD,QAAD,IAACA,IAAAA,EAAL,KACE,MAAM,IAAI3hD,MADO,kDAGnB,OAAIM,KAAK+sD,aAAa1jC,IAAIg4B,EAA1B,MACSrhD,KAAK+sD,aAAapgD,IAAI00C,EADS,MAGjC,IAAIM,UAPW,0BAcxB,WACE,GAAID,gBAAAA,oBAAJ,UACE,OAAOA,gBAAAA,oBAD0B,UAGnC,UAAImK,cAAAA,kBAIF,OAHA,oBACErH,EAAAA,eAAAA,YADa,iDAGRqH,cAJqC,kBAM9C,MAAM,IAAInsD,MAVW,8FAavB,WACE,IAAI,MACF,OAAOS,QAAAA,EAAAA,WAAAA,mBAAAA,IAAAA,OAAAA,EAAAA,EAAAA,uBADL,KAEF,MAAOzB,GACP,OADW,0CAMf,eAAoC,iBAC5BsuD,OAAAA,WAAAA,IAAAA,OAAAA,kBAAAA,aAAAA,QAAAA,MAAS,+KACPC,yBAA2B,QADpB,wJAYX,kBAZW,+BA8BL1L,OAAS2L,KAAAA,UAAAA,CAAgB,QA9BpB,qCA+BJ3L,OA/BI,sDAiCP4L,EAAAA,eAAAA,YAAW,QAjCJ,mDAkCN/pC,OAAAA,YAlCM,gFAAT4pC,OAAAA,WAAAA,OAAAA,OAAAA,MAAAA,KAAAA,YAAAA,GAqCN,OAAOjtD,EAAAA,MAAAA,QAAAA,KAAAA,yBAAuCitD,wBA1TlD,+BA8TErL,UAAAA,aAAyB,WAIvB,OAHA6C,EAAAA,eAAAA,YADmC,yEAI5BxkD,KAJ4B,mHAYvC,2BASEC,SAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GAAgE,qFAT5C,OAS4C,8DANnD,IAHO,MAS4C,iEAJhD,IALI,MAS4C,oEAT5C,OAUlBD,KAAA,eAD8D,EAE9DA,KAAA,YAF8D,EAG9DA,KAAA,WAAkB,IAH4C,WAI9DA,KAAA,WAAkB,IAAI,aAAJ,WAAe,CAC/B4hD,MAAOyE,EADwB,MAE/B+G,qBAAsBptD,KAAKqtD,sBAAsBzoC,KAFlB,MAG/B1kB,cAAemhD,EAHgB,cAI/BiM,aAAcjM,EAJiB,eAMjCrhD,KAAA,QAV8D,EAYzDqhD,EAAL,iBACErhD,KAAA,kBAAyB,IAAIqhD,EAAJ,kBAA6B,CACpDv9C,QAASu9C,EAD2C,QAEpDX,aAAcW,EAFsC,aAItDrhD,KAAA,wBAA+B,IAAIqhD,EAAJ,wBAAmC,CAChEv9C,QAASu9C,EANe,uBAU5BrhD,KAAA,WAtB8D,EAuB9DA,KAAA,kBAvB8D,KAwB9DA,KAAA,oBAxB8D,KA0B9DA,KAAA,eA1B8D,EA2B9DA,KAAA,YA3B8D,KA4B9DA,KAAA,cA5B8D,KA6B9DA,KAAA,wBA7B8D,mCA+B9DA,KA/B8D,0EAkChE,WACE,OAAOD,EAAAA,MAAAA,QAAAA,KAAAA,oBAAkC,IADnB,0DAIxB,WACE,6BADU,KACV,6CAGFmnD,SAAAA,GAIE,IAFAM,EAEA,uDAFiBC,MAAAA,eAFnBP,OAGEqG,EACA,wDACInF,EAAkBC,MAAAA,oBADtB,QAEImF,EAFJ,GAIA,UACE,UACEpF,EAAkBC,MAAAA,oBADpB,IADF,MAIE,cAJF,MAME,YACED,EAAkBC,MAAAA,oBADpB,MANF,MASE,SACEjqD,EAAAA,MAAAA,MAAAA,wCAAAA,OAVJ,IAaA,UACE,KAAKqpD,MAAAA,eAAL,QACEW,GAAmBC,MAAAA,oBADrB,oBADF,MAIE,KAAKZ,MAAAA,eAAL,OAJF,MAME,KAAKA,MAAAA,eAAL,aACEW,GAAmBC,MAAAA,oBADrB,kBANF,MASE,KAAKZ,MAAAA,eAAL,eACEW,GAAmBC,MAAAA,oBADrB,oBAGEmF,EAAextD,KAAKumD,kBAHtB,aATF,MAcE,SACEnoD,EAAAA,MAAAA,MAAAA,gDAAAA,OAfJ,IAsBA,OAJA,IACEgqD,GAAmBC,MAAAA,oBADP,QAIP,CACLD,gBADK,EAEL8C,SAAAA,GAAAA,OAAAA,EAAAA,KAAAA,OAFK,2BAMTzK,WAAU,WACR,GAAIzgD,KAAJ,kBACE,OAAOA,KAAKytD,kBADc,QAI5BztD,KAAA,WALQ,EAMRA,KAAA,mBANQ,mCAQJA,KAAJ,qBACEA,KAAA,2BACE,IAAIN,MAFsB,oDAM9B,IAdQ,EAcF+qD,EAdE,gCAiBW,sBAAAzqD,KAAA,YAjBX,cAiBR,2BAA6C,KAA7C,EAA6C,QAC3CyqD,EAAAA,KAAYiD,EAD+B,aAjBrC,8BAoBR,sBAAA1tD,KAAA,YApBQ,QAqBR,sBAAAA,KAAA,eArBQ,QAuBJA,KAAKunB,eAAT,sBACEvnB,KAAA,kBAD4C,gBAI9C,IAAM2tD,EAAa3tD,KAAKyiD,eAAeI,gBAAgB,YA3B/C,MAiDR,OArBA4H,EAAAA,KA5BQ,GA8BRrrD,QAAAA,IAAAA,GAAAA,MAAyB,WACvB,aAD6B,QAE7B,aAF6B,QAG7B,yCAH6B,MAI7B,0BAJ6B,KAK7B,uBAL6B,KAOzB,EAAJ,gBACE,mCACE,IAAI,MAAJ,eAFqB,2BAMrB,EAAJ,iBACE,iBADuB,UAEvB,iBAFuB,MAIzB,oBAjB6B,YAkB5BY,KAAKytD,kBAhDA,QAiDDztD,KAAKytD,kBAjDJ,2CAoDVG,WAAsB,WACd,EADc,KACpB,eAAM,EADc,KACpB,YAEAnL,EAAAA,GAAAA,aAA+B,eAC7BplD,EAAAA,MAAAA,QACE,EADFA,eAD6C,mDAK7C,cAAmB,iBAL0B,gBAM7C,yBAA8BkC,SAAAA,GAC5B,gBAAqB,CACnBsuD,OAAQtuD,EADW,OAEnBuuD,MAAOvuD,EAFY,QAKvBwuD,EAAAA,OAAc,WACZ,2BAEQ,SAAU,GAAiB,IAAjB,EAAiB,EAAjB,MAAiB,EAA3B,KAEFA,EADQ,UAIV1wD,EAAAA,MAAAA,SACE8jD,EAAAA,MAAAA,eADF9jD,GAL+B,wCAW/B0wD,EAAAA,QAAa,IAAI/sD,WAAjB+sD,GAAAA,EAAuC,CAXR,QAFnC,OAeSnhD,SAAAA,GACLmhD,EAAAA,MADe,OAKrBA,EAAAA,SAAgBnhD,SAAAA,GACd,qBADwB,GAGxBmhD,EAAAA,MAAAA,OAAiBC,SAAAA,GACf,IAAI,EAAJ,UAGA,MAJ8B,SASpCvL,EAAAA,GAAAA,sBAAwC1hD,SAAAA,GACtC,IAAMktD,GADwC,mCAExCC,EAAa,EAF2B,YAyB9C,OAtBAA,EAAAA,aAAAA,MAA6B,WAID,MADrBA,EAAD,sBAAqCA,EAAzC,mBACM,EAAJ,gBACE7H,QAAAA,EAAAA,EAAAA,kBAAAA,IAAAA,GAAAA,EAAAA,KAAAA,EAAyB,EADH,gBAGxB6H,EAAAA,WAAwB3uD,SAAAA,GAAO,MAC7B8mD,QAAAA,EAAAA,EAAAA,kBAAAA,IAAAA,GAAAA,EAAAA,KAAAA,EAAyB,CACvBwH,OAAQtuD,EADe,OAEvBuuD,MAAOvuD,EAFgB,UAO7B0uD,EAAAA,QAA0B,CACxBE,qBAAsBD,EADE,qBAExBE,iBAAkBF,EAFM,iBAGxBG,cAAeH,EAHS,kBAKzBD,EAvB2C,QAyBvCA,EAzBuC,WA4BhDxL,EAAAA,GAAAA,kBAAoC,eAClCplD,EAAAA,MAAAA,QACE,EADFA,eADkD,wDAKlD,IAAMixD,EAAc,gCAClBvtD,EADkB,MAElBA,EAPgD,KAoBlD,GAKAgtD,EAAAA,OAAc,WACZO,EAAAA,OAAAA,MAEQ,SAAU,GAAiB,IAAjB,EAAiB,EAAjB,MAAiB,EAA3B,KAEFP,EADQ,UAIV1wD,EAAAA,MAAAA,SACE8jD,EAAAA,MAAAA,eADF9jD,GAL+B,6CAS/B0wD,EAAAA,QAAa,IAAI/sD,WAAjB+sD,GAAAA,EAAuC,CATR,QAFnCO,OAaS1hD,SAAAA,GACLmhD,EAAAA,MADe,OAKrBA,EAAAA,SAAgBnhD,SAAAA,GACd0hD,EAAAA,OADwB,GAGxBP,EAAAA,MAAAA,OAAiBC,SAAAA,GACf,IAAI,EAAJ,UAGA,MAJ8B,OA1BhCD,EADgB,WAoCpBtL,EAAAA,GAAAA,UAA4B,YAAiB,IAAjB,EAAiB,EAAjB,QAC1B,YAAiB8L,EAD0B,SAE3C,cAAmBA,EAFwB,kBAGpCA,EAHoC,WAI3ClI,EAAAA,YAAAA,QAAgC,IAAImI,iBAAiBD,EAJV,OAO7C9L,EAAAA,GAAAA,gBAAkC,SAAU/jD,GAC1C,IAD8C,EAE9C,OAAQA,EAAR,MACE,wBACEkO,EAAS,IAAI,MAAJ,kBAAsBlO,EAAtB,QAAkCA,EAD7C,MADF,MAIE,0BACEkO,EAAS,IAAI,MAAJ,oBAAwBlO,EADnC,SAJF,MAOE,0BACEkO,EAAS,IAAI,MAAJ,oBAAwBlO,EADnC,SAPF,MAUE,kCACEkO,EAAS,IAAI,MAAJ,4BAAgClO,EAAhC,QAA4CA,EADvD,QAVF,MAaE,4BACEkO,EAAS,IAAI,MAAJ,sBAA0BlO,EAA1B,QAAsCA,EADjD,SAbF,MAgBE,SACE8f,EAAAA,MAAAA,aAjBJ,0CAmBA6nC,EAAAA,YAAAA,OArB8C,MAwBhD5D,EAAAA,GAAAA,mBAAqCgM,SAAAA,GAGnC,GAFA,uBADgD,mCAG5CpI,EAAJ,WAME,IACEA,EAAAA,YANqBtD,SAAAA,GACrB,8BAAiC,CAC/BA,SAAAA,MAIqC0L,EADrC,MAEF,MAAO/vD,GACP,6BADW,QAIb,6BACE,IAAI,MAAJ,kBAAsB+vD,EAAtB,QAAyCA,EAFtC,OAKP,OAAO,sBAnByC,WAsBlDhM,EAAAA,GAAAA,cAAgC1hD,SAAAA,GAAQ,MAGtCslD,QAAAA,EAAAA,EAAAA,kBAAAA,IAAAA,GAAAA,EAAAA,KAAAA,EAAyB,CACvBwH,OAAQ9sD,EADe,OAEvB+sD,MAAO/sD,EAFgB,SAKzB,iCARsC,MAWxC0hD,EAAAA,GAAAA,mBAAqC1hD,SAAAA,GAC/B,EAAJ,WAIa,wCAAoBA,EALU,WAM3C2sD,iBAAsB3sD,EAAtB2sD,aAAyC3sD,EANE,aAS7C0hD,EAAAA,GAAAA,aAA+B,YAA8B,4BAA7B,EAA6B,KAA7B,EAA6B,KAA9B,EAA8B,KAC3D,IAAI,EAAJ,YAII,iBAAJ,GAIA,UACE,WACE,IAAMpB,EAAS,EADjB,QAGE,GAAI,UAAJ,EAA6B,CAC3B,IAAMqN,EAAgBC,EADK,OAE3BvwD,EAAAA,MAAAA,MAAAA,8BAAAA,OAF2B,IAG3B,uBAH2B,SAO7B,IAAIwwD,EAVN,KAWMvN,EAAAA,QAAAA,QAAAA,EAAiBlhD,WAAjBkhD,qBAAAA,IAAAA,GAAiBlhD,EAArB,UACEyuD,EAAe,CACbC,aADa,cAEX1uD,WAAAA,cAAAA,UAAAA,EADsB,MAK5B,IAAMmd,EAAO,IAAI,aAAJ,iBAAiC,CAC5C4B,gBAAiBmiC,EAD2B,gBAE5C6B,gBAAiB7B,EAF2B,gBAG5C+B,aAAc/B,EAH8B,aAI5C+L,qBAAsB,6BAJsB,GAK5CwB,aAAAA,IAGF,4BAEShiD,SAAAA,GACL,OAAO61C,EAAAA,gBAAAA,eAA+C,CAAEj7B,GAAAA,OAH5D,SAKW,YACF65B,EAAD,qBAA+B/jC,EAAnC,OAMEA,EAAAA,KAN4C,MAQ9C,uBATa,MAhCrB,MA4CE,IA5CF,WA6CE,YACE,uBADF,GA7CF,MAgDE,QACE,MAAM,IAAI5d,MAAM,kCAAV,OAjDV,QAqDF+iD,EAAAA,GAAAA,OAAyB,YAAsC,4BAArC,EAAqC,KAArC,EAAqC,KAArC,EAAqC,KAAtC,EAAsC,KAC7D,IAAI,EAAJ,WAKA,IAAMqM,EAAY,wCAN2C,GAO7D,IAAIA,EAAAA,KAAAA,IAAJ,GAIA,UACE,YACEA,EAAAA,KAAAA,QAAAA,EADF,IAKMC,OAAAA,QAAAA,IAAAA,GAAAA,QAAAA,EAAAA,EAAAA,YAAAA,IAAAA,OAAAA,EAAAA,EAAAA,QALN,MAMID,EAAAA,oBADqD,GAN3D,MAUE,cACEA,EAAAA,KAAAA,QAAAA,EADF,GAVF,MAaE,QACE,MAAM,IAAIpvD,MAAM,2BAAV,OAdV,SAkBF+iD,EAAAA,GAAAA,eAAiC1hD,SAAAA,GAAQ,MACnC,EAAJ,WAGAslD,QAAAA,EAAAA,EAAAA,kBAAAA,IAAAA,GAAAA,EAAAA,KAAAA,EAAyB,CACvBwH,OAAQ9sD,EADe,OAEvB+sD,MAAO/sD,EAFgB,WAM3B0hD,EAAAA,GAAAA,YAA8B1hD,SAAAA,GACxB,EAAJ,WAKA,kCAAiBoC,OAAO6rD,OAAO,CAC7BtK,YAAavhD,OAAAA,OAAcpC,EADE,aAE7B4jD,UAAWxhD,OAAAA,OAAcpC,EAFI,iBAMjC0hD,EAAAA,GAAAA,qBAEEziD,KAAKqtD,sBAAsBzoC,KAhUT,OAmUpB69B,EAAAA,GAAAA,oBAAsC1hD,SAAAA,GACpC,OAAI,EAAJ,UACS3B,QAAAA,OAAe,IAAIM,MADR,0BAGf,EAAL,kBAOO,0BAXqC,GAKnCN,QAAAA,OACL,IAAIM,MAFqB,8EAU/B+iD,EAAAA,GAAAA,yBAA2C1hD,SAAAA,GACzC,OAAI,EAAJ,UACS3B,QAAAA,OAAe,IAAIM,MADR,0BAGf,EAAL,wBAOO,gCAX0C,GAKxCN,QAAAA,OACL,IAAIM,MAF2B,yHAWvC2tD,SAAAA,GAAqC,QAArCA,EAAqC,EAArCA,UACMrtD,KAAJ,WAGA,aAAAA,KAAA,yDAJmC,0BAOrC+lD,WACE,OAAO/lD,KAAKyiD,eAAeI,gBAAgB,UADnC,6BAIViC,SAAAA,GAAoB,WAClB,IACG92C,OAAAA,UAAD,IACAihD,GADA,GAEAA,EAAajvD,KAHf,UAKE,OAAOZ,QAAAA,OAAe,IAAIM,MAD1B,yBAIF,IAAMspD,EAAYiG,EAAlB,EACEC,EAAgB,sBAAAlvD,KAAA,mBAVA,GAWlB,KACE,OADiB,EAGnB,IAAM+6B,EAAU/6B,KAAKyiD,eAAL,0BACc,CAC1BuG,UAAAA,IAFY,MAIRmG,SAAAA,GACJ,GAAI,EAAJ,UACE,MAAM,IAAIzvD,MADQ,uBAGpB,IAAMguD,EAAO,IAAI0B,aAAa,EAAjB,IAIX,UAJW,cAKX,UATc,QAYhB,OADA,0CAXgB,QAepB,OADA,sBAAApvD,KAAA,qBAhCkB,iCAoCpB+kD,SAAAA,GACE,OAAO/kD,KAAKyiD,eAAeI,gBAAgB,eAAgB,CACzDl1B,IAAAA,kCAIJo5B,SAAAA,EAAAA,GACE,OAAO/mD,KAAKyiD,eAAeI,gBAAgB,iBAAkB,CAC3DmG,UAD2D,EAE3DhC,OAAAA,gCAIJV,WAAe,eACb,OAAOtmD,KAAKyiD,eAAL,+BAC4B,CAC/B4M,YAAarvD,KADkB,YAE/BsvD,SAAUtvD,KAFqB,UAG/BumD,kBAAmBvmD,KAAKumD,kBAHO,aAI/BtnD,SAAAA,QAAAA,EAAAA,QAAAA,EAAUe,KAAVf,mBAAAA,IAAAA,OAAAA,EAAU,EAAVA,gBAAAA,IAAAA,EAAAA,EAJ+B,OAD5B,SAOI,WACP,oBADa,kDAKnBunD,WACE,OAAQxmD,KAAR,0BAAQA,KAAR,wBACEA,KAAKyiD,eAAeI,gBAAgB,kBAFtB,mCAKlB4D,WACE,OAAQzmD,KAAR,uBAAQA,KAAR,qBAAsCA,KAAKyiD,eAAeI,gBAAgB,eAD7D,6CAOf6D,WACE,OAAO1mD,KAAKyiD,eAAeI,gBAAgB,yBADpB,qCAIzBmC,WACE,OAAOhlD,KAAKyiD,eAAeI,gBAAgB,kBAD3B,oCAIlBoC,SAAAA,GACE,wBAAWz9B,EACFpoB,QAAAA,OAAe,IAAIM,MADA,iCAGrBM,KAAKyiD,eAAeI,gBAAgB,iBAAkB,CAC3Dr7B,GAAAA,iCAIJ09B,WACE,OAAOllD,KAAKyiD,eAAeI,gBAAgB,gBAD7B,mCAIhBsC,WACE,OAAOnlD,KAAKyiD,eAAeI,gBAAgB,gBAD7B,iCAIhBuC,WACE,OAAOplD,KAAKyiD,eAAeI,gBAAgB,cAD/B,0CAIdwC,WACE,OAAOrlD,KAAKyiD,eAAeI,gBAAgB,uBADtB,mCAIvByC,WACE,OAAOtlD,KAAKyiD,eAAeI,gBAAgB,gBAD7B,oCAIhB0C,WACE,OAAOvlD,KAAKyiD,eAAeI,gBAAgB,iBAD5B,mCAIjB2C,WACE,OAAOxlD,KAAKyiD,eAAeI,gBAAgB,gBAD7B,qCAIhB0M,WACE,OAAOvvD,KAAKyiD,eAAeI,gBAAgB,kBAD3B,sCAIlByE,SAAAA,GACE,OAAOtnD,KAAKyiD,eAAeI,gBAAgB,mBAAoB,CAC7DmG,UAAAA,iCAIJuB,SAAAA,GACE,OAAOvqD,KAAKyiD,eAAeI,gBAAgB,gBAAiB,CAC1DmG,UAAAA,8BAIJtD,WACE,OAAO1lD,KAAKyiD,eAAeI,gBAAgB,aADhC,8CAIb8C,WACE,OAAO3lD,KAAKyiD,eAAL,uDAEC+M,SAAAA,GACJ,OAAO,IAAI,yBAAJ,sBADQ,oCAKrB5J,WACE,OAAO5lD,KAAKyiD,eAAeI,gBAAgB,iBAD5B,iCAIjBgD,WAAc,WACZ,iGAAkC7lD,KAAKyiD,eAAL,0CAE1B+M,SAAAA,GAAW,YACf,MAAO,CACLjnD,KAAMinD,EADD,GAELpmC,SAAUomC,EAAAA,GAAa,IAAI,UAAJ,SAAaA,EAA1BA,IAFL,KAGLrN,2BAAAA,QAAAA,EAAAA,QAAAA,EAA4B,EAA5BA,mBAAAA,IAAAA,OAAAA,EAA4B,EAA5BA,gBAAAA,IAAAA,EAAAA,EAHK,KAILkM,cAAAA,QAAAA,EAAAA,QAAAA,EAAe,EAAfA,mBAAAA,IAAAA,OAAAA,EAAe,EAAfA,qBAAAA,IAAAA,EAAAA,EAJK,qCASbvI,WACE,OAAO9lD,KAAKyiD,eAAeI,gBAAgB,cAD/B,gGAId,8HAAmBsD,EAAnB,yCACQnmD,KAAKyiD,eAAeI,gBAAgB,UAD5C,iBAGM7iD,KAHN,wFAMqB,sBAAAA,KAAA,YANrB,uEAME,EANF,0CAUY,IAAIN,MAAM,sBAAV,OACkBguD,EAFF,WAT5B,4KAeE1tD,KAAA,WAf0C,QAgB1C,GACEA,KAAA,WADoB,QAGtB,sBAAAA,KAAA,iBAnB0C,MAoB1CA,KAAA,wBApB0C,KAqB1CA,KAAA,qBArB0C,KAA5C,+IAwBA,WACE,IAAMqhD,EAASrhD,KADG,QAElB,OAAO,QAAAD,QAAA,qBAA8B,CACnCijD,iBAAkB3B,EADiB,iBAEnCiC,UAAWjC,EAFwB,kBArsBzC,GAktBA,sBACEphD,SAAAA,IAAc,wBACZD,KAAA,MAAamD,OAAAA,OADD,qDAQdssD,SAAAA,GACE,OAAIzvD,KAAK0vD,MAAT,GACS1vD,KAAK0vD,MADS,GAGf1vD,KAAK0vD,MAAMC,GAAS,CAC1BljD,YAD0B,mCAE1B1L,KAF0B,KAG1B6uD,UAH0B,sBAe9BjjD,SAAAA,GAA4B,IAAjBy2B,EAAiB,uDAA5Bz2B,KAGE,KAEE,OADA3M,KAAA,sCADY,QAMd,IAAM6F,EAAM7F,KAAK0vD,MATS,GAY1B,IAAK7pD,IAAQA,EAAb,SACE,MAAM,IAAInG,MAAM,6CAAV,OADmB,EACzB,MAEF,OAAOmG,EAfmB,wBAkB5BwjB,SAAAA,GACE,IAAMxjB,EAAM7F,KAAK0vD,MADR,GAET,OAAO7pD,OAAAA,QAAAA,IAAAA,OAAAA,EAAAA,EAAAA,YAFE,yBAQXrG,SAAAA,EAAAA,GACE,IAAMqG,EAAM7F,KAAKyvD,WADE,GAGnB5pD,EAAAA,UAHmB,EAInBA,EAAAA,KAJmB,EAKnBA,EAAAA,WAAAA,QALmB,wBAQrB44B,WACEz+B,KAAA,MAAamD,OAAAA,OADP,YA9DV,GAsEA,sBACElD,SAAAA,EAAAA,GAAgC,wBAC9BD,KAAA,oBAD8B,EAS9BA,KAAA,WAT8B,+CAgBhC,WACE,OAAOA,KAAK6vD,oBAAoBpjD,WADpB,8BASd25B,WACEpmC,KAAA,oBADO,eA1BX,qCAmCA,8BAKEC,SAAAA,EAAAA,GAWG,IAXS,EAWT,EAXS,WAWT,EAXS,SAWT,EAXS,OAWT,EAXS,aAWT,EAXS,sBAWT,EAXS,eAWT,EAXS,YAWT,EAXS,cAWT,IAFDgpD,yBAAAA,OAEC,aADDtC,OAAAA,OACC,iCACD3mD,KAAA,SADC,EAEDA,KAAA,OAFC,EAGDA,KAAA,KAHC,EAIDA,KAAA,WAJC,EAKDA,KAAA,oBALC,EAMDA,KAAA,gBANC,KAODA,KAAA,aAPC,EAQDA,KAAA,WARC,EASDA,KAAA,cATC,EAUDA,KAAA,QAVC,EAYDA,KAAA,SAZC,EAaDA,KAAA,sBAbC,KAcDA,KAAA,eAdC,EAeDA,KAAA,2BACEipD,IAAAA,GAhBD,qBAgB6C7lC,OAC9CpjB,KAAA,WAjBC,EAkBDA,KAAA,YAlBC,mCAmBDA,KAAA,KAAY,IAAI8vD,WAnBf,MAqBD9vD,KAAA,aAAoBA,KAAKomC,OAAOxhB,KArB/B,MAsBD5kB,KAAA,eAAsBA,KAAK+vD,UAAUnrC,KAtBpC,MAuBD5kB,KAAA,mBAA0BA,KAAKgwD,cAAcprC,KAvB5C,MAwBD5kB,KAAA,WAAkBA,KAAK2iC,MAAM/d,KAxB5B,MAyBD5kB,KAAA,QAAeqhD,EAAAA,cAzBd,mDA4BH,WACE,OAAOrhD,KAAKyM,WAAWsuB,QAAhB,OAA8B,iDAMvCk1B,SAAAA,GAAoE,UAA/C9G,aAAAA,OAA+C,SAApE8G,EAAoE,EAApEA,sBACE,IAAIjwD,KAAJ,WAGA,GAAIA,KAAJ,QAAkB,CAChB,GAAI0oD,EAAAA,YAAAA,IAAmC1oD,KAAvC,SACE,MAAM,IAAIN,MACR,mJAKJgpD,EAAAA,YAAAA,IAAmC1oD,KARnB,SAWdA,KAAKkwD,SAAL,UAAgB/vD,WAAhB,6BAAgBA,EAApB,UACEH,KAAA,QAAeG,WAAAA,eAAAA,OAAiCH,KADM,YAEtDA,KAAA,aAAkBA,KAFoC,cAGtDA,KAAA,uBAA8BA,KAAKmwD,QAHmB,qBAKxD,MACEnwD,KArBgE,OAoB5D,EAAN,gBAAM,EAAN,WAAM,EAAN,YAAM,EAAN,aAAM,EAAN,aAGAA,KAAA,IAAW,IAAI,QAAJ,iBAETA,KAFS,WAGTA,KAHS,KAITA,KAJS,kBAOTA,KA9BgE,qBAgClEA,KAAA,iBAAsB,CACpBgY,UADoB,EAEpB4wC,SAFoB,EAGpBO,aAHoB,EAIpBvB,WAAAA,IAEF5nD,KAAA,gBAtCkE,EAuClEA,KAAA,eAvCkE,EAwC9DA,KAAJ,uBACEA,KAD8B,+CAKlComC,WAAqB,IAAdriB,EAAc,uDAArBqiB,KACEpmC,KAAA,SADmB,EAEnBA,KAAA,WAFmB,EAGfA,KAAJ,KACEA,KAAA,IADY,aAGVA,KAAJ,SACE0oD,EAAAA,YAAAA,OAAsC1oD,KADtB,SAGlBA,KAAA,SACE+jB,GACE,IAAI,eAAJ,gEAC+B/jB,KAAK4mD,WADpC,GAXe,8CAkBrBwJ,WACOpwD,KAAL,eAOIA,KAAJ,SACEA,KAAA,2BAAgCA,KADhB,cAIdA,KAAJ,SAGAA,KAfoB,aAEbA,KAAL,wBACEA,KAAA,sBAA6BA,KADE,yCAgBrC+vD,WACE/vD,KAAA,SADU,EAENA,KAAJ,YAGIA,KAAKy5B,KAAT,WACEz5B,KAAA,gBAAqBA,KADG,oBAGxBA,KADK,8CAKTgwD,WAAgB,WACVhwD,KAAJ,0BACEojB,OAAAA,uBAA6B,WAC3B,qBAAwB,EADS,iBAInChkB,QAAAA,UAAAA,KAAuBY,KAAvBZ,YAAAA,MAA8CY,KADzC,iGAKT,mGACMA,KADN,2DAIEA,KAAA,gBAAuBA,KAAKqwD,IAAIC,oBAC9BtwD,KADqB,aAErBA,KAFqB,gBAGrBA,KAHqB,eAIrBA,KARU,SAURA,KAAKuwD,kBAAoBvwD,KAAK+oD,aAAaR,UAA/C,SACEvoD,KAAA,SAD+D,EAE3DA,KAAK+oD,aAAT,YACE/oD,KAAA,IAD+B,aAE3BA,KAAJ,SACE0oD,EAAAA,YAAAA,OAAsC1oD,KADtB,SAGlBA,KAL+B,aAZrC,+HAzJA,WACE,OAAOD,EAAAA,MAAAA,QAAAA,KAAAA,cAA4B,IADZ,eAD3B,GAkLMumB,QA90GN,mCAi1GA,IAAMkqC,MAj1GN,0aCeA,63EAfA,EA0BA,aACEvwD,SAAAA,EAAAA,GAMG,IANS,EAMT,EANS,QAMT,EANS,qBAMT,IAHDC,cAAAA,OAGC,MAHeC,WAHN,SAMT,IADDmtD,aACC,UACGttD,KAAKC,cAAT,IACEue,EAAAA,EAAAA,aADuC,qCAGzCxe,KAAA,MAJC,EAKDA,KAAA,sBALC,EAMDA,KAAA,UANC,EAQDA,KAAA,gBARC,GASDA,KAAA,aATC,gDAeHywD,SAAAA,GACEzwD,KAAA,qBADgC,GAEhCA,KAAA,oBAFgC,6BAKlC0wD,SAAAA,GACE,IAAIpD,EAAettD,KADJ,aAEf,KACEstD,EAAettD,KAAKstD,aAAettD,KAAKM,UAAUC,cADjC,UAEjB+sD,GAAAA,wBAAAA,OAA0CttD,KAFzB,OAGjBA,KAAA,sEAHiB,IAOnB,IAAM2wD,EAAarD,EATJ,MAUfqD,EAAAA,WAAAA,EAA4BA,EAAAA,SAVb,6BAajBlyB,WAAQ,UACuBz+B,KADvB,qBACN,2BAAmD,KAAnD,EAAmD,QACjDA,KAAA,uBADiD,IAD7C,8BAINA,KAAA,uBAJM,EAMFA,KAAJ,eAEEA,KAAA,aAFqB,SAGrBA,KAAA,aAHqB,gEAOzB,wGAEMsd,EAAAA,WAAiBA,EAFvB,gEAKEA,EAAAA,UALe,GAOXtd,KAPN,gDAQU4wD,EAAiBtzC,EAR3B,gDAUMtd,KAAA,kBADkB,GATxB,mBAYc4wD,EAZd,uEAcQ5wD,KAAA,sBAA2B,CACzB6wD,UAAWC,EAAAA,qBAFF,uBAIX1yD,EAAAA,EAAAA,MAAAA,wBAAAA,OAA6BwyD,EAJlB,OAIXxyD,QAAAA,OAAAA,EAAAA,GAAAA,OAGAkf,EAAAA,iBAPW,EAbnB,oDA4BQyzC,EAAOzzC,EA5Bf,0CA8BItd,KAAA,WADQ,IAGJA,KAhCR,+FAmCU,IAAIZ,SAAQI,SAAAA,GAChB,IAAMqB,EAAU,wBADW,GAE3B,wBAA2B,CAA3B,GAAmC,CAAnC,GAF2B,MAnCjC,kUA2CAmwD,SAAAA,IACExyC,EAAAA,EAAAA,aAD8B,mFAIhC,WAAgC,MACxByyC,IAAY,UAACjxD,KAAD,yBAAC,EADW,OAY9B,OAAOD,EAAAA,EAAAA,QAAAA,KAAAA,4BAZuB,2CAgBhC,YACEye,EAAAA,EAAAA,aAD+B,4EAKjC,YACEA,EAAAA,EAAAA,aADkB,yEAIpB0yC,SAAAA,EAAAA,EAAAA,IACE1yC,EAAAA,EAAAA,aADiD,kDA7HrD,kBA4IE2yC,EAAAA,WAAAA,EAAAA,SAAAA,uOAAAA,CAAAA,EAAAA,GAAAA,IAAAA,EAAAA,EAAAA,GACElxD,SAAAA,EAAAA,GAAoB,wBAClB,cADkB,IAElB,eAAsB,CACpBmxD,SADoB,GAEpBC,cAFoB,GAItB,iBANkB,IADtBF,OAAAA,EAAAA,EAAAA,CAAAA,CAAAA,IAAAA,6BAAAA,IAUE,WACE,IAAIG,GAD2B,EAG7B,wBAAWC,UAETD,GAFoC,MAG/B,CAGL,IAAM5xC,EAAI,mCAAmCwE,KAC3CqtC,UAJG,YAMD7xC,OAAAA,QAAAA,IAAAA,OAAAA,EAAAA,EAAAA,KAAJ,KACE4xC,GADgB,GAMtB,OAAOvxD,EAAAA,EAAAA,QAAAA,KAAAA,6BAlBwB,KAVnCoxD,CAAAA,IAAAA,wBAAAA,MA+BEH,SAAAA,GAYE,IAAM7qD,EAAUnG,KAZc,eAaxBa,EAAU,CACd2mB,GAAAA,sBAAAA,OAA0BrhB,EADZ,iBAEdY,MAFc,EAGduD,SAfF,WAKE,KAJAjN,EAAAA,EAAAA,SAAQwD,EAARxD,KADyB,6CAEzBwD,EAAAA,MAFyB,EAKlBsF,EAAAA,SAAAA,OAAAA,GAA+BA,EAAAA,SAAAA,GAAtC,MAAgE,CAC9D,IAAMqrD,EAAerrD,EAAAA,SADyC,QAE9Dm5B,WAAWkyB,EAAXlyB,SAF8D,KAWhE8D,SAAAA,GAGF,OADAj9B,EAAAA,SAAAA,KAnB8B,OA/BlCgrD,CAAAA,IAAAA,gBAAAA,IAsDE,WA6BE,OAAOpxD,EAAAA,EAAAA,QAAAA,KAAAA,gBAzBE0xD,KACL,+9CA3DRN,CAAAA,IAAAA,wBAAAA,MAsFED,SAAAA,EAAAA,EAAAA,GAOE,gBACE,OACGnwD,EAAAA,WAAAA,IAAD,GACCA,EAAAA,WAAgB2wD,EAAhB3wD,IADD,GAECA,EAAAA,WAAgB2wD,EAAhB3wD,IAFD,EAFyB,IAKxBA,EAAAA,WAAgB2wD,EAAhB3wD,GAGL,oBAGE,OAFe4wD,EAAAA,UAAAA,EADgC,GAGxC3Y,EADQ2Y,EAAAA,UAAYD,EAFoB,GAKjD,MApB2C,EAuBrCrxD,EAASL,KAAKM,UAAUC,cAvBa,UAwB3CF,EAAAA,MAxB2C,EAyB3CA,EAAAA,OAzB2C,EA0B3C,IAAMuxD,EAAMvxD,EAAAA,WA1B+B,MA4BvCo9B,EA5BuC,EA+CrCo0B,EAAAA,KAAAA,OAAsBvuD,KAAtBuuD,OAAAA,OAAmC7xD,KA/CE,kBAqDvCe,EAAOf,KArDgC,cA+DrC8xD,EA/DqC,WAgEvCC,EAAWC,EATfjxD,EAAOkxD,EAAAA,EAvDoC,IA0DzCJ,EAHKI,OAvDoC,OAiE3C,IAAK/uD,EAAAA,EAAOD,EAAK4uD,EAAAA,OAAjB,EAA4C3uD,EAA5C,EAAoDA,GAApD,EACE6uD,EAAYA,EAAAA,EAAwBC,EAAAA,EAAzB,GAD+C,EAGxD9uD,EAAI2uD,EAAR,SAEEE,EACGA,EAAAA,EAAwBC,EAAMH,EAANG,MAAzB,GAH2B,GAK/BjxD,EAAOkxD,EAAAA,EAzEoC,GAyEpCA,GAA2CC,EAAAA,EAAAA,UAzEP,IA2E3C,IAAM50D,EAAAA,iCAAAA,OAAuC60D,KA3EF,GA2E3C,MACMpB,EAAAA,4BAAAA,OAAAA,EAAAA,UAAAA,OA5EqC,EA4E3C,KACA/wD,KAAA,WA7E2C,GA+E3C,IA/E2C,EA+ErCuqB,EA/EqC,cAgF3C,2BAA0B,KAA1B,EAA0B,QACxBA,EAAAA,KAAWjN,EADa,aAhFiB,8BAmF3CiN,EAAAA,KAnF2C,GAqF3C,IAAM6nC,EAAMpyD,KAAKM,UAAUC,cArFgB,OAsF3C6xD,EAAAA,MAAAA,WAtF2C,SAuF3CA,EAAAA,MAAAA,MAAkBA,EAAAA,MAAAA,OAvFyB,OAwF3CA,EAAAA,MAAAA,SAxF2C,WAyF3CA,EAAAA,MAAAA,IAAgBA,EAAAA,MAAAA,KAzF2B,MA2F3C,+BAA0B,CAA1B,IAAW/uD,EAAX,KACQgvD,EAAOryD,KAAKM,UAAUC,cADJ,QAExB8xD,EAAAA,YAFwB,KAGxBA,EAAAA,MAAAA,WAHwB,EAIxBD,EAAAA,YAJwB,GAM1BpyD,KAAA,2BAjG2C,GA6B3C,gBAGE,KAFAy9B,EAEA,GAAiB,OACfr/B,EAAAA,EAAAA,MADe,qCAEfglC,IAGFwuB,EAAAA,KAAW,QARwB,EASnCA,EAAAA,SAAAA,IAAAA,EATmC,IAUjBA,EAAAA,aAAAA,EAAAA,EAAAA,EAViB,GAW/B7C,KAAAA,GAAJ,EACE3rB,IAGF9D,WAAWgzB,EAAAA,KAAAA,KAAAA,EAfwB,IAsErCA,CAAAA,GAA4B,WAC1BF,EADgC,SAEhCvxD,EAFgC,kBAzLtCswD,EAAAA,CAAAA,OAkMF,aACElxD,SAAAA,EAAAA,EAAAA,GASE,QANEif,gBAAAA,OAMF,aALEgkC,gBAAAA,OAKF,aAJEE,aAAAA,OAIF,SAPA,EAOA,EAPA,qBAOA,IAFEwL,aAAAA,OAEF,MATF3uD,KASE,EAGA,aAHA,UACAD,KAAA,eAAsBmD,OAAAA,OADtB,MAGA,EACEnD,KAAA,GAAUuyD,EADoB,GAGhCvyD,KAAA,iBANA,IAMuBkf,EACvBlf,KAAA,iBAPA,IAOuBkjD,EACvBljD,KAAA,cARA,IAQoBojD,EACpBpjD,KAAA,sBATA,EAUAA,KAAA,aAVA,gDAaFwyD,WACE,IAAKxyD,KAAD,MAAcA,KAAlB,gBACE,OADsC,KAGxC,IAJqB,EAKrB,GAAKA,KAAL,YAEO,CACL,IAAMyyD,EAAM,CACVC,OAAQ1yD,KAAK2yD,YAFV,YAID3yD,KAAK2yD,YAAT,cACEF,EAAAA,MAAAA,WAAAA,OAAuBzyD,KAAK2yD,YADI,YAChCF,QAEF7B,EAAiB,IAAIgC,SACnB5yD,KAAK2yD,YADU,WAEf3yD,KAFe,KAPZ,QADL4wD,EAAiB,IAAIgC,SAAS5yD,KAAb,WAA8BA,KAA9B,KADI,IAmBvB,OAHIA,KAAJ,cACEA,KAAA,0BADqB,MArBF,oCA2BvB6yD,WACE,IAAK7yD,KAAD,MAAcA,KAAlB,gBACE,OADsC,KAGxC,IAJmB,EAIbe,GAAO+xD,EAAAA,EAAAA,eAAc9yD,KAJR,MAMb1C,EAAAA,YAAAA,OAAkB0C,KAAlB1C,SAAAA,YAAAA,OAA0C60D,KAN7B,GAMnB,MAEA,GAAKnyD,KAAL,YAEO,CACL,IAAIyyD,EAAAA,gBAAAA,OAAsBzyD,KAAK2yD,YAD1B,WACL,KACI3yD,KAAK2yD,YAAT,cACEF,GAAAA,uBAAAA,OAA8BzyD,KAAK2yD,YADH,YAChCF,SAEF1B,EAAAA,4BAAAA,OAAmC/wD,KAAK2yD,YAAxC5B,WAAAA,MAAAA,OAAAA,EAAAA,QAAAA,OALK,EAKLA,UANAA,EAAAA,4BAAAA,OAAmC/wD,KAAnC+wD,WAAAA,UAAAA,OADqB,EACrBA,KAYF,OAHI/wD,KAAJ,cACEA,KAAA,0BAAAA,KADqB,GAlBJ,kCAwBrB+yD,SAAAA,EAAAA,GACE,YAAI/yD,KAAKgzD,eAAeC,GACtB,OAAOjzD,KAAKgzD,eADoC,GAIlD,IALgC,EAMhC,IACEE,EAAOrK,EAAAA,IAAS7oD,KAAKmzD,WAAa,SADhC,GAEF,MAAOz0D,GACP,IAAKsB,KAAL,aACE,MADsB,EAQxB,OALAA,KAAA,sBAA2B,CACzB6wD,UAAWC,EAAAA,qBALF,oBAOX1yD,EAAAA,EAAAA,MAAAA,2CAAAA,OAPW,EAOXA,OAEQ4B,KAAKgzD,eAAeC,GAAa,SAAU7yC,EAAGkhB,KAMxD,GAAIthC,KAAKkf,iBAAmBD,EAAAA,sBAA5B,MAAyD,CACvD,IADuD,EACjDm0C,EADiD,cAEvD,2BAA4B,KAA5B,EAA4B,QACpBljC,OAAOmjC,IAAAA,EAAAA,KAA6BA,EAAAA,KAAAA,KAA7BA,KADa,GAE1BD,EAAAA,KAAAA,KAAiBC,EAAjBD,IAAAA,IAAAA,EAF0B,SAF2B,8BAOvD,OAAQpzD,KAAKgzD,eAAeC,GAAa,IAAIjoD,SAAS,IAAb,OAGvCooD,EAAAA,KAVqD,KAezD,OAAQpzD,KAAKgzD,eAAeC,GAAa,SAAU7yC,EAAGkhB,GAAM,iBAC1D,2BAA4B,KAA5B,EAA4B,QAC1B,UAAI+xB,EAAAA,MACFA,EAAAA,KAAe,CAAC/xB,GAAhB+xB,IAEFjzC,EAAEizC,EAAFjzC,KAAAA,MAAAA,EAAwBizC,EAJE,OAD8B,sCAhHhE,+ZCxVA,aAhBA,k+CAwBA,IAAIC,EACFrzD,SAAAA,IAAc,WACZue,EAAAA,EAAAA,aADY,6DAKhB,IAAI+0C,EACFtzD,SAAAA,IAAc,WACZue,EAAAA,EAAAA,aADY,qEAKhB,IAAIg1C,EACFvzD,SAAAA,IAAc,WACZue,EAAAA,EAAAA,aADY,iDAKhB,8CAA+E,CAC7E,IAAMtd,EAAY,YAChB,OAAO,IAAI9B,SAAQ,cACNq0D,oBAD2B,MAEtCC,SAAAA,GAAiB,eACX3vC,GAAJ,EAIAvkB,EAAQ,IAAIwB,WALoB,IAE9BvB,EAAO,IAAIC,MADO,WAS1B4zD,EAAAA,kBAAAA,EAAAA,SAAAA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,EAAAA,EAAAA,GAAAA,SAAAA,IAAAA,OAAAA,EAAAA,KAAAA,GAAAA,EAAAA,MAAAA,KAAAA,WAAAA,OAAAA,EAAAA,EAAAA,CAAAA,CAAAA,IAAAA,gBAAAA,MACElzD,SAAAA,EAAAA,GAEE,OADeqzD,oBADY,MAEpBE,aAAAA,EAFoB,OAD/BL,EAAAA,CAAoB,EAApBA,mBAOAC,EAAAA,sBAAAA,EAAAA,SAAAA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,EAAAA,EAAAA,GAAAA,SAAAA,IAAAA,OAAAA,EAAAA,KAAAA,GAAAA,EAAAA,MAAAA,KAAAA,WAAAA,OAAAA,EAAAA,EAAAA,CAAAA,CAAAA,IAAAA,aAAAA,MACEtyD,SAAAA,EAAAA,GACE,OAAOC,EAAU5D,GAAK6K,MAAKpH,SAAAA,GACzB,MAAO,CAAEI,SAAF,EAAkBC,gBAAAA,UAH/BmyD,EAAAA,CAAwB,EAAxBA,uBAQAC,EAAAA,4BAAAA,EAAAA,SAAAA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,EAAAA,EAAAA,GAAAA,SAAAA,IAAAA,OAAAA,EAAAA,KAAAA,GAAAA,EAAAA,MAAAA,KAAAA,WAAAA,OAAAA,EAAAA,EAAAA,CAAAA,CAAAA,IAAAA,aAAAA,MACEvyD,SAAAA,GACE,OAAOC,EADO,OADlBsyD,EAAAA,CAA8B,EAA9BA,wICvEF,qnCAoBA,aACEvzD,SAAAA,iGAAc,SACZD,KAAA,SAAgB,IADJ,IAEZA,KAAA,WAAkBsD,KAFN,MAGZtD,KAAA,WAHY,EASZA,KAAA,cATY,KAUZA,KAAA,gBAVY,oDAsBd4zD,SAAAA,EAAAA,GACE,IAAMnuD,EAAQzF,KAAK6zD,SAASlnD,IADF,GAE1B,gBAAIlH,EAAqB,EAIlBtC,OAAAA,OAAAA,EANmB,2BAiB5B2wD,SAAAA,EAAAA,GACE,IAAMjuD,EAAM7F,KAAK6zD,SAASlnD,IADP,GAEfonD,GAFe,EAGnB,YAAIluD,EACF,cAA2B1C,OAAAA,QAA3B,kBAAkD,CAAlD,gBAAW,EAAX,YACM0C,EAAAA,KAAJ,IACEkuD,GADsB,EAEtBluD,EAAAA,GAFsB,QAM1BkuD,GADK,EAEL/zD,KAAA,eAFK,GAIP,IACEA,KAAA,WAAkBsD,KADN,MAEZtD,KAFY,sCAMhBg0D,WACE,OAAOh0D,KAAK6zD,SAASvyB,KAAO,GAAI2yB,EAAAA,EAAAA,eAAcj0D,KAAvC,UADA,uBAIT,WACE,OAAOA,KAAK6zD,SADH,iCAOXK,WACOl0D,KAAL,YACEA,KAAA,WADmB,EAEnB,oBAAWA,KAAP,eACFA,KAD4C,8CAMlDm0D,WACMn0D,KAAJ,YACEA,KAAA,WADkB,EAElB,oBAAWA,KAAP,iBACFA,KAD8C,6CAUpD,WACE,OAAOA,KAAK6zD,SAASvyB,KAAO,EAAIthC,KAAzB,SADU,+BAQnB,WACE,OAAOA,KAAKo0D,WADK,6CArGrB,gICLA,WAcA,SA7BA,onEAuCA,IAGMC,EA1CN,KAqDMC,EArDN,GAgMA,cAEE,IAAI1C,EAAJ,qBAGAA,EAAAA,cAAoBA,EALmB,KAMvCA,EAAAA,iBAAuBA,EANgB,QAOvCA,EAAAA,gBAAsBA,EAPiB,OAQvCA,EAAAA,eAAqBA,EARkB,MASvCA,EAAAA,mBAAyBA,EATc,UAUvCA,EAAAA,mBAAyBA,EAVc,UAWvCA,EAAAA,sBAA4BA,EAXW,aAYvCA,EAAAA,wBAA8BA,EAZS,eAcvCA,EAAAA,iBAAuBA,EAAAA,kBAAwB,CAAC,EAAG,EAAG,EAAG,EAAG,EAA5DA,GACAA,EAAAA,gBAfuC,GAiBvC,IAIE,IAAMpG,EAAOroD,OAAAA,yBACXA,OAAAA,eADWA,GAJX,aASFyuD,EAAAA,cAAoBpG,EATlB,IAUFoG,EAAAA,cAAoBpG,EAVlB,IAYFroD,OAAAA,eAAAA,EAAAA,YAAwC,CACtCgmB,IAAK,SAAsBlnB,GACzBjC,KAAA,cA/NR,SA+N2BiC,IAErB0K,IAAK,WACH,OAAO3M,KADoB,mBAI/B,MAAOu0D,IAETpxD,OAAAA,eAAAA,EAAAA,sBAAkD,CAChDwJ,IAAK,WACH,OAAO3M,KAD2B,oBAKtCmD,OAAAA,eAAAA,EAAAA,6BAAyD,CACvDwJ,IAAK,WAKH,QAA2B3M,KALc,iBAKzC,GAAM,EAAN,KAAM,EAAN,KAAM,EAAN,KAAM,EAAN,KAAM,EAAN,KAAM,EAAN,KACMw0D,EAAQt0C,EAAAA,EAAQC,EANmB,EAOnCs0C,EAAQt0C,EAAAA,EAAQD,EAPmB,EASzC,MAAO,CACLP,EADK,EAELQ,EAFK,EAGLC,EAHK,EAILF,EAJK,GAKJP,EAAA,EAAQS,EAAT,GALK,GAMJD,EAAA,EAAQD,EAAT,GANF,MAWJ0xC,EAAAA,KAAW,WACT,IAAM8C,EAAM10D,KADgB,iBAE5BA,KAAA,qBAF4B,GAG5BA,KAAA,iBAAwB00D,EAAAA,MAAAA,EAHI,GAK5B10D,KAL4B,iBAQ9B4xD,EAAAA,QAAc,WACZ,IAAMznD,EAAOnK,KAAK20D,gBADgB,MAElC,IACE30D,KAAA,iBADQ,EAERA,KAFQ,qBAMZ4xD,EAAAA,UAAgB,SAAsBtvD,EAAGyrB,GACvC,IAAMrO,EAAI1f,KADgC,iBAE1C0f,EAAAA,GAAOA,EAAAA,GAAAA,EAAWA,EAAAA,GAAXA,EAAsBA,EAFa,GAG1CA,EAAAA,GAAOA,EAAAA,GAAAA,EAAWA,EAAAA,GAAXA,EAAsBA,EAHa,GAK1C1f,KAAA,qBAL0C,IAQ5C4xD,EAAAA,MAAY,SAAkBtvD,EAAGyrB,GAC/B,IAAMrO,EAAI1f,KADwB,iBAElC0f,EAAAA,IAFkC,EAGlCA,EAAAA,IAHkC,EAIlCA,EAAAA,IAJkC,EAKlCA,EAAAA,IALkC,EAOlC1f,KAAA,iBAPkC,IAUpC4xD,EAAAA,UAAgB,SAAsB1xC,EAAGC,EAAGC,EAAGT,EAAG/R,EAAG6f,GACnD,IAAM/N,EAAI1f,KAD4C,iBAEtDA,KAAA,iBAAwB,CACtB0f,EAAAA,GAAAA,EAAWA,EAAAA,GADW,EAEtBA,EAAAA,GAAAA,EAAWA,EAAAA,GAFW,EAGtBA,EAAAA,GAAAA,EAAWA,EAAAA,GAHW,EAItBA,EAAAA,GAAAA,EAAWA,EAAAA,GAJW,EAKtBA,EAAAA,GAAAA,EAAWA,EAAAA,GAAXA,EAAsBA,EALA,GAMtBA,EAAAA,GAAAA,EAAWA,EAAAA,GAAXA,EAAsBA,EANxB,IASAkyC,EAAAA,mBAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAXsD,IAcxDA,EAAAA,aAAmB,SAAyB1xC,EAAGC,EAAGC,EAAGT,EAAG/R,EAAG6f,GACzDztB,KAAA,iBAAwB,CAACkgB,EAAGC,EAAGC,EAAGT,EAAG/R,EAArC,GAEAgkD,EAAAA,sBAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAH4D,IAM9DA,EAAAA,eAAqB,WACnB5xD,KAAA,iBAAwB,CAAC,EAAG,EAAG,EAAG,EAAG,EAArC,GAEA4xD,EAHgD,2BAMlDA,EAAAA,OAAa,SAAmBtiC,GAC9B,IAAMslC,EAAW32D,KAAAA,IADoB,GAE/B42D,EAAW52D,KAAAA,IAFoB,GAI/ByhB,EAAI1f,KAJ2B,iBAKrCA,KAAA,iBAAwB,CACtB0f,EAAAA,GAAAA,EAAkBA,EAAAA,GADI,EAEtBA,EAAAA,GAAAA,EAAkBA,EAAAA,GAFI,EAGtBA,EAAAA,IAAAA,EAAmBA,EAAAA,GAHG,EAItBA,EAAAA,IAAAA,EAAmBA,EAAAA,GAJG,EAKtBA,EALsB,GAMtBA,EANF,IASA1f,KAAA,gBAdqC,SAkBzC,aACEC,SAAAA,EAAAA,GAA2B,UACzBD,KAAA,cADyB,EAEzBA,KAAA,MAAamD,OAAAA,OAFY,yCAK3B2xD,SAAAA,EAAAA,EAAAA,EAAAA,GACE,IAD2C,EAc3C,YAZA,IAAI90D,KAAK+0D,MAAMvtC,IACbwtC,EAAch1D,KAAK+0D,MADa,GAEhC/0D,KAAA,wBAFgC,GAIhCg1D,EAAAA,QAAAA,aAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAJgC,KAMhCA,EAAch1D,KAAK2nD,cAAcv1B,OAAOnwB,EADnC,GAELjC,KAAA,SAFK,GAIP,GACEi1D,EAA2BD,EADT,SAXuB,uBAiB7Cv2B,WACE,aAAiBz+B,KAAjB,MAA6B,CAC3B,IAAMg1D,EAAch1D,KAAK+0D,MADE,GAE3B/0D,KAAA,sBAF2B,UAGpBA,KAAK+0D,MAHe,UAxBjC,GA4MA,aACE90D,SAAAA,EAAAA,EAAAA,GAA2B,UAEzBD,KAAA,cAFyB,EAGzBA,KAAA,SAHyB,EAIzBA,KAAA,cAJyB,EAKzBA,KAAA,WALyB,kBAMzBA,KAAA,gBANyB,EAOzBA,KAAA,WAPyB,uBAQzBA,KAAA,QARyB,EAUzBA,KAAA,EAVyB,EAWzBA,KAAA,EAXyB,EAazBA,KAAA,MAbyB,EAczBA,KAAA,MAdyB,EAgBzBA,KAAA,YAhByB,EAiBzBA,KAAA,YAjByB,EAkBzBA,KAAA,WAlByB,EAmBzBA,KAAA,kBAAyBk1D,EAAAA,kBAnBA,KAoBzBl1D,KAAA,SApByB,EAsBzBA,KAAA,UAtByB,UAuBzBA,KAAA,YAvByB,UAwBzBA,KAAA,aAxByB,EA0BzBA,KAAA,UA1ByB,EA2BzBA,KAAA,YA3ByB,EA4BzBA,KAAA,UA5ByB,EA6BzBA,KAAA,YA7ByB,KA8BzBA,KAAA,aA9ByB,KAgCzBA,KAAA,uBAA4B,CAAC,EAAG,EAAGiC,EAAnC,mCAGFE,WACE,IAAMA,EAAQgB,OAAAA,OADR,MAGN,OADAhB,EAAAA,QAAgBnC,KAAKm1D,QAFf,yCAMRC,SAAAA,EAAAA,GACEp1D,KAAA,EADoB,EAEpBA,KAAA,EAFoB,kCAKtBq1D,SAAAA,EAAAA,EAAAA,GAAkC,QACvB,EAAAhzD,KAAA,eAAoB,CAACC,EAArB,GADuB,MAChC,EADgC,KAChC,EADgC,KAEhCtC,KAAA,KAAY/B,KAAAA,IAAS+B,KAAT/B,KAFoB,GAGhC+B,KAAA,KAAY/B,KAAAA,IAAS+B,KAAT/B,KAHoB,GAIhC+B,KAAA,KAAY/B,KAAAA,IAAS+B,KAAT/B,KAJoB,GAKhC+B,KAAA,KAAY/B,KAAAA,IAAS+B,KAAT/B,KALoB,wCAQlCq3D,SAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GACE,IAAMC,EAAMlzD,EAAAA,KAAAA,kBAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EADmD,GAE/DrC,KAAA,mBAAiCu1D,EAAjC,GAAyCA,EAFsB,IAG/Dv1D,KAAA,mBAAiCu1D,EAAjC,GAAyCA,EAHsB,sCAMjEC,WAA+D,IAA5CC,EAA4C,uDAAjCC,EAAAA,SAA9BF,KAA6Cx9C,EAAkB,uDAA/Dw9C,KACQD,EAAM,CAACv1D,KAAD,KAAYA,KAAZ,KAAuBA,KAAvB,KAAkCA,KAA9C,MACA,GAAIy1D,IAAaC,EAAAA,SAAjB,OAAkC,CAChC,IACEl3C,EAAAA,EAAAA,aADc,+CAKhB,IAAM7f,EAAQ0D,EAAAA,KAAAA,8BANkB,GAO1BszD,EAAch3D,EAAAA,GAAWqB,KAAZ,UAPa,EAQ1B41D,EAAcj3D,EAAAA,GAAWqB,KAAZ,UARa,EAShCu1D,EAAAA,IATgC,EAUhCA,EAAAA,IAVgC,EAWhCA,EAAAA,IAXgC,EAYhCA,EAAAA,IAZgC,EAclC,OAhB6D,oCAmB/DM,WACE,IAAMC,EAAYzzD,EAAAA,KAAAA,UAAerC,KAAfqC,QAA6BrC,KAD5B,sBAEnBA,KAAA,uBAA4B81D,GAAa,CAAC,EAAG,EAAG,EAAhD,0CAGFC,SAAAA,GACE/1D,KAAA,QAD0B,EAE1BA,KAAA,KAF0B,IAG1BA,KAAA,KAH0B,IAI1BA,KAAA,KAJ0B,EAK1BA,KAAA,KAL0B,2CAQ5Bg2D,WAAsE,IAA5CP,EAA4C,uDAAjCC,EAAAA,SAArCM,KAAoDh+C,EAAkB,uDAAtEg+C,KACE,OAAO3zD,EAAAA,KAAAA,UACLrC,KADKqC,QAELrC,KAAKw1D,mBAAmBC,EAH0C,UA7FxE,GAqGA,gBAA+D,IAArBQ,EAAqB,uDAA/D,KACE,GAAyB,qBAAdC,WAA6BC,aAAxC,UACEvE,EAAAA,aAAAA,EAAAA,EADoE,OAAtE,CAgBA,IAjB6D,EA4B7D,MA5B6D,EA8B7D,MA9B6D,EAiBvD1vD,EAASi0D,EAAf,OACEl0D,EAAQk0D,EAlBmD,MAmBvDC,EAAqBl0D,EAnBkC,EAoBvDm0D,GAAcn0D,EAAD,GApB0C,EAqBvDo0D,EAAcF,IAAAA,EAAAA,EAAwCC,EArBC,EAuBvDE,EAAe3E,EAAAA,gBAAAA,EAvBwC,GAwBzD4E,EAAJ,EAEMp5B,EAAM+4B,EA1BiD,KA2BvD9f,EAAOkgB,EA3BgD,KA+B7D,KACE,OAAQN,EAAR,QACE,OACEQ,EAAiBR,EADnB,GAEES,EAAmBT,EAFrB,GAGEU,EAAkBV,EAHpB,GAIEW,EAAkBX,EAJpB,GADF,MAOE,OACEQ,EAAiBR,EADnB,GAEES,EAAmBT,EAFrB,GAGEU,EAAkBV,EAHpB,GAIEW,EAAkBX,EAJpB,GAWJ,GAAIE,EAAAA,OAAiBU,EAAAA,UAArB,eAA+C,CAE7C,IAAMC,EAAY15B,EAF2B,WAGvC25B,EAAS,IAAIj4C,YAAYu3B,EAAhB,SAAgCA,EAAAA,YAHF,GAIvC2gB,EAAmBD,EAJoB,OAKvCE,EAAeh1D,EAAD,GALyB,EAMzCi1D,EANyC,WAOzCC,EAAQv4C,EAAAA,qBAAAA,MAAAA,WAPiC,IAS7C,MACMg4C,MAAAA,EAAAA,IAAJ,IAAmCA,EAAAA,KAA6B,OAC7C,CAACO,EAD4C,GAC9D,EAD8D,KAC9D,EAD8D,KAKlE,IAAKj0D,EAAL,EAAYA,EAAZ,EAA6BA,IAAK,CAGhC,IAFAk0D,EAAkBl0D,EAAAA,EAAAA,EADc,EAEhCm0D,EAFgC,EAG3B91C,EAAL,EAAYA,EAAZ,EAAiCA,IAAK,CAOpC,IANA,IAAM+1C,EAAUR,EADoB,EAEhCxpC,EAFgC,EAG9BiqC,EAAOD,EAAAA,EAAAA,EAAgCA,EAAAA,EAHT,EAI9BE,GAAsB,EAAPD,EACjBE,EALgC,EAMhCC,EANgC,EAO7BpqC,EAAP,EAAyBA,GAAzB,EACEoqC,EAAUt6B,EAAIo5B,KACdO,EAAOM,KAAaK,IAAAA,EAAAA,EAFW,EAG/BX,EAAOM,KAAaK,GAAAA,EAAAA,EAHW,EAI/BX,EAAOM,KAAaK,GAAAA,EAAAA,EAJW,EAK/BX,EAAOM,KAAaK,GAAAA,EAAAA,EALW,EAM/BX,EAAOM,KAAaK,EAAAA,EAAAA,EANW,EAO/BX,EAAOM,KAAaK,EAAAA,EAAAA,EAPW,EAQ/BX,EAAOM,KAAaK,EAAAA,EAAAA,EARW,EAS/BX,EAAOM,KAAaK,EAAAA,EAAAA,EATW,EAWjC,KAAOpqC,EAAP,EAAiBA,IACf,IAAImqC,IACFC,EAAUt6B,EAAIo5B,KACdiB,EAFc,KAKhBV,EAAOM,KAAaK,EAAAA,EAAAA,EANA,EAOpBD,IAPoB,EAWxB,KAAOJ,EAAP,GACEN,EAAOM,KAD0B,EAInCzF,EAAAA,aAAAA,EAAAA,EAAkC1uD,EApCF,SAsC7B,GAAIizD,EAAAA,OAAiBU,EAAAA,UAArB,WAA2C,CAEhD,IAAMc,KACJlB,GAAA,GAH8C,GAUhD,IAFAl1C,EARgD,EAShDq2C,EAAmB31D,EAAAA,EAT6B,EAU3CiB,EAAL,EAAYA,EAAZ,EAA4BA,IAAK,CAI/B,GAHAmzC,EAAAA,IAASjZ,EAAAA,SAAAA,EAAqBo5B,EADC,IAE/BA,GAF+B,EAI/B,EACE,IAAK,IAAIlpC,EAAT,EAAgBA,EAAhB,EAAsCA,GAAtC,EACE,IACE+oB,EAAK/oB,EAAL+oB,GAAcogB,EAAepgB,EAAK/oB,EADhB,KAGpB,IACE+oB,EAAK/oB,EAAL+oB,GAAcqgB,EAAiBrgB,EAAK/oB,EADhB,KAGtB,IACE+oB,EAAK/oB,EAAL+oB,GAAcsgB,EAAgBtgB,EAAK/oB,EADhB,KAMzBskC,EAAAA,aAAAA,EAAAA,EAlB+B,GAmB/BrwC,GAnB+B,EAqBjC,GAAIre,EAAJ,EAAqB,CAInB,GAHA00D,EAAmB31D,EAAAA,EADA,EAEnBo0C,EAAAA,IAASjZ,EAAAA,SAAAA,EAAqBo5B,EAFX,IAInB,EACE,IAAK,IAAIlpC,EAAT,EAAgBA,EAAhB,EAAsCA,GAAtC,EACE,IACE+oB,EAAK/oB,EAAL+oB,GAAcogB,EAAepgB,EAAK/oB,EADhB,KAGpB,IACE+oB,EAAK/oB,EAAL+oB,GAAcqgB,EAAiBrgB,EAAK/oB,EADhB,KAGtB,IACE+oB,EAAK/oB,EAAL+oB,GAAcsgB,EAAgBtgB,EAAK/oB,EADhB,KAMzBskC,EAAAA,aAAAA,EAAAA,EAlBmB,QAoBhB,IAAIuE,EAAAA,OAAiBU,EAAAA,UAArB,UAyCL,MAAM,IAAIn3D,MAAM,mBAAV,OAA6By2D,EAD9B,OAtCL,IAAMwB,KACJlB,GAAA,GAH6C,GAU/C,IADAmB,EAAmB31D,GADnBm1D,EAR+C,GAU1Cl0D,EAAL,EAAYA,EAAZ,EAA6BA,IAAK,CAOhC,IANIA,GAAJ,IAEE00D,EAAmB31D,GADnBm1D,EADmB,IAKrBC,EANgC,EAO3B91C,EAAL,EAA2BA,KACzB80B,EAAKghB,KAAaj6B,EAAIo5B,KACtBngB,EAAKghB,KAAaj6B,EAAIo5B,KACtBngB,EAAKghB,KAAaj6B,EAAIo5B,KACtBngB,EAAKghB,KAJ2B,IAOlC,KACE,IAAK,IAAI/pC,EAAT,EAAgBA,EAAhB,EAA6BA,GAA7B,EACE,IACE+oB,EAAK/oB,EAAL+oB,GAAcogB,EAAepgB,EAAK/oB,EADhB,KAGpB,IACE+oB,EAAK/oB,EAAL+oB,GAAcqgB,EAAiBrgB,EAAK/oB,EADhB,KAGtB,IACE+oB,EAAK/oB,EAAL+oB,GAAcsgB,EAAgBtgB,EAAK/oB,EADhB,KAMzBskC,EAAAA,aAAAA,EAAAA,EAAkC1uD,EA5BF,MAmCtC,gBAYE,IAXA,IAAMhB,EAASi0D,EAAf,OACEl0D,EAAQk0D,EAF8B,MAGlCC,EAAqBl0D,EAHa,EAIlCm0D,GAAcn0D,EAAD,GAJqB,EAKlCo0D,EAAcF,IAAAA,EAAAA,EAAwCC,EALpB,EAOlCE,EAAe3E,EAAAA,gBAAAA,EAPmB,GAQpC4E,EARoC,EASlCp5B,EAAM+4B,EAT4B,KAUlC9f,EAAOkgB,EAV2B,KAY/BrzD,EAAT,EAAgBA,EAAhB,EAAiCA,IAAK,CAOpC,IANA,IAAMk0D,EACJl0D,EAAAA,EAAAA,EAFkC,EAMhCm0D,EANgC,EAO3B91C,EAAT,EAAgBA,EAAhB,EAAqCA,IAGnC,IAFA,IAAIs2C,OAAJ,EACEJ,EAFsC,EAG/BnqC,EAAT,EAAgBA,EAAhB,EAA2BA,IACzB,IACEuqC,EAAOz6B,EAAIo5B,KACXiB,EAFS,KAIXphB,EAAAA,GAAgBwhB,EAAAA,EAAAA,EALc,IAM9BR,GAN8B,EAO9BI,IAP8B,EAUlC7F,EAAAA,aAAAA,EAAAA,EAAkC1uD,EApBE,IAwBxC,gBAaE,IAZA,IAAM40D,EAAa,CAAC,cAAD,8GAAnB,QAYS50D,EAAJ,EAAWD,EAAK60D,EAArB,OAAwC50D,EAAxC,EAAgDA,IAAK,CACnD,IAAM60D,EAAWD,EADkC,QAEnD,IAAIE,EAAAA,KACFC,EAAAA,GAAoBD,EADiB,SAIzC,IAAIA,EAAAA,cACFC,EAAAA,YAAoBD,EADmB,eAEvCC,EAAAA,eAAyBD,EAFc,gBAM3C,cACEpG,EAAAA,YAD8B,UAE9BA,EAAAA,UAF8B,UAG9BA,EAAAA,SAH8B,UAI9BA,EAAAA,YAJ8B,EAK9BA,EAAAA,UAL8B,EAM9BA,EAAAA,QAN8B,OAO9BA,EAAAA,SAP8B,QAQ9BA,EAAAA,WAR8B,GAS9BA,EAAAA,yBAT8B,cAU9BA,EAAAA,KAV8B,uBAW9B,IAAIA,EAAAA,cACFA,EAAAA,YADiC,IAEjCA,EAAAA,eAFiC,GAMrC,oBAEE,IADA,IAAM7nD,EAASwB,EADgC,OAEtCrI,EAAT,EAAgBA,EAAhB,EAA4BA,GAA5B,EAAoC,CAClC,IAAMqsB,EAAQhkB,EADoB,GAElC,OAAIgkB,EACFhkB,EAAMrI,EAANqI,GADe,EAEfA,EAAMrI,EAANqI,GAFe,EAGfA,EAAMrI,EAANqI,GAHe,OAIV,GAAIgkB,EAAJ,IAAiB,CACtB,IAAM2oC,EAAS,IADO,EAEtB3sD,EAAMrI,EAANqI,GAAgBA,EAAMrI,EAANqI,GAAAA,EAAuB4sD,EAAxB,GAFO,EAGtB5sD,EAAMrI,EAANqI,GAAgBA,EAAMrI,EAANqI,GAAAA,EAAuB6sD,EAAxB,GAHO,EAItB7sD,EAAMrI,EAANqI,GAAgBA,EAAMrI,EAANqI,GAAAA,EAAuB8sD,EAAxB,GAJO,IAS5B,kBAGE,IAFA,IAAMtuD,EAASuuD,EAD4C,OAGlDp1D,EAAT,EAAgBA,EAAhB,EAA4BA,GAA5B,EAAoC,CAClC,IAAMqsB,EAAQgpC,EAAcA,EAAYD,EAA1BC,IAAyCD,EADrB,GAElCE,EAAAA,GAAgBA,EAAAA,GAAAA,EAHJ,mBACsB,GAMtC,kBAEE,IADA,IAAMzuD,EAASuuD,EADiD,OAEvDp1D,EAAT,EAAgBA,EAAhB,EAA4BA,GAA5B,EAAoC,CAClC,IAAM6qB,EACJuqC,GAAAA,EAASp1D,EAATo1D,GAAAA,IACAA,EAASp1D,EAATo1D,GAHgC,GAIhCA,EAASp1D,EAATo1D,GACFE,EAAAA,GAAeD,EACVC,EAAAA,GAAeD,EAAYxqC,GAA5B,IADWwqC,EAEVC,EAAAA,GAAD,GAP8B,IA+DtC,oBACE,IAAMC,EAAeC,EAD+B,GAE9CC,EAAeD,EAF+B,GAG9CE,EAAaF,EAAAA,GAHiC,EAI9CG,EAAcH,EAAAA,GAJgC,EAKhDE,IAAAA,GAAJ,IAAwBC,IAzD1B,gCAaE,IADA,EACMC,IADN,EAEMX,EAAKW,EAAcC,EAAdD,GAFX,EAGMV,EAAKU,EAAcC,EAAdD,GAHX,EAIMT,EAAKS,EAAcC,EAAdD,GAJX,EAQEE,EADF,eAAIC,EAA0B,EAEvB,EAOP,IAFA,IACMxlB,EAAYx1C,KAAAA,IAAAA,EAAiBA,KAAAA,KAfnC,YAgBSi7D,EAAT,EAAkBA,EAAlB,EAAgCA,GAAhC,EAAkD,CAChD,IAAMC,EAAcl7D,KAAAA,IAAAA,EAAoBiE,EADQ,GAE1Co2D,EAAWc,EAAAA,aACfX,EADeW,EAEfF,GAAOP,EAFQS,GAAAA,EAF+B,GAQ1CZ,EAAYa,EAAAA,aAAAA,EAEhBH,EAFgBG,EAAAA,EAR8B,GAehD,GACEC,EAAqBhB,EAArBgB,KAAAA,EAAAA,EADe,GAGjBN,EAAUV,EAAVU,KAAyBR,EAAzBQ,KAlBgD,GAoBhDK,EAAAA,aAAAA,EAAAA,EAA+CH,EApBC,IAgClDK,CACEn8C,EADFm8C,QAAAA,EAAAA,EAAAA,EAKEn8C,EALFm8C,QAMEn8C,EANFm8C,SAOEn8C,EAPFm8C,YAAAA,EAAAA,EAUEn8C,EAVFm8C,QAWEn8C,EAnBkD,SAqBpDw0C,EArBoD,OAsBpDA,EAAAA,YAtBoD,EAuBpDA,EAAAA,yBAvBoD,cAwBpDA,EAAAA,aAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAxBoD,GAyBpDA,EAAAA,UAAcyH,EAAdzH,OAAAA,EAzBoD,GA0BpDA,EA1BoD,WA6BtD,gBACE,IAAMjzD,EAAQ0D,EAAAA,KAAAA,8BAD0C,GAIxD1D,EAAAA,GAAWV,KAAAA,OAAYU,EAJiC,IAKxDA,EAAAA,GAAWV,KAAAA,OAAYU,EALiC,IAMxD,IAAM66D,EAAcv7D,KAAAA,QACjBkC,WAAA,kBAAD,GAAqCP,EAAAA,cAPiB,kBASxD,gBAAI65D,EAA2B,EAGpB96D,EAAAA,IAAAA,GAA2BA,EAAAA,IAA/B,EAQT,IAAM+6D,EAAkB,CAAC,OAAQ,QAAjC,UACMC,EAAmB,CAAC,QAAS,QAAnC,SACMC,EApiCN,GAqiCMC,EAriCN,GAuiCA,aACE55D,SAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GAQE,UACAD,KAAA,IADA,EAEAA,KAAA,QAAe,IAAI85D,EACjB95D,KAAK4xD,IAAIvxD,OADI,MAEbL,KAAK4xD,IAAIvxD,OAJX,QAMAL,KAAA,WANA,GAOAA,KAAA,YAPA,KAQAA,KAAA,eARA,EASAA,KAAA,IATA,KAUAA,KAAA,MAVA,KAWAA,KAAA,WAXA,EAYAA,KAAA,KAZA,EAaAA,KAAA,cAbA,EAcAA,KAAA,WAdA,EAeAA,KAAA,WAfA,GAgBAA,KAAA,gBAhBA,KAmBAA,KAAA,cAnBA,KAoBAA,KAAA,mBApBA,GAqBAA,KAAA,WArBA,EAsBAA,KAAA,WAtBA,GAuBAA,KAAA,aAvBA,EAwBAA,KAAA,UAxBA,KAyBAA,KAAA,aAzBA,KA0BAA,KAAA,gBA1BA,EA2BAA,KAAA,mBA3BA,GA4BAA,KAAA,sBA5BA,EA6BAA,KAAA,eAAsB,IAAI+5D,EAAe/5D,KA7BzC,eA8BAA,KAAA,eAAsB,IA9BtB,IA+BAA,KAAA,oBA/BA,EAgCAA,KAAA,cAhCA,EAiCAA,KAAA,aAjCA,EAkCAA,KAAA,aAlCA,EAmCA,GAGEi1D,EAHa,GAKfj1D,KAAA,2BAxCA,2CA2CFg6D,SAAAA,GAKG,IALU,EAKV,EALU,YAKV,EALU,SAKV,IAFD7Q,aAAAA,OAEC,aADDvB,WAAAA,OACC,MALHoS,KAKG,EAMK/3D,EAAQjC,KAAK4xD,IAAIvxD,OANtB,MAOK6B,EAASlC,KAAK4xD,IAAIvxD,OAPvB,OAcD,GALAL,KAAA,IATC,OAUDA,KAAA,cAAqB4nD,GAVpB,qBAWD5nD,KAAA,mBAXC,GAYDA,KAAA,IAZC,UAcD,EAAkB,CAChB,IAAMi6D,EAAoBj6D,KAAKk6D,eAAepF,UAAU,cAA9B,KADV,GAOhB90D,KAAA,aAAoBA,KAPJ,IAQhBA,KAAA,kBAAyBi6D,EART,OAShBj6D,KAAA,IAAWi6D,EATK,QAUhBj6D,KAAA,IAVgB,OAahBA,KAAA,oBAAyBA,KAAzB,IAAmCA,KAAKm6D,aAbxB,qBAgBlBn6D,KAAA,IA9BC,OA+BDo6D,EAAkBp6D,KA/BjB,KAgCD,IACEA,KAAA,oBAAyBA,KAAzB,IADa,GAEbA,KAAA,aAAoBgY,EAFP,GAGbhY,KAAA,aAAoBgY,EAHP,IAKfhY,KAAA,oBAAyBA,KAAzB,IAAmC4oD,EArClC,WAsCD5oD,KAAA,cAAqB4oD,EAtCpB,MAwCD5oD,KAAA,cAAqBA,KAAK4xD,IAAIyI,oBAxC7B,QAyCDr6D,KAAA,qBAA4B/B,KAAAA,MAC1B+B,KAAKs6D,cADqBr8D,GAE1B+B,KAAKs6D,cA3CN,IA8CGt6D,KAAJ,YACEA,KAAA,WADmB,iDAKvBswD,SAAAA,EAAAA,EAAAA,EAAAA,GAME,IAAM/H,EAAYQ,EADlB,UAEMT,EAAUS,EAFhB,QAGI7lD,EAAIq3D,GAHR,EAIMC,EAAejS,EAJrB,OAOA,GAAIiS,IAAJt3D,EACE,OADsB,EAcxB,IAVA,IAXA,EAWMu3D,EACJD,EAAAA,EApqCN,IAwpCI,oBAaSE,EACHC,EAAUF,EAAkBn3D,KAAAA,MAtqCtC,GAwpCI,EAeIs3D,EAfJ,EAiBM9R,EAAa9oD,KAjBnB,WAkBM6oD,EAAO7oD,KAlBb,OAqBa,CACX,QAAImwD,IAAAA,GAAyBjtD,IAAMitD,EAAnC,eAEE,OADAA,EAAAA,QAAAA,EADyD,KAO3D,IAFA0K,EAAOvS,EANI,MAQEwS,EAAAA,IAAb,WACE96D,KAAA,SAAAA,KAAuBuoD,EADI,QAEtB,WACkBA,EADlB,QACL,2BAAqC,KAArC,EAAqC,QAC7BwS,EAAWC,EAAAA,WAAAA,MAAAA,EADkB,EAKnC,IAAKD,EAAAA,IAAL,GAEE,OADAA,EAAAA,IAAAA,EAD2B,MAN1B,+BAgBP,KAHA73D,IAGA,EACE,OADsB,EAMxB,GAAIu3D,KAAqBG,EA7sC/B,GA6sCwD,CAChD,GAAIt3D,KAAAA,MAAJ,EAEE,OADAo3D,IADwB,EAI1BE,EALgD,8BAatDK,WAEE,KAAOj7D,KAAKk7D,WAAWnxD,QAAvB,OAAiC/J,KAAKqzD,QAAQ8H,aAC5Cn7D,KADkE,UAIpEA,KAAA,IANW,UAQPA,KAAJ,oBACEA,KAAA,IAAWA,KADe,aAE1BA,KAAA,IAF0B,OAG1BA,KAAA,2BAH0B,GAI1BA,KAAA,cAAmBA,KAAnB,oBAJ0B,GAK1BA,KAAA,IAL0B,UAM1BA,KAAA,kBAN0B,MAS5BA,KAAA,eAjBW,QAkBXA,KAAA,eAlBW,QAoBPA,KAAJ,YACEA,KAAA,WADmB,uCAKvBo7D,SAAAA,EAAAA,GAmBE,IAfA,IAcA,EAlBiC,EAI3Bn5D,EAAQo5D,EAJmB,MAK3Bn5D,EAASm5D,EALkB,OAM7BC,EAAar9D,KAAAA,IACfA,KAAAA,MAAWs9D,EAAXt9D,GAAgCs9D,EADjBt9D,IANgB,GAU7Bu9D,EAAcv9D,KAAAA,IAChBA,KAAAA,MAAWs9D,EAAXt9D,GAAgCs9D,EADhBt9D,IAVe,GAe7Bw9D,EAAJ,EACEC,EAhB+B,EAiB7BC,EAjB6B,YAoB9BL,EAAAA,GAAkBG,EAAnB,GACCD,EAAAA,GAAmBE,EAFtB,GAGE,CACA,IAAIE,EAAJ,EACEC,EAFF,EAGIP,EAAAA,GAAkBG,EAAtB,IAEEH,GAAcG,GADdG,EAAW39D,KAAAA,KAAUw9D,EADe,KAIlCD,EAAAA,GAAmBE,EAAvB,IAEEF,GAAeE,GADfG,EAAY59D,KAAAA,KAAUy9D,EADgB,MASxCI,GALAC,EAAY/7D,KAAKk6D,eAAepF,UAAU,EAA9B,EAXZ,aAiBAgH,UAAAA,EAAAA,EAAAA,EAjBA,GAkBAA,EAAAA,UAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAlBA,GA6BAT,EAAMU,EA7BN,OA8BAN,EA9BA,EA+BAC,EA/BA,EAgCAC,EAAcA,cAAAA,EAAAA,YAhCd,YAkCF,MAAO,CACLN,IADK,EAELI,WAFK,EAGLC,YAAAA,oCAIJM,SAAAA,GACE,IAAMpK,EAAM5xD,KADS,IAEfiC,EAAQo5D,EAAd,MACEn5D,EAASm5D,EAHU,OAIfY,EAAYj8D,KAAKqzD,QAJF,UAKf6I,EAAgBl8D,KAAKqzD,QALN,YAMf8I,EAAan8D,KAAKk6D,eAAepF,UAAU,aAA9B,EANE,GAYrBsH,EADgBD,EAXK,WAkBrB,IAAME,EAAczK,EAlBC,oBAmBjB0K,EAAe,EAAAj6D,KAAA,YAA4B,CAC7C,EAD6C,OAI5C,EAJ4C,IAA/C,IAQAi6D,EAAe,EAAAj6D,KAAA,YAA6B,CAAC,EAAG,EAAG,EAAG,EAAG,GAAzDi6D,IACA,IAAMC,EAAQ,EAAAl6D,KAAA,eAAoB,CAAC,EAArB,GA5BO,GA6Bfm6D,EAAQ,EAAAn6D,KAAA,eAAoB,CAACJ,EAArB,GA7BO,GA8BfQ,EAAO,EAAAJ,KAAA,cAAmB,CAACk6D,EAAD,GAAWA,EAAX,GAAqBC,EAArB,GAA+BA,EAA/D,KACMC,EAAax+D,KAAAA,KAAUwE,EAAAA,GAAUA,EA/BlB,IAgCfi6D,EAAcz+D,KAAAA,KAAUwE,EAAAA,GAAUA,EAhCnB,IAiCfk6D,EAAa38D,KAAKk6D,eAAepF,UAAU,aAA9B,KAjCE,GAuCf8H,EAAUD,EAvCK,QAyCfr7D,EAAUrD,KAAAA,IAASs+D,EAATt+D,GAAmBu+D,EAzCd,IA0Cfj7D,EAAUtD,KAAAA,IAASs+D,EAATt+D,GAAmBu+D,EA1Cd,IA2CrBI,EAAAA,WAAAA,GA3CqB,GA4CrBA,EAAAA,UAAAA,MAAAA,EA5CqB,GA8CrB,IAAMC,EAAS78D,KAAKo7D,YAClBe,EADa,OAEbS,EAhDmB,4BAkDrBA,EAAAA,sBAAgCE,EAC9BF,EAD8BE,oBAE9BzB,EApDmB,aAsDrBuB,EAAAA,UACEC,EADFD,IAAAA,EAAAA,EAIEC,EAAAA,IAJFD,MAKEC,EAAAA,IALFD,OAAAA,EAAAA,EAAAA,EAtDqB,GAiErBA,EAAAA,yBAjEqB,YAmErB,IAAMG,EAAU,EAAA16D,KAAA,UAAeu6D,EAAf,2BAAmD,CAAC,EAAD,UAAnE,IAeA,OAPAA,EAAAA,UAAoBV,EAChBD,EAAAA,WAAAA,EAAAA,KAAAA,EAAyCvG,EAAAA,SADzBwG,MA3EC,EA+ErBU,EAAAA,SAAAA,EAAAA,EAAAA,EA/EqB,GAkFd,CACLv8D,OAAQs8D,EADH,OAELr7D,QAASrD,KAAAA,MAFJ,GAGLsD,QAAStD,KAAAA,MAHJ,gCAQTqZ,SAAAA,GACEtX,KAAA,kBADkB,EAElBA,KAAA,cAFkB,4BAKpBuX,SAAAA,GACEvX,KAAA,YAAmB05D,EADH,8BAIlBliD,SAAAA,GACExX,KAAA,aAAoB25D,EADH,gCAInBliD,SAAAA,GACEzX,KAAA,eADmB,yBAIrB0X,SAAAA,EAAAA,GACE,IAAMk6C,EAAM5xD,KADgB,SAE5B,IAAI4xD,EAAAA,cACFA,EAAAA,YADiC,GAEjCA,EAAAA,eAFiC,qCAMrCj6C,SAAAA,+BAIAC,SAAAA,6BAIAC,SAAAA,GACE,IAAK,IAAI3U,EAAJ,EAAWD,EAAK+5D,EAArB,OAAoC95D,EAApC,EAA4CA,IAAK,CAC/C,IAAMoD,EAAQ02D,EADiC,GAEzCxzD,EAAMlD,EAFmC,GAGzCb,EAAQa,EAHiC,GAK/C,UACE,SACEtG,KAAA,aADF,GADF,MAIE,SACEA,KAAA,WADF,GAJF,MAOE,SACEA,KAAA,YADF,GAPF,MAUE,SACEA,KAAA,cADF,GAVF,MAaE,QACEA,KAAA,QAAayF,EAAb,GAAuBA,EADzB,IAbF,MAgBE,SACEzF,KAAA,mBADF,GAhBF,MAmBE,SACEA,KAAA,YADF,GAnBF,MAsBE,WACEA,KAAA,QAAayF,EAAb,GAAuBA,EADzB,IAtBF,MAyBE,SACEzF,KAAA,oBAA2BsG,EAD7B,GAzBF,MA4BE,SACEtG,KAAA,kBAAyBsG,EAD3B,GAEEtG,KAAA,gBAAuBsG,EAFzB,GA5BF,MAgCE,SACEtG,KAAA,6BADF,EAhCF,MAmCE,YACEA,KAAA,oBAA2ByF,EAAQzF,KAARyF,UAD7B,KAEEzF,KAAA,UAFF,KAGEA,KAHF,kBAnCF,MAwCE,SACEA,KAAA,qBAzCJ,mCA8CJi9D,WACE,IAAMC,IAAgBl9D,KADN,aAEZA,KAAKqzD,QAAQ8H,cAAjB,EACEn7D,KAD4C,kBAElCA,KAAKqzD,QAAN,aAAJ,GACLrzD,KADmD,6CAevDm9D,WACE,GAAIn9D,KAAJ,aACE,MAAM,IAAIN,MADW,qDAGvB,IAAM+8D,EAAaz8D,KAAK4xD,IAAIvxD,OAJb,MAKTq8D,EAAc18D,KAAK4xD,IAAIvxD,OALd,OAMT+8D,EAAU,eAAiBp9D,KANlB,WAOTq9D,EAAgBr9D,KAAKk6D,eAAepF,UAAU,EAA9B,KAPP,GAaf90D,KAAA,aAAoBA,KAbL,IAcfA,KAAA,IAAWq9D,EAdI,QAef,IAAMzL,EAAM5xD,KAfG,IAgBf4xD,EAAAA,aAAAA,MAAAA,EAA4B5xD,KAAKs9D,aAhBlB,qBAiBfC,EAAav9D,KAAbu9D,aAjBe,GAx6CnB,cACE,GAAI3L,EAAJ,iBACE,MAAM,IAAIlyD,MADc,6CAG1BkyD,EAAAA,eAAqBA,EAJwB,KAK7CA,EAAAA,kBAAwBA,EALqB,QAM7CA,EAAAA,iBAAuBA,EANsB,OAO7CA,EAAAA,gBAAsBA,EAPuB,MAQ7CA,EAAAA,oBAA0BA,EARmB,UAS7CA,EAAAA,oBAA0BA,EATmB,UAU7CA,EAAAA,uBAA6BA,EAVgB,aAW7CA,EAAAA,yBAA+BA,EAXc,eAY7CA,EAAAA,eAAqBA,EAZwB,KAa7CA,EAAAA,iBAAuBA,EAbsB,OAc7CA,EAAAA,iBAAuBA,EAdsB,OAe7CA,EAAAA,wBAA8BA,EAfe,cAgB7CA,EAAAA,eAAqBA,EAhBwB,KAiB7CA,EAAAA,oBAA0BA,EAjBmB,UAkB7CA,EAAAA,oBAA0BA,EAlBmB,UAoB7CA,EAAAA,iBAAuB,WACrBA,EAAAA,KAAWA,EADgB,eAE3BA,EAAAA,QAAcA,EAFa,kBAG3BA,EAAAA,OAAaA,EAHc,iBAI3BA,EAAAA,MAAYA,EAJe,gBAK3BA,EAAAA,UAAgBA,EALW,oBAM3BA,EAAAA,UAAgBA,EANW,oBAO3BA,EAAAA,aAAmBA,EAPQ,uBAQ3BA,EAAAA,eAAqBA,EARM,yBAU3BA,EAAAA,KAAWA,EAVgB,eAW3BA,EAAAA,OAAaA,EAXc,iBAY3BA,EAAAA,OAAaA,EAZc,iBAa3BA,EAAAA,cAAoBA,EAbO,wBAc3BA,EAAAA,KAAWA,EAdgB,eAe3BA,EAAAA,UAAgBA,EAfW,oBAgB3BA,EAAAA,UAAgBA,EAhBW,2BAiBpBA,EAjBoB,kBAoB7BA,EAAAA,KAAW,WACTqG,EAD4B,OAE5Bj4D,KAF4B,kBAK9B4xD,EAAAA,QAAc,WACZqG,EADkC,UAElCj4D,KAFkC,qBAKpC4xD,EAAAA,UAAgB,SAAsBtvD,EAAGyrB,GACvCkqC,EAAAA,UAAAA,EAD0C,GAE1Cj4D,KAAA,sBAF0C,IAK5C4xD,EAAAA,MAAY,SAAkBtvD,EAAGyrB,GAC/BkqC,EAAAA,MAAAA,EADkC,GAElCj4D,KAAA,kBAFkC,IAKpC4xD,EAAAA,UAAgB,SAAsB1xC,EAAGC,EAAGC,EAAGT,EAAG/R,EAAG6f,GACnDwqC,EAAAA,UAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EADsD,GAEtDj4D,KAAA,8BAFsD,IAKxD4xD,EAAAA,aAAmB,SAAyB1xC,EAAGC,EAAGC,EAAGT,EAAG/R,EAAG6f,GACzDwqC,EAAAA,aAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAD4D,GAE5Dj4D,KAAA,iCAF4D,IAK9D4xD,EAAAA,eAAqB,WACnBqG,EADgD,iBAEhDj4D,KAFgD,4BAKlD4xD,EAAAA,OAAa,SAAmBtiC,GAC9B2oC,EAAAA,OADqC,GAErCj4D,KAAA,iBAFqC,IAKvC4xD,EAAAA,KAAW,SAAmBb,GAC5BkH,EAAAA,KADkC,GAElCj4D,KAAA,eAFkC,IAKpC4xD,EAAAA,OAAa,SAAUtvD,EAAGyrB,GACxBkqC,EAAAA,OAAAA,EAD2B,GAE3Bj4D,KAAA,mBAF2B,IAK7B4xD,EAAAA,OAAa,SAAUtvD,EAAGyrB,GACxBkqC,EAAAA,OAAAA,EAD2B,GAE3Bj4D,KAAA,mBAF2B,IAK7B4xD,EAAAA,cAAoB,SAAU4L,EAAMC,EAAMC,EAAMC,EAAMr7D,EAAGyrB,GACvDkqC,EAAAA,cAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAD0D,GAE1Dj4D,KAAA,kCAF0D,IAK5D4xD,EAAAA,KAAW,SAAUtvD,EAAGyrB,EAAG9rB,EAAOC,GAChC+1D,EAAAA,KAAAA,EAAAA,EAAAA,EADwC,GAExCj4D,KAAA,qBAFwC,IAK1C4xD,EAAAA,UAAgB,WACdqG,EAD0B,YAE1Bj4D,KAF0B,uBAK5B4xD,EAAAA,UAAgB,WACdqG,EAD0B,YAE1Bj4D,KAF0B,uBA40C1B49D,CAAAA,EAA6B59D,KAlBd,cAoBfA,KAAA,UAAe,CACb,CAAC,KADY,eAEb,CAAC,KAFY,GAGb,CAAC,KAHH,iCAOF69D,WACE,IAAK79D,KAAL,aACE,MAAM,IAAIN,MADY,+CAKxBM,KAAA,IANa,mBAObu9D,EAAav9D,KAAbu9D,IAAuBv9D,KAPV,cAQbA,KAAA,IAAWA,KARE,aAUbA,KAAA,oBAVa,KAWbA,KAAA,aAXa,4BAcf89D,SAAAA,GACE,GAAK99D,KAAKqzD,QAAV,aAIA,GAGE0K,EAAAA,GAAc9/D,KAAAA,MAAW8/D,EADpB,IAELA,EAAAA,GAAc9/D,KAAAA,MAAW8/D,EAFpB,IAGLA,EAAAA,GAAc9/D,KAAAA,KAAU8/D,EAHnB,IAILA,EAAAA,GAAc9/D,KAAAA,KAAU8/D,EAJnB,KADLA,EAAW,CAAC,EAAG,EAAG/9D,KAAK4xD,IAAIvxD,OAAhB,MAA8BL,KAAK4xD,IAAIvxD,OAAlD09D,QAOF,IAAM3gD,EAAQpd,KAAKqzD,QAbH,YAgBhB2K,EAFqBh+D,KAdL,aAgBhBg+D,EAAkCh+D,KAAlCg+D,IAhBgB,GAmBhBh+D,KAAA,IAnBgB,OAoBhBA,KAAA,2BApBgB,GAqBhBA,KAAA,kBAAyBA,KAAK4xD,IAAIvxD,OAAlC,MAAgDL,KAAK4xD,IAAIvxD,OArBzC,QAsBhBL,KAAA,IAtBgB,+BAyBlB8X,WACE9X,KAAA,IADK,OAEL,IAAM00D,EAAM10D,KAFP,QAGLA,KAAA,gBAHK,GAILA,KAAA,QAAe00D,EAJV,+BAOP38C,WACiC,IAA3B/X,KAAKk7D,WAAWnxD,QAAgB/J,KAAKqzD,QAAzC,aACErzD,KAD4D,eAI9D,IAAIA,KAAKk7D,WAAWnxD,SAClB/J,KAAA,QAAeA,KAAKk7D,WADY,MAEhCl7D,KAAA,IAFgC,UAGhCA,KAHgC,kBAMhCA,KAAA,YANgC,KAQhCA,KAAA,2BARgC,+BAYpCgY,SAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GACEhY,KAAA,wBAD0B,GAG1BA,KAAA,2BAH0B,kCAO5B+c,SAAAA,EAAAA,GAME,IALA,IAIA,EALuB,EACjB60C,EAAM5xD,KADW,IAEjBqzD,EAAUrzD,KAFO,QAGnBsC,EAAI+wD,EAAR,EACEtlC,EAAIslC,EAJiB,EAMdnwD,EAAJ,EAAWqe,EAAX,EAAkBte,EAAKg7D,EAA5B,OAAwC/6D,EAAxC,EAAgDA,IAC9C,SAAQ+6D,EAAAA,IACN,KAAKnD,EAAAA,IAAL,UACEx4D,EAAI4tB,EAAK3O,KACTwM,EAAImC,EAAK3O,KACT,IAAMtf,EAAQiuB,EAAK3O,KACbrf,EAASguB,EAAK3O,KAEd28C,EAAK57D,EANb,EAOQ67D,EAAKpwC,EAPb,EAQE6jC,EAAAA,OAAAA,EARF,GASM3vD,IAAAA,GAAJ,IAAmBC,EACjB0vD,EAAAA,OAAAA,EAD+B,IAG/BA,EAAAA,OAAAA,EADK,GAELA,EAAAA,OAAAA,EAFK,GAGLA,EAAAA,OAAAA,EAHK,IAKPyB,EAAAA,iBAAyBzB,EAAzByB,oBAAAA,EAhBF,GAiBEA,EAAAA,iBAAyBzB,EAAzByB,oBAAAA,EAjBF,GAkBEzB,EAlBF,YADF,MAqBE,KAAKkJ,EAAAA,IAAL,OACEx4D,EAAI4tB,EAAK3O,KACTwM,EAAImC,EAAK3O,KACTqwC,EAAAA,OAAAA,EAHF,GAIEyB,EAAAA,iBAAyBzB,EAAzByB,oBAAAA,EAJF,GArBF,MA2BE,KAAKyH,EAAAA,IAAL,OACEx4D,EAAI4tB,EAAK3O,KACTwM,EAAImC,EAAK3O,KACTqwC,EAAAA,OAAAA,EAHF,GAIEyB,EAAAA,iBAAyBzB,EAAzByB,oBAAAA,EAJF,GA3BF,MAiCE,KAAKyH,EAAAA,IAAL,QACEsD,EADF,EAEEC,EAFF,EAGE/7D,EAAI4tB,EAAK3O,EAHX,GAIEwM,EAAImC,EAAK3O,EAJX,GAKEqwC,EAAAA,cACE1hC,EADF0hC,GAEE1hC,EAAK3O,EAFPqwC,GAGE1hC,EAAK3O,EAHPqwC,GAIE1hC,EAAK3O,EAJPqwC,GAAAA,EALF,GAaEyB,EAAAA,sBACEzB,EADFyB,oBAAAA,EAAAA,EAIEnjC,EAJFmjC,GAKEnjC,EAAK3O,EALP8xC,GAMEnjC,EAAK3O,EANP8xC,GAOEnjC,EAAK3O,EAPP8xC,GAAAA,EAbF,GAwBE9xC,GAxBF,EAjCF,MA2DE,KAAKu5C,EAAAA,IAAL,SACEsD,EADF,EAEEC,EAFF,EAGEzM,EAAAA,cAAAA,EAAAA,EAGE1hC,EAHF0hC,GAIE1hC,EAAK3O,EAJPqwC,GAKE1hC,EAAK3O,EALPqwC,GAME1hC,EAAK3O,EATT,IAWE8xC,EAAAA,sBACEzB,EADFyB,oBAAAA,EAAAA,EAAAA,EAAAA,EAMEnjC,EANFmjC,GAOEnjC,EAAK3O,EAPP8xC,GAQEnjC,EAAK3O,EARP8xC,GASEnjC,EAAK3O,EApBT,IAsBEjf,EAAI4tB,EAAK3O,EAtBX,GAuBEwM,EAAImC,EAAK3O,EAvBX,GAwBEA,GAxBF,EA3DF,MAqFE,KAAKu5C,EAAAA,IAAL,SACEsD,EADF,EAEEC,EAFF,EAGE/7D,EAAI4tB,EAAK3O,EAHX,GAIEwM,EAAImC,EAAK3O,EAJX,GAKEqwC,EAAAA,cAAkB1hC,EAAlB0hC,GAA2B1hC,EAAK3O,EAAhCqwC,GAAAA,EAAAA,EAAAA,EALF,GAMEyB,EAAAA,sBACEzB,EADFyB,oBAAAA,EAAAA,EAIEnjC,EAJFmjC,GAKEnjC,EAAK3O,EALP8xC,GAAAA,EAAAA,EAAAA,EANF,GAiBE9xC,GAjBF,EArFF,MAwGE,KAAKu5C,EAAAA,IAAL,UACElJ,EADF,YAKJyB,EAAAA,gBAAAA,EApHuB,4BAuHzB/6C,WACEtY,KAAA,IADU,kCAIZwY,SAAAA,GACE8lD,EAAqC,qBAAhBA,GAA8BA,EACnD,IAAM1M,EAAM5xD,KAFM,IAGZu+D,EAAcv+D,KAAKqzD,QAHP,YAOlB,GADAzB,EAAAA,YAAkB5xD,KAAKqzD,QANL,YAOdrzD,KAAJ,eACE,GAAI,wBAAmCu+D,QAAnC,IAAmCA,GAAAA,EAAvC,WAAgE,CAC9D,IAAMC,EAAYx+D,KAD4C,sBAE9D4xD,EAF8D,OAG9DA,EAAAA,YAAkB2M,EAAAA,WAAAA,EAAAA,KAGhB3M,EAHgB2M,2BAIhB7I,EAAAA,SAP4D,QAU9D9D,EAAAA,UAAgB3zD,KAAAA,IAAAA,EAAoB+B,KAAKqzD,QAVqB,WAW9DzB,EAX8D,SAY9DA,EAZ8D,cAazD,CACL,IAAM4M,EAAYx+D,KADb,sBAEDw+D,EAAAA,IAAkB,GAAax+D,KAAKqzD,QAAxC,WAGEzB,EAHyD,OAIzDA,EAJyD,iBAKzDA,EAAAA,UAAgB3zD,KAAAA,MAAW+B,KAL8B,sBAMzD4xD,EANyD,SAOzDA,EAPyD,YAUzDA,EAAAA,UAAgB3zD,KAAAA,IAAAA,EAAoB+B,KAAKqzD,QAFpC,WAGLzB,EAHK,UAOX,GACE5xD,KAAA,YAAiBA,KAAKqzD,QADP,6BAIjBzB,EAAAA,YAAkB5xD,KAAKqzD,QA1CL,qCA6CpB56C,WACEzY,KADY,YAEZA,KAFY,6BAKd0Y,SAAAA,GACE4lD,EAAqC,qBAAhBA,GAA8BA,EACnD,IAAM1M,EAAM5xD,KAFI,IAGVi8D,EAAYj8D,KAAKqzD,QAHP,UAKZoL,GALY,EAIMz+D,KAAKqzD,QAJX,cAQdzB,EADiB,OAEjBA,EAAAA,UAAgBqK,EAAAA,WAAAA,EAAAA,KAGdrK,EAHcqK,2BAIdvG,EAAAA,SANe,MAQjB+I,GARiB,GAWnB,IAAM3I,EAAY91D,KAAKqzD,QAlBP,4BAmBZrzD,KAAK0+D,gBAAT,OAA2B5I,IACrB91D,KAAJ,eACE4xD,EAAAA,KADsB,WAEtB5xD,KAAA,eAFsB,GAItB4xD,EADK,QAKT,GACEA,EADe,UAGjB,GACE5xD,KAAA,YADe,yBAKnB2Y,WACE3Y,KAAA,eADO,EAEPA,KAFO,iCAKT4Y,WACE5Y,KAAA,MADW,GAEXA,KAAA,QAFW,GAIXA,KAJW,0CAOb6Y,WACE7Y,KAAA,eADa,EAEbA,KAFa,4CAKf8Y,WACE9Y,KADgB,YAEhBA,KAFgB,8CAKlB+Y,WACE/Y,KAAA,eADkB,EAElBA,KAFkB,YAGlBA,KAHkB,oCAMpBgZ,WACEhZ,KADQ,kCAKViZ,WACEjZ,KAAA,YADK,wBAIPkZ,WACElZ,KAAA,YADO,2BAKTmZ,WACEnZ,KAAA,mBADU,kBAEVA,KAAA,wBAFU,EAGVA,KAAA,UAAiBA,KAAKqzD,QAAQsL,MAHpB,EAIV3+D,KAAA,UAAiBA,KAAKqzD,QAAQuL,MAJpB,yBAOZxlD,WACE,IAAMylD,EAAQ7+D,KADN,iBAEF4xD,EAAM5xD,KAFJ,IAGR,YAAI6+D,EAAJ,CAKAjN,EARQ,OASRA,EATQ,YAUR,IAAK,IAAI1uD,EAAT,EAAgBA,EAAI27D,EAApB,OAAkC37D,IAAK,CACrC,IAAM0uB,EAAOitC,EADwB,GAErCjN,EAAAA,aAAAA,MAAAA,EAA4BhgC,EAFS,WAGrCggC,EAAAA,UAAchgC,EAAdggC,EAAsBhgC,EAHe,GAIrCA,EAAAA,UAAAA,EAAoBA,EAJiB,UAMvCggC,EAhBQ,UAiBRA,EAjBQ,OAkBRA,EAlBQ,mBAmBD5xD,KAnBC,sBAIN4xD,EADuB,0CAmB3Bv4C,SAAAA,GACErZ,KAAA,oBADsB,gCAIxBsZ,SAAAA,GACEtZ,KAAA,oBADsB,2BAIxBuZ,SAAAA,GACEvZ,KAAA,mBAA0BrB,EADX,8BAIjB6a,SAAAA,GACExZ,KAAA,iBADkB,yBAIpByZ,SAAAA,EAAAA,GACE,IAAMqlD,EAAU9+D,KAAK8oD,WAAWn8C,IADP,GAEnB0mD,EAAUrzD,KAFS,QAIzB,MACE,MAAM,IAAIN,MAAM,uBAAV,OADM,IAuBd,GApBA2zD,EAAAA,WAAqByL,EAAAA,YAPI,uBAWrBzL,IAAAA,EAAAA,WAAAA,IAAJ,IAAmCA,EAAAA,WAAAA,KACjCj1D,EAAAA,EAAAA,MAAK,gCADyD,GAM5DkjC,EAAJ,GACEA,GADY,EAEZ+xB,EAAAA,eAFY,GAIZA,EAAAA,cADK,EAIPrzD,KAAA,aAxByB,EAyBzBA,KAAA,iBAzByB,GA2BrB8+D,EAAJ,aAIA,IAAMz7D,EAAOy7D,EAAAA,YA/BY,aAiCrBC,EAjCqB,SAkCrBD,EAAJ,MACEC,EADiB,MAERD,EAAJ,OACLC,EADuB,QAGzB,IAAMC,EAASF,EAAAA,OAAAA,SAvCU,SAwCnBG,EAAAA,IAAAA,OAAAA,EAAAA,OAAAA,OAAyBH,EAxCN,cA8CrBI,EA9CqB,EA+CrB59B,EA56DR,GA66DM49B,EA76DN,GA86De59B,EA96Df,MA+6DM49B,EA/6DN,KAi7DIl/D,KAAA,sBAA6BshC,EApDJ,EAsDzBthC,KAAA,+DAtDyB,wCAyD3B0Z,SAAAA,GACE1Z,KAAA,0BADyB,6BAI3B2Z,SAAAA,GACE3Z,KAAA,iBADgB,0BAIlB4Z,SAAAA,EAAAA,GACE5Z,KAAA,UAAiBA,KAAKqzD,QAAQsL,OADjB,EAEb3+D,KAAA,UAAiBA,KAAKqzD,QAAQuL,OAFjB,oCAKf/kD,SAAAA,EAAAA,GACE7Z,KAAA,YADuB,GAEvBA,KAAA,WAFuB,gCAKzB8Z,SAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GACE9Z,KAAA,mBAA0B,CAACkgB,EAAGC,EAAGC,EAAGT,EAAG/R,EAAvC,GACA5N,KAAA,wBAA+B/B,KAAAA,MAAAA,EAFD,GAI9B+B,KAAA,UAAiBA,KAAKqzD,QAAQsL,MAJA,EAK9B3+D,KAAA,UAAiBA,KAAKqzD,QAAQuL,MALA,0BAQhC7kD,WACE/Z,KAAA,WAAiBA,KAAKqzD,QADb,kCAIX8L,SAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GACE,IADgE,EAC1DvN,EAAM5xD,KADoD,IAE1DqzD,EAAUrzD,KAFgD,QAG1Dsd,EAAO+1C,EAHmD,KAI1D+L,EAAoB/L,EAJsC,kBAK1DgM,EAAWhM,EAAAA,SAAmBA,EAL4B,cAM1DiM,EACJF,EAAoBlK,EAAAA,kBAP0C,iBAQ1DqK,KACJH,EAAoBlK,EAAAA,kBAT0C,kBAW1DsK,EAAcnM,EAAAA,cAAwB/1C,EAXoB,aAc5DA,EAAAA,iBAAAA,GAAJ,KACEmiD,EAAYniD,EAAAA,iBAAsBtd,KAAtBsd,WAD6C,IAIvDA,EAAAA,iBAAJ,GACEs0C,EADuC,OAEvCA,EAAAA,UAAAA,EAFuC,GAGvCA,EAHuC,YAIvC6N,EAAAA,EAJuC,GAKvC,GACE7N,EAAAA,aAAAA,MAAAA,EADoB,GAIpB0N,IAAmBpK,EAAAA,kBAAnBoK,MACAA,IAAmBpK,EAAAA,kBAFrB,aAIEtD,EADA,OAIA0N,IAAmBpK,EAAAA,kBAAnBoK,QACAA,IAAmBpK,EAAAA,kBAFrB,cAIE,IACEtD,EADuB,iBAEvBA,EAAAA,UAAgB3zD,KAAAA,MAAW+B,KAFJ,uBAIzB4xD,EALA,UAOFA,EAxBuC,YA2BrC0N,IAAmBpK,EAAAA,kBAAnBoK,MACAA,IAAmBpK,EAAAA,kBAFrB,aAIEtD,EAAAA,SAAAA,EAAAA,EADA,GAIA0N,IAAmBpK,EAAAA,kBAAnBoK,QACAA,IAAmBpK,EAAAA,kBAFrB,cAIE,GACEtD,EADuB,OAEvBA,EAAAA,OAAAA,EAFuB,GAGvBA,EAHuB,iBAIvBA,EAAAA,UAAgB3zD,KAAAA,MAAW+B,KAJJ,sBAKvB4xD,EAAAA,WAAAA,EAAAA,EALuB,GAMvBA,EANuB,WAQvBA,EAAAA,WAAAA,EAAAA,EADK,KAMX,IACgB5xD,KAAK0/D,mBAAqB1/D,KAAK0/D,iBAD3B,KAElBb,KAAW,CACT7mD,UAAW45C,EADF,oBAETtvD,EAFS,EAGTyrB,EAHS,EAITsxC,SAJS,EAKTI,UAAAA,yCAKN,WAGE,IAAM,EAAmBz/D,KAAKk6D,eAAepF,UAAU,0BAA9B,GAHG,IAG5B,QAKAlD,EAAAA,MAAAA,IAR4B,GAS5BA,EAAAA,SAAAA,IAAAA,EAT4B,IAY5B,IAFA,IAAM7wD,EAAO6wD,EAAAA,aAAAA,EAAAA,EAAAA,GAAAA,IAVe,KAWxBx0D,GAXwB,EAYnB8F,EAAT,EAAgBA,EAAInC,EAApB,OAAiCmC,GAAjC,EACE,GAAInC,EAAAA,GAAAA,GAAeA,EAAAA,GAAnB,IAAkC,CAChC3D,GADgC,QAKpC,OAAO2C,EAAAA,EAAAA,QAAAA,KAAAA,0BAlBqB,2BAqB9Bia,SAAAA,GACE,IAAMq5C,EAAUrzD,KADD,QAETsd,EAAO+1C,EAFE,KAGf,GAAI/1C,EAAJ,YACE,OAAOtd,KAAK2/D,cADQ,GAItB,IAAMN,EAAWhM,EAPF,SAQf,OAAIgM,EAAJ,CAIA,IAZe,EAYTzN,EAAM5xD,KAZG,IAaT4/D,EAAgBvM,EAbP,cAcTwM,EAAcxM,EAdL,YAeTyM,EAAczM,EAfL,YAgBT0M,EAAgB1M,EAhBP,cAiBT2M,EAAa3M,EAAAA,WAjBJ,EAkBT4M,EAAeC,EAlBN,OAmBTC,EAAW7iD,EAnBF,SAoBT8iD,EAAaD,EAAAA,GApBJ,EAqBTE,EAAkB/iD,EArBT,gBAsBTgjD,EAAoBjB,EAAWhM,EAAAA,WAtBtB,GAwBTkN,EACJlN,EAAAA,oBAA8B6B,EAAAA,kBAA9B7B,OACC/1C,EADD+1C,kBAECA,EA3BY,YAwCf,GAXAzB,EA7Be,OA8BfA,EAAAA,UAAAA,MAAAA,EAAyByB,EA9BV,YA+BfzB,EAAAA,UAAcyB,EAAdzB,EAAyByB,EAAAA,EAAYA,EA/BtB,UAiCX0M,EAAJ,EACEnO,EAAAA,MAAAA,GADqB,GAGrBA,EAAAA,MAAAA,EADK,GAKHyB,EAAJ,YAAyB,CACvBzB,EADuB,OAEvB,IAAM4O,EAAUnN,EAAAA,UAAAA,WAAAA,EAAAA,KAGdzB,EAHcyB,2BAIdqC,EAAAA,SANqB,MAQvB+K,EAAmB7O,EARI,oBASvBA,EATuB,UAUvBA,EAAAA,UAVuB,EAazB,IAAI4M,EAAYnL,EArDD,UAsDXqN,GAtDW,EAuDT/hE,EAAQ00D,EAvDC,gBAwDf,GAAI10D,IAAAA,GAAJ,IAAmB6/D,EAAiB,CAClC,IAAMc,EACJjM,EAAAA,kBAA4B6B,EAAAA,kBAFI,iBAIhCoK,IAAmBpK,EAAAA,kBAAnBoK,QACAA,IAAmBpK,EAAAA,kBAFrB,cAIEl1D,KAAA,2BADA,KAGA0gE,GADAlC,EAAYx+D,KAFZ,+BAMFw+D,GADK,EAIP,IAAIoB,IACFhO,EAAAA,MAAAA,EADyB,GAEzB4M,GAFyB,GAK3B5M,EAAAA,UA5Ee,EA8Ef,IA9Ee,EA8EXtvD,EAAJ,EAEA,IAAKY,EAAL,EAAYA,EAAZ,MAAmC,CACjC,IAAMy9D,EAAQT,EADmB,GAEjC,IAAIU,EAAAA,EAAAA,OAAJ,GACEt+D,GAAM89D,EAAAA,EAAD,EADW,QAAlB,CAKA,IAAIS,GAP6B,EAQ3BC,GAAWH,EAAA,UAAD,GARiB,EAS3B1N,EAAY0N,EATe,SAU3BI,EAASJ,EAVkB,OAW7BK,OAAJ,EAAaC,OAXoB,EAY7Bh/D,EAAQ0+D,EAZqB,MAajC,KAAc,CACZ,IAAMO,EAAUP,EAAAA,SADJ,EAENQ,IACFR,EAAMO,QAAUA,EAAhB,GAAF,GAA+Bj/D,GAHrB,EAINm/D,EAAKF,EAAAA,GAJC,EAMZj/D,EAAQi/D,GAAWA,EAAXA,GANI,EAOZF,EAAUG,EAPE,EAQZF,GAAW3+D,EAAD,GARE,OAUZ0+D,EAAU1+D,EADL,EAEL2+D,EAFK,EAKP,GAAI3jD,EAAAA,WAAkBrb,EAAtB,EAAiC,CAI/B,IAAMo/D,EACH,IAACzP,EAAAA,YAAAA,GAAAA,MAAF,EAL6B,EAO/B,GAAI3vD,EAAAA,GAAyBjC,KAA7B,wBAA2D,CACzD,IAAMshE,EAAkBr/D,EADiC,EAEzD4+D,GAFyD,EAGzDjP,EAHyD,OAIzDA,EAAAA,MAAAA,EAJyD,GAKzDoP,GALyD,OAMhD/+D,IAAJ,IACL++D,IACK/+D,EAAD,GAAD,IAAD,EAFgC,GAQtC,GAAIjC,KAAK0+D,iBAAmBiC,EAAMY,UAAYjkD,EAA9C,aACE,GAAIijD,IAAJ,EAEE3O,EAAAA,SAAAA,EAAAA,EAF6B,QAW7B,GAPA5xD,KAAA,kBADK,GAQL,EAAY,CACV,IAAMwhE,EACJR,EAAW3B,EAAW0B,EAAAA,OAAZ,EAFF,EAGJU,EACJR,EAAW5B,EAAW0B,EAAAA,OAAZ,EAJF,EAKV/gE,KAAA,UACE+gE,EADF,eALU,GAsBhBz+D,GALA,EACcL,EAAAA,EAA4B6+D,EAD5B,EAGA7+D,EAAAA,EAA4B6+D,EADnC,EAKP,GACElP,EADiB,WAIrB,EACEyB,EAAAA,GADY,EAGZA,EAAAA,GAAa/wD,EADR,EAGPsvD,EA7Ke,UA8Kf5xD,KA9Ke,wCAkLjB2/D,SAAAA,GAEE,IAaA,MAfoB,EAEd/N,EAAM5xD,KAFQ,IAGdqzD,EAAUrzD,KAHI,QAIdsd,EAAO+1C,EAJO,KAKdgM,EAAWhM,EALG,SAMd0M,EAAgB1M,EANF,cAOd+M,EAAa9iD,EAAAA,SAAAA,GAPC,EAQduiD,EAAcxM,EARA,YASdyM,EAAczM,EATA,YAUd2M,EAAa3M,EAAAA,WAVC,EAWdqO,EAAarO,EAAAA,YAXC,uBAYd4M,EAAeC,EAZD,OAiBpB,GAHE7M,EAAAA,oBAA8B6B,EAAAA,kBAdZ,WAiBpB,IAAuBmK,EAAvB,CAWA,IARAr/D,KAAA,2BApBoB,KAsBpB4xD,EAtBoB,OAuBpBA,EAAAA,UAAAA,MAAAA,EAAyByB,EAvBL,YAwBpBzB,EAAAA,UAAcyB,EAAdzB,EAAyByB,EAxBL,GA0BpBzB,EAAAA,MAAAA,EA1BoB,GA4Bf1uD,EAAL,EAAYA,EAAZ,MAEE,GADAy9D,EAAQT,EADyB,IAE7BU,EAAAA,EAAAA,OAAJ,GACEe,EAAiBvB,EAAAA,EAAD,EADA,IAEhBpgE,KAAA,gBAFgB,GAGhBqzD,EAAAA,GAAasO,EAHG,MAAlB,CAOA,IAAMb,GAAWH,EAAA,UAAD,GATiB,EAU3B5X,EAAezrC,EAAAA,qBAA0BqjD,EAVd,gBAWjC,GAII3gE,KAAJ,iBACEA,KAAA,gBADuB,EAEvBA,KAFuB,OAGvB4xD,EAAAA,MAAAA,EAHuB,GAIvBA,EAAAA,UAAAA,MAAAA,EAJuB,GAKvB5xD,KAAA,oBALuB,GAMvBA,KANuB,WAUzBiC,EADoB,EAAAI,KAAA,eAAoB,CAACs+D,EAAD,MAApB,GAxBa,GAyBzBiB,GAAAA,EAzByB,EA2BjChQ,EAAAA,UAAAA,EA3BiC,GA4BjCyB,EAAAA,GAAapxD,EA5BoB,IAY/B7D,EAAAA,EAAAA,MAAAA,oBAAAA,OAAyBuiE,EADR,eACjBviE,wBAkBJwzD,EA1DoB,UA2DpB5xD,KAAA,gBA3DoB,kCA+DtBoa,SAAAA,EAAAA,yCAKAC,SAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GAGEra,KAAA,aAAwB6hE,EAAxB,EAAmCC,EAHqB,GAIxD9hE,KAJwD,OAKxDA,KALwD,2CAS1D+hE,SAAAA,GAAsB,aAEpB,qBAAIC,EAAAA,GAA2B,CAC7B,IAAMC,EAAQD,EADe,GAEvB1H,EACJt6D,KAAKs6D,eAAiBt6D,KAAK4xD,IAAIyI,oBAHJ,QAIvB6H,EAAwB,CAC5BC,qBAAsBvQ,SAAAA,GACpB,OAAO,IAAIwQ,EAAe,EAExB,EAFK,WAGL,EAHK,KAIL,EALyB,iBAS/B5B,EAAU,IAAI,EAAJ,kBAGRxgE,KAHQ,MAdmB,QAsB7BwgE,EAAUxgE,KAAKqiE,YAAYL,EAAjB,GAAwBA,EAD7B,IAGP,OA1BoB,iCA6BtBvnD,WACEza,KAAA,oBAA2BA,KAAK+hE,kBADhB,wCAIlBpnD,WACE3a,KAAA,kBAAyBA,KAAK+hE,kBADhB,WAEd/hE,KAAA,qBAFc,mCAKhB8a,SAAAA,EAAAA,EAAAA,GACE,IAAMmnD,EAAQ5/D,EAAAA,KAAAA,aAAAA,EAAAA,EADW,GAEzBrC,KAAA,gBAFyB,EAGzBA,KAAA,oBAHyB,iCAM3B+a,SAAAA,EAAAA,EAAAA,GACE,IAAMknD,EAAQ5/D,EAAAA,KAAAA,aAAAA,EAAAA,EADS,GAEvBrC,KAAA,cAFuB,EAGvBA,KAAA,kBAHuB,EAIvBA,KAAA,qBAJuB,6BAOzBqiE,SAAAA,GAAkC,MAAfC,EAAe,uDAAlCD,KAWE,OATIriE,KAAKuiE,eAAel5C,IAAxB,GACEm3C,EAAUxgE,KAAKuiE,eAAe51D,IADI,IAGlC6zD,GAAUgC,EAAAA,EAAAA,mBAAkBxiE,KAAK6oD,KAAKl8C,IADjC,IAEL3M,KAAA,qBAFK,IAIP,IACEwgE,EAAAA,OADU,GARoB,6BAclCtlD,SAAAA,GACE,GAAKlb,KAAL,gBAGA,IAAM4xD,EAAM5xD,KAJK,IAMjBA,KANiB,OAOjB,IAAMwgE,EAAUxgE,KAAKqiE,YAPJ,GAQjBzQ,EAAAA,UAAgB4O,EAAAA,WAAAA,EAAAA,KAGd5O,EAHc4O,2BAId9K,EAAAA,SAZe,SAejB,IAAM+M,EAAM7Q,EAfK,2BAgBjB,KAAS,CACP,IAAMvxD,EAASuxD,EADR,OAED3vD,EAAQ5B,EAFP,MAGD6B,EAAS7B,EAHR,OAKDqiE,EAAK,EAAArgE,KAAA,eAAoB,CAAC,EAArB,GALJ,GAMDsgE,EAAK,EAAAtgE,KAAA,eAAoB,CAAC,EAArB,GANJ,GAODugE,EAAK,EAAAvgE,KAAA,eAAoB,CAACJ,EAArB,GAPJ,GAQD4gE,EAAK,EAAAxgE,KAAA,eAAoB,CAACJ,EAArB,GARJ,GAUD6e,EAAK7iB,KAAAA,IAASykE,EAATzkE,GAAgB0kE,EAAhB1kE,GAAuB2kE,EAAvB3kE,GAA8B4kE,EAVlC,IAWD7hD,EAAK/iB,KAAAA,IAASykE,EAATzkE,GAAgB0kE,EAAhB1kE,GAAuB2kE,EAAvB3kE,GAA8B4kE,EAXlC,IAYD9hD,EAAK9iB,KAAAA,IAASykE,EAATzkE,GAAgB0kE,EAAhB1kE,GAAuB2kE,EAAvB3kE,GAA8B4kE,EAZlC,IAaD5hD,EAAKhjB,KAAAA,IAASykE,EAATzkE,GAAgB0kE,EAAhB1kE,GAAuB2kE,EAAvB3kE,GAA8B4kE,EAblC,IAeP7iE,KAAA,iBAA0B+gB,EAA1B,EAAmCE,EAf5B,QAuBPjhB,KAAA,8BAPK,MAUPA,KAAA,QAAaA,KAAKqzD,QA1CD,6BA2CjBrzD,KA3CiB,2CA+CnBmb,YACEqD,EAAAA,EAAAA,aADiB,kEAInBpD,YACEoD,EAAAA,EAAAA,aADe,uEAIjB1C,SAAAA,EAAAA,GACE,GAAK9b,KAAL,iBAGAA,KAJkC,OAKlCA,KAAA,wBAA6BA,KALK,eAO9Bof,MAAAA,QAAAA,IAAJ,IAA6BkjD,EAAAA,QAC3BtiE,KAAA,gBAAAA,KADgD,GAIlDA,KAAA,cAAqBA,KAAK4xD,IAXQ,oBAalC,GAAU,CACR,IAAM3vD,EAAQ6gE,EAAAA,GAAUA,EADhB,GAEF5gE,EAAS4gE,EAAAA,GAAUA,EAFjB,GAGR9iE,KAAA,SAAc8iE,EAAd,GAAuBA,EAAvB,KAHQ,GAIR9iE,KAAA,yBACEA,KAAK4xD,IADP,oBAEEkR,EAFF,GAGEA,EAPM,IASR9iE,KAAA,yBACEA,KAAK4xD,IADP,oBAEEkR,EAFF,GAGEA,EAZM,IAcR9iE,KAdQ,OAeRA,KAfQ,8CAmBZ+b,WACO/b,KAAL,iBAGAA,KAJoB,UAKpBA,KAAA,cAAqBA,KAAK+iE,mBALN,iCAQtB/mD,SAAAA,GACE,GAAKhc,KAAL,gBAIAA,KALgB,OAQhB,IAAMs9D,EAAet9D,KARL,aASZA,KAAKqzD,QAAT,cACErzD,KAAA,aAD4B,KAE5BA,KAAA,oBAF4B,MAK9B,IAAMgjE,EAAahjE,KAdH,IA4BXijE,EAAL,WACE16D,EAAAA,EAAAA,MADmB,sCAMjB06D,EAAJ,WACE7kE,EAAAA,EAAAA,MADkB,kCAIpB,IAAM8kE,EAAmBF,EAtCT,oBA0ChB,GAHIC,EAAJ,QACED,EAAAA,UAAAA,MAAAA,EAAuCC,EADvB,SAGbA,EAAL,KACE,MAAM,IAAIvjE,MADK,6BAMjB,IAAImhB,EAASxe,EAAAA,KAAAA,2BACX4gE,EADW5gE,KAEX2gE,EAlDc,qBAqDVG,EAAe,CAAC,EAAD,EAGnBH,EAAAA,OAHmB,MAInBA,EAAAA,OAJF,QAMAniD,EAASxe,EAAAA,KAAAA,UAAAA,EAAAA,IAAwC,CAAC,EAAG,EAAG,EAAxDwe,GAGA,IAAMvf,EAAUrD,KAAAA,MAAW4iB,EA9DX,IA+DVtf,EAAUtD,KAAAA,MAAW4iB,EA/DX,IAgEZ47C,EAAax+D,KAAAA,IAASA,KAAAA,KAAU4iB,EAAV5iB,IAATA,EAhED,GAiEZy+D,EAAcz+D,KAAAA,IAASA,KAAAA,KAAU4iB,EAAV5iB,IAATA,EAjEF,GAkEZmlE,EAAJ,EACEC,EAnEc,EAoEZ5G,EAAJ,IACE2G,EAAS3G,EADsB,EAE/BA,EAF+B,GAI7BC,EAAJ,IACE2G,EAAS3G,EADuB,EAEhCA,EAFgC,GAKlC18D,KAAA,+BAAoC,CAAC,EAAG,EAAGy8D,EAA3C,IAEA,IAAIW,EAAU,UAAYp9D,KA/EV,WAgFZijE,EAAJ,QAEE7F,GAAW,UAAap9D,KAAKsjE,eAFd,GAIjB,IAAMjG,EAAgBr9D,KAAKk6D,eAAepF,UAAU,EAA9B,KApFN,GA0FVyO,EAAWlG,EA1FD,QA8FhBkG,EAAAA,MAAe,EAAfA,EAA2B,EA9FX,GA+FhBA,EAAAA,WAAAA,GA/FgB,GAgGhBA,EAAAA,UAAAA,MAAAA,EAhGgB,GAkGZN,EAAJ,MAEEjjE,KAAA,gBAAqB,CACnBK,OAAQg9D,EADW,OAEnBl3D,QAFmB,EAGnB7E,QAHmB,EAInBC,QAJmB,EAKnB6hE,OALmB,EAMnBC,OANmB,EAOnBpK,QAASgK,EAAAA,MAPU,QAQnBlK,SAAUkK,EAAAA,MARS,SASnB1K,YAAa0K,EAAAA,MAAAA,aATM,KAUnBO,sBAVmB,QAerBR,EAAAA,aAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAHK,GAILA,EAAAA,UAAAA,EAJK,GAKLA,EAAAA,MAAAA,EALK,GAMLA,EANK,QAUPzF,EAAAA,EA1HgB,GA2HhBv9D,KAAA,IA3HgB,EA4HhBA,KAAA,UAAe,CACb,CAAC,KADY,eAEb,CAAC,KAFY,GAGb,CAAC,KAHH,KAKAA,KAAA,gBAAqB,CACnB4xD,IADmB,EAEnB0L,aAAAA,IAEFt9D,KArIgB,sCAwIlBic,SAAAA,GACE,GAAKjc,KAAL,gBAGAA,KAJc,aAKd,IAAMujE,EAAWvjE,KALH,IAMd,EAA8BA,KAAKyjE,WANrB,MAMR,EAAN,MAAM,EAAN,eAUA,GATAzjE,KAAA,IAPc,EAUdA,KAAA,2BAVc,EAYd,IACEA,KAAA,aADgB,GAIdijE,EAAJ,MACEjjE,KAAA,UAAiBA,KAAK0jE,WADP,MAEf1jE,KAFe,cAGV,CACLA,KAAA,IADK,UAEL,IAAM2jE,EAAa3jE,KAAK4xD,IAFnB,oBAGL5xD,KAHK,UAILA,KAAA,IAJK,OAKLA,KAAA,uBAA4BA,KAA5B,IALK,GAML,IAAM+9D,EAAW,EAAA17D,KAAA,2BACf,CAAC,EAAG,EAAGkhE,EAAAA,OAAP,MAA8BA,EAAAA,OADf,QANZ,GAULvjE,KAAA,cAAmBujE,EAAnB,SAVK,GAWLvjE,KAAA,IAXK,UAYLA,KAAA,QAZK,qCAgBTkc,WACElc,KADiB,OAEbA,KAAJ,eACEA,KAAA,uBAA4BA,KAA5B,IAAsCA,KADhB,6CAK1Bmc,WACEnc,KADe,yCAIjBoc,SAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GAGE,GAFApc,KADyD,OAGrDof,MAAAA,QAAAA,IAAJ,IAA2B3c,EAAAA,OAAmB,CAC5C,IAAMR,EAAQQ,EAAAA,GAAUA,EADoB,GAEtCP,EAASO,EAAAA,GAAUA,EAFmB,GAI5C,GAAImhE,GAAgB5jE,KAApB,oBAA8C,EAC5CgY,EAAYA,EADgC,SAE5CA,IAAgBvV,EAF4B,GAG5CuV,EAAAA,IAAgBvV,EAH4B,IAK5CA,EAAOA,EALqC,SAM5CA,GAAUA,EAAAA,GANkC,EAO5CA,EAAAA,GAP4C,EAQ5CA,EAAAA,GAR4C,EAU5C,QAAyBJ,EAAAA,KAAAA,8BACvBrC,KAAK4xD,IAXqC,qBAU5C,GAAM,EAAN,KAAM,EAAN,KAGM,EAbsC,KAa5C,cACMiS,EAAc5lE,KAAAA,KAClBgE,EAAQjC,KAARiC,aAf0C,GAiBtC6hE,EAAe7lE,KAAAA,KACnBiE,EAASlC,KAATkC,aAlB0C,GAqB5ClC,KAAA,iBAAwBA,KAAK2nD,cAAcv1B,OAAO,EArBN,GAyB5C,MAA4BpyB,KAzBgB,iBAyBtC,EAAN,SAAM,EAAN,UACAK,EAAAA,MAAAA,MAAAA,QAAAA,OA1B4C,EA0B5CA,sCACAA,EAAAA,MAAAA,OAAAA,QAAAA,OA3B4C,EA2B5CA,sCACAL,KAAA,0BA5B4C,GA6B5CA,KAAA,0BAAiCA,KA7BW,IA8B5CA,KAAA,IA9B4C,EA+B5CA,KAAA,4BAAgDkC,EA/BJ,GAgC5C+yD,EAA2Bj1D,KAhCiB,KAkC5Co6D,EAAkBp6D,KAlC0B,UAoC5Co6D,EAAkBp6D,KADb,KAGLA,KAAA,SAAcyC,EAAd,GAAuBA,EAAvB,KAHK,GAILzC,KAJK,OAKLA,KALK,UASTA,KAAA,QAAe,IAAI85D,EACjB95D,KAAK4xD,IAAIvxD,OADI,MAEbL,KAAK4xD,IAAIvxD,OArD8C,QAwDzDL,KAAA,gBAAAA,KAxDyD,GAyDzDA,KAAA,gBAAAA,KAzDyD,gCA4D3Dqc,WACMrc,KAAJ,mBACEA,KAAA,IAAWA,KAAK+jE,iBADS,gBAElB/jE,KAAK+jE,iBAFa,gBAGlB/jE,KAHkB,kBAK3BA,KANc,+CAShBuc,SAAAA,GACE,GAAKvc,KAAL,gBAGA,IAAM4xD,EAAM5xD,KAJa,IAKnBiC,EAAQo5D,EAAd,MACEn5D,EAASm5D,EANc,OAQnBsF,EAAQ3gE,KARW,gBAkBzB,GARIgkE,QAAJ,IAAqCrD,EAAAA,WAEjCA,EAAAA,SADE1+D,GA7tFV,KA6tF0CC,GA7tF1C,IAgXA,YACE,IAQA,MATkC,EAE5B+hE,EAAc,IAAIjjE,WAAW,CAAC,EAAD,6BAAnC,IAIMiB,EAAQk0D,EAAd,MACEj0D,EAASi0D,EADX,OAEE+N,EAASjiE,EARuB,EAU5BkiE,EAAS,IAAInjE,WAAWkjE,GAAUhiE,EAVN,IAa5BkiE,EAAYniE,EAAD,GAAc,EAC7BoiE,EAAQlO,EAdwB,KAe5Bp1D,EAAO,IAAIC,WAAWojE,EAfM,GAgB9Bh5D,EAhB8B,EAiBlC,IAAKlI,EAAAA,EAAOD,EAAKohE,EAAjB,OAA+BnhE,EAA/B,EAAuCA,IAGrC,IAFA,IAAM20D,EAAOwM,EAD6B,GAEtC5M,EAFsC,IAGnCA,EAAP,GACE12D,EAAKqK,KAASysD,EAAAA,EAAAA,EADC,IAEfJ,IAFe,EAgBnB,IAAI6M,EApC8B,EA0ClC,IAJA,IAAIvjE,EADJqK,EArCkC,KAuChC+4D,EAAAA,GADmB,OAIhB5iD,EAAL,EAAYA,EAAZ,EAAuBA,IACjBxgB,EAAAA,KAAcA,EAAKqK,EAAvB,KACE+4D,EAAAA,GAAYpjE,EAAAA,GAAAA,EADmB,OAIjCqK,IAMF,IAJA,IAAIrK,EAAAA,KACFojE,EAAAA,GADmB,OAIhBjhE,EAAL,EAAYA,EAAZ,EAAwBA,IAAK,CAE3BqhE,EAAKrhE,EAFsB,EAGvBnC,GAFJqK,EAAMlI,EADqB,GAGvBnC,KAAyBA,EAA7B,KACEojE,EAAAA,GAAapjE,EAAAA,GAAAA,EADyB,OAMxC,IAAIyjE,GAAOzjE,EAAA,KAAD,IAAuBA,EAAKqK,EAAL,KATN,GAU3B,IAAKmW,EAAL,EAAYA,EAAZ,EAAuBA,IAKjB0iD,EAJJO,GACGA,GAAD,IACCzjE,EAAKqK,EAAL,KADD,IAECrK,EAAKqK,EAAAA,EAAL,KAJuB,MAMxB+4D,EAAOI,EAAPJ,GAAiBF,EADG,QAItB74D,IAOF,GALIrK,EAAKqK,EAALrK,KAAyBA,EAA7B,KACEojE,EAAOI,EAAPJ,GAAiBpjE,EAAAA,GAAAA,EADqB,OAKpCujE,EA/E4B,IAgF9B,OADkC,KAWtC,IALAC,EAAKrhE,EArF6B,EAsFlC,IAAInC,EAFJqK,EAAMg5D,GAAYliE,EApFgB,MAuFhCiiE,EAAAA,GADmB,OAIhB5iD,EAAL,EAAYA,EAAZ,EAAuBA,IACjBxgB,EAAAA,KAAcA,EAAKqK,EAAvB,KACE+4D,EAAOI,EAAPJ,GAAiBpjE,EAAAA,GAAAA,EADc,OAIjCqK,IAMF,GAJA,IAAIrK,EAAAA,KACFojE,EAAOI,EAAPJ,GADmB,OAIjBG,EArG8B,IAsGhC,OADkC,KAKpC,IAAM1J,EAAQ,IAAI6J,WAAW,CAAC,EAAGP,GAAJ,aAA7B,IACMQ,EA3G4B,GA4GlC,IAAKxhE,EAAL,EAAYohE,GAASphE,GAArB,EAAkCA,IAAK,CAGrC,IAFA,IAAIuc,EAAIvc,EAD6B,EAE/BlF,EAAMyhB,EAFyB,EAG9BA,EAAAA,IAAY0kD,EAAnB,IACE1kD,IAEF,GAAIA,IAAJ,GAGA,IAAMklD,EAAS,CAACllD,EAAD,EAAf,GAEMmlD,EAX+B,EAYjC39D,EAAOk9D,EAZ0B,GAarC,EAAG,CACD,IAAM/sC,EAAOwjC,EADZ,GAED,GACEn7C,GADC,SAEO0kD,EAJT,IAMD,IAAMU,EAAKV,EANV,GAOGU,IAAAA,GAAJ,KAAgBA,GAEd59D,EAFyB,EAIzBk9D,EAAAA,GAJyB,IAQzBl9D,EAAO49D,EAAO,GAAD,GAHR,EAKLV,EAAAA,IAAcl9D,GAAD,EAAeA,GALvB,GAQP09D,EAAAA,KAAYllD,EAAZklD,EAAyBllD,EAAD,EApBvB,GAsBI0kD,EAAL,MAAgB,QAGTS,IAtC4B,GAuCrCF,EAAAA,KAvCqC,QA6DvC,OAlBoB,YAClBtkD,EAD+B,OAG/BA,EAAAA,MAAQ,EAARA,GAAoB,EAHW,GAI/BA,EAAAA,UAAAA,GAJ+B,GAK/BA,EAL+B,YAM/B,IAAK,IAAIkN,EAAJ,EAAWw3C,EAAKJ,EAArB,OAAsCp3C,EAAtC,EAA8CA,IAAK,CACjD,IAAMy3C,EAAIL,EADuC,GAEjDtkD,EAAAA,OAAS2kD,EAAT3kD,GAAe2kD,EAFkC,IAGjD,IAAK,IAAI10C,EAAJ,EAAW20C,EAAKD,EAArB,OAA+B10C,EAA/B,EAAuCA,GAAvC,EACEjQ,EAAAA,OAAS2kD,EAAT3kD,GAAe2kD,EAAE10C,EAD4B,IAIjDjQ,EAb+B,OAc/BA,EAd+B,YAe/BA,EAf+B,WAutEV6kD,CAAkB,CAAElkE,KAAMs6D,EAAR,KAAkBp5D,MAAlB,EAAyBC,OAAAA,IACvD,MAKT,OAAIy+D,QAAJ,IAAIA,GAAAA,EAAJ,SACEA,EAAAA,SADmB,OAArB,CAIA,IAAMlJ,EAAOz3D,KAAKg8D,kBAtBO,GAuBnBG,EAAa1E,EAvBM,OAyBzB7F,EAzByB,OA4BzBA,EAAAA,aAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EA5ByB,GA6BzBA,EAAAA,UAAAA,EAA0B6F,EAA1B7F,QAAwC6F,EA7Bf,SA8BzB7F,EA9ByB,UA+BzB5xD,KA/ByB,uDAkC3B6c,SAAAA,EAAAA,GAOE,IAJAqoD,EAIA,uDAPFroD,EAIEsoD,EAGA,uDAPFtoD,EAAAA,EAOE,uCAPFA,EAOE,uCACA,GAAK7c,KAAL,gBAGA,IAAM4xD,EAAM5xD,KAJZ,IAKA4xD,EALA,OAMA,IAAMsR,EAAmBtR,EANzB,oBAOAA,EAAAA,UAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAPA,GAQA,IAAM6F,EAAOz3D,KAAKg8D,kBARlB,GAUApK,EAAAA,aAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAVA,GAWA,IAAK,IAAI1uD,EAAJ,EAAWD,EAAKmiE,EAArB,OAAuCliE,EAAvC,EAA+CA,GAA/C,EAAuD,CACrD,IAAMmiE,EAAQ,EAAAhjE,KAAA,YAAiC,CAAC,EAAD,MAK7C+iE,EAL6C,GAM7CA,EAAUliE,EANZ,KASA,EAAe,EAAAb,KAAA,eAAoB,CAAC,EAArB,GAVsC,GAUrD,SAAM,EAAN,KAAM,EAAN,KACAuvD,EAAAA,UAAc6F,EAAd7F,OAAAA,EAXqD,GAavDA,EAxBA,UAyBA5xD,KAzBA,qDA4BFwc,SAAAA,GACE,GAAKxc,KAAL,gBAOA,IAJA,IAAM4xD,EAAM5xD,KAJqB,IAM3Bi8D,EAAYj8D,KAAKqzD,QANU,UAO3B6I,EAAgBl8D,KAAKqzD,QAPM,YAQxBnwD,EAAJ,EAAWD,EAAKqiE,EAArB,OAAoCpiE,EAApC,EAA4CA,IAAK,CAC/C,IAAMqiE,EAAQD,EADiC,GAEzCrjE,EAAQsjE,EAAd,MACErjE,EAASqjE,EAHoC,OAKzCpJ,EAAan8D,KAAKk6D,eAAepF,UAAU,aAA9B,EAL4B,GAUzCsE,EAAU+C,EAV+B,QAW/C/C,EAX+C,OAa/CgD,EAAAA,EAb+C,GAe/ChD,EAAAA,yBAf+C,YAiB/CA,EAAAA,UAAoB8C,EAChBD,EAAAA,WAAAA,EAAAA,KAGErK,EAHFqK,2BAIEvG,EAAAA,SALcwG,MAjB2B,EAyB/C9C,EAAAA,SAAAA,EAAAA,EAAAA,EAzB+C,GA2B/CA,EA3B+C,UA6B/CxH,EA7B+C,OA8B/CA,EAAAA,UAAAA,MAAAA,EAAyB2T,EA9BsB,WA+B/C3T,EAAAA,MAAAA,GA/B+C,GAgC/CA,EAAAA,UAAcuK,EAAdvK,OAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GAAAA,EAAAA,EAhC+C,GAiC/CA,EAjC+C,UAmCjD5xD,KA3CiC,4CA8CnCyc,SAAAA,GACE,GAAKzc,KAAL,gBAGA,IAAMm2D,EAAUxG,EAAAA,WAAAA,MACZ3vD,KAAK8oD,WAAWn8C,IADJgjD,GAEZ3vD,KAAK6oD,KAAKl8C,IANS,GAOvB,EAKA3M,KAAA,wBAZuB,IAQrB5B,EAAAA,EAAAA,MADY,2EAQhBwe,SAAAA,EAAAA,EAAAA,EAAAA,GACE,GAAK5c,KAAL,gBAGA,IAAMm2D,EAAUxG,EAAAA,WAAAA,MACZ3vD,KAAK8oD,WAAWn8C,IADJgjD,GAEZ3vD,KAAK6oD,KAAKl8C,IAN0C,GAOxD,MAQA,IAHA,IAAM1K,EAAQk0D,EAZ0C,MAalDj0D,EAASi0D,EAbyC,OAclDhoC,EAdkD,GAe/CjrB,EAAJ,EAAWD,EAAKmiE,EAArB,OAAuCliE,EAAvC,EAA+CA,GAA/C,EACEirB,EAAAA,KAAS,CACPnW,UAAW,CAACorD,EAAQ,EAAG,EAAGC,EAAQ+B,EAAvB,GAAqCA,EAAUliE,EADnD,IAEPZ,EAFO,EAGPyrB,EAHO,EAIP2D,EAJO,EAKP8zC,EALO,IAQXxlE,KAAA,+BAxBwD,QAQtD5B,EAAAA,EAAAA,MADY,2EAoBhBse,SAAAA,GACE,GAAK1c,KAAL,gBAGA,IAJ+B,EAIzBiC,EAAQk0D,EAJiB,MAKzBj0D,EAASi0D,EALgB,OAMzBvE,EAAM5xD,KANmB,IAc/B,GANAA,KAR+B,OAU/B4xD,EAAAA,MAAU,EAAVA,GAAsB,EAVS,GAeL,oBAAhB6T,aAA8BtP,aAAtC,cACCA,EAFH,KAIEuP,EADA,MAEK,CACL,IAAM3J,EAAY/7D,KAAKk6D,eAAepF,UAAU,cAA9B,EADb,GAOL6Q,EADe5J,EANV,QAOL4J,EAAoC3lE,KAAKqzD,QAPpC,cAQLqS,EAAa3J,EARR,OAWP,IAAMc,EAAS78D,KAAKo7D,YAAYsK,EAAY9T,EA9Bb,4BA+C/B,GAhBAA,EAAAA,sBAA4BkL,EAC1BlL,EAD0BkL,oBAE1B3G,EAjC6B,aAmC/BvE,EAAAA,UACEiL,EADFjL,IAAAA,EAAAA,EAIEiL,EAJFjL,WAKEiL,EALFjL,YAAAA,GAAAA,EAAAA,EAnC+B,GA+C3B5xD,KAAJ,WAAqB,CACnB,IAAMqhC,EAAWrhC,KAAK4lE,kBAAkB,GADrB,GAEnB5lE,KAAA,uBAA4B,CAC1Bm2D,QAD0B,EAE1B0P,KAAMxkC,EAFoB,GAG1BykC,IAAKzkC,EAHqB,GAI1Bp/B,MAAOA,EAAQ2vD,EAAAA,2BAJW,GAK1B1vD,OAAQA,EAAS0vD,EAAAA,2BALS,KAQ9B5xD,KAzD+B,UA0D/BA,KA1D+B,uDA6DjC2c,SAAAA,EAAAA,GACE,GAAK3c,KAAL,gBAGA,IAAM4xD,EAAM5xD,KAJ6B,IAKnC0xB,EAAIykC,EAL+B,MAMnCqP,EAAIrP,EAN+B,OAQnC4F,EAAY/7D,KAAKk6D,eAAepF,UAAU,cAAepjC,EARtB,GAUzCi0C,EADe5J,EAT0B,QAUzC4J,EAAoC3lE,KAAKqzD,QAVA,cAYzC,IAAK,IAAInwD,EAAJ,EAAWD,EAAKkrB,EAArB,OAAiCjrB,EAAjC,EAAyCA,IAAK,CAC5C,IAAMsF,EAAQ2lB,EAD8B,GAgB5C,GAdAyjC,EAF4C,OAG5CA,EAAAA,UAAAA,MAAAA,EAAyBppD,EAHmB,WAI5CopD,EAAAA,MAAAA,GAJ4C,GAK5CA,EAAAA,UACEmK,EADFnK,OAEEppD,EAFFopD,EAGEppD,EAHFopD,EAIEppD,EAJFopD,EAKEppD,EALFopD,EAAAA,GAAAA,EAAAA,EAL4C,GAgBxC5xD,KAAJ,WAAqB,CACnB,IAAMqhC,EAAWrhC,KAAK4lE,kBAAkBp9D,EAAvB,EAAgCA,EAD9B,GAEnBxI,KAAA,uBAA4B,CAC1Bm2D,QAD0B,EAE1B0P,KAAMxkC,EAFoB,GAG1BykC,IAAKzkC,EAHqB,GAI1Bp/B,MAJ0B,EAK1BC,OAL0B,IAQ9B0vD,EA1B4C,UA4B9C5xD,KAxCyC,mDA2C3C8c,WACO9c,KAAL,iBAGAA,KAAA,mBAJyB,GAKzBA,KALyB,oCAU3Bub,SAAAA,kCAIAC,SAAAA,EAAAA,sCAIAC,SAAAA,GACEzb,KAAA,wBAA6B,CAC3B+lE,SAFoB,2CAMxBrqD,SAAAA,EAAAA,GACE,OAAI+b,EACFz3B,KAAA,wBAA6B,CAC3B+lE,QAAS/lE,KAAKopD,sBAAsB4c,UAFtB,KAKhBhmE,KAAA,wBAA6B,CAC3B+lE,SAFG,IAKP/lE,KAAA,eAAsBA,KAViB,mDAazC2b,WACE3b,KAAA,mBADiB,MAEjBA,KAAA,eAAsBA,KAFL,8CAOnB4b,qCAIAC,uCAMAyiD,SAAAA,GACMt+D,KAAJ,aACEA,KAAA,QADoB,qBAGjBA,KAAL,aACEA,KAAA,QADqB,GAGvB,IAAM4xD,EAAM5xD,KAPO,IAQfA,KAAJ,cACMA,KAAKimE,cAAT,EACErU,EAAAA,KADgC,WAGhCA,EADK,OAGP5xD,KAAA,YANoB,MAQtBA,KAAA,+BAAoCA,KAAKqzD,QAhBtB,SAiBnBzB,EAjBmB,+CAoBrBsU,WACE,UAAIlmE,KAAKmmE,2BAAqC,CAY5C,IAAMzmD,EAAI1f,KAAK4xD,IAZ6B,oBActCwU,EAASnoE,KAAAA,IAASyhB,EAAAA,GAAOA,EAAPA,GAAcA,EAAAA,GAAOA,EAdD,IAetC2mD,EAAU3mD,KAAAA,IAAAA,EAAAA,GAAAA,GAAAA,KAAAA,IAAYA,EAAZA,GAf4B,GAgBtC4mD,EAAU5mD,KAAAA,IAAAA,EAAAA,GAAAA,GAAAA,KAAAA,IAAYA,EAAZA,GAhB4B,GAiBtC6mD,EAActoE,KAAAA,KAAUA,KAAAA,IAAAA,EAAVA,IAjBwB,EAkBxCooE,IAAAA,GAAuBrmE,KAAKwmE,qBAAuBD,EAAvD,EAUEvmE,KAAA,4BACEA,KAAKwmE,qBAX+D,EAa7DJ,EAASp4D,OAAb,QACLhO,KAAA,2BADkC,EAIlCA,KAAA,2BAFK,EAMT,OAAOA,KAxCa,4DA2CtB4lE,SAAAA,EAAAA,GACE,IAAM5tD,EAAYhY,KAAK4xD,IADD,oBAEtB,MAAO,CACL55C,EAAAA,GAAAA,EAAmBA,EAAAA,GAAnBA,EAAsCA,EADjC,GAELA,EAAAA,GAAAA,EAAmBA,EAAAA,GAAnBA,EAAsCA,EAFxC,oCAMFyuD,WACE,IAAK,IAAIvjE,EAAIlD,KAAK0mE,mBAAmB38D,OAArC,EAAiD7G,GAAjD,EAAyDA,IACvD,IAAKlD,KAAK0mE,mBAAmBxjE,GAA7B,QACE,OADuC,EAI3C,OANiB,QA7iErB,GAujEA,2CACE,IAAIk/D,EAAAA,UAAAA,KACFA,EAAAA,UAAyBtH,EAAAA,IAAzBsH,IAAoCA,EAAAA,UADU,kXC5pFlD,YACE,OAAQJ,EAAR,IACE,kBACE,OAAO,IAAI2E,EAFf,GAGE,WACE,OAAO,IAAIC,EAJf,GAKE,YACE,OAAO,IANX,EAQA,MAAM,IAAIlnE,MAAM,oBAAV,OAA8BsiE,EATP,MApb/B,y+EASA,IAAMtM,EAAW,CACfjmD,KADe,OAEfC,OAFe,SAGfm3D,QAHe,WAMjB,gBACE,GAAK/D,GAAL,qBAAoBgE,OAApB,CAGA,IAAM7kE,EAAQ6gE,EAAAA,GAAUA,EAJW,GAK7B5gE,EAAS4gE,EAAAA,GAAUA,EALU,GAM7BiE,EAAS,IANoB,OAOnCA,EAAAA,KAAYjE,EAAZiE,GAAqBjE,EAArBiE,GAAAA,EAPmC,GAQnCnV,EAAAA,KARmC,qBAWrC,aACE3xD,SAAAA,IAAc,UACRD,KAAKC,cAAT,IACEue,EAAAA,EAAAA,aAD2C,6EAK/CwoD,YACExoD,EAAAA,EAAAA,aADW,8CAPf,GAYA,gCACEve,SAAAA,EAAAA,GAAgB,wCAEd,MAAa+hE,EAFC,GAGd,QAAaA,EAHC,GAId,cAAmBA,EAJL,GAKd,MAAWA,EALG,GAMd,MAAWA,EANG,GAOd,MAAWA,EAPG,GAQd,MAAWA,EARG,GASd,SATc,gDAYhBiF,SAAAA,GACE,IADmB,EAEnB,UAAIjnE,KAAKknE,MACPC,EAAOvV,EAAAA,qBACL5xD,KAAKonE,IADAxV,GAEL5xD,KAAKonE,IAFAxV,GAGL5xD,KAAKqnE,IAHAzV,GAIL5xD,KAAKqnE,IALmB,IAOrB,WAAIrnE,KAAKknE,QACdC,EAAOvV,EAAAA,qBACL5xD,KAAKonE,IADAxV,GAEL5xD,KAAKonE,IAFAxV,GAGL5xD,KAHK4xD,IAIL5xD,KAAKqnE,IAJAzV,GAKL5xD,KAAKqnE,IALAzV,GAML5xD,KAPgC,MATjB,UAoBKA,KApBL,iBAoBnB,2BAA0C,KAA1C,EAA0C,QACxCmnE,EAAAA,aAAkBG,EAAlBH,GAAgCG,EADQ,KApBvB,8BAuBnB,OAvBmB,4BA0BrBN,SAAAA,EAAAA,EAAAA,EAAAA,GACE,IADwC,EAExC,GAAIvR,IAAaC,EAAbD,QAAgCA,IAAaC,EAAjD,KAAgE,CAC9D,IAAM6R,EAAYC,EAAAA,QAAAA,0BAAAA,EAEhB5V,EAFgB4V,sBAGb,CAAC,EAAG,EAAG,EAHZ,GAOMvlE,EAAQhE,KAAAA,KAAUspE,EAAAA,GAAeA,EAAzBtpE,KARgD,EASxDiE,EAASjE,KAAAA,KAAUspE,EAAAA,GAAeA,EAAzBtpE,KAT+C,EAWxD89D,EAAYyL,EAAAA,eAAAA,UAAAA,UAAAA,EAAAA,GAX4C,GAkBxD1L,EAASC,EAlB+C,QAmB9DD,EAAAA,UAAAA,EAAAA,EAAuBA,EAAAA,OAAvBA,MAA4CA,EAAAA,OAnBkB,QAoB9DA,EApB8D,YAqB9DA,EAAAA,KAAAA,EAAAA,EAAkBA,EAAAA,OAAlBA,MAAuCA,EAAAA,OArBuB,QAyB9DA,EAAAA,WAAkByL,EAAlBzL,IAAiCyL,EAzB6B,IA0B9DxK,EAAU,EAAA16D,KAAA,YAAwB,CAAC,EAAD,MAKhCklE,EALgC,GAMhCA,EANFxK,KASAjB,EAAAA,UAAAA,MAAAA,EAA+B0L,EAnC+B,eAoC1DxnE,KAAJ,QACE87D,EAAAA,UAAAA,MAAAA,EAA+B97D,KADhB,QAGjBynE,EAAAA,EAAyBznE,KAvCqC,OAyC9D87D,EAAAA,UAAmB97D,KAAKinE,gBAzCsC,GA0C9DnL,EA1C8D,OA4C9D0E,EAAU5O,EAAAA,cAAkBmK,EAAlBnK,OA5CoD,aA6C9D,IAAM8V,EAAY,IAAIC,UA7CwC,GA8C9D,IACEnH,EAAAA,aADE,GAEF,MAAO9hE,IAGPN,EAAAA,EAAAA,MAAAA,0CAAAA,OAAAA,OAA+CM,QAA/CN,IAA+CM,OAA/CN,EAA+CM,EAHpC,QAGXN,aAMFqpE,EAAAA,EAAsBznE,KAJjB,OAKLwgE,EAAUxgE,KAAKinE,gBALV,GAOP,OA9DwC,QAvC5C,IAyGA,4BAEE,IAF2D,EAErDtC,EAASx+D,EAAf,OACEyhE,EAASzhE,EAHgD,OAIrDoF,EAAQxK,EAAd,KACE8mE,EALyD,EAK/C9mE,EAAAA,MAER4jE,EAAO/kD,EAAP+kD,GAAiBA,EAAO9kD,EAA5B,KACEioD,EADmC,EAEnCloD,EAFmC,EAGnCC,EAHmC,EAInCioD,EAJmC,EAKnCC,EALmC,EAMnCC,EANmC,GAQjCrD,EAAO9kD,EAAP8kD,GAAiBA,EAAO7kD,EAA5B,KACEgoD,EADmC,EAEnCjoD,EAFmC,EAGnCC,EAHmC,EAInCgoD,EAJmC,EAKnCE,EALmC,EAMnCC,EANmC,GAQjCtD,EAAO/kD,EAAP+kD,GAAiBA,EAAO9kD,EAA5B,KACEioD,EADmC,EAEnCloD,EAFmC,EAGnCC,EAHmC,EAInCioD,EAJmC,EAKnCC,EALmC,EAMnCC,EANmC,GAQrC,IAAMjnD,GAAM4jD,EAAA,GAAax+D,EAAd,SAAiCA,EA/Be,OAgCrD8a,GAAM0jD,EAAO/kD,EAAP,GAAiBzZ,EAAlB,SAAqCA,EAhCW,OAiCrD0pB,GAAM80C,EAAA,GAAax+D,EAAd,SAAiCA,EAjCe,OAkCrD2pB,GAAM60C,EAAO9kD,EAAP,GAAiB1Z,EAAlB,SAAqCA,EAlCW,OAmCrD+hE,GAAMvD,EAAA,GAAax+D,EAAd,SAAiCA,EAnCe,OAoCrDgiE,GAAMxD,EAAO7kD,EAAP,GAAiB3Z,EAAlB,SAAqCA,EApCW,OAqC3D,KAAI8a,GAAJ,GAiBA,IAdA,IAYA,MApD2D,EAqD3D,MArD2D,EAwCrDmnD,EAAMR,EAAZ,GACES,EAAMT,EAAOG,EADf,GAEEO,EAAMV,EAAOG,EA1C4C,GA2CrDQ,EAAMX,EAAZ,GACEY,EAAMZ,EAAOI,EADf,GAEES,EAAMb,EAAOI,EA7C4C,GA8CrDU,EAAMd,EAAZ,GACEe,EAAMf,EAAOK,EADf,GAEEW,EAAMhB,EAAOK,EAhD4C,GAkDrDY,EAAO5qE,KAAAA,MAAb,GACE6qE,EAAO7qE,KAAAA,MAnDkD,GAsDlD8vB,EAAT,EAAmBA,GAAnB,EAA8BA,IAAK,CACjC,GAAIA,EAAJ,EAAY,CACV,IAAIT,OADM,EAOVy7C,EAAKhoD,GAAMA,EAAD,IAJRuM,EADES,EAAJ,EAAY,GAGL9M,EAAD,IAAYA,EADX,IAIP+nD,EAAMZ,GAAOA,EAAD,GARF,EASVa,EAAMZ,GAAOA,EAAD,GATF,EAUVa,EAAMZ,GAAOA,EAAD,GAVF,MAWL,CACL,IAAIh7C,OADC,EASLy7C,EAAKl5C,GAAMA,EAAD,IANRvC,EADES,EAAJ,EAAY,EAED+B,IAAJ,EAAe,GAGfA,EAAD,IAAYA,EADX,IAIPk5C,EAAMT,GAAOA,EAAD,GAVP,EAWLU,EAAMT,GAAOA,EAAD,GAXP,EAYLU,EAAMT,GAAOA,EAAD,GAZP,EAeP,IAAIn7C,OA3B6B,EAmCjC67C,EAAKpoD,GAAMA,EAAD,IANRuM,EADES,EAAJ,EAAY,EAEDA,EAAJ,EAAY,GAGZ9M,EAAD,IAAYA,EADX,IAIPmoD,EAAMhB,GAAOA,EAAD,GApCqB,EAqCjCiB,EAAMhB,GAAOA,EAAD,GArCqB,EAsCjCiB,EAAMhB,GAAOA,EAAD,GAtCqB,EA0CjC,IAHA,IAAMiB,EAAMtrE,KAAAA,MAAWA,KAAAA,IAAAA,EAvCU,IAwC3BurE,EAAMvrE,KAAAA,MAAWA,KAAAA,IAAAA,EAxCU,IAyC7BsjB,EAAIsmD,EAAAA,EAzCyB,EAyCX0B,EACbjnE,EAAT,EAAkBA,GAAlB,EAA4BA,KAC1BgrB,GAAKy7C,EAAD,IAAYA,EADe,IAE/B,EACEz7C,EADS,EAEAA,EAAJ,IACLA,EADgB,GAGlB/hB,EAAMgW,KAAQynD,GAAOA,EAAD,GAAP,EAPkB,EAQ/Bz9D,EAAMgW,KAAQ0nD,GAAOA,EAAD,GAAP,EARkB,EAS/B19D,EAAMgW,KAAQ2nD,GAAOA,EAAD,GAAP,EATkB,EAU/B39D,EAAMgW,KAVyB,KAerC,kBACE,IAEA,EAHyC,EACnCkoD,EAAKC,EAD8B,OAEnCC,EAAKD,EAF8B,OAIzC,OAAQA,EAAR,MACE,cACE,IAAME,EAAiBF,EADzB,eAEQG,EAAO5rE,KAAAA,MAAWwrE,EAAAA,OAAXxrE,GAFf,EAGQ6rE,EAAOF,EAHf,EAIE,IAAK1mE,EAAL,EAAYA,EAAZ,EAAsBA,IAEpB,IADA,IAAI6mE,EAAI7mE,EADiB,EAEhBqe,EAAT,EAAgBA,EAAhB,EAA0BA,IAAKwoD,IAC7BC,EAAAA,EAAAA,EAGEP,EAHFO,GAIEP,EAAGM,EAJLC,GAKEP,EAAGM,EALLC,GAMEL,EANFK,GAOEL,EAAGI,EAPLC,GAQEL,EAAGI,EAT6B,IAWlCC,EAAAA,EAAAA,EAGEP,EAAGM,EAAAA,EAHLC,GAIEP,EAAGM,EAJLC,GAKEP,EAAGM,EALLC,GAMEL,EAAGI,EAAAA,EANLC,GAOEL,EAAGI,EAPLC,GAQEL,EAAGI,EAnB6B,IAP1C,MA+BE,gBACE,IAAK7mE,EAAAA,EAAOD,EAAKwmE,EAAjB,OAA4BvmE,EAA5B,EAAoCA,GAApC,EACE8mE,EAAAA,EAAAA,EAGEP,EAHFO,GAIEP,EAAGvmE,EAJL8mE,GAKEP,EAAGvmE,EALL8mE,GAMEL,EANFK,GAOEL,EAAGzmE,EAPL8mE,GAQEL,EAAGzmE,EATqC,IAhChD,MA6CE,QACE,MAAM,IAAIxD,MA9Cd,uBAkDF,gCACEO,SAAAA,EAAAA,GAAgB,wCAEd,QAAe+hE,EAFD,GAGd,UAAeA,EAHD,GAId,WAAgBA,EAJF,GAKd,UAAeA,EALD,GAMd,QAAaA,EANC,GAOd,cAAmBA,EAPL,GAQd,SARc,kDAWhBiI,SAAAA,EAAAA,EAAAA,GAGE,IAOM3oE,EAAUrD,KAAAA,MAAW+B,KAAKkqE,QAVgC,IAW1D3oE,EAAUtD,KAAAA,MAAW+B,KAAKkqE,QAXgC,IAY1DC,EAAclsE,KAAAA,KAAU+B,KAAKkqE,QAAfjsE,IAZ4C,EAa1DmsE,EAAensE,KAAAA,KAAU+B,KAAKkqE,QAAfjsE,IAb2C,EAe1DgE,EAAQhE,KAAAA,IACZA,KAAAA,KAAUA,KAAAA,IAASksE,EAAcE,EAAdF,GAhB2C,WAmB1DjoE,EAASjE,KAAAA,IACbA,KAAAA,KAAUA,KAAAA,IAASmsE,EAAeC,EAAfD,GApB2C,WAuB1DhH,EAAS+G,EAvBiD,EAwB1D9G,EAAS+G,EAxBiD,EA0B1DjkE,EAAU,CACdw+D,OAAQ3kE,KADM,QAEd4nE,OAAQ5nE,KAFM,QAGdsB,SAHc,EAIdC,SAJc,EAKd6hE,OAAQ,EALM,EAMdC,OAAQ,EANM,GASViH,EAAcroE,EAAQsoE,EACtBC,EAAetoE,EAASqoE,EAExBxO,EAAY7B,EAAAA,UAAAA,OAAAA,EAAAA,GAtC8C,GA4C1D4B,EAASC,EA5CiD,QA8C1Dh7D,EAAO+6D,EAAAA,gBAAAA,EA9CmD,GA+ChE,KAEE,IADA,IAAMvwD,EAAQxK,EADK,KAEVmC,EAAJ,EAAWD,EAAKsI,EAArB,OAAmCrI,EAAnC,EAA2CA,GAA3C,EACEqI,EAAAA,GAAWk/D,EADsC,GAEjDl/D,EAAMrI,EAANqI,GAAek/D,EAFkC,GAGjDl/D,EAAMrI,EAANqI,GAAek/D,EAHkC,GAIjDl/D,EAAMrI,EAANqI,GAJiD,IAjDW,UAwD3CvL,KAxD2C,cAwDhE,2BACE0qE,EAAAA,EADkC,WAxD4B,8BA8DhE,OAHA5O,EAAAA,aAAAA,EA3DgE,KA8DzD,CACLz7D,OAHa07D,EA5DiD,OAgE9Dz6D,QAASA,EAhEqD,EA8DzD,EAGLC,QAASA,EAjEqD,EA8DzD,EAIL6hE,OAJK,EAKLC,OAAAA,6BAIJ2D,SAAAA,EAAAA,EAAAA,EAAAA,GAEE,IAFwC,EAGxC,GAFAS,EAAAA,EAAsBznE,KADkB,OAGpCy1D,IAAaC,EAAjB,QACE/2D,EAAQ0D,EAAAA,KAAAA,8BAAmCuvD,EADV,0BAKjC,GADAjzD,EAAQ0D,EAAAA,KAAAA,8BAAmCmlE,EAFtC,eAGDxnE,KAAJ,OAAiB,CACf,IAAM2qE,EAActoE,EAAAA,KAAAA,8BAAmCrC,KADxC,QAEfrB,EAAQ,CAACA,EAAAA,GAAWgsE,EAAZ,GAA4BhsE,EAAAA,GAAWgsE,EAA/ChsE,IAMJ,IAAMisE,EAAyB5qE,KAAKiqE,kBAAkB,EAEpDxU,IAAaC,EAAbD,QAAAA,KAAuCz1D,KAFV,YAG7BwnE,EAnBsC,gBAmCxC,OAbI/R,IAAaC,EAAjB,UACE9D,EAAAA,aAAAA,MAAAA,EAA4B4V,EADK,eAE7BxnE,KAAJ,QACE4xD,EAAAA,UAAAA,MAAAA,EAAyB5xD,KADV,SAKnB4xD,EAAAA,UACEgZ,EADFhZ,QAEEgZ,EA/BsC,SAiCxChZ,EAAAA,MAAUgZ,EAAVhZ,OAAyCgZ,EAjCD,QAmCjChZ,EAAAA,cAAkBgZ,EAAlBhZ,OAnCiC,mBAnF5C,IA0HA,0HACEoV,WACE,MADW,gBADf,IAkBM6D,EAAY,EAAZA,EAAY,EAKlB,aAME5qE,SAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GAAkE,UAChED,KAAA,aAAoBgiE,EAD4C,GAEhEhiE,KAAA,OAAcgiE,EAAAA,IAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAApC,GACAhiE,KAAA,KAAYgiE,EAHoD,GAIhEhiE,KAAA,MAAagiE,EAJmD,GAKhEhiE,KAAA,MAAagiE,EALmD,GAMhEhiE,KAAA,UAAiBgiE,EAN+C,GAOhEhiE,KAAA,WAAkBgiE,EAP8C,GAQhEhiE,KAAA,MARgE,EAShEA,KAAA,IATgE,EAUhEA,KAAA,sBAVgE,EAWhEA,KAAA,cAXgE,+CAclE8qE,SAAAA,GACE,IAAM/hB,EAAe/oD,KADI,aAEnB8iE,EAAO9iE,KAFY,KAGnB+qE,EAAQ/qE,KAHW,MAInBgrE,EAAQhrE,KAJW,MAKnBirE,EAAYjrE,KALO,UAMnBkrE,EAAalrE,KANM,WAOnBiiE,EAAQjiE,KAPW,MAQnBkiE,EAAwBliE,KARL,uBAUzBuI,EAAAA,EAAAA,MAAK,eAVoB,GAgCzB,IAAMuY,EAAKgiD,EAAX,GACE9hD,EAAK8hD,EADP,GAEE/hD,EAAK+hD,EAFP,GAGE7hD,EAAK6hD,EAnCkB,GAsCnB6H,EAActoE,EAAAA,KAAAA,8BAAmCrC,KAtC9B,QAuCnBmrE,EAAiB9oE,EAAAA,KAAAA,8BACrBrC,KAxCuB,eA0CnBqqE,EAAgB,CACpBM,EAAAA,GAAiBQ,EADG,GAEpBR,EAAAA,GAAiBQ,EAFnB,IAQMC,EAAOprE,KAAKqrE,gBAAgB,EAEhCrrE,KAAK4xD,IAAIvxD,OAFE,MAGXgqE,EArDuB,IAuDnBiB,EAAOtrE,KAAKqrE,gBAAgB,EAEhCrrE,KAAK4xD,IAAIvxD,OAFE,OAGXgqE,EA1DuB,IA6DnBtO,EAAYyL,EAAAA,eAAAA,UAAAA,UAEhB4D,EAFgB5D,KAGhB8D,EAHgB9D,MA7DO,GAmEnB1L,EAASC,EAnEU,QAoEnBwP,EAAWrJ,EAAAA,qBApEQ,GAqEzBqJ,EAAAA,WAAsB/D,EArEG,WAuEzBxnE,KAAA,mCAvEyB,GAyEzB,IAAIwrE,EAzEqB,EA0ErBC,EA1EqB,EA2ErBC,EA3EqB,EA4ErBC,EA5EqB,EAmGzB,OAnBI7qD,EAAJ,IACE0qD,EADU,EAEVE,GAAcztE,KAAAA,IAFJ,IAIR+iB,EAAJ,IACEyqD,EADU,EAEVE,GAAc1tE,KAAAA,IAFJ,IAIZ69D,EAAAA,WAAmBsP,EAAKzsE,MAAxBm9D,GAA+CwP,EAAK3sE,MAxF3B,GAyFzB4sE,EAAAA,UAAmBH,EAAnBG,MAAAA,EAAAA,EAAqCD,EAArCC,MAAAA,EAzFyB,GA2FzBvrE,KAAA,iBA3FyB,GA6FzBurE,EAAAA,cAAyBA,EAAAA,IAAAA,oBA7FA,QA+FzBA,EAAAA,oBA/FyB,GAiGzBA,EAjGyB,aAmGlB,CACLlrE,OAAQ07D,EADH,OAELqH,OAAQgI,EAFH,MAGL/H,OAAQiI,EAHH,MAILhqE,QAJK,EAKLC,QALK,kCAST8pE,SAAAA,EAAAA,EAAAA,GAEEj0C,EAAOn5B,KAAAA,IAFoC,GAO3C,IAAM2tE,EAAU3tE,KAAAA,IAAS4tE,EAAT5tE,iBAP2B,GAQvCqjC,EAAOrjC,KAAAA,KAAUm5B,EARsB,GAc3C,OALIkK,GAAJ,EACEA,EADmB,EAGnB3iC,EAAQ2iC,EADH,EAGA,CAAE3iC,MAAF,EAAS2iC,KAAAA,2BAGlBwqC,SAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GACE,IAAMC,EAAYhrD,EADe,EAE3BirD,EAAa/qD,EAFc,EAGjCsqD,EAAAA,IAAAA,KAAAA,EAAAA,EAAAA,EAHiC,GAIjCA,EAJiC,OAKjCA,EALiC,wDAQnCU,SAAAA,EAAAA,EAAAA,GACE,IAAM9lE,EAAUolE,EAAhB,IACElY,EAAUkY,EAF6C,QAGzD,UACE,KAAKV,EACH,IAAMjZ,EAAM5xD,KADd,IAEEmG,EAAAA,UAAoByrD,EAFtB,UAGEzrD,EAAAA,YAAsByrD,EAHxB,YAIEyB,EAAAA,UAAoBzB,EAJtB,UAKEyB,EAAAA,YAAsBzB,EALxB,YADF,MAQE,KAAKiZ,EACH,IAAMqB,EAAW7pE,EAAAA,KAAAA,aAAkB4/D,EAAlB5/D,GAA4B4/D,EAA5B5/D,GAAsC4/D,EADzD,IAEE97D,EAAAA,UAFF,EAGEA,EAAAA,YAHF,EAKEktD,EAAAA,UALF,EAMEA,EAAAA,YANF,EARF,MAgBE,QACE,MAAM,IAAI,EAAJ,8CAjBV,+BAqBF2T,SAAAA,EAAAA,EAAAA,EAAAA,GAEE,IAAI1E,EAFoC,EAGpC7M,IAAaC,EAAjB,UACE4M,EAASjgE,EAAAA,KAAAA,UAAAA,EAAuBmlE,EADC,eAE7BxnE,KAAJ,SACEsiE,EAASjgE,EAAAA,KAAAA,UAAAA,EAAuBrC,KADjB,UAKnB,IAAM4qE,EAAyB5qE,KAAK8qE,oBAVI,GAYpCpD,EAAY,IAAIC,UAZoB,GAmBxCD,GAJAA,EAAYA,EAAAA,UACVkD,EADUlD,QAEVkD,EAjBsC,UAmB5BlD,MACV,EAAIkD,EADMlD,OAEV,EAAIkD,EArBkC,QAwBxC,IAAMpK,EAAU5O,EAAAA,cAAkBgZ,EAAlBhZ,OAxBwB,UAyBxC,IACE4O,EAAAA,aADE,GAEF,MAAO9hE,IAGPN,EAAAA,EAAAA,MAAAA,8BAAAA,OAAAA,OAAmCM,QAAnCN,IAAmCM,OAAnCN,EAAmCM,EAHxB,QAGXN,OAEF,OAhCwC,kCA/K1C,WACE,OAAO2B,EAAAA,EAAAA,QAAAA,KAAAA,mBADqB,WAFhC,+HCzbA,IAAM2hD,EAAsBv+C,OAAAA,OA3B5B,8BA6BAu+C,EAAAA,gBACEA,IAAAA,EAAAA,WAAAA,KAEIA,EAhCN,WAkCAA,EAAAA,eACEA,IAAAA,EAAAA,UAAAA,GAEIA,EArCN,8JCeA,+gBAWA,IAAMyqB,EAAe,EAAfA,EAAe,EAMfC,EAAa,EAAbA,EAAa,EAAbA,EAAa,EAAbA,EAAa,EAAbA,EAAa,EAAbA,EAAa,EAAbA,EAAa,EAAbA,EAAa,EAYnB,cACE,KAEIx/D,aAAkBlN,OACjB,iBAHL,OAGmCkN,GAYjC,OADAxO,EAAAA,EAAAA,MATA,oEAYF,OAAQwO,EAAR,MACE,qBACE,OAAO,IAAI,EAAJ,eAAmBA,EAF9B,SAGE,0BACE,OAAO,IAAI,EAAJ,oBAAwBA,EAJnC,SAKE,wBACE,OAAO,IAAI,EAAJ,kBAAsBA,EAAtB,QAAsCA,EANjD,MAOE,kCACE,OAAO,IAAI,EAAJ,4BAAgCA,EAAhC,QAAgDA,EAR3D,QASE,4BACE,OAAO,IAAI,EAAJ,sBAA0BA,EAA1B,QAA0CA,EAVrD,SAWE,QACE,OAAO,IAAI,EAAJ,sBAA0BA,EAA1B,QAA0CA,EAZrD,iBAgBF,aACE3M,SAAAA,EAAAA,EAAAA,EAAAA,GAA4C,iHAC1CD,KAAA,WAD0C,EAE1CA,KAAA,WAF0C,EAG1CA,KAAA,OAH0C,EAI1CA,KAAA,WAJ0C,EAK1CA,KAAA,SAL0C,EAM1CA,KAAA,YAAmBmD,OAAAA,OANuB,MAO1CnD,KAAA,kBAAyBmD,OAAAA,OAPiB,MAQ1CnD,KAAA,qBAA4BmD,OAAAA,OARc,MAS1CnD,KAAA,cAAqBmD,OAAAA,OATqB,MAW1CnD,KAAA,mBAA0B87B,SAAAA,GACxB,IAAM/6B,EAAO+6B,EADoB,KAEjC,GAAI/6B,EAAAA,aAAoB,EAAxB,WAGA,GAAIA,EAAJ,OACE,wBADe,QAIjB,GAAIA,EAAJ,UACE,IAAMsrE,EAAatrE,EADF,WAEX0L,EAAa,uBAFF,GAGjB,MACE,MAAM,IAAI/M,MAAM,2BAAV,OADS,IAKjB,UAFO,uBANU,GAQbqB,EAAAA,WAAkBorE,EACpB1/D,EAAAA,QAAmB1L,EADoB,UAElC,IAAIA,EAAAA,WAAkBorE,EAG3B,MAAM,IAAIzsE,MADL,4BADL+M,EAAAA,OAAkB6/D,EAAWvrE,EADkB,cAVnD,CAiBA,IAAMw1C,EAAS,gBAAmBx1C,EA1BD,QA2BjC,MACE,MAAM,IAAIrB,MAAM,+BAAV,OAAyCqB,EADpC,SAGb,GAAIA,EAAJ,YACE,IAAMwrE,EAAe,EADF,WAEbC,EAAezrE,EAFF,WAInB,aAAY,SAAUvB,GACpBA,EAAQ+2C,EAAOx1C,EADc,UAA/B,MAGE,SAAUiH,GACRykE,EAAAA,YAAmB,CACjBC,WADiB,EAEjBC,WAFiB,EAGjBvpC,SAAU+oC,EACVE,WAAYtrE,EAJK,WAKjBA,KALiB,OAQrB,SAAU6L,GACR6/D,EAAAA,YAAmB,CACjBC,WADiB,EAEjBC,WAFiB,EAGjBvpC,SAAU+oC,EACVE,WAAYtrE,EAJK,WAKjB6L,OAAQ0/D,EALS,aAWrBvrE,EAAJ,SACE,oBADiB,GAInBw1C,EAAOx1C,EA9D0B,QAgEnC0rE,EAAAA,iBAAAA,UAAmCzsE,KA3EO,4DA8E5C4sE,SAAAA,EAAAA,GAUE,IAAMC,EAAK7sE,KAVW,cAWtB,GAAI6sE,EAAJ,GACE,MAAM,IAAIntE,MAAM,0CAAV,OADY,EAClB,MAEFmtE,EAAAA,GAdsB,sBAuBxBC,SAAAA,EAAAA,EAAAA,GACE9sE,KAAA,mBACE,CACE0sE,WAAY1sE,KADd,WAEE2sE,WAAY3sE,KAFd,WAGEu2C,OAHF,EAIEx1C,KAAAA,GAN4B,kCAoBlC8hD,SAAAA,EAAAA,EAAAA,GACE,IAAMwpB,EAAarsE,KADwB,aAErCyM,GAFqC,+BAG3CzM,KAAA,wBAH2C,EAI3C,IACEA,KAAA,mBACE,CACE0sE,WAAY1sE,KADd,WAEE2sE,WAAY3sE,KAFd,WAGEu2C,OAHF,EAIE81B,WAJF,EAKEtrE,KAAAA,GAPF,GAWF,MAAOrC,GACP+N,EAAAA,OADW,GAGb,OAAOA,EAlBoC,sCA+B7Cm9C,SAAAA,EAAAA,EAAAA,EAAAA,GAA8D,WACtDmjB,EAAW/sE,KAAjB,WACE0sE,EAAa1sE,KADf,WAEE2sE,EAAa3sE,KAFf,WAGEysE,EAASzsE,KAJiD,OAM5D,OAAO,IAAI07C,eACT,CACEl4C,MAAOmnC,SAAAA,GACL,IAAMqiC,GADa,+BAqBnB,OAnBA,uBAAmC,CACjCriC,WADiC,EAEjCsiC,UAFiC,EAGjCC,SAHiC,KAIjCC,WAJiC,KAKjCC,UALiC,GAOnCX,EAAAA,YACE,CACEC,WADF,EAEEC,WAFF,EAGEp2B,OAHF,EAIEw2B,SAJF,EAKEhsE,KALF,EAME+sC,YAAanD,EANf,aAViB,GAqBZqiC,EArBY,SAwBrBpyB,KAAMjQ,SAAAA,GACJ,IAAM0iC,GADY,+BAYlB,OAVA,gCAFkB,EAGlBZ,EAAAA,YAAmB,CACjBC,WADiB,EAEjBC,WAFiB,EAGjBnpC,OAAQ4oC,EACRW,SAJiB,EAKjBj/B,YAAanD,EALI,cASZ0iC,EAZW,SAepBjnC,OAAQx5B,SAAAA,IACNvP,EAAAA,EAAAA,QAAOuP,aAAPvP,MADgB,mCAEhB,IAAMiwE,GAFU,+BAahB,OAVA,kCAHgB,EAIhB,iCAJgB,EAKhBb,EAAAA,YAAmB,CACjBC,WADiB,EAEjBC,WAFiB,EAGjBnpC,OAAQ4oC,EACRW,SAJiB,EAKjBngE,OAAQ0/D,EALS,KAQZgB,EAbS,UA/CsC,oCAsE9DC,SAAAA,GACE,IAAMR,EAAWhsE,EAAjB,SACE2rE,EAAa1sE,KADf,WAEE2sE,EAAa5rE,EAFf,WAGE0rE,EAASzsE,KAJW,OAKhBqjB,EAAN,KACEkzB,EAASv2C,KAAKwtE,cAAczsE,EANR,QAQhB0sE,EAAa,CACjB5/B,QADiB,YACmB,IAArBvM,EAAqB,uDAApCuM,EAAAA,EAAoC,uCAClC,IAAI7tC,KAAJ,aAGA,IAAM0tE,EAAkB1tE,KAJU,YAKlCA,KAAA,aALkC,EAS9B0tE,EAAAA,GAAuB1tE,KAAK8tC,aAAhC,IACE9tC,KAAA,gBADgD,+BAEhDA,KAAA,MAAaA,KAAK2tE,eAF8B,SAIlDlB,EAAAA,YACE,CACEC,WADF,EAEEC,WAFF,EAGEnpC,OAAQ4oC,EACRW,SAJF,EAKEnhE,MAAAA,GAnB8B,KAyBpCgiC,MA1BiB,WA2BX5tC,KAAJ,cAGAA,KAAA,aAJM,EAKNysE,EAAAA,YAAmB,CACjBC,WADiB,EAEjBC,WAFiB,EAGjBnpC,OAAQ4oC,EACRW,SAAAA,WAEK1pD,EAAAA,YAXD,KAcRU,MAxCiB,aAyCf1mB,EAAAA,EAAAA,QAAOuP,aAAPvP,MADY,kCAER2C,KAAJ,cAGAA,KAAA,aALY,EAMZysE,EAAAA,YAAmB,CACjBC,WADiB,EAEjBC,WAFiB,EAGjBnpC,OAAQ4oC,EACRW,SAJiB,EAKjBngE,OAAQ0/D,EALS,OASrBqB,gBAvDiB,+BAwDjBC,OAxDiB,KAyDjBC,SAzDiB,KA0DjBC,aA1DiB,EA2DjBhgC,YAAa/sC,EA3DI,YA4DjBuqC,MA5DiB,MA+DnBmiC,EAAAA,eAvEsB,UAwEtBA,EAAAA,MAAmBA,EAAAA,eAxEG,QAyEtBztE,KAAA,eAzEsB,EA2EtB,aAAY,SAAUR,GACpBA,EAAQ+2C,EAAOx1C,EAAPw1C,KADqB,OAA/B,MAGE,WACEk2B,EAAAA,YAAmB,CACjBC,WADiB,EAEjBC,WAFiB,EAGjBnpC,OAAQ4oC,EACRW,SAJiB,EAKjBgB,SALiB,OAQrB,SAAUnhE,GACR6/D,EAAAA,YAAmB,CACjBC,WADiB,EAEjBC,WAFiB,EAGjBnpC,OAAQ4oC,EACRW,SAJiB,EAKjBngE,OAAQ0/D,EALS,6CAczB0B,SAAAA,GACE,IAAMjB,EAAWhsE,EAAjB,SACE2rE,EAAa1sE,KADf,WAEE2sE,EAAa5rE,EAFf,WAGE0rE,EAASzsE,KAJe,OAKpBiuE,EAAmBjuE,KAAKkuE,kBAA9B,GACET,EAAaztE,KAAKmuE,YANM,GAQ1B,OAAQptE,EAAR,QACE,KAAKqrE,EACCrrE,EAAJ,QACEktE,EAAAA,UADgB,UAGhBA,EAAAA,UAAAA,OAAkC3B,EAAWvrE,EADxC,SAJX,MAQE,KAAKqrE,EACCrrE,EAAJ,QACEktE,EAAAA,SADgB,UAGhBA,EAAAA,SAAAA,OAAiC3B,EAAWvrE,EADvC,SAXX,MAeE,KAAKqrE,EAEH,MAAiB,CACfK,EAAAA,YAAmB,CACjBC,WADiB,EAEjBC,WAFiB,EAGjBnpC,OAAQ4oC,EACRW,SAJiB,EAKjBgB,SALiB,IADJ,MAYbN,EAAAA,aAAAA,GAA+B1sE,EAAAA,YAAnC,GACE0sE,EAAAA,eADuD,UAIzDA,EAAAA,YAAyB1sE,EAlB3B,YAoBE,aAAY,SAAUvB,GACpBA,EAAQiuE,EAAAA,QAAqBA,EADA,aAA/B,MAGE,WACEhB,EAAAA,YAAmB,CACjBC,WADiB,EAEjBC,WAFiB,EAGjBnpC,OAAQ4oC,EACRW,SAJiB,EAKjBgB,SALiB,OAQrB,SAAUnhE,GACR6/D,EAAAA,YAAmB,CACjBC,WADiB,EAEjBC,WAFiB,EAGjBnpC,OAAQ4oC,EACRW,SAJiB,EAKjBngE,OAAQ0/D,EALS,QAhD3B,MA0DE,KAAKF,EAEH,IADA/uE,EAAAA,EAAAA,QAAAA,EADF,yCAEM4wE,EAAJ,SAA+B,MAG/BA,EAAAA,WAAAA,QAAoCltE,EALtC,OA1DF,MAiEE,KAAKqrE,EAEH,IADA/uE,EAAAA,EAAAA,QAAAA,EADF,uCAEM4wE,EAAJ,SAA+B,MAG/BA,EAAAA,UALF,EAMEA,EAAAA,WANF,QAOEjuE,KAAA,0BAPF,GAjEF,MA0EE,KAAKosE,GACH/uE,EAAAA,EAAAA,QAAAA,EADF,uCAEE4wE,EAAAA,WAAAA,MAAkC3B,EAAWvrE,EAF/C,SAGEf,KAAA,0BAHF,GA1EF,MA+EE,KAAKosE,EACCrrE,EAAJ,QACEktE,EAAAA,WADgB,UAGhBA,EAAAA,WAAAA,OAAmC3B,EAAWvrE,EADzC,SAGPf,KAAA,0BANF,GA/EF,MAuFE,KAAKosE,EACH,MAAiB,MAIjB,aAAY,SAAU5sE,GACpBA,EACEiuE,EAAAA,UAAuBA,EAAAA,SAAoBnB,EAAWvrE,EAF3B,aAA/B,MAKE,WACE0rE,EAAAA,YAAmB,CACjBC,WADiB,EAEjBC,WAFiB,EAGjBnpC,OAAQ4oC,EACRW,SAJiB,EAKjBgB,SALiB,OAQrB,SAAUnhE,GACR6/D,EAAAA,YAAmB,CACjBC,WADiB,EAEjBC,WAFiB,EAGjBnpC,OAAQ4oC,EACRW,SAJiB,EAKjBngE,OAAQ0/D,EALS,QASvBmB,EAAAA,eAAAA,OAAiCnB,EAAWvrE,EA7B9C,SA8BE0sE,EAAAA,aA9BF,SA+BSztE,KAAKmuE,YA/Bd,GAvFF,MAwHE,QACE,MAAM,IAAIzuE,MAzHd,wGAgIF,uGAGQN,QAAQohC,WAAW,CACvBytC,EAAAA,WAA8BA,EAAAA,UADP,QAEvBA,EAAAA,UAA6BA,EAAAA,SAFN,QAGvBA,EAAAA,YAA+BA,EAAAA,WANnC,wBAQSjuE,KAAKkuE,kBAR4C,GAA1D,4SAWAztB,WACEzgD,KAAA,qCAA2CA,KADnC,uDAxdZ,uHC9EA,2uBAiBA,aAKEC,SAAAA,EAAAA,GAAqC,IAAzB,EAAyB,EAAzB,WAAZA,EAAqC,EAArCA,qGAAqC,mFACnC,EAAAD,KAAA,EADmC,GAEnC,EAAAA,KAAA,EAFmC,gDAKrCouE,WACE,SADO,KACP,sBAGFzhE,SAAAA,GAAU,MACR,iBAAO,EAAA3M,KAAA,OAAP,kBADQ,2BAIVg0D,WACE,OAAOC,EAAAA,EAAAA,eAAAA,EADA,KACP,uBAGF5qC,SAAAA,GACE,OAAO,EAAArpB,KAAA,OADC,qCAtBZ,8HCHA,6xCAEA,EACEC,SAAAA,EAAAA,EAAAA,GAA0B,UACxBD,KAAA,SADwB,EAExBA,KAAA,KAFwB,EAGxBA,KAAA,OAHwB,GAO5B,aACEC,SAAAA,EAAAA,GAME,GANgB,UAChBD,KAAA,KADgB,KAEhBA,KAAA,QAFgB,KAGhBA,KAAA,OAHgB,KAIhBA,KAAA,QAAe,IAJC,IAMhB,OAAIe,EAAJ,CAGAf,KAAA,KAAYe,EATI,KAUhBf,KAAA,QAAee,EAVC,QAWhBf,KAAA,OAAce,EAXE,gBAYIA,EAZJ,YAYhB,2BAAiC,KAAjC,EAAiC,QAC/Bf,KAAA,YACEijE,EADF,GAEE,IAAIoL,EAAqBpL,EAAzB,KAAqCA,EAHR,UAZjB,8BAmBhB,WAAIliE,EAAAA,UAA0B,WACRf,KADQ,aAC5B,2BAAkC,QAChCijE,SADgC,EADN,+BAnBd,UAyBCliE,EAzBD,QAyBhB,2BAA0B,KAA1B,EAA0B,QACxBf,KAAA,wBADwB,GAzBV,wCA6BEe,EA7BF,SA6BhB,2BAA4B,KAA5B,EAA4B,QAC1Bf,KAAA,wBAD0B,GA7BZ,mGAkClBsuE,SAAAA,GACE,IAAMvkE,EAASgiB,EADoB,OAEnC,GAAIhiB,EAAJ,EACE,OADc,EAIhB,IADA,IAAMwkE,EAAWxiD,EALkB,GAM1B7oB,EAAT,EAAgBA,EAAhB,EAA4BA,IAAK,CAC/B,IAAM0/B,EAAU7W,EADe,GAE3BzlB,OAF2B,EAG/B,GAAI8Y,MAAAA,QAAJ,GACE9Y,EAAQtG,KAAKsuE,8BADa,OAErB,KAAItuE,KAAKwuE,QAAQnlD,IAAjB,GAIL,OADAjrB,EAAAA,EAAAA,MAAAA,qCAAAA,OADK,OADLkI,EAAQtG,KAAKwuE,QAAQ7hE,IAAIi2B,GADW,QAMtC,UACE,UACE,MACE,OADU,EAFhB,MAME,SACE,KACE,OADS,EAPf,MAWE,UACE,OAZJ,EAaE,QACE,OAdJ,GAiBF,MAlCmC,QAkC5B2rC,2BAGTvI,SAAAA,GACE,OAAIhmE,KAAKwuE,QAAQltC,KACf,OAD2B,EAG7B,MAEE,OADAljC,EAAAA,EAAAA,MADU,0CAIZ,WAAI6kE,EAAAA,KACF,OAAKjjE,KAAKwuE,QAAQnlD,IAAI45C,EAAtB,IAIOjjE,KAAKwuE,QAAQ7hE,IAAIs2D,EAAjB,IALiB,UAEtB7kE,EAAAA,EAAAA,MAAAA,qCAAAA,OAA0C6kE,EADX,SAK5B,YAAIA,EAAAA,KAAuB,CAEhC,GAAIA,EAAJ,WACE,OAAOjjE,KAAKsuE,8BAA8BrL,EADtB,YAGtB,IAAKA,EAAD,QAAJ,UAAqBA,EAAAA,OAA0B,WAE5BA,EAF4B,SAE7C,2BAA4B,KAA5B,EAA4B,QAC1B,IAAKjjE,KAAKwuE,QAAQnlD,IAAlB,GAEE,OADAjrB,EAAAA,EAAAA,MAAAA,qCAAAA,OADyB,OAI3B,GAAI4B,KAAKwuE,QAAQ7hE,IAAI6a,GAArB,QACE,OADgC,GAPS,8BAW7C,OAX6C,EAYxC,aAAIy7C,EAAAA,OAA0B,WAClBA,EADkB,SACnC,2BAA4B,KAA5B,EAA4B,QAC1B,IAAKjjE,KAAKwuE,QAAQnlD,IAAlB,GAEE,OADAjrB,EAAAA,EAAAA,MAAAA,qCAAAA,OADyB,OAI3B,IAAK4B,KAAKwuE,QAAQ7hE,IAAI,GAAtB,QACE,OADiC,GANF,8BAUnC,OAVmC,EAW9B,cAAIs2D,EAAAA,OAA2B,WACnBA,EADmB,SACpC,2BAA4B,KAA5B,EAA4B,QAC1B,IAAKjjE,KAAKwuE,QAAQnlD,IAAlB,GAEE,OADAjrB,EAAAA,EAAAA,MAAAA,qCAAAA,OADyB,OAI3B,IAAK4B,KAAKwuE,QAAQ7hE,IAAI,GAAtB,QACE,OADiC,GAND,8BAUpC,OAVoC,EAW/B,cAAIs2D,EAAAA,OAA2B,WACnBA,EADmB,SACpC,2BAA4B,KAA5B,EAA4B,QAC1B,IAAKjjE,KAAKwuE,QAAQnlD,IAAlB,GAEE,OADAjrB,EAAAA,EAAAA,MAAAA,qCAAAA,OADyB,OAI3B,GAAI4B,KAAKwuE,QAAQ7hE,IAAI,GAArB,QACE,OADgC,GANA,8BAUpC,OAVoC,EAatC,OADAvO,EAAAA,EAAAA,MAAAA,mCAAAA,OAAwC6kE,EAnDR,OAmDhC7kE,OAnDgC,EAuDlC,OADAA,EAAAA,EAAAA,MAAAA,sBAAAA,OAA2B6kE,EApEZ,KAoEf7kE,OApEe,+BAwEjBqwE,SAAAA,GAAkC,IAAhB1I,IAAgB,yDAC3B/lE,KAAKwuE,QAAQnlD,IAAlB,GAIArpB,KAAA,yBALgC,GAE9B5B,EAAAA,EAAAA,MAAAA,qCAAAA,OADyB,4BAO7BswE,WACE,OAAK1uE,KAAKwuE,QAAV,KAGIxuE,KAAJ,OACSA,KAAK2uE,OADG,QAGVvvD,MAAAA,KAAWpf,KAAKwuE,QAPd,QACe,8BAS1BI,WACE,OAAO5uE,KAAKwuE,QAAQltC,KAAO,GAAI2yB,EAAAA,EAAAA,eAAcj0D,KAAtC,SADG,6BAIZ6uE,SAAAA,GACE,OAAO7uE,KAAKwuE,QAAQ7hE,IAAI6a,IADb,wCAtKf,yLCTA,OAfA,8oDAmBA,aACEvnB,SAAAA,EAAAA,EAAAA,GAA2C,sBACzC5C,EAAAA,EAAAA,QAAAA,EADyC,+EAMzC2C,KAAA,cANyC,GAOzCA,KAAA,iBAAwBqhD,EAAAA,kBAPiB,EAQzCrhD,KAAA,4BACEqhD,EAAAA,4BATuC,KAWzC,IAAMY,EAAcZ,EAXqB,YAYzC,IAAIY,OAAAA,QAAAA,IAAAA,OAAAA,EAAAA,EAAAA,QAAJ,EAA6B,CAC3B,IAAMh2C,EAAS,IAAIjL,WAAWihD,GADH,OAE3BjiD,KAAA,mBAF2B,GAK7BA,KAAA,uBAjByC,EAkBzCA,KAAA,uBAA8BqhD,EAlBW,cAmBzCrhD,KAAA,mBAA0BqhD,EAnBe,aAoBzCrhD,KAAA,eAAsBqhD,EApBmB,OAsBzCrhD,KAAA,mBAtByC,KAuBzCA,KAAA,cAvByC,GAyBzCA,KAAA,yCAA6C,cAC3C,iBAAoB,CAAE8uE,MAAF,EAASljE,MAAAA,OAG/B5L,KAAA,4CAAgD,cAC9C,cAAiB,CAAE6tD,OAAF,EAAUC,MAAAA,OAG7B9tD,KAAA,mDAAuD4L,SAAAA,GACrD,iBAAoB,CAAEA,MAAAA,OAGxB5L,KAAA,mDAAuD,WACrD,EAD2D,wBAI7DA,KAAA,uBAzCyC,yDA4C3C+uE,SAAAA,GACE,IAAM9iE,EAAS,IAAIjL,WAAWkvB,EAAf,OADI,OAEnB,YAAIA,EAAAA,MACElwB,KAAJ,mBACEA,KAAA,4BAD2B,GAG3BA,KAAA,mBADK,OAGF,CACL,IAAMgvE,EAAQhvE,KAAKivE,cAAc7gD,MAAK,SAAUkgC,GAC9C,OAAIA,EAAAA,SAAuBp+B,EAA3B,QAGAo+B,EAAAA,SAJ2D,WAO7DjxD,EAAAA,EAAAA,QAAAA,EARK,gHAeT,WAA6B,QAC3B,2BAAO2C,KAAP,uCAAO,EAAP,uBAD2B,6BAI7BkvE,SAAAA,GACE,YAAI3vE,EAAAA,MAAyB,CAE3B,IAAM4vE,EAAcnvE,KAAKivE,cAFE,GAG3B,OAAIE,QAAJ,IAAIA,GAAAA,EAAJ,YACEA,EAAAA,WAAuB,CAAEthB,OAAQtuD,EADN,aAGxB,CACL,IAAM2uD,EAAaluD,KADd,mBAEL,OAAIkuD,QAAJ,IAAIA,GAAAA,EAAJ,YACEA,EAAAA,WAAsB,CAAEL,OAAQtuD,EAAV,OAAsBuuD,MAAOvuD,EAA7B,2CAK5B6vE,WACMpvE,KAAJ,oBACEA,KAAA,mBAD2B,kBAG7BA,KAAA,kBAJmB,oCAOrBqvE,SAAAA,GACE,IAAMnsE,EAAIlD,KAAKivE,cAAc5kD,QADJ,GAErBnnB,GAAJ,GACElD,KAAA,uBADU,gCAKdsvE,YACEjyE,EAAAA,EAAAA,SACG2C,KADH3C,mBADc,iEAKd,IAAMkyE,EAAevvE,KALP,cAOd,OADAA,KAAA,cANc,KAOP,IAAIwvE,EAA6B,KAAjC,EAGLxvE,KAHK,iBAILA,KAXY,2DAehByvE,SAAAA,EAAAA,GACE,GAAIzxE,GAAOgC,KAAX,uBACE,OADsC,KAGxC,IAAMujC,EAAS,IAAImsC,EAAkC1vE,KAAM8uE,EAJlC,GAOzB,OAFA9uE,KAAA,0CALyB,GAMzBA,KAAA,mBANyB,sCAU3B2vE,SAAAA,GACM3vE,KAAJ,oBACEA,KAAA,0BAD2B,GADL,UAIHA,KAAKivE,cAAcxnC,MAJhB,QAIxB,2BAAkD,QAChDlE,OADgD,GAJ1B,8BAOxBvjC,KAAA,uBAPwB,cA9H5B,kCA0IA,aACEC,SAAAA,EAAAA,EAAAA,GAKE,IAFAiiD,EAEA,wDADAC,EACA,uDALFliD,KAKE,UACAD,KAAA,QADA,EAEAA,KAAA,MAAakiD,IAFb,EAGAliD,KAAA,WAAiB4vE,EAAAA,EAAAA,WAAAA,GAAAA,EAHjB,KAMA5vE,KAAA,cAAqBuvE,GANrB,GAOAvvE,KAAA,QAPA,YAQoBA,KARpB,mBAQA,2BAAwC,KAAxC,EAAwC,QACtCA,KAAA,SAAgB4L,EADsB,YARxC,8BAWA5L,KAAA,UAXA,GAYAA,KAAA,cAAqBZ,QAZrB,UAaAokC,EAAAA,mBAbA,KAeAxjC,KAAA,WAfA,uCAkBF6vE,SAAAA,GACM7vE,KAAJ,QAGIA,KAAK8vE,UAAU/lE,OAAnB,EAC4B/J,KAAK8vE,UADF,QAE7BC,QAA0B,CAAEtqE,MAAF,EAAgBsB,MAAhB,IAE1B/G,KAAA,mBADK,GAGPA,KAAA,SAAgB4L,EAVF,sCAahB,WACE,OAAO5L,KADU,oCAInB,WACE,OAAOA,KADM,wCAIf,WACE,OAAOA,KAAKgwE,QADS,oDAIvB,WACE,OAAOhwE,KAAKgwE,QADa,iDAI3B,WACE,OAAOhwE,KAAKgwE,QADM,sEAIpB,iGACMhwE,KAAKiwE,cAAclmE,OADzB,0BAEU6B,EAAQ5L,KAAKiwE,cAFvB,0BAGW,CAAExqE,MAAF,EAAgBsB,MAAhB,IAHX,WAKM/G,KALN,+CAMW,CAAEyF,WAAF,EAAoBsB,MAApB,IANX,cAQQgpE,GARK,IAAb,2BASE/vE,KAAA,eATW,GAAb,kBAUS+vE,EAVT,mIAaA3pC,SAAAA,GACEpmC,KAAA,OADa,YAEmBA,KAFnB,eAEb,2BAAgD,QAC9C+vE,QAA0B,CAAEtqE,WAAF,EAAoBsB,MAApB,IAHf,8BAKb/G,KAAA,iBALa,iCAQfkiD,WACMliD,KAAJ,QAGAA,KAAA,OAJgB,SA9EpB,GAuFA,aACEC,SAAAA,EAAAA,EAAAA,EAAAA,GAAgC,UAC9BD,KAAA,QAD8B,EAE9BA,KAAA,OAF8B,EAG9BA,KAAA,KAH8B,EAI9BA,KAAA,aAJ8B,KAK9BA,KAAA,UAL8B,GAM9BA,KAAA,OAN8B,EAQ9BA,KAAA,WAR8B,uCAWhC6vE,SAAAA,GACE,IAAI7vE,KAAJ,OAGA,OAAIA,KAAK8vE,UAAU/lE,OACjB/J,KAAA,aAD+B,MAE1B,CACsBA,KAAK8vE,UAD3B,QAELI,QAA2B,CAAEzqE,MAAF,EAAgBsB,MAAhB,IAFtB,UAG2B/G,KAH3B,eAGL,2BAAgD,QAC9C+vE,QAA0B,CAAEtqE,WAAF,EAAoBsB,MAApB,IAJvB,8BAML/G,KAAA,iBANK,EAQPA,KAAA,OAdc,EAedA,KAAA,2BAfc,yCAkBhB,WACE,OADyB,yDAI3B,gGACMA,KADN,oCAEU4L,EAAQ5L,KAFlB,aAGIA,KAAA,aAFqB,KADzB,kBAIW,CAAEyF,MAAF,EAAgBsB,MAAhB,IAJX,WAMM/G,KANN,+CAOW,CAAEyF,WAAF,EAAoBsB,MAApB,IAPX,cASQgpE,GATK,IAAb,2BAUE/vE,KAAA,eAVW,GAAb,kBAWS+vE,EAXT,mIAcA3pC,SAAAA,GACEpmC,KAAA,OADa,YAEmBA,KAFnB,eAEb,2BAAgD,QAC9C+vE,QAA0B,CAAEtqE,WAAF,EAAoBsB,MAApB,IAHf,8BAKb/G,KAAA,iBALa,EAMbA,KAAA,2BANa,YAhDjB,qxCCrOA,iLAUE,YACE,IAAMoqD,EADgB,GAEhB+lB,EAAS,CACb/lB,MADa,EAEbC,OAAQlnD,OAAAA,OAFK,OAgCf,OA5BA,cAAoB,MAClB,MAGA,IAAI+J,EAJc,KAKZ7J,EAAO68B,EALK,KAMlB,aAAI78B,EACF6J,EAAMgzB,EADc,UAEf,KAAKgqB,EAAAA,gBAAL,GAAoC,OAEpC,OAAIhqB,QAAJ,IAAIA,GAAJ,UAAIA,EAAJ,yBAAIA,EAAJ,YACLhzB,EAAMgzB,EAAAA,WADkC,YAE/BA,EAAJ,QACLhzB,EAAMgzB,EADe,OAQvB,GALA,OAAIhzB,GACFk9C,EAAAA,KAAW,CACTl9C,IAAAA,IAGCgzB,EAAL,UApBkB,UAuBEA,EAvBF,cAuBlB,2BACEkwC,EADiC,SAvBjB,iCA2BpBA,CAjCsB,oCA2CxB,YACE,QACW,aAAT/sE,GAAA,UACAA,GADA,WAEAA,GAJyB,WAKzBA,6CA1DN,gWCKA,WAUA,OA9BA,+7HAuCA,IAAMgtE,EAvCN,IAwCMC,EAAuB,IAxC7B,QA6DA,yEAKE,YAGE,OAFgBC,EAAAA,KADQ,gBAItB,KAAKC,EAAAA,eAAL,KACE,OAAO,IAAIC,EAFf,GAIE,KAAKD,EAAAA,eAAL,KACE,OAAO,IAAIE,EALf,GAOE,KAAKF,EAAAA,eAAL,OAGE,OAFkBD,EAAAA,KADpB,WAII,SACE,OAAO,IAAII,EAFf,GAGE,UACE,OAAIJ,EAAAA,KAAJ,YACS,IAAIK,EADoB,GAEtBL,EAAAA,KAAJ,SACE,IAAIM,EADwB,GAG9B,IAAIC,EATf,GAUE,SACE,OAAO,IAAIC,EAXf,GAaA,OAAO,IAAIC,EAvBf,GAyBE,KAAKR,EAAAA,eAAL,MACE,OAAO,IAAIS,EA1Bf,GA4BE,KAAKT,EAAAA,eAAL,SACE,OAAO,IAAIU,EA7Bf,GA+BE,KAAKV,EAAAA,eAAL,KACE,OAAO,IAAIW,EAhCf,GAkCE,KAAKX,EAAAA,eAAL,OACE,OAAO,IAAIY,EAnCf,GAqCE,KAAKZ,EAAAA,eAAL,OACE,OAAO,IAAIa,EAtCf,GAwCE,KAAKb,EAAAA,eAAL,SACE,OAAO,IAAIc,EAzCf,GA2CE,KAAKd,EAAAA,eAAL,MACE,OAAO,IAAIe,EA5Cf,GA8CE,KAAKf,EAAAA,eAAL,IACE,OAAO,IAAIgB,EA/Cf,GAiDE,KAAKhB,EAAAA,eAAL,QACE,OAAO,IAAIiB,EAlDf,GAoDE,KAAKjB,EAAAA,eAAL,UACE,OAAO,IAAIkB,EArDf,GAuDE,KAAKlB,EAAAA,eAAL,UACE,OAAO,IAAImB,EAxDf,GA0DE,KAAKnB,EAAAA,eAAL,SACE,OAAO,IAAIoB,EA3Df,GA6DE,KAAKpB,EAAAA,eAAL,UACE,OAAO,IAAIqB,EA9Df,GAgEE,KAAKrB,EAAAA,eAAL,MACE,OAAO,IAAIsB,EAjEf,GAmEE,KAAKtB,EAAAA,eAAL,eACE,OAAO,IAAIuB,EApEf,GAsEE,QACE,OAAO,IAAIC,EAvEf,UARJ,GAoFA,aACE/xE,SAAAA,EAAAA,GAOE,6DAPFA,GAOE,IAJEgyE,aAAAA,OAIF,aAHEC,aAAAA,OAGF,aAFEC,qBAAAA,OAEF,mBACAnyE,KAAA,aADA,EAEAA,KAAA,KAAYuwE,EAFZ,KAGAvwE,KAAA,MAAauwE,EAHb,MAIAvwE,KAAA,KAAYuwE,EAJZ,KAKAvwE,KAAA,SAAgBuwE,EALhB,SAMAvwE,KAAA,YAAmBuwE,EANnB,YAOAvwE,KAAA,gBAAuBuwE,EAPvB,gBAQAvwE,KAAA,mBAA0BuwE,EAR1B,mBASAvwE,KAAA,YAAmBuwE,EATnB,YAUAvwE,KAAA,WAAkBuwE,EAVlB,WAWAvwE,KAAA,kBAAyBuwE,EAXzB,kBAYAvwE,KAAA,gBAAuBuwE,EAZvB,gBAaAvwE,KAAA,aAAoBuwE,EAbpB,aAcAvwE,KAAA,cAAqBuwE,EAdrB,aAeAvwE,KAAA,YAAmBuwE,EAfnB,WAiBA,IACEvwE,KAAA,UAAiBA,KAAKoyE,iBADN,IAGlB,IACEpyE,KAAA,eAAsBA,KAAKqyE,sBADH,8CAa5BD,WAAuC,IAAtBF,EAAsB,wDAC/BnxE,EAAOf,KAAb,KACE0tD,EAAO1tD,KADT,KAEE4oD,EAAW5oD,KAHwB,SAI/B8nC,EAAYxoC,SAAAA,cAJmB,WAKjC2C,EAAQlB,EAAAA,KAAAA,GAAeA,EAAAA,KALU,GAMjCmB,EAASnB,EAAAA,KAAAA,GAAeA,EAAAA,KANS,GAQrC+mC,EAAAA,aAAAA,qBAA6C/mC,EARR,IAYrC,IAAM0B,EAAO,EAAAJ,KAAA,cAAmB,CAC9BtB,EAAAA,KAD8B,GAE9B2sD,EAAAA,KAAAA,GAAe3sD,EAAAA,KAAf2sD,GAA8BA,EAAAA,KAFA,GAG9B3sD,EAAAA,KAH8B,GAI9B2sD,EAAAA,KAAAA,GAAe3sD,EAAAA,KAAf2sD,GAA8BA,EAAAA,KAJhC,KAOA,GAAI3sD,EAAJ,aAAuB,CACrB,IAAMiX,EAAY4wC,EAAAA,UADG,QAErB,EAAyBvmD,EAAAA,KAAAA,8BAFJ,GAErB,SAAM,EAAN,KAAM,EAAN,KACAJ,EAAQhE,KAAAA,KAAUgE,EAHG,GAIrBC,EAASjE,KAAAA,KAAUiE,EAJE,GAKrBO,EAAAA,IALqB,EAMrBA,EAAAA,IANqB,EAWrB,IAAK,IAAIS,EAAT,EAAgBA,EAAhB,EAAuBA,IACrB8U,EAAAA,GAAe/Z,KAAAA,KAAU+Z,EADC,IAG5B8vB,EAAAA,MAAAA,UAAAA,UAAAA,OAAsC9vB,EAAAA,KAdjB,KAcrB8vB,UAEAA,EAAAA,MAAAA,UAAAA,UAAAA,OAAsC8gB,EAAAA,UAAAA,KADjC,KACL9gB,KAKF,GAFAA,EAAAA,MAAAA,gBAAAA,GAAAA,QAAsCrlC,EAAtCqlC,GAAAA,OAAAA,QAAoDrlC,EAtCf,GAsCrCqlC,OAEKoqC,GAAgBnxE,EAAAA,YAAAA,MAArB,EAAiD,CAC/C+mC,EAAAA,MAAAA,YAAAA,GAAAA,OAAiC/mC,EAAAA,YADc,MAC/C+mC,MACI/mC,EAAAA,YAAAA,QAA2BuxE,EAAAA,0BAA/B,YAIErwE,GAAS,EAAIlB,EAAAA,YAJqD,MAKlEmB,GAAU,EAAInB,EAAAA,YALoD,OAQpE,IAAMwxE,EAAmBxxE,EAAAA,YAVsB,uBAWzCyxE,EAAiBzxE,EAAAA,YAXwB,qBAY/C,GAAIwxE,EAAAA,GAAwBC,EAA5B,EAAgD,CAC9C,IAAMC,EAAAA,GAAAA,OAAAA,EAAAA,SAAAA,OADwC,EAC9C,MACA3qC,EAAAA,MAAAA,aAF8C,EAKhD,OAAQ/mC,EAAAA,YAAR,OACE,KAAKuxE,EAAAA,0BAAL,MACExqC,EAAAA,MAAAA,YADF,QADF,MAKE,KAAKwqC,EAAAA,0BAAL,OACExqC,EAAAA,MAAAA,YADF,SALF,MASE,KAAKwqC,EAAAA,0BAAL,SACEl0E,EAAAA,EAAAA,MADF,uCATF,MAaE,KAAKk0E,EAAAA,0BAAL,OACEl0E,EAAAA,EAAAA,MADF,qCAbF,MAiBE,KAAKk0E,EAAAA,0BAAL,UACExqC,EAAAA,MAAAA,kBADF,QAQF,IAAM4qC,EAAc3xE,EAAAA,aAAoBA,EAApBA,OA1C2B,KA2C/C,EACE+mC,EAAAA,MAAAA,YAA8BzlC,EAAAA,KAAAA,aAAAA,EAC5BtB,EAAAA,MAAAA,GAD4BsB,EAE5BtB,EAAAA,MAAAA,GAHa,EAIbA,EAAAA,MAAAA,IAIF+mC,EAAAA,MAAAA,YAFK,EAeT,OATAA,EAAAA,MAAAA,KAAAA,GAAAA,OAA0BrlC,EA/FW,GA+FrCqlC,MACAA,EAAAA,MAAAA,IAAAA,GAAAA,OAAyBrlC,EAhGY,GAgGrCqlC,MAEI/mC,EAAJ,aACE+mC,EAAAA,MAAAA,MAAwBA,EAAAA,MAAAA,OADH,QAGrBA,EAAAA,MAAAA,MAAAA,GAAAA,OADK,EACLA,MACAA,EAAAA,MAAAA,OAAAA,GAAAA,OAFK,EAELA,OAtGmC,uCAmHvCuqC,WAA4C,IAAtBH,EAAsB,wDAC1C,IAAKlyE,KAAKe,KAAV,WACE,OADyB,KAI3B,IAL0C,EAKpC4xE,EALoC,GAMpCC,EAAY5yE,KAAKe,KANmB,SAOlBf,KAAKe,KAPa,gBAO1C,2BAA8C,KAA9C,EAA8C,QAC5Cf,KAAA,UAAiB,CACf6yE,EAAAA,GADe,EAEfA,EAAAA,GAFe,EAGfA,EAAAA,GAHe,EAIfA,EAAAA,GAJF,GAMAF,EAAAA,KAAoB3yE,KAAKoyE,iBAPmB,KAPJ,8BAiB1C,OADApyE,KAAA,UAhB0C,gCA8B5C8yE,SAAAA,EAAAA,GACE,IAAIhrC,EAAY9nC,KADU,UAEtBA,KAAJ,iBACE+yE,EAAUA,GAAW/yE,KADE,eAEvB8nC,EAAY9nC,KAAK2yE,eAFM,IAMzB,KACEI,EAAUzzE,SAAAA,cADE,QAEZyzE,MAAAA,OAAuBjrC,EAAAA,MAFX,OAGZirC,EAAAA,MAAAA,MAAsBjrC,EAAAA,MAHV,MAIZA,EAAAA,YAJY,IAOd,IAUMkrC,EAVe,IAAIC,EAAa,CACpCnrC,UADoC,EAEpCirC,QAFoC,EAGpC9Q,MAAOlhE,EAH6B,MAIpCmyE,SAAUnyE,EAJ0B,SAKpCoyE,iBAAkBpyE,EALkB,iBAMpCqyE,YAAaryE,EANuB,YAOpCsyE,SAAUtyE,EAP0B,SAQpCuyE,aARoC,IAfZ,SA4B1BN,EAAAA,MAAAA,KAAmBlrC,EAAAA,MA5BO,MA8B1BA,EAAAA,YA9B0B,wCAyC5ByrC,SAAAA,GAAiC,UAQHvzE,KARG,oBAQ/B,2BAAiD,QAC/CwzE,UAD+C,EARlB,8BAW/B,OAAOxzE,KAXwB,qCAqBjCunD,YACE/oC,EAAAA,EAAAA,aADO,uFAQTi1D,SAAAA,GAAwC,IAAfC,EAAe,uDAAxCD,KACQE,EADgC,GAGtC,GAAI3zE,KAAJ,cAAwB,CACtB,IAAM4zE,EAAW5zE,KAAK6zE,cADA,GAEtB,KAAc,kBACZ,2BAAmD,eAAxC,EAAwC,EAAxC,OAAwC,EAAxC,GAAX,EAAmD,EAAnD,aACE,QAAInmB,GAGAlmC,IAAJ,GAGA,IAAMssD,EACoB,kBAAjBC,EAA4BA,EARY,KAU3CC,EAAa10E,SAAAA,eAV8B,IAW7C00E,GAAe1D,EAAAA,IAAnB,GAIAqD,EAAAA,KAAY,CAAEnsD,GAAF,EAAMssD,YAAN,EAAmBE,WAAAA,KAH7B51E,EAAAA,EAAAA,MAAAA,6CAAAA,OADuD,MAZ/C,+BAmBd,OArBsB,EAHc,UA4BbkB,SAAAA,kBA5Ba,QA4BtC,2BAA2D,KAA3D,EAA2D,QACnD,EADmD,EACzD,GAAM,EADmD,EACzD,YACIkoB,IAAJ,GAGK8oD,EAAAA,IAAL,IAGAqD,EAAAA,KAAY,CAAEnsD,GAAF,EAAMssD,YAAN,EAAmBE,WAAAA,KApCK,8BAsCtC,OAtCsC,0BAyCxC,WACE,IAAMC,EAAgC,qBAAd1iB,UAA4BA,UAAnC,SADG,GAGpB,OAAO,IAAAxxD,QAAA,gBAAyB,CAC9Bm0E,MAAOD,EAAAA,SADuB,OAE9BE,MAAOF,EAAAA,SAFuB,eA5SpC,GAmTA,gCACEh0E,SAAAA,EAAAA,GAAwC,IAAhB4M,EAAgB,uDAAxC5M,KAAwC,UACtC,IAAMgyE,KACJ1B,EAAWxvE,KAAKzD,KAChBizE,EAAAA,KADA,MAEAA,EAAAA,KAFA,QAGAA,EAAAA,KAHA,eAIAA,EAAAA,KAJA,WAKCA,EAAAA,KAAAA,UACEA,EAAWxvE,KAAKq1C,QAAQg+B,QACvB7D,EAAAA,KAAAA,QADD,aAECA,EAAAA,KAAAA,QAVgC,qCAYpB,CAChB0B,aADgB,EAEhBC,eAAe,OAACrlE,QAAD,IAACA,IAAAA,EAFA,cAGhBslE,sBAHgB,oCAOpB5qB,WACE,IAGc,EAHR,EADC,KACP,KAAM,EADC,KACP,YACM9pD,EAAO6B,SAAAA,cAFN,KAIP,GAAIyB,EAAJ,IAGKszE,EAFH,oBAIEj2E,EAAAA,EAAAA,MADA,oGAKFi2E,QAAAA,EAAAA,EAAAA,yBAAAA,IAAAA,GAAAA,EAAAA,KAAAA,EAAAA,EAAsCtzE,EAAtCszE,IAAgDtzE,EATpC,gBAUP,GAAIA,EAAJ,OACLf,KAAA,mBAA4Be,EADN,aAEjB,GAAIA,EAAJ,KACLf,KAAA,YAAqBe,EADD,UAEf,CACL,IAAIuzE,GADC,EAGHvzE,EAAAA,UACCA,EAAKq1C,QAAQg+B,QACZrzE,EAAAA,QADD,aAECA,EAAAA,QAHFA,gBAIAf,KAJAe,iBAKAf,KANF,eAQEs0E,GADA,EAEAt0E,KAAA,gBAFA,IAKEe,EAAJ,UACEf,KAAA,uBAAgCe,EADd,WAEb,GACLf,KAAA,YAD0B,IAK9B,OAAIA,KAAJ,eACSA,KAAKuzE,sBAAsB,kBAAkBplD,KAClD,cACE,IAAMomD,EAAczpD,IAAAA,EAAAA,EAAqBrtB,EADjB,YAGxB,OADA+1E,EAAAA,YAFwB,SAQ9BxzE,KAAA,oBAjDO,iBAkDPA,KAAA,sBAlDO,GAmDAA,KAnDA,oCA8DTw0E,SAAAA,EAAAA,GAA6B,WAC3B/2E,EAAAA,KAAYuC,KAAKq0E,YAAYI,mBADF,GAE3Bh3E,EAAAA,QAAe,WAIb,OAHA,GACE,8BADe,IADE,IAMjB8+C,GAAJ,KAAmBA,KACjB9+C,EAAAA,UAD2D,gDAa/Di3E,SAAAA,EAAAA,GAA+B,WAC7Bj3E,EAAAA,KAAYuC,KAAKq0E,YAAYM,aADA,IAE7Bl3E,EAAAA,QAAe,WAEb,OADA,iCADmB,OAIrBA,EAAAA,UAN6B,4CAiB/Bm3E,SAAAA,EAAAA,GAA0B,WACxBn3E,EAAAA,KAAYuC,KAAKq0E,YAAYM,aADL,IAOxB,IALA,IAAMxmD,EAAM,IAAI0mD,IAAI,CAClB,CAAC,SADiB,WAElB,CAAC,WAFiB,aAGlB,CAAC,aAHH,iBAFwB,aAOxB,IAAWxxE,EAAX,KACQyxE,EAAS3mD,EAAAA,IAD6B,GAE5C,MAAa,iBAGb1wB,EAAAA,GAAe,WAAM,MAQnB,OAPA,mFAA8D,CAC5DilB,OAD4D,EAE5DqyD,OAAQ,CACNvtD,GAAIzmB,EADE,GAENsC,KAAAA,MALe,IALvB,MAAmBF,OAAAA,KAAYpC,EAA/B,wBAA8C,IAiBzCtD,EAAL,UACEA,EAAAA,QAAe,kBADE,IAGnBA,EAAAA,UA3BwB,mDA8B1Bu3E,SAAAA,EAAAA,GAAsC,WAC9BC,EAAmBx3E,EADW,QAOpC,GALA,IACEA,EAAAA,KAAYuC,KAAKq0E,YAAYM,aADR,KAGvBl3E,EAAAA,UALoC,gBAO/BuC,KAAL,cAAyB,OACvB5B,EAAAA,EAAAA,MACE,uHAGF,IACEX,EAAAA,QAAe,kBADM,KAMzBA,EAAAA,QAAe,WACb,GACEw3E,IAGF,IAAM,EALa,EAKnB,OAAM,EALa,EAKnB,KAAM,EALa,EAKnB,QAMMC,EAXa,GAYnB,GAAIC,IAAAA,EAAAA,QAAJ,IAAoCC,EAAAA,OAA4B,CAC9D,IAD8D,EACxDC,EAAW,IAAIC,IADyC,cAE9D,2BAAyC,OAAzC,EAAyC,YACxB,oBADwB,QAEvC,2BAA6B,KAA7B,EAA6B,QAA7B,GACED,EAAAA,IAD2B,IAFU,gCAFqB,8BAQ9D,cAAqBlyE,OAAAA,OAAc,EAAnC,8BAAwD,CAAxD,IAAwD,MAAxD,MAAwD,IACtD,2BAA4B,KAA5B,EAA4B,QACtBkyE,EAAAA,IAAa3wC,EAAb2wC,MAAJ,GACEH,EAAAA,KADsC,IAFY,qCAQxD,cAAqB/xE,OAAAA,OAAc,EAAnC,8BAAwD,CAAxD,IAAWwwE,EAAX,KACEuB,EAAAA,KAAAA,MAAAA,EAAAA,EADsD,IAO1D,IAFA,IAiC0B,EAjCpBK,EAAU,EAjCG,kBAkCbC,EAlCa,GAmCnB,uBAA+B,CAA/B,IAAW9wC,EAAX,KACQ,EADuB,EAC7B,GAEA,OADA8wC,EAAAA,KAF6B,GAGrB9wC,EAAR,MACE,WACE,IAAMj/B,EAAQi/B,EAAAA,cADH,GAEX6wC,EAAAA,SAAAA,EAAqB,CAAE9vE,MAAF,EAASgwE,cAAT,IAFV,MAKb,IANF,WAOE,kBACE,IAAMhwE,EAAQi/B,EAAAA,eAAuBA,EADnB,aAElB6wC,EAAAA,SAAAA,EAAqB,CAAE9vE,MAAAA,IAFL,MAKpB,IAZF,WAaE,cACE,IAAMA,EAAQi/B,EAAAA,cADA,GAEd6wC,EAAAA,SAAAA,EAAqB,CAAE9vE,MAAAA,IAFT,MAKhB,QAlBF,SAqBA,IAAMuuE,EAAa10E,SAAAA,eAxBU,GAyBxB00E,GAAe1D,EAAAA,IAApB,IAGA0D,EAAAA,cAAyB,IAAI0B,MA5BA,cA2C/B,OAZI,EAAJ,kBAEE,mFAA8D,CAC5DhzD,OAD4D,EAE5DqyD,OAAQ,CACNvtD,GADM,MAENmuD,IAFM,EAGNtyE,KAHM,iBAtEO,SAxKzB,IA2PA,gCACEpD,SAAAA,EAAAA,GAAwB,oBACtB,IAAMgyE,KACJ1B,EAAWxvE,KAAK60E,UAAhB,UACArF,EAAAA,KADA,uBACAA,EADA,eAEAA,EAAAA,KAFA,0BAEAA,EAFA,eAGAA,EAAAA,KAHA,uBAGAA,EALoB,0BAOJ,CAAE0B,aAAAA,oCAGtB1qB,WACEvnD,KAAA,oBADO,iBAGP,IAAMulE,EAAQjmE,SAAAA,cAHP,OAoBP,OAhBAimE,EAAAA,MAAAA,OAAqBvlE,KAAK8nC,UAAU+tC,MAJ7B,OAKPtQ,EAAAA,MAAAA,MAAoBvlE,KAAK8nC,UAAU+tC,MAL5B,MAMPtQ,EAAAA,IACEvlE,KAAK81E,mBAAL,cAEA91E,KAAKe,KAAKsC,KAFV,cAPK,OAWPkiE,EAAAA,IAXO,wBAYPA,EAAAA,QAAAA,OAZO,uBAaPA,EAAAA,QAAAA,SAAyBwQ,KAAAA,UAAe,CAAE9uE,KAAMjH,KAAKe,KAb9C,OAeFf,KAAKe,KAAV,UACEf,KAAA,eAAyBA,KADF,MAIzBA,KAAA,sBAnBO,GAoBAA,KApBA,gBAXX,IAmCA,sHACEunD,WAME,OAJIvnD,KAAKe,KAAT,kBACEf,KAAA,gBAAuBA,KAAKe,KADC,iBAIxBf,KANA,yCASTg2E,SAAAA,GACE,MAAyBhE,EADJ,SACf,EAAN,QAAM,EAAN,QACA,OAAQkC,GAASp4C,EAAV,SAA6Bq4C,GAASr4C,EAFxB,yCAKvBm6C,SAAAA,EAAAA,EAAAA,EAAAA,GAA6D,WACvDC,EAAAA,SAAJ,SAEEtzC,EAAAA,iBAAAA,GAAmC9G,SAAAA,GAAS,MAC1C,mFAA8D,CAC5DpZ,OAD4D,EAE5DqyD,OAAQ,CACNvtD,GAAI,OADE,GAENnkB,KAFM,EAGNoC,MAAO0wE,EAHD,GAINC,MAAOt6C,EAJD,SAKNu6C,SAAU,kBALJ,SAWZzzC,EAAAA,iBAAAA,GAAmC9G,SAAAA,GAAS,MAC1C,mFAA8D,CAC5DpZ,OAD4D,EAE5DqyD,OAAQ,CACNvtD,GAAI,OADE,GAENnkB,KAFM,EAGNoC,MAAOq2B,EAAAA,OAHD,gDAUhBw6C,SAAAA,EAAAA,EAAAA,GAA2C,iBACzC,2BAA2C,sBAAhC,EAAgC,KAA3C,EAA2C,MACrCC,WAAAA,GAAAA,QAAAA,EAA0Bv2E,KAAKe,KAA/Bw1E,eAAAA,IAAAA,GAA0B,EAA9B,KACEv2E,KAAA,wBAD4D,IAFvB,kEAQ3Cw2E,SAAAA,GACE,IAAMvU,EAAQjiE,KAAKe,KAAK0pE,iBADG,KAE3B7nC,EAAAA,MAAAA,gBACEq/B,OAAAA,EAAAA,cAEI5/D,EAAAA,KAAAA,aAAkB4/D,EAAlB5/D,GAA4B4/D,EAA5B5/D,GAAsC4/D,EALjB,6CAQ7BwU,SAAAA,EAAAA,GAuEE,IAvE0C,WACpCC,EAAW,SAAC5B,EAAQ6B,EAAW76C,GACnC,IAAMmmC,EAAQnmC,EAAAA,OAD+B,GAE7CA,EAAAA,OAAAA,MAAAA,GAAgC86C,EAAAA,gBAAAA,GAAAA,OAAmB3U,EAAnB2U,GAAAA,UAC9B3U,EAAAA,MAH2C,KAOzC4U,EAAgB,CACpBC,QAASh7C,SAAAA,GACP,IAAMi7C,EAASj7C,EAAAA,OAAAA,QAAAA,IADC,EAEhBA,EAAAA,OAAAA,MAAAA,WAAgCi7C,EAAAA,SAFhB,UAGhB,6BAAgC,OAAhC,GAA8C,CAC5CA,OAD4C,EAE5CC,MAAOl7C,IAAAA,EAAAA,OAAAA,SAFqC,IAEPA,EAAAA,OAAAA,WAGzCk7C,MAAOl7C,SAAAA,GACL,6BAAgC,OAAhC,GAA8C,CAC5Ck7C,MAAOl7C,EAAAA,OAFK,SAKhBi7C,OAAQj7C,SAAAA,GACNA,EAAAA,OAAAA,MAAAA,WAAgCA,EAAAA,OAAAA,OAAAA,SADjB,UAIf,6BAAgC,OAAhC,GAA8C,CAC5Ci7C,OAAQj7C,EAAAA,OALK,UAQjBm7C,MAAOn7C,SAAAA,GACLwD,YAAW,kBAAMxD,EAAAA,OAAAA,MAAmB,CAAEo7C,eAAtC53C,MADc,IAGhB63C,SAAUr7C,SAAAA,GAERA,EAAAA,OAAAA,MAAqBA,EAAAA,OAFJ,UAInBs7C,SAAUt7C,SAAAA,GACJA,EAAAA,OAAJ,SACEA,EAAAA,OAAAA,aAAAA,WADyB,IAGzBA,EAAAA,OAAAA,gBADK,aAITu7C,SAAUv7C,SAAAA,GACJA,EAAAA,OAAJ,SACEA,EAAAA,OAAAA,aAAAA,WADyB,IAGzBA,EAAAA,OAAAA,gBADK,aAITw7C,QAASx7C,SAAAA,GACP46C,EAAAA,UAAAA,kBADgB,IAGlBza,UAAWngC,SAAAA,GACT46C,EAAAA,YAAAA,kBADkB,IAGpBa,QAASz7C,SAAAA,GACP46C,EAAAA,UAAAA,QADgB,IAGlBc,UAAW17C,SAAAA,GACT46C,EAAAA,YAAAA,QADkB,IAGpBhE,YAAa52C,SAAAA,GACX46C,EAAAA,cAAAA,cADoB,IAGtBnY,YAAaziC,SAAAA,GACX46C,EAAAA,cAAAA,cADoB,KAKxB,MAAmBvzE,OAAAA,KAAYs0E,EAA/B,uBAAgD,CAAhD,IAAWp0E,EAAX,KACQkzC,EAASH,EAAAA,IAAiBygC,EADc,GAE9C,GACEtgC,EADU,UAtIlB,IA6IA,gCACEt2C,SAAAA,EAAAA,GAAwB,UACtB,IAAMgyE,EACJ1B,EAAAA,cACEA,EAAAA,KAAD,iBAAoCA,EAAAA,KAHjB,gCAIJ,CAAE0B,aAAAA,mDAGtByF,SAAAA,EAAAA,EAAAA,EAAAA,GACE,IADoD,EAC9CnC,EAAUv1E,KADoC,sBAE9BA,KAAKyzE,mBACzB9lE,EADoB,KAELA,EAJmC,SAEpD,2BAGG,KAHH,EAGG,QACGi1B,EAAJ,aACEA,EAAAA,WAAAA,GADsB,GAGxB2yC,EAAAA,SAAiB3yC,EAAjB2yC,GAAAA,EAAAA,GAAAA,EAJC,KALiD,qDAatDhuB,WAAS,WACDguB,EAAUv1E,KADT,kBAEDwnB,EAAKxnB,KAAKe,KAFT,GAIPf,KAAA,oBAJO,uBAMP,IAAI4iC,EANG,KAOP,GAAI5iC,KAAJ,YAAsB,CAIpB,IAAM23E,EAAapC,EAAQ3hB,SAASpsC,EAAI,CACtC/hB,MAAOzF,KAAKe,KAD0B,WAEtC00E,cAAez1E,KAAKe,KAFkB,aAIlC+oD,EAAc6tB,EAAAA,eAA4BA,EAA5BA,OARA,GASdC,EAAc,CAClBC,UADkB,KAElBC,eAFkB,KAGlBC,0BAHkB,KAIlBC,iBAJkB,MAOhBh4E,KAAKe,KAAT,WACE6hC,EAAUtjC,SAAAA,cADa,aAEvBsjC,YAFuB,IAIvBA,EAAUtjC,SAAAA,cADL,UAELsjC,KAFK,OAGLA,EAAAA,aAAAA,QAHK,IAKP0tC,EAAAA,IAxBoB,GAyBpB1tC,EAAAA,SAAmB5iC,KAAKe,KAzBJ,SA0BpB6hC,EAAAA,KAAe5iC,KAAKe,KA1BA,UA2BpB6hC,EAAAA,SA3BoB,EA6BpBg1C,EAAAA,UA7BoB,EA8BpBh1C,EAAAA,aAAAA,KA9BoB,GAgCpBA,EAAAA,iBAAAA,SAAkC9G,SAAAA,GAChCy5C,EAAAA,SAAAA,EAAqB,CAAE9vE,MAAOq2B,EAAAA,OADW,QAEzC,kCAGEA,EAAAA,OAHF,MAFyC,YAU3C8G,EAAAA,iBAAAA,aAAsC9G,SAAAA,GACpC,IAAMm8C,EAAe,0BADwB,GAE7Cr1C,EAAAA,MAAgBg1C,EAAAA,UAF6B,SAGtCA,EAHsC,kBAM/C,IAAIM,EAAep8C,SAAAA,GACb87C,EAAJ,iBACE97C,EAAAA,OAAAA,MAAqB87C,EADS,gBAIhC97C,EAAAA,OAAAA,WAL0B,EAM1B87C,EAAAA,0BAN0B,MAS5B,GAAI53E,KAAKm4E,iBAAmBn4E,KAA5B,aAA+C,OAC7C4iC,EAAAA,iBAAAA,SAAkC9G,SAAAA,GAC5B87C,EAAJ,YACE97C,EAAAA,OAAAA,MAAqB87C,EADI,cAK7Bh1C,EAAAA,iBAAAA,qBAA8C60C,SAAAA,GAC5C,IAAMrhC,EAAU,CACd3wC,MADc,YAEZmyE,EAAAA,UAAwB97C,EAAAA,OAAAA,OADb,GAEXy5C,EAAAA,SAAAA,EAAqB,CAAE9vE,MAAOmyE,EAAAA,UAFnB,aAGNA,EAAL,iBACE97C,EAAAA,OAAAA,MAAqB87C,EADU,YAInCnC,cARc,YASZmC,EAAAA,eAA6B97C,EAAAA,OAAAA,eADV,GAEfA,EAAAA,SAAiBx8B,SAArB,gBAEEw8B,EAAAA,OAAAA,MAAqB87C,EAFsB,gBAI7CrC,EAAAA,SAAAA,EAAqB,CACnBuC,eAAgBF,EAPC,kBAUrBQ,SAlBc,YAmBZ,QAA2Bt8C,EAAAA,OADb,SACd,GAAM,EAAN,KAAM,EAAN,KACIu8C,GAAAA,GAAiBC,EAASx8C,EAAAA,OAAAA,MAA9B,QACEA,EAAAA,OAAAA,kBAAAA,EADuD,KAK7D,8BA1BuD,MA+BzD8G,EAAAA,iBAAAA,WAAoC9G,SAAAA,GAAS,MAC3C87C,EAAAA,iBAA+B97C,EAAAA,OADY,MAI3C,IAAIy8C,GAJuC,EAK3C,WAAIz8C,EAAAA,IACFy8C,EAD0B,EAErB,UAAIz8C,EAAAA,IACTy8C,EADgC,EAE3B,QAAIz8C,EAAAA,MACTy8C,EAD8B,IAGhC,IAAIA,IAIJX,EAAAA,UAAwB97C,EAAAA,OAhBmB,MAiB3C,mFAA8D,CAC5DpZ,OAD4D,EAE5DqyD,OAAQ,CACNvtD,GADM,EAENnkB,KAFM,YAGNoC,MAAOq2B,EAAAA,OAHD,MAIN08C,YAJM,EAKND,UALM,EAMNF,SAAUv8C,EAAAA,OANJ,eAONw8C,OAAQx8C,EAAAA,OAPF,oBAWZ,IAAM28C,EApEuC,EAqE7CP,EArE6C,KAsE7Ct1C,EAAAA,iBAAAA,QAAiC9G,SAAAA,GACF,MAAzB,cAAJ,SAEE87C,EAAAA,UAAwB97C,EAAAA,OAFG,MAG3B,mFAA8D,CAC5DpZ,OAD4D,EAE5DqyD,OAAQ,CACNvtD,GADM,EAENnkB,KAFM,YAGNoC,MAAOq2B,EAAAA,OAHD,MAIN08C,YAJM,EAKND,UALM,EAMNF,SAAUv8C,EAAAA,OANJ,eAONw8C,OAAQx8C,EAAAA,OAPF,iBAWZ28C,EAjBwC,MAmB1C71C,EAAAA,iBAAAA,aAAsC9G,SAAAA,GACpC87C,EAAAA,iBAA+B97C,EAAAA,OADc,MAE7C87C,EAAAA,0BAF6C,QAI/Ch1C,EAAAA,iBAAAA,SAAkC9G,SAAAA,GAE5BA,EAAAA,OAAAA,iBAAgCA,EAAAA,OAApC,eACE87C,EAAAA,0BAD6D,SAIjEh1C,EAAAA,iBAAAA,UAAmC9G,SAAAA,GACjC87C,EAAAA,0BAAwC,CACtC97C,EAAAA,OADsC,eAEtCA,EAAAA,OAFF87C,iBAMF,UAAI53E,KAAKe,KAAT,sBAAI,EAAJ,WAGE6hC,EAAAA,iBAAAA,SAAkC9G,SAAAA,GAAS,MACrCu8C,GADqC,EAErCC,GAFqC,EAGzC,GAAIV,EAAJ,0BAA2C,SACpBA,EADoB,6BACzC,EADyC,KACzC,EADyC,KAG3C,mFAA8D,CAC5Dl1D,OAD4D,EAE5DqyD,OAAQ,CACNvtD,GADM,EAENnkB,KAFM,YAGNoC,MAAOmyE,EAHD,iBAINc,OAAQ58C,EAJF,KAKN08C,YALM,EAMNH,SANM,EAONC,OAAAA,QAMRt4E,KAAA,qBAEE,CACE,CAAC,QADH,SAEE,CAAC,OAFH,QAGE,CAAC,YAHH,cAIE,CAAC,aAJH,eAKE,CAAC,aALH,cAME,CAAC,UARL,cAUE87B,SAAAA,GAAAA,OAASA,EAAAA,OA5IkC,SAwJ/C,GARA,GACE8G,EAAAA,iBAAAA,OADgB,GAIlB,OAAI5iC,KAAKe,KAAK43E,SACZ/1C,EAAAA,UAAoB5iC,KAAKe,KADI,QAI3Bf,KAAKe,KAAT,KAAoB,CAClB,IACM63E,GADa54E,KAAKe,KAAK0B,KAAK,GAAKzC,KAAKe,KAAK0B,KAD/B,IAEazC,KAAKe,KAFlB,OAIlB6hC,EAAAA,UAAAA,IAJkB,QAKlBA,EAAAA,MAAAA,cAAAA,QAAAA,OALkB,EAKlBA,mBAGFA,EAAUtjC,SAAAA,cADL,QAELsjC,YAAsB5iC,KAAKe,KAFtB,WAGL6hC,EAAAA,MAAAA,cAHK,SAILA,EAAAA,MAAAA,QAJK,aAWP,OAJA5iC,KAAA,cAtOO,GAuOPA,KAAA,oBAvOO,GAyOPA,KAAA,sBAzOO,GA0OAA,KA1OA,uCAoPT64E,SAAAA,GACE,IACA,EAAgC74E,KAAKe,KAFhB,sBAEf,EAAN,WAAM,EAAN,YACM80E,EAAQjzC,EAHO,MAQrB,IACEizC,EAAAA,SAAAA,GAAAA,OADY,EACZA,OAGFA,EAAAA,MAAcxzE,EAAAA,KAAAA,aAAkBy2E,EAAlBz2E,GAAgCy2E,EAAhCz2E,GAA8Cy2E,EAZvC,IAcrB,OAAI94E,KAAKe,KAAKg4E,gBACZlD,EAAAA,UAdqB,CAAC,OAAQ,SAAhC,SAcmC71E,KAAKe,KADF,sBAvR1C,IA6RA,gCACEd,SAAAA,EAAAA,GAAwB,+BACJ,CAAEgyE,aAAc1B,EADZ,8CAIxBhpB,WAAS,WACDguB,EAAUv1E,KADT,kBAEDe,EAAOf,KAFN,KAGDwnB,EAAKzmB,EAHJ,GAIH0E,EAAQ8vE,EAAAA,SAAAA,EAAqB,CAC/B9vE,MAAO1E,EAAAA,cAAqBA,EADlBw0E,aAJL,MAOP,kBAAW9vE,IAETA,EAF6B,QAErBA,EACR8vE,EAAAA,SAAAA,EAAqB,CAAE9vE,MAAAA,KAGzBzF,KAAA,oBAbO,kCAeP,IAAM4iC,EAAUtjC,SAAAA,cAfT,SA0EP,OA1DAgxE,EAAAA,IAhBO,GAiBP1tC,EAAAA,SAAmB7hC,EAjBZ,SAkBP6hC,EAAAA,KAlBO,WAmBPA,EAAAA,KAAe7hC,EAnBR,UAoBP,GACE6hC,EAAAA,aAAAA,WADS,GAGXA,EAAAA,aAAAA,KAvBO,GAwBPA,EAAAA,aAAAA,cAAoC7hC,EAxB7B,aAyBP6hC,EAAAA,SAzBO,EA2BPA,EAAAA,iBAAAA,UAAmC9G,SAAAA,GACjC,IAD0C,EAC1C,EAA0BA,EADgB,OACpC,EAAN,OAAM,EAAN,UAD0C,IAEnB,uBAFmB,QAE1C,2BAAyE,KAAzE,EAAyE,QACjEk9C,EAAaC,GAAWC,EAAAA,cAAyBn4E,EADgB,YAEnEm4E,EAAJ,aACEA,EAAAA,WAAAA,QADuB,GAGzB3D,EAAAA,SAAiB2D,EAAjB3D,GAA8B,CAAE9vE,MALuC,KAF/B,8BAS1C8vE,EAAAA,SAAAA,EAAqB,CAAE9vE,MATmB,OAY5Cm9B,EAAAA,iBAAAA,aAAsC9G,SAAAA,GACpC,IAAMm8C,EAAel3E,EAAAA,mBADwB,MAE7C+6B,EAAAA,OAAAA,QAAuBm8C,IAAiBl3E,EAFK,eAK3Cf,KAAKm4E,iBAAmBn4E,KAA5B,eACE4iC,EAAAA,iBAAAA,qBAA8C60C,SAAAA,GAC5C,IAAMrhC,EAAU,CACd3wC,MADc,YAEZq2B,EAAAA,OAAAA,QADW,QACYA,EAAAA,OAAAA,MACvBy5C,EAAAA,SAAAA,EAAqB,CAAE9vE,MAAOq2B,EAAAA,OAFnB,YAKf,8BAPuD,MAUzD97B,KAAA,qBAEE,CACE,CAAC,SADH,YAEE,CAAC,SAFH,UAGE,CAAC,QAHH,SAIE,CAAC,OAJH,QAKE,CAAC,YALH,cAME,CAAC,aANH,eAOE,CAAC,aAPH,cAQE,CAAC,UAVL,cAYE87B,SAAAA,GAAAA,OAASA,EAAAA,OAvBkC,YA2B/C97B,KAAA,oBAvEO,GAyEPA,KAAA,sBAzEO,GA0EAA,KA1EA,gBALX,IAmFA,gCACEC,SAAAA,EAAAA,GAAwB,+BACJ,CAAEgyE,aAAc1B,EADZ,8CAIxBhpB,WAAS,WACPvnD,KAAA,oBADO,qCAEP,IAAMu1E,EAAUv1E,KAFT,kBAGDe,EAAOf,KAHN,KAIDwnB,EAAKzmB,EAJJ,GAKH0E,EAAQ8vE,EAAAA,SAAAA,EAAqB,CAC/B9vE,MAAO1E,EAAAA,aAAoBA,EADjBw0E,cALL,MAQP,kBAAW9vE,IAETA,EAAQA,IAAU1E,EAFW,YAG7Bw0E,EAAAA,SAAAA,EAAqB,CAAE9vE,MAAAA,KAGzB,IAAMm9B,EAAUtjC,SAAAA,cAdT,SAyCP,GA1BAgxE,EAAAA,IAfO,GAgBP1tC,EAAAA,SAAmB7hC,EAhBZ,SAiBP6hC,EAAAA,KAjBO,QAkBPA,EAAAA,KAAe7hC,EAlBR,UAmBP,GACE6hC,EAAAA,aAAAA,WADS,GAGXA,EAAAA,aAAAA,KAtBO,GAuBPA,EAAAA,SAvBO,EAyBPA,EAAAA,iBAAAA,UAAmC9G,SAAAA,GACjC,IAD0C,EAC1C,EAA0BA,EADgB,OACpC,EAAN,OAAM,EAAN,UAD0C,IAEtB,uBAFsB,QAE1C,2BAAsE,KAAtE,EAAsE,QACpEy5C,EAAAA,SAAiB4D,EAAjB5D,GAA2B,CAAE9vE,OADuC,KAF5B,8BAK1C8vE,EAAAA,SAAAA,EAAqB,CAAE9vE,MALmB,OAQ5Cm9B,EAAAA,iBAAAA,aAAsC9G,SAAAA,GACpC,IAAMm8C,EAAel3E,EADwB,kBAE7C+6B,EAAAA,OAAAA,QACEm8C,OAAAA,QAAAA,IACAA,GACAA,IAAiBl3E,EAL0B,eAQ3Cf,KAAKm4E,iBAAmBn4E,KAA5B,aAA+C,CAC7C,IAAMo5E,EAAiBr4E,EADsB,YAE7C6hC,EAAAA,iBAAAA,qBAA8C60C,SAAAA,GAC5C,IAAMrhC,EAAU,CACd3wC,MAAOq2B,SAAAA,GACL,IADc,EACRm9C,EAAUG,IAAmBt9C,EAAAA,OADrB,UAEM,qBAAwBA,EAAAA,OAF9B,WAEd,2BAAgE,KAAhE,EAAgE,QACxDk9C,EAAaC,GAAWE,EAAAA,KADgC,EAE1DA,EAAJ,aACEA,EAAAA,WAAAA,QADoB,GAGtB5D,EAAAA,SAAiB4D,EAAjB5D,GAA2B,CAAE9vE,MALiC,KAFlD,iCAWlB,8BAbuD,MAgBzDzF,KAAA,qBAEE,CACE,CAAC,SADH,YAEE,CAAC,SAFH,UAGE,CAAC,QAHH,SAIE,CAAC,OAJH,QAKE,CAAC,YALH,cAME,CAAC,aANH,eAOE,CAAC,aAPH,cAQE,CAAC,UAVL,cAYE87B,SAAAA,GAAAA,OAASA,EAAAA,OA9BkC,WAqC/C,OAHA97B,KAAA,oBA3EO,GA6EPA,KAAA,sBA7EO,GA8EAA,KA9EA,gBALX,IAuFA,gCACEC,SAAAA,EAAAA,GAAwB,+BACJ,CAAEiyE,aAAc3B,EAAAA,KADZ,gDAIxBhpB,WAIE,IAAMzf,EAJC,2CAWP,OANAA,EAAAA,UALO,oCAOH9nC,KAAKe,KAAT,kBACE+mC,EAAAA,MAAkB9nC,KAAKe,KADM,iBAPxB,QALX,IAoBA,gCACEd,SAAAA,EAAAA,GAAwB,+BACJ,CAAEgyE,aAAc1B,EADZ,8CAIxBhpB,WAAS,WACPvnD,KAAA,oBADO,yBAEP,IAAMu1E,EAAUv1E,KAFT,kBAGDwnB,EAAKxnB,KAAKe,KAHT,GAYPw0E,EAAAA,SAAAA,EAAqB,CACnB9vE,MACEzF,KAAKe,KAAKs4E,WAAWtvE,OAAS,EAAI/J,KAAKe,KAAKs4E,WAA5C,QAdG,IAiBP,IAAI,EAAer5E,KAAKe,KAjBjB,sBAiBP,SACA,IACEs+D,EADa,GAGf,IAAMia,EAAAA,QAAAA,OArBC,EAqBP,4BAEMC,EAAgBj6E,SAAAA,cAvBf,UAwBPgxE,EAAAA,IAxBO,GAyBPiJ,EAAAA,SAAyBv5E,KAAKe,KAzBvB,SA0BPw4E,EAAAA,KAAqBv5E,KAAKe,KA1BnB,UA2BPw4E,EAAAA,aAAAA,KA3BO,GA4BPA,EAAAA,SA5BO,EA8BPA,EAAAA,MAAAA,SAAAA,GAAAA,OA9BO,EA8BPA,MAEKv5E,KAAKe,KAAV,QAEEw4E,EAAAA,KAAqBv5E,KAAKe,KAAK8L,QAFX,OAGhB7M,KAAKe,KAAT,cACEw4E,EAAAA,UADyB,IAK7BA,EAAAA,iBAAAA,aAA4Cz9C,SAAAA,GAC1C,IADmD,EAC7Cm8C,EAAe,OAD8B,sBAE9BsB,EAF8B,aAEnD,2BAA4C,KAA5C,EAA4C,QAC1CC,EAAAA,SAAkBA,EAAAA,QADwB,GAFO,kCAxC9C,UAgDcx5E,KAAKe,KAhDnB,aAgDP,2BAAwC,KAAxC,EAAwC,QAChC04E,EAAgBn6E,SAAAA,cADgB,UAEtCm6E,EAAAA,YAA4BD,EAFU,aAGtCC,EAAAA,MAAsBD,EAHgB,YAIlCx5E,KAAKe,KAAT,QACE04E,EAAAA,MAAAA,SADmB,GAGjBz5E,KAAKe,KAAKs4E,WAAWruD,SAASwuD,EAAlC,cACEC,EAAAA,aAAAA,YADqD,GAGvDF,EAAAA,YAVsC,IAhDjC,8BA6DP,IAAM3lB,EAAW,SAAC93B,EAAO49C,GACvB,IAAMr2E,EAAOq2E,EAAAA,QADuB,cAE9B7sE,EAAUivB,EAAAA,OAFoB,QAGpC,OAAKA,EAAAA,OAAL,SAKO1c,MAAAA,UAAAA,OAAAA,KAAAA,GACUo6D,SAAAA,GAAAA,OAAUA,EADpBp6D,YAAAA,KAEAo6D,SAAAA,GAAAA,OAAUA,EAVmB,OAI3B3sE,IAAAA,EAAAA,cAAAA,KAEHA,EAAQA,EAARA,eAHsB,IAUxB8sE,EAAW79C,SAAAA,GACf,IAAMjvB,EAAUivB,EAAAA,OADQ,QAExB,OAAO1c,MAAMw6D,UAAUzrD,IAAI5K,KAAK1W,GAAS2sE,SAAAA,GACvC,MAAO,CAAEK,aAAcL,EAAhB,YAAoC1F,YAAa0F,EAAjD,WAwIX,OApIIx5E,KAAKm4E,iBAAmBn4E,KAA5B,cACEu5E,EAAAA,iBAAAA,qBAAoD9B,SAAAA,GAClD,IAAMrhC,EAAU,CACd3wC,MADc,YAEZ,IADW,EACLA,EAAQq2B,EAAAA,OADH,MAELn0B,EAAS,IAAI2tE,IAAIl2D,MAAAA,QAAAA,GAAAA,EAA+B,CAF3C,QAGUm6D,EAHV,aAGX,2BAA4C,KAA5C,EAA4C,QAC1CC,EAAAA,SAAkB7xE,EAAAA,IAAW6xE,EADa,QAHjC,8BAMXjE,EAAAA,SAAAA,EAAqB,CACnB9vE,MAAOmuD,EAAAA,GAPE,MAUbkmB,kBAXc,YAYZP,EAAAA,UADuB,GAGzBQ,OAdc,YAeZ,IAAMltE,EAAU0sE,EADJ,QAENzuD,EAAQgR,EAAAA,OAFF,OAKZ,GAFAjvB,EAAAA,GAAAA,UAHY,EAIZ0sE,EAAAA,OAJY,GAKR1sE,EAAAA,OAAJ,EAAwB,CACtB,IAAM3J,EAAIkc,MAAAA,UAAAA,UAAAA,KAAAA,GAERo6D,SAAAA,GAAAA,OAAUA,EAHU,aAKtB,IAAIt2E,IACF2J,EAAAA,GAAAA,UADY,GAIhB0oE,EAAAA,SAAAA,EAAqB,CACnB9vE,MAAOmuD,EAAAA,GADY,GAEnBxJ,MAAOuvB,EAFY,MAKvBl7C,MAjCc,YAkCZ,SAAO86C,EAAAA,QACLA,EAAAA,OADiC,GAGnChE,EAAAA,SAAAA,EAAqB,CAAE9vE,MAAF,KAAe2kD,MAAf,MAEvB4vB,OAvCc,YAwCZ,MAA6Cl+C,EAAAA,OADjC,OACN,EAAN,QAAM,EAAN,eAAM,EAAN,cACM29C,EAAgBn6E,SAAAA,cAFV,UAGZm6E,EAAAA,YAHY,EAIZA,EAAAA,MAJY,EAKZF,EAAAA,aAAAA,EAEEA,EAAAA,SAPU,IASZhE,EAAAA,SAAAA,EAAqB,CACnB9vE,MAAOmuD,EAAAA,GADY,GAEnBxJ,MAAOuvB,EAFY,MAKvBvvB,MArDc,YAuDZ,IADA,IAAM,EAAYtuB,EADP,OACX,MACA,IAAOy9C,EAAAA,QACLA,EAAAA,OADiC,GAFxB,iBAKX,2BAA0B,KAA1B,EAA0B,QAClB,EADkB,EACxB,aAAM,EADkB,EACxB,YACME,EAAgBn6E,SAAAA,cAFE,UAGxBm6E,EAAAA,YAHwB,EAIxBA,EAAAA,MAJwB,EAKxBF,EAAAA,YALwB,IALf,8BAYPA,EAAAA,QAAAA,OAAJ,IACEA,EAAAA,QAAAA,GAAAA,UADoC,GAGtChE,EAAAA,SAAAA,EAAqB,CACnB9vE,MAAOmuD,EAAAA,GADY,GAEnBxJ,MAAOuvB,EAFY,MAKvBM,QAzEc,YA0EZ,IADa,EACPA,EAAU,IAAI3E,IAAIx5C,EAAAA,OADX,aAEQA,EAAAA,OAFR,aAEb,2BAA2C,KAA3C,EAA2C,QACzC09C,EAAAA,SAAkBS,EAAAA,IAAYT,EADW,QAF9B,8BAKbjE,EAAAA,SAAAA,EAAqB,CACnB9vE,MAAOmuD,EAAAA,GANI,MASfsmB,SAlFc,YAmFZp+C,EAAAA,OAAAA,UAAyBA,EAAAA,OADX,WAIlB,8BAvF6D,MA0F/Dy9C,EAAAA,iBAAAA,SAAwCz9C,SAAAA,GAAS,MACzCg4C,EAAclgB,EAAAA,GAD2B,GAEzCnuD,EAAQmuD,EAAAA,GAFiC,GAG/C2hB,EAAAA,SAAAA,EAAqB,CAAE9vE,MAHwB,IAK/C,mFAA8D,CAC5Did,OAD4D,EAE5DqyD,OAAQ,CACNvtD,GADM,EAENnkB,KAFM,YAGNoC,MAHM,EAIN00E,SAJM,EAKN3B,YALM,EAMND,UANM,EAON6B,SAPM,QAYZp6E,KAAA,qBAEE,CACE,CAAC,QADH,SAEE,CAAC,OAFH,QAGE,CAAC,YAHH,cAIE,CAAC,aAJH,eAKE,CAAC,aALH,cAME,CAAC,UANH,YAOE,CAAC,QATL,YAWE87B,SAAAA,GAAAA,OAASA,EAAAA,OAzHkC,YA4H7Cy9C,EAAAA,iBAAAA,SAAwC,SAAUz9C,GAChDy5C,EAAAA,SAAAA,EAAqB,CAAE9vE,MAAOmuD,EADyB,QAK3D5zD,KAAA,oBAlNO,GAoNPA,KAAA,sBApNO,GAqNAA,KArNA,gBALX,IA8NA,gCACEC,SAAAA,EAAAA,GAAwB,oBACtB,IAAMgyE,KACJ,UAAA1B,EAAA,6CACAA,EAAAA,KADA,0BACAA,EADA,eAEAA,EAAAA,KAFA,uBAEAA,EAJoB,0BAMJ,CAAE0B,aAAAA,oCAGtB1qB,WAcE,GAFAvnD,KAAA,oBAZO,kBAGc,CAAC,OAAD,uCAArB,OAWIq6E,SAAsBr6E,KAAKe,KAA/B,YACE,OAAOf,KADwC,UAIjD,IAAMs6E,EAAAA,wBAAAA,OAAmCt6E,KAAKe,KAlBvC,SAkBP,MACMw5E,EAAiBv6E,KAAKw6E,MAAMC,iBAnB3B,GAoBP,OAAIF,EAAAA,OACF,OAAOv6E,KADwB,UAIjC,IAAMgzE,EAAQ,IAAIC,EAAa,CAC7BnrC,UAAW9nC,KADkB,UAE7B+yE,QAAS3zD,MAAAA,KAFoB,GAG7B6iD,MAAOjiE,KAAKe,KAHiB,MAI7BmyE,SAAUlzE,KAAKe,KAJc,SAK7BoyE,iBAAkBnzE,KAAKe,KALM,iBAM7BqyE,YAAapzE,KAAKe,KANW,YAO7BsyE,SAAUrzE,KAAKe,KAPc,WAYzB2sD,EAAO1tD,KApCN,KAqCDyC,EAAO,EAAAJ,KAAA,cAAmB,CAC9BrC,KAAKe,KAAK25E,WADoB,GAE9BhtB,EAAAA,KAAAA,GAAe1tD,KAAKe,KAAK25E,WAAzBhtB,GAAyCA,EAAAA,KAFX,GAG9B1tD,KAAKe,KAAK25E,WAHoB,GAI9BhtB,EAAAA,KAAAA,GAAe1tD,KAAKe,KAAK25E,WAAzBhtB,GAAyCA,EAAAA,KAJ3C,KAMMitB,EACJl4E,EAAAA,GAAUzC,KAAKe,KAAK25E,WAApBj4E,GAAoCzC,KAAKe,KAAK25E,WA5CzC,GA6CDE,EAAWn4E,EA7CV,GAoDP,OALAzC,KAAA,4DA/CO,EA+CP,MACAA,KAAA,+BAhDO,EAgDP,MACAA,KAAA,8BAjDO,EAiDP,MAEAA,KAAA,sBAA2BgzE,EAnDpB,UAoDAhzE,KApDA,gBAVX,IAkEA,aACEC,SAAAA,EAAAA,GAAwB,UACtBD,KAAA,UAAiBuwE,EADK,UAEtBvwE,KAAA,QAAeuwE,EAFO,QAGtBvwE,KAAA,MAAauwE,EAHS,MAItBvwE,KAAA,SAAgBuwE,EAJM,SAKtBvwE,KAAA,iBAAwBuwE,EALF,iBAMtBvwE,KAAA,YAAmBuwE,EANG,YAOtBvwE,KAAA,SAAgBuwE,EAPM,SAQtBvwE,KAAA,YAAmBuwE,EAAAA,cARG,EAUtBvwE,KAAA,QAVsB,kCAaxBunD,WAAS,QAGDrrB,EAAU58B,SAAAA,cAHT,OAIP48B,EAAAA,UAJO,eAUPl8B,KAAA,YAAmBA,KAAKszE,YAAcp3C,EAAUl8B,KAVzC,UAWPA,KAAA,oBAXO,EAaP,IAAMgzE,EAAQ1zE,SAAAA,cAbP,OAcP0zE,EAAAA,UAdO,QAgBP,IAAM/Q,EAAQjiE,KAhBP,MAiBP,KAAW,CAET,IAAMsf,EAnBD,IAmB2B,IAAM2iD,EAA5B4Y,IAAwC5Y,EAFzC,GAGH6Y,EApBD,IAoB2B,IAAM7Y,EAA5B4Y,IAAwC5Y,EAHzC,GAIH9hD,EArBD,IAqB2B,IAAM8hD,EAA5B4Y,IAAwC5Y,EAJzC,GAKT+Q,EAAAA,MAAAA,gBAA8B3wE,EAAAA,KAAAA,aAAAA,EAAkBid,EAAlBjd,EAAyBy4E,EAL9C,EAKqD36D,GAGhE,IAAM46D,EAAQz7E,SAAAA,cAzBP,MA0BPy7E,EAAAA,IAAY/6E,KAAKkzE,SA1BV,IA2BP6H,EAAAA,YAAoB/6E,KAAKkzE,SA3BlB,IA4BPF,EAAAA,YA5BO,GAiCP,IAAMgI,EAAaC,EAAAA,cAAAA,aAA2Bj7E,KAjCvC,kBAkCP,KAAgB,CACd,IAAMmzE,EAAmB7zE,SAAAA,cADX,QAEd6zE,EAAAA,UAFc,YAGdA,EAAAA,YAHc,qBAIdA,EAAAA,QAAAA,OAJc,yBAKdA,EAAAA,QAAAA,SAAoC4C,KAAKmF,UAAU,CACjD7tE,KAAM2tE,EAD2C,qBAEjD53E,KAAM43E,EAF2C,uBAInDhI,EAAAA,YATc,GAYhB,GACE,UAAAhzE,KAAA,+BACC,UAACA,KAAD,0BAAC,EAAD,KAA0BA,KAAKozE,YAAYlmE,MAAQlN,KAAKqzE,SAF3D,IAUO,CACL,IAAM8H,EAAWn7E,KAAKo7E,gBAAgBp7E,KADjC,aAELgzE,EAAAA,YAFK,QANLqI,EAAAA,SAAAA,OAAgB,CACdC,QAASt7E,KAAKqzE,SADA,KAEdrsB,OAFc,WAGdoL,IAHc,IAKhB4gB,EAAAA,UAAAA,UANA,wBAYG5zD,MAAAA,QAAcpf,KAAnB,WACEA,KAAA,QAAe,CAACA,KADgB,UA7D3B,UAkEeA,KAlEf,aAkEP,2BAAoC,KAApC,EAAoC,QAClC4iC,EAAAA,iBAAAA,QAAkC5iC,KAAKu7E,QAAQ32D,KADb,OAElCge,EAAAA,iBAAAA,YAAsC5iC,KAAKw7E,MAAM52D,KAAK5kB,MAFpB,IAGlC4iC,EAAAA,iBAAAA,WAAqC5iC,KAAKy7E,MAAM72D,KAAK5kB,MAHnB,KAlE7B,8BA0EP,OAHAgzE,EAAAA,iBAAAA,QAAgChzE,KAAKy7E,MAAM72D,KAAK5kB,MAvEzC,IAyEPk8B,EAAAA,YAzEO,oCAqFTk/C,SAAAA,GAA8B,IAAd,EAAc,EAAd,IAAhBA,EAA8B,EAA9BA,IACQ37D,EAAIngB,SAAAA,cADkB,KAE5BmgB,EAAAA,UAF4B,eAG5BA,EAAAA,IAH4B,EAK5B,IADA,IAAMi8D,EAAQxuE,EAAAA,MAJc,gBAKnBhK,EAAJ,EAAWD,EAAKy4E,EAArB,OAAmCx4E,EAAnC,MAAgD,CAC9C,IAAMy4E,EAAOD,EADiC,GAE9Cj8D,EAAAA,YAAcngB,SAAAA,eAFgC,IAG1C4D,EAAID,EAAR,GACEwc,EAAAA,YAAcngB,SAAAA,cADA,OAIlB,OAZ4B,yBAqB9Bi8E,WACMv7E,KAAJ,OACEA,KAAA,OADe,GAGfA,KAAA,OADK,wBAYTw7E,WAAmB,IAAbI,EAAa,wDACjB,IACE57E,KAAA,QADO,GAGLA,KAAK67E,YAAT,SACE77E,KAAA,oBAD2B,EAE3BA,KAAA,wBAF2B,wBAa/By7E,WAAoB,IAAdK,IAAc,yDAClB,IACE97E,KAAA,QADS,GAGNA,KAAK67E,YAAN,QAA6B77E,KAAjC,SACEA,KAAA,oBAD4C,EAE5CA,KAAA,wBAF4C,SA5JlD,GAmKA,gCACEC,SAAAA,EAAAA,GAAwB,oBACtB,IAAMgyE,KACJ1B,EAAWxvE,KAAK60E,UAAhB,UACArF,EAAAA,KADA,uBACAA,EADA,eAEAA,EAAAA,KAFA,0BAEAA,EAFA,eAGAA,EAAAA,KAHA,uBAGAA,EALoB,0BAOJ,CAAE0B,aAAF,EAAgBC,cAAhB,oCAGpB3qB,WAME,OALAvnD,KAAA,oBADO,qBAGFA,KAAKe,KAAV,UACEf,KAAA,kBAAwBA,KADD,MAGlBA,KANA,gBAXX,IAqBA,gCACEC,SAAAA,EAAAA,GAAwB,oBACtB,IAAMgyE,KACJ1B,EAAWxvE,KAAK60E,UAAhB,UACArF,EAAAA,KADA,uBACAA,EADA,eAEAA,EAAAA,KAFA,0BAEAA,EAFA,eAGAA,EAAAA,KAHA,uBAGAA,EALoB,0BAOJ,CAAE0B,aAAF,EAAgBC,cAAhB,oCAGpB3qB,WACEvnD,KAAA,oBADO,iBAMP,IAAMe,EAAOf,KANN,KAODiC,EAAQlB,EAAAA,KAAAA,GAAeA,EAAAA,KAPtB,GAQDmB,EAASnB,EAAAA,KAAAA,GAAeA,EAAAA,KARvB,GASD6/C,EAAM5gD,KAAK+7E,WAAW3pD,OAAOnwB,EAT5B,GAaD05E,EAAO37E,KAAK+7E,WAAWx7E,cAbtB,YA+BP,OAjBAo7E,EAAAA,aAAAA,KAAwB56E,EAAAA,KAAAA,GAAeA,EAAAA,gBAdhC,IAeP46E,EAAAA,aAAAA,KAAwB56E,EAAAA,KAAAA,GAAeA,EAAAA,gBAfhC,IAgBP46E,EAAAA,aAAAA,KAAwB56E,EAAAA,KAAAA,GAAeA,EAAAA,gBAhBhC,IAiBP46E,EAAAA,aAAAA,KAAwB56E,EAAAA,KAAAA,GAAeA,EAAAA,gBAjBhC,IAoBP46E,EAAAA,aAAAA,eAAkC56E,EAAAA,YAAAA,OApB3B,GAqBP46E,EAAAA,aAAAA,SArBO,eAsBPA,EAAAA,aAAAA,OAtBO,eAwBP/6B,EAAAA,YAxBO,GAyBP5gD,KAAA,iBAzBO,GA6BPA,KAAA,eA7BO,GA+BAA,KA/BA,gBAXX,IA8CA,gCACEC,SAAAA,EAAAA,GAAwB,oBACtB,IAAMgyE,KACJ1B,EAAWxvE,KAAK60E,UAAhB,UACArF,EAAAA,KADA,uBACAA,EADA,eAEAA,EAAAA,KAFA,0BAEAA,EAFA,eAGAA,EAAAA,KAHA,uBAGAA,EALoB,0BAOJ,CAAE0B,aAAF,EAAgBC,cAAhB,oCAGpB3qB,WACEvnD,KAAA,oBADO,mBAMP,IAAMe,EAAOf,KANN,KAODiC,EAAQlB,EAAAA,KAAAA,GAAeA,EAAAA,KAPtB,GAQDmB,EAASnB,EAAAA,KAAAA,GAAeA,EAAAA,KARvB,GASD6/C,EAAM5gD,KAAK+7E,WAAW3pD,OAAOnwB,EAT5B,GAcD+5E,EAAcj7E,EAAAA,YAdb,MAeDk7E,EAASj8E,KAAK+7E,WAAWx7E,cAfxB,YAiCP,OAjBA07E,EAAAA,aAAAA,IAAyBD,EAhBlB,GAiBPC,EAAAA,aAAAA,IAAyBD,EAjBlB,GAkBPC,EAAAA,aAAAA,QAA6Bh6E,EAlBtB,GAmBPg6E,EAAAA,aAAAA,SAA8B/5E,EAnBvB,GAsBP+5E,EAAAA,aAAAA,eAAoCD,GAtB7B,GAuBPC,EAAAA,aAAAA,SAvBO,eAwBPA,EAAAA,aAAAA,OAxBO,eA0BPr7B,EAAAA,YA1BO,GA2BP5gD,KAAA,iBA3BO,GA+BPA,KAAA,eA/BO,GAiCAA,KAjCA,gBAXX,IAgDA,gCACEC,SAAAA,EAAAA,GAAwB,oBACtB,IAAMgyE,KACJ1B,EAAWxvE,KAAK60E,UAAhB,UACArF,EAAAA,KADA,uBACAA,EADA,eAEAA,EAAAA,KAFA,0BAEAA,EAFA,eAGAA,EAAAA,KAHA,uBAGAA,EALoB,0BAOJ,CAAE0B,aAAF,EAAgBC,cAAhB,oCAGpB3qB,WACEvnD,KAAA,oBADO,mBAMP,IAAMe,EAAOf,KANN,KAODiC,EAAQlB,EAAAA,KAAAA,GAAeA,EAAAA,KAPtB,GAQDmB,EAASnB,EAAAA,KAAAA,GAAeA,EAAAA,KARvB,GASD6/C,EAAM5gD,KAAK+7E,WAAW3pD,OAAOnwB,EAT5B,GAcD+5E,EAAcj7E,EAAAA,YAdb,MAeDm7E,EAASl8E,KAAK+7E,WAAWx7E,cAfxB,eAiCP,OAjBA27E,EAAAA,aAAAA,KAA0Bj6E,EAhBnB,GAiBPi6E,EAAAA,aAAAA,KAA0Bh6E,EAjBnB,GAkBPg6E,EAAAA,aAAAA,KAA0Bj6E,EAAAA,EAAY+5E,EAlB/B,GAmBPE,EAAAA,aAAAA,KAA0Bh6E,EAAAA,EAAa85E,EAnBhC,GAsBPE,EAAAA,aAAAA,eAAoCF,GAtB7B,GAuBPE,EAAAA,aAAAA,SAvBO,eAwBPA,EAAAA,aAAAA,OAxBO,eA0BPt7B,EAAAA,YA1BO,GA2BP5gD,KAAA,iBA3BO,GA+BPA,KAAA,eA/BO,GAiCAA,KAjCA,gBAXX,IAgDA,gCACEC,SAAAA,EAAAA,GAAwB,sBACtB,IAAMgyE,KACJ1B,EAAWxvE,KAAK60E,UAAhB,UACArF,EAAAA,KADA,uBACAA,EADA,eAEAA,EAAAA,KAFA,0BAEAA,EAFA,eAGAA,EAAAA,KAHA,uBAGAA,EALoB,YAOtB,gBAAkB,CAAE0B,aAAF,EAAgBC,cAAhB,KAElB,mBATsB,qBAUtB,iBAVsB,iDAaxB3qB,WACEvnD,KAAA,oBAA2BA,KADpB,mBAMP,IANO,EAMDe,EAAOf,KANN,KAODiC,EAAQlB,EAAAA,KAAAA,GAAeA,EAAAA,KAPtB,GAQDmB,EAASnB,EAAAA,KAAAA,GAAeA,EAAAA,KARvB,GASD6/C,EAAM5gD,KAAK+7E,WAAW3pD,OAAOnwB,EAT5B,GAeHkiE,EAfG,OAgBkBpjE,EAhBlB,cAgBP,2BAAwC,KAAxC,EAAwC,QAChCuB,EAAI65E,EAAAA,EAAep7E,EAAAA,KADa,GAEhCgtB,EAAIhtB,EAAAA,KAAAA,GAAeo7E,EAFa,EAGtChY,EAAAA,KAAY7hE,EAAAA,IAH0B,IAhBjC,8BAqBP6hE,EAASA,EAAAA,KArBF,KAuBP,IAAMiY,EAAWp8E,KAAK+7E,WAAWx7E,cAAcP,KAvBxC,gBAsCP,OAdAo8E,EAAAA,aAAAA,SAxBO,GA2BPA,EAAAA,aAAAA,eAAsCr7E,EAAAA,YAAAA,OA3B/B,GA4BPq7E,EAAAA,aAAAA,SA5BO,eA6BPA,EAAAA,aAAAA,OA7BO,eA+BPx7B,EAAAA,YA/BO,GAgCP5gD,KAAA,iBAhCO,GAoCPA,KAAA,eApCO,GAsCAA,KAtCA,gBAdX,IAwDA,gCACEC,SAAAA,EAAAA,GAAwB,wBAEtB,cAFsB,IAItB,mBAJsB,oBAKtB,iBALsB,yBAD1B,IAUA,gCACEA,SAAAA,EAAAA,GAAwB,oBACtB,IAAMgyE,KACJ1B,EAAWxvE,KAAK60E,UAAhB,UACArF,EAAAA,KADA,uBACAA,EADA,eAEAA,EAAAA,KAFA,0BAEAA,EAFA,eAGAA,EAAAA,KAHA,uBAGAA,EALoB,0BAOJ,CAAE0B,aAAF,EAAgBC,cAAhB,oCAGpB3qB,WAME,OALAvnD,KAAA,oBADO,kBAGFA,KAAKe,KAAV,UACEf,KAAA,kBAAwBA,KADD,MAGlBA,KANA,gBAXX,IAqBA,gCACEC,SAAAA,EAAAA,GAAwB,sBACtB,IAAMgyE,KACJ1B,EAAWxvE,KAAK60E,UAAhB,UACArF,EAAAA,KADA,uBACAA,EADA,eAEAA,EAAAA,KAFA,0BAEAA,EAFA,eAGAA,EAAAA,KAHA,uBAGAA,EALoB,YAOtB,gBAAkB,CAAE0B,aAAF,EAAgBC,cAAhB,KAElB,mBATsB,gBAatB,iBAbsB,iDAgBxB3qB,WACEvnD,KAAA,oBAA2BA,KADpB,mBAKP,IALO,EAKDe,EAAOf,KALN,KAMDiC,EAAQlB,EAAAA,KAAAA,GAAeA,EAAAA,KANtB,GAODmB,EAASnB,EAAAA,KAAAA,GAAeA,EAAAA,KAPvB,GAQD6/C,EAAM5gD,KAAK+7E,WAAW3pD,OAAOnwB,EAR5B,OAUelB,EAVf,cAUP,2BAAqC,OAArC,EAAqC,QAK/BojE,EAL+B,cAMnC,2BAAkC,KAAlC,EAAkC,QAC1B7hE,EAAI65E,EAAAA,EAAep7E,EAAAA,KADO,GAE1BgtB,EAAIhtB,EAAAA,KAAAA,GAAeo7E,EAFO,EAGhChY,EAAAA,KAAAA,GAAAA,OAAAA,EAAAA,KAAAA,OAHgC,KANC,8BAWnCA,EAASA,EAAAA,KAX0B,KAanC,IAAMiY,EAAWp8E,KAAK+7E,WAAWx7E,cAAcP,KAbZ,gBAcnCo8E,EAAAA,aAAAA,SAdmC,GAiBnCA,EAAAA,aAAAA,eAAsCr7E,EAAAA,YAAAA,OAjBH,GAkBnCq7E,EAAAA,aAAAA,SAlBmC,eAmBnCA,EAAAA,aAAAA,OAnBmC,eAuBnCp8E,KAAA,eAvBmC,GAyBnC4gD,EAAAA,YAzBmC,IAV9B,8BAuCP,OADA5gD,KAAA,iBAtCO,GAuCAA,KAvCA,gBAjBX,IA4DA,gCACEC,SAAAA,EAAAA,GAAwB,oBACtB,IAAMgyE,KACJ1B,EAAWxvE,KAAK60E,UAAhB,UACArF,EAAAA,KADA,uBACAA,EADA,eAEAA,EAAAA,KAFA,0BAEAA,EAFA,eAGAA,EAAAA,KAHA,uBAGAA,EALoB,0BAOJ,CAChB0B,aADgB,EAEhBC,cAFgB,EAGhBC,sBAHgB,oCAOpB5qB,WAKE,OAJKvnD,KAAKe,KAAV,UACEf,KAAA,kBAAwBA,KADD,MAIrBA,KAAJ,eACSA,KAAKuzE,sBADW,wBAIzBvzE,KAAA,oBATO,sBAUAA,KAVA,iBAfX,IA6BA,gCACEC,SAAAA,EAAAA,GAAwB,oBACtB,IAAMgyE,KACJ1B,EAAWxvE,KAAK60E,UAAhB,UACArF,EAAAA,KADA,uBACAA,EADA,eAEAA,EAAAA,KAFA,0BAEAA,EAFA,eAGAA,EAAAA,KAHA,uBAGAA,EALoB,0BAOJ,CAChB0B,aADgB,EAEhBC,cAFgB,EAGhBC,sBAHgB,oCAOpB5qB,WAKE,OAJKvnD,KAAKe,KAAV,UACEf,KAAA,kBAAwBA,KADD,MAIrBA,KAAJ,eACSA,KAAKuzE,sBADW,wBAIzBvzE,KAAA,oBATO,sBAUAA,KAVA,iBAfX,IA6BA,gCACEC,SAAAA,EAAAA,GAAwB,oBACtB,IAAMgyE,KACJ1B,EAAWxvE,KAAK60E,UAAhB,UACArF,EAAAA,KADA,uBACAA,EADA,eAEAA,EAAAA,KAFA,0BAEAA,EAFA,eAGAA,EAAAA,KAHA,uBAGAA,EALoB,0BAOJ,CAChB0B,aADgB,EAEhBC,cAFgB,EAGhBC,sBAHgB,oCAOpB5qB,WAKE,OAJKvnD,KAAKe,KAAV,UACEf,KAAA,kBAAwBA,KADD,MAIrBA,KAAJ,eACSA,KAAKuzE,sBADW,uBAIzBvzE,KAAA,oBATO,qBAUAA,KAVA,iBAfX,IA6BA,gCACEC,SAAAA,EAAAA,GAAwB,oBACtB,IAAMgyE,KACJ1B,EAAWxvE,KAAK60E,UAAhB,UACArF,EAAAA,KADA,uBACAA,EADA,eAEAA,EAAAA,KAFA,0BAEAA,EAFA,eAGAA,EAAAA,KAHA,uBAGAA,EALoB,0BAOJ,CAChB0B,aADgB,EAEhBC,cAFgB,EAGhBC,sBAHgB,oCAOpB5qB,WAKE,OAJKvnD,KAAKe,KAAV,UACEf,KAAA,kBAAwBA,KADD,MAIrBA,KAAJ,eACSA,KAAKuzE,sBADW,wBAIzBvzE,KAAA,oBATO,sBAUAA,KAVA,iBAfX,IA6BA,gCACEC,SAAAA,EAAAA,GAAwB,oBACtB,IAAMgyE,KACJ1B,EAAWxvE,KAAK60E,UAAhB,UACArF,EAAAA,KADA,uBACAA,EADA,eAEAA,EAAAA,KAFA,0BAEAA,EAFA,eAGAA,EAAAA,KAHA,uBAGAA,EALoB,0BAOJ,CAAE0B,aAAF,EAAgBC,cAAhB,oCAGpB3qB,WAME,OALAvnD,KAAA,oBADO,kBAGFA,KAAKe,KAAV,UACEf,KAAA,kBAAwBA,KADD,MAGlBA,KANA,gBAXX,IAqBA,gCACEC,SAAAA,EAAAA,GAAwB,kBAGtB,OAFA,gBAAkB,CAAEgyE,cADE,KAGQ,KAHR,KAGhB,EAAN,WAAM,EAAN,UAHsB,OAItB,YAAgBoK,EAAAA,EAAAA,oBAJM,GAKtB,UALsB,EAOtB,qFAAgE,CAC9D35D,OAD8D,KAE9D8E,IAAI80D,EAAAA,EAAAA,mBAF0D,GAG9Dr9E,SAH8D,EAI9Ds9E,QAAAA,IAXoB,kCAexBh1B,WAAS,QACPvnD,KAAA,oBADO,2BAGP,IAAM+yE,EAAUzzE,SAAAA,cAHT,OAkBP,OAdAyzE,EAAAA,MAAAA,OAAuB/yE,KAAK8nC,UAAU+tC,MAJ/B,OAKP9C,EAAAA,MAAAA,MAAsB/yE,KAAK8nC,UAAU+tC,MAL9B,MAMP9C,EAAAA,iBAAAA,WAAqC/yE,KAAKw8E,UAAU53D,KAN7C,QASJ5kB,KAAKe,KAAN,WACC,UAAAf,KAAA,6CACCA,KAAKe,KADN,0BACC,EADD,KAECf,KAAKe,KAJT,WAMEf,KAAA,eAA2BA,KAD3B,MAIFA,KAAA,sBAjBO,GAkBAA,KAlBA,mCA2BTw8E,WAAY,MACV,UAAAx8E,KAAA,mDACEA,KADF,UAEEA,KAFF,QAGEA,KAJQ,gBA3Cd,IAqEA,0EAQE,YACE,IADwB,EAClBy8E,EAAN,GACEC,EAFsB,OAMLnM,EANK,iBAMxB,2BAA2C,KAA3C,EAA2C,QACzC,IAGIxvE,EAAAA,iBAAwByvE,EAAAA,eAA5B,MAIAiM,EAAAA,KARyC,GAKvCC,EAAAA,KADgD,KAV5B,8BAgBpBA,EAAJ,QACED,EAAAA,KAAAA,MAAAA,EAD2B,GAM7B,IAFA,IAAMrqB,EAAMme,EApBY,IAsBxB,uBAAsC,CAAtC,IAAWxvE,EAAX,KACQ6hC,EAAU+5C,EAAyBvqD,OAAO,CAC9CrxB,KAD8C,EAE9Cy5E,MAF8C,EAG9C9sB,KAAM6iB,EAHwC,KAI9C3nB,SAAU2nB,EAJoC,SAK9C8D,YAAa9D,EALiC,YAM9CqM,gBAAiBrM,EAN6B,gBAO9CuF,mBAAoBvF,EAAAA,oBAP0B,GAQ9CsM,aAR8C,IAQjCtM,EAAAA,YACbwL,WAAY,IATkC,gBAU9Cx1B,kBACEgqB,EAAAA,mBAAgC,IAXY,oBAY9C4H,gBAAiB5H,EAZ6B,gBAa9C9pB,aAAc8pB,EAbgC,aAc9CuM,aAAcvM,EAdgC,aAe9CwM,WAAYxM,EAAAA,YAAyB,CAAEyM,QAfO,KAiBhD,GAAIp6C,EAAJ,aAA0B,CACxB,IAAMq6C,EAAWr6C,EADO,SAKxB,GAHI7hC,EAAJ,SACEk8E,EAAAA,MAAAA,WADe,UAGb79D,MAAAA,QAAJ,GAA6B,kBAC3B,2BAAwC,KAAxC,EAAwC,QACtCgzC,EAAAA,YADsC,IADb,oCAKvBxvB,aAAJ,EAGEwvB,EAAAA,QAH6C,GAK7CA,EAAAA,YADK,IAOb,EAAApyD,KArEJ,EAqEI,SAAAA,KAAA,EAAkCuwE,EA7DV,2CAuE1B,YACE,IAKA,EANwB,IAClB,EADkB,EACxB,KAAM,EADkB,EACxB,SAAM,EADkB,EACxB,YAAM,EADkB,EACxB,oBAAM,EADkB,EACxB,IAEMv4D,EAAY4wC,EAHM,UAIlB0Z,EAAAA,UAAAA,OAAmBtqD,EAAAA,KAJD,KAIxB,KAJwB,WAOxB,2BAAgC,KAAhC,EAAgC,QACxBmrB,EAAWivB,EAAAA,iBAAAA,wBAAAA,OACSrxD,EAFI,GAC9B,OAGA,KAAc,kBACZ,2BAAgC,KAAhC,EAAgC,QAC9B,GAAIA,EAAJ,aAAuB,CACrB,IAAM0B,EAAO,EAAAJ,KAAA,cAAmB,CAC9BtB,EAAAA,KAD8B,GAE9B2sD,EAAAA,KAAAA,GAAe3sD,EAAAA,KAAf2sD,GAA8BA,EAAAA,KAFA,GAG9B3sD,EAAAA,KAH8B,GAI9B2sD,EAAAA,KAAAA,GAAe3sD,EAAAA,KAAf2sD,GAA8BA,EAAAA,KAJhC,KAOA,MAAgB,CAId/uD,EAAQV,KAAAA,IAAS+Z,EAAAA,IAAgBA,EAJnB,IAMd,IADA,IAAMklE,EAAellE,EALP,QAML9U,EAAT,EAAgBA,EAAhB,EAAuBA,IACrBg6E,EAAAA,GAAkBj/E,KAAAA,KAAUi/E,EADF,IAG5BC,EAAAA,UAAAA,OAAsBD,EAAAA,KATR,KASdC,KAGF,IAAMtX,EAAOpjE,EAAAA,GApBQ,EAqBfqjE,EAAMrjE,EAAAA,GArBS,EAsBrBmgC,EAAAA,MAAAA,KAAAA,GAAAA,OAtBqB,EAsBrBA,MACAA,EAAAA,MAAAA,IAAAA,GAAAA,OAvBqB,EAuBrBA,MACAA,EAAAA,MAAAA,gBAAAA,GAAAA,QAAAA,EAAAA,OAAAA,QAxBqB,EAwBrBA,MACAA,EAAAA,MAAAA,UAzBqB,OA2BrBA,EAAAA,MAAAA,UADK,GA5BG,iCAXQ,8BA8CxB,EAAA5iC,KA7HJ,EA6HI,SAAAA,KAAA,EA9CwB,GA+CxBoyD,EAAAA,QA/CwB,QA/E5B,eAiIE,KACE,MADuD,iBAIvD,2BAAgD,oBAArC,EAAqC,KAAhD,EAAgD,KACxCxvB,EAAUwvB,EAAAA,cAAAA,wBAAAA,OAD8B,EAC9C,OACA,MAIA,IAAM,EANwC,EAM9C,WACA,WAAIgrB,EAAAA,SACFx6C,EAAAA,aAAAA,EADoC,GAGpCA,EAAAA,aAAAA,EADK,KAb8C,8BAiBvDklB,EAjBuD,gqCC53E3D,cACE,OAAO7pD,KAAAA,MAAAA,IAAWA,KAAAA,IAAAA,EAAYA,KAAAA,IAAAA,EAAZA,KAAXA,SAAAA,IAAAA,SAAAA,EADiB,mFAO1B,4KACE,YAA4B,aAAd,EAAc,KAAd,EAAc,KAAd,EAAc,KAA5B,EAA4B,KAC1B,MAAO,CAAC,IAAK,EAAIA,KAAAA,IAAAA,EAAY,GAAMmiB,EAAI,IAAV,EAAqB,IAArB,EAA7B,0BAGF,YACE,MAAO,CAAC,OAAQ,EAAG,EAAG,EAAG,EADR,gCAInB,YAAkB,IAAlB,EAAkB,UAChB,MAAO,CAAC,MAAO06D,EAAGA,EAAlB,yBAGF,YAAmB,IACXuC,EAAIC,EADO,WAEjB,qCAFiB,wBAKnB,YAAwB,aACtB,MAAO,CAAC,IAAK,GADS,KACC,IADD,KACY,IADZ,8BAIxB,YAA2B,aAAX,EAAW,KAAX,EAAW,KAA3B,EAA2B,KACnBC,EAAID,EADe,GAEnBD,EAAIC,EAFe,GAGnBE,EAAIF,EAHe,GAIzB,qCAJyB,yBAO3B,WACE,MADc,oCAIhB,YAA8B,aAAd,EAAc,KAAd,EAAc,KAAd,EAAc,KAA9B,EAA8B,KAC5B,MAAO,CAAC,MAEN,EAAIr/E,KAAAA,IAAAA,EAAYmiB,EAFX,GAGL,EAAIniB,KAAAA,IAAAA,EAAYyhB,EAHX,GAIL,EAAIzhB,KAAAA,IAAAA,EAAY8vB,EAJlB,6BAQF,YACE,OAAO/tB,KAAKy9E,SAASz9E,KAAK09E,SADC,4BAI7B,YAA2B,aACnBt9D,EAAI,EADe,KAEnBV,EAAI,EAFe,KAGnBqO,EAAI,EAHe,KAKzB,MAAO,CAAC,OAAQ3N,EAAGV,EAAGqO,EADZ9vB,KAAAA,IAAAA,EAAAA,EAJe,8CA9C7B,wHC7BA,qwDA+BA,kLACE,oBACE,IAAM05E,EAAapC,EAAAA,SAAAA,EAAqB,CAAE9vE,MADY,OAEtD,OAAQm9B,EAAR,MACE,eAIE,GAHA,OAAI+0C,EAAAA,QACFnlD,EAAAA,YAAmBmlD,EADU,OAG/B,UAAI3wB,EAAoB,MAGxBx0B,EAAAA,iBAAAA,SAA+BsJ,SAAAA,GAC7By5C,EAAAA,SAAAA,EAAqB,CAAE9vE,MAAOq2B,EAAAA,OADQ,WAR5C,MAYE,YACE,GACE8G,UAAAA,EAAAA,WAAAA,MADF,aAEEA,EAAAA,WAAAA,KACA,CAQA,GAPI+0C,EAAAA,QAAqB/0C,EAAAA,WAAzB,MACEpQ,EAAAA,aAAAA,WADiD,GAExCmlD,EAAAA,QAAqB/0C,EAAAA,WAAzB,QAGLpQ,EAAAA,gBAHyD,WAK3D,UAAIw0B,EAAoB,MAGxBx0B,EAAAA,iBAAAA,UAAgCsJ,SAAAA,GAC9By5C,EAAAA,SAAAA,EAAqB,CACnB9vE,MAAOq2B,EAAAA,OAAAA,QACHA,EAAAA,OAAAA,aADGA,SAEHA,EAAAA,OAAAA,aAJiC,mBAOpC,CAIL,GAHA,OAAI67C,EAAAA,OACFnlD,EAAAA,aAAAA,QAA2BmlD,EADE,OAG/B,UAAI3wB,EAAoB,MAGxBx0B,EAAAA,iBAAAA,SAA+BsJ,SAAAA,GAC7By5C,EAAAA,SAAAA,EAAqB,CAAE9vE,MAAOq2B,EAAAA,OADQ,WAzC9C,MA8CE,aACE,UAAI67C,EAAAA,MAA2B,WACR/0C,EADQ,cAC7B,2BAAuC,KAAvC,EAAuC,QACjC42C,EAAAA,WAAAA,QAA4B7B,EAAhC,QACE6B,EAAAA,WAAAA,UADgD,IAFvB,+BAO/BhnD,EAAAA,iBAAAA,SAA+BsJ,SAAAA,GAC7B,IAAMjvB,EAAUivB,EAAAA,OADsB,QAEhCr2B,GACJoH,IAAAA,EAAAA,cAAAA,GAEIA,EAAQA,EAARA,eALgC,MAMtC0oE,EAAAA,SAAAA,EAAqB,CAAE9vE,MAAAA,qCAM/B,YAA6E,IAmClD,EAnCN,EAAwD,EAAxD,OAAwD,EAAxD,QAAwD,IAAvC8vE,QAAAA,OAAuC,MAAxD,KAAwD,EAAxD,EAAwD,EAAxD,OAArB,EAA6E,EAA7E,YACQ,EADqE,EAC3E,WACMoI,EAAsBnrD,aAF+C,kBAI3E,UAAIorD,EAAAA,OAGFA,EAAAA,KAAAA,GAAAA,OAAqBA,EAArBA,KAAAA,KAAAA,OAH+B,IAKjC,cAA2Bz6E,OAAAA,QAA3B,kBAAuD,CAAvD,gBAAW,EAAX,YAIE,GAAIsC,OAAAA,QAAAA,IAAkBA,GAAtB,WAA6C+D,EAI7C,aAAIA,EACF,mBAAIA,EACFgpB,EAAAA,YADyB,OAEpB,aAAIhpB,EACL/D,EAAJ,QACE+sB,EAAAA,aAAAA,EAAuB/sB,EAAAA,KADP,UAGb,CACL,GAAIk4E,IAAgC,SAARn0E,GAA5B,cAA8CA,GAAsB,SAGpEgpB,EAAAA,aAAAA,EAJK,QAOPrvB,OAAAA,OAAcqvB,EAAdrvB,MADK,GAKT,IAGKkxE,EAFH,oBAIEj2E,EAAAA,EAAAA,MADA,6FAKFi2E,QAAAA,EAAAA,EAAAA,yBAAAA,IAAAA,GAAAA,EAAAA,KAAAA,EAAAA,EAEEuJ,EAFFvJ,KAGEuJ,EAZqB,YAkBrBrI,GAAWqI,EAAf,QACE59E,KAAA,eAAwB49E,EAAxB,SADgC,yBAUpC,YACE,IAAMrI,EAAUhF,EADQ,kBAElB8D,EAAc9D,EAFI,YAGlBsN,EAAOtN,EAHW,QAIlBvpB,EAASupB,EAAAA,QAJS,UAKlBuN,EAAWx+E,SAAAA,cAAuBu+E,EALhB,MAMpBA,EAAJ,YACE79E,KAAA,cAAmB,CACjBwyB,KADiB,EAEjBoQ,QAFiB,EAGjBokB,OAHiB,EAIjBqtB,YAAAA,IAGJ,IAAMt7C,EAAQ,CAAC,CAAC8kD,GAAD,EAAf,IAEME,EAAUxN,EAhBQ,IAmBxB,GAFAwN,EAAAA,YAjBwB,GAmBpBxN,EAAJ,SAAyB,CACvB,IAAMv4D,EAAAA,UAAAA,OAAsBu4D,EAAAA,SAAAA,UAAAA,KADL,KACvB,KACAwN,EAAAA,MAAAA,UAFuB,EAMzB,aAAI/2B,GACF+2B,EAAAA,aAAAA,QADyB,oBAO3B,IAFA,IAAMC,EA9BkB,GAgCjBjlD,EAAAA,OAAP,GAAyB,OACvB,IAA0BA,EAAMA,EAAAA,OADT,GACvB,GAAM,EAAN,KAAM,EAAN,KAAM,EAAN,KACA,GAAI71B,EAAAA,IAAUo5B,EAAAA,SAAd,QAKA,IAAM2hD,EAAQ3hD,EAAAA,WAAkBvD,EAAMA,EAAAA,OAANA,GAPT,IAQvB,UAAIklD,EAAJ,CAIA,IAAM,EAZiB,EAYvB,KACA,aAAI56E,EAAJ,CAOA,IAAI66E,OApBmB,EAsCvB,GAhBEA,EADF,OAAID,QAAJ,IAAIA,GAAJ,UAAIA,EAAJ,yBAAIA,EAAJ,MACc3+E,SAAAA,gBAAyB2+E,EAAAA,WAAzB3+E,MADgB,GAGhBA,SAAAA,cADP,GAIPkzB,EAAAA,YA3BuB,GA4BnByrD,EAAJ,YACEj+E,KAAA,cAAmB,CACjBwyB,KADiB,EAEjBoQ,QAFiB,EAGjB2yC,QAHiB,EAIjBvuB,OAJiB,EAKjBqtB,YAAAA,IAIA4J,EAAAA,UAAkBA,EAAAA,SAAAA,OAAtB,EACEllD,EAAAA,KAAW,CAACklD,GAAD,EAAXllD,SACK,GAAIklD,EAAJ,MAAiB,CACtB,IAAM/9C,EAAO5gC,SAAAA,eAAwB2+E,EADf,OAElB/zB,EAAAA,QAAAA,gBAAJ,IACE8zB,EAAAA,KADiC,GAGnCE,EAAAA,YALsB,QA3BxB,CACE,IAAMh+C,EAAO5gC,SAAAA,eAAwB2+E,EADjB,OAEpBD,EAAAA,KAFoB,GAGpBxrD,EAAAA,YAHoB,UAVpBuG,EADoC,MAlChB,UAiGPglD,EAAAA,iBAjGO,8DAiGxB,2BAEG,QACDnzD,aAAAA,YADC,GAnGqB,8BAuGxB,MAAO,CACLozD,SAAAA,yBASJ,YACE,IAAMhmE,EAAAA,UAAAA,OAAsBu4D,EAAAA,SAAAA,UAAAA,KADJ,KACxB,KACAA,EAAAA,IAAAA,MAAAA,UAFwB,EAGxBA,EAAAA,IAAAA,QAHwB,4CArP5B,iHCmzBA,YACE,IAAM92C,EAAO,IAAI0kD,EAAoB,CACnCr0B,YAAas0B,EADsB,YAEnCC,kBAAmBD,EAFgB,kBAGnCt2C,UAAWs2C,EAHwB,UAInCx1B,SAAUw1B,EAJyB,SAKnCJ,SAAUI,EALyB,SAMnCE,oBAAqBF,EANc,oBAOnCG,qBAAsBH,EAPa,uBAUrC,OADA3kD,EAAAA,QAAa2kD,EAV4B,YAn0B3C,2rCA6BA,IACMI,EA7CN,GA+CMC,EAAc,IA/CpB,IAgDMC,EAhDN,SAqHA,oBAEE,IAAMC,EAAUr/E,SAAAA,cAF2B,QAGrCs/E,EAAoBnlD,EAAKolD,sBAC3B,CACEvvD,MADF,EAEEu0C,YAFF,EAGEib,QAHF,KAGWC,EAAAA,IACTC,OAAQD,EAJV,OAKEE,kBALF,KAMEC,cANF,EAOEC,YAPF,EAQEC,aARF,EASEC,WATF,EAUE1gF,MAVF,GAYA,CACE2wB,MADF,EAEEu0C,YAFF,EAGEib,QAHF,KAGWC,EAAAA,IACTC,OAAQD,EAJV,QAOJtlD,EAAAA,UAAAA,KAvB2C,GAyB3C,IAAM6lD,EAAKj9E,EAAAA,KAAAA,UAAeo3B,EAAAA,UAAfp3B,UAAyC08E,EAzBT,WA0BvCzvD,EAAQrxB,KAAAA,MAAWqhF,EAAXrhF,GAAkBqhF,EA1Ba,IA2BrCzJ,EAAQxrB,EAAO00B,EA3BsB,UA4BvClJ,EAAJ,WACEvmD,GAASrxB,KAAAA,GADS,GAGpB,IAGA,EAlC2C,EA+BrCshF,EAAathF,KAAAA,MAAWqhF,EAAXrhF,GAAkBqhF,EA/BM,IAgCrCE,EAAaD,EAnGrB,cACE,IAAME,EAAehB,EAAAA,IADa,GAElC,KACE,OADgB,EAIlB7sB,EANkC,OAOlCA,EAAAA,KAAAA,GAAAA,OAAAA,EAAAA,OAAAA,OAPkC,GAQlC,IAAM8tB,EAAU9tB,EAAAA,YARkB,IAW9B+tB,EAASD,EAXqB,sBAY9BE,EAAU3hF,KAAAA,IAASyhF,EAZW,wBAalC,KAAY,CACV9tB,EADU,UAEV,IAAMiuB,EAAQF,GAAUA,EAFd,GAIV,OADAlB,EAAAA,IAAAA,EAHU,KAWZ7sB,EAAAA,YAxBkC,MAyBlCA,EAAAA,UAAAA,EAAAA,EAAAA,EAzBkC,GA0BlCA,EAAAA,WAAAA,IAAAA,EA1BkC,GA2BlC,IAAIkuB,EAASluB,EAAAA,aAAAA,EAAAA,EAAAA,EAAAA,GA3BqB,KAiClCguB,EAjCkC,EAkClC,IAAK,IAAI18E,EAAI48E,EAAAA,OAAAA,EAAb,EAAoC58E,GAApC,EAA4CA,GAA5C,EACE,GAAI48E,EAAAA,GAAJ,EAAmB,CACjBF,EAAU3hF,KAAAA,KAAUiF,EAAAA,EADH,SASrB0uD,EAAAA,UAAAA,EAAAA,EAAAA,EA5CkC,GA6ClCA,EAAAA,WAAAA,IAAAA,EA7CkC,GA+ClC+tB,EA/CkC,EAgDlC,IAAK,IAAIz8E,EAAJ,EAAWD,GAFhB68E,EAASluB,EAAAA,aAAAA,EAAAA,EAAAA,EAAAA,GA9CyB,MAgDlC,OAAoC1uD,EAApC,EAA4CA,GAA5C,EACE,GAAI48E,EAAAA,GAAJ,EAAmB,CACjBH,EAASnB,EAAoBvgF,KAAAA,MAAWiF,EAAAA,EADvB,SAQrB,GAFA0uD,EAvDkC,UAyDlC,EAAY,CACV,IAAMiuB,EAAQF,GAAUA,EADd,GAGV,OADAlB,EAAAA,IAAAA,EAFU,KAOZ,OADAA,EAAAA,IAAAA,EAjHF,OAqJkCsB,CAAUlK,EAAVkK,WAhCW,GAmC3C,IAAIzwD,GACFu2C,EAAOyZ,EADQ,GAEfxZ,EAAMwZ,EAAAA,GAFS,IAIfzZ,EAAOyZ,EAAAA,GAAQE,EAAavhF,KAAAA,IADvB,GAEL6nE,EAAMwZ,EAAAA,GAAQE,EAAavhF,KAAAA,IAFtB,IAMP0gF,EAAAA,MAAAA,KAAAA,GAAAA,OA5C2C,EA4C3CA,MACAA,EAAAA,MAAAA,IAAAA,GAAAA,OA7C2C,EA6C3CA,MACAA,EAAAA,MAAAA,SAAAA,GAAAA,OA9C2C,EA8C3CA,MACAA,EAAAA,MAAAA,WAA2B9I,EA/CgB,WAkD3C8I,EAAAA,aAAAA,OAlD2C,gBAoD3CA,EAAAA,YAAsBI,EApDqB,IAsD3CJ,EAAAA,IAAcI,EAtD6B,IA0DvCtlD,EAAJ,wBACEklD,EAAAA,QAAAA,SAA2BI,EADG,UAGhC,IAAIzvD,IACFsvD,EAAAA,MAA0BtvD,GAAS,IAAMrxB,KAD1B,KAMjB,IAAI+hF,GAnEuC,EAoE3C,GACEjB,EAAAA,IAAAA,OAAAA,GACCtlD,EAAAA,uBAA8BilD,EAAAA,KAAyBK,EAF1D,KAIEiB,GADA,OAEK,GAAIjB,MAAAA,EAAAA,KAAoBA,EAAAA,UAAAA,KAAsBA,EAAAA,UAA9C,GAAiE,CACtE,IAAMkB,EAAYhiF,KAAAA,IAAS8gF,EAAAA,UAA3B,IACEmB,EAAYjiF,KAAAA,IAAS8gF,EAAAA,UAF+C,IAMpEkB,IAAAA,GACAhiF,KAAAA,IAAAA,EAAAA,GAAiCA,KAAAA,IAAAA,EAAjCA,GAFF,MAIE+hF,GADA,GAgBJ,GAZA,IACMnK,EAAJ,SACE+I,EAAAA,YAAgCG,EAAAA,OAActlD,EAAAA,UAD5B,MAGlBmlD,EAAAA,YAAgCG,EAAAA,MAAatlD,EAAAA,UADxC,OAITA,EAAAA,mBAAAA,IAAAA,EA5F2C,GA6FvCA,EAAJ,oBACEA,EAAAA,YAD2B,GAIzBA,EAAAA,uBAA8BmlD,EAAlC,QAA6D,CAC3D,IAAIuB,EAAJ,EACEC,EAFyD,EAG3D,IAAI9wD,IACF6wD,EAAWliF,KAAAA,IADI,GAEfmiF,EAAWniF,KAAAA,IAFI,IAIjB,IAIA,EAX2D,EAOrDoiF,GACHxK,EAAA,SAAiBkJ,EAAjB,OAA+BA,EAAhC,OAA8CtlD,EAAAA,UARW,MASrD6mD,EATqD,EAY3D,IAAIhxD,GACF5P,EAAI,CAACygE,EAAUC,GAAX,MAAJ1gE,GACAS,EAAI,EAAA9d,KAAA,2BAAgC,CAAC,EAAG,EAAGg+E,EAAvC,GAFW,IAIflgE,EAAI,CAAC0lD,EAAMC,EAAKD,EAAZ,EAA6BC,EAAjC3lD,GAGFsZ,EAAAA,QAAAA,KAAkB,CAChBosC,KAAM1lD,EADU,GAEhB2lD,IAAK3lD,EAFW,GAGhBogE,MAAOpgE,EAHS,GAIhBqgE,OAAQrgE,EAJQ,GAKhBiyC,IALgB,EAMhB9wB,KAAM,CAAC++C,EANS,GAOhB3gE,EAAAA,KAKN,cACE,IAAI+Z,EAAJ,WAGA,IAAMukD,EAAWvkD,EAJG,UAKdhtB,EAAagtB,EALC,YAMdgnD,EAAiBzC,EANH,OAUpB,GAAIyC,EA/PN,IA+PgD,OAC5ChnD,EAAAA,gBAD4C,OAE5ChtB,EAF4C,UAM9C,IAAKgtB,EAAL,mBACE,IAAK,IAAIv2B,EAAT,EAAgBA,EAAhB,EAAoCA,IAClCu2B,EAAAA,YAAiBukD,EADsB,IAK3CvkD,EAAAA,gBAtBoB,EAuBpBhtB,EAvBoB,WA0BtB,kBAEE,IADA,IAAIzE,EADsC,EAEjC9E,EAAT,EAAgBA,EAAhB,EAA2BA,IAAK,CAC9B,IAAMge,EAAIw/D,EAAGhvB,KACTxwC,EAAJ,IACElZ,EAASA,EAAS/J,KAAAA,IAAAA,EAAT+J,GADA,GAIb,OAR0C,EAW5C,cAKE,IAJA,IAAM6Y,EAAS4Y,EADK,QAEdmvB,EAAWnvB,EAFG,UAIdknD,EAuDR,gBACE,IAAM9/D,EAAS+/D,EAAMzyD,KAAI,SAAUonC,EAAKryD,GACtC,MAAO,CACL6d,GAAIw0C,EADC,KAELt0C,GAAIs0C,EAFC,IAGL1lC,GAAI0lC,EAHC,MAILzlC,GAAIylC,EAJC,OAKLzqC,MALK,EAML+1D,WANK,EAOLC,WAPK,MAUTC,EAAAA,EAZ0C,GAc1C,IAd0C,EAcpCJ,EAAW,IAAIvhE,MAAMwhE,EAde,mBAe1C,2BAAwB,KAAxB,EAAwB,QAChB19E,EAAIid,EADY,MAEtBwgE,EAAAA,GAAc,CACZ9a,KAAM1lD,EADM,MAEZ2lD,IAFY,EAGZya,MAAOpgE,EAHK,MAIZqgE,OAJY,IAjB0B,8BA2B1CI,EAAAA,KAAU,SAAUrrB,EAAKryD,GACvB,IAAM0K,EAAI+yE,EAAV,GACExgE,EAAIU,EAFoB,GAG1BV,EAAAA,GAAOo1C,EAHmB,IAI1Bp1C,EAAAA,GAAOle,EAAQ2L,EAJW,MAK1BuS,EAAAA,GAAOo1C,EALmB,OAM1Bp1C,EAAAA,GAAOle,EAAQ2L,EANW,KAO1BuS,EAAAA,MAP0B,EAQ1BA,EAAAA,WAR0B,EAS1BA,EAAAA,WAT0B,KAW5B4gE,EAAAA,EAtC0C,oBAwC1C,2BAAwB,KAAxB,EAAwB,QAChB79E,EAAIid,EADY,MAEtBwgE,EAAAA,GAAAA,IAAkBxgE,EAFI,MAGtBwgE,EAAAA,GAAAA,OAAqBxgE,EAHC,OAxCkB,8BA6C1C,OA7C0C,EAvDzB6gE,CAAap4B,EAAbo4B,MAA6Bp4B,EAA7Bo4B,OAJG,GAKX99E,EAAT,EAAgBA,EAAIy9E,EAApB,OAAqCz9E,IAAK,CACxC,IAAMkvD,EAAMvxC,EAAAA,GAD4B,IAElCogE,EAAgBxnD,EAAAA,mBAAAA,IAFkB,GAGxC,OAAIwnD,EAAAA,MAAJ,CAkBA,IARA,IAAMrzE,EAAI+yE,EAAV,GACExgE,EAAIU,EAdkC,GAelCnB,EAAIS,EAAV,EACEC,EAAIV,EADN,GAEEiyC,EAAIjyC,EAjBkC,GAmBlCykD,EAAS,CAAC,CAAC,EAAF,GAAS,CAAC,EAAGhkD,EAAAA,KAAb,IAAyB,CAACA,EAAAA,KAAD,GAAzB,GAAyCA,EAAxD,MACMugE,EAAK,IAAIjwD,aApByB,IAqB/BlP,EAAJ,EAAW2/D,EAAK/c,EAArB,OAAoC5iD,EAApC,EAA4CA,IAAK,CAC/C,IAAML,EAAI7e,EAAAA,KAAAA,eAAoB8hE,EAApB9hE,GADqC,GAE/Cq+E,EAAGn/D,EAAHm/D,GAAYtgE,IAAMxS,EAAA,KAASsT,EAAV,IAF8B,EAG/Cw/D,EAAGn/D,EAAHm/D,GAAY/uB,IAAM/jD,EAAA,IAAQsT,EAAT,IAH8B,EAI/Cw/D,EAAGn/D,EAAHm/D,GAAYtgE,IAAMxS,EAAA,MAAUsT,EAAX,IAJ8B,EAK/Cw/D,EAAGn/D,EAAHm/D,IAAa/uB,IAAM/jD,EAAA,OAAWsT,EAAZ,IAL6B,EAO/Cw/D,EAAGn/D,EAAHm/D,IAAa/uB,IAAM/jD,EAAA,KAASsT,EAAV,KAP6B,EAQ/Cw/D,EAAGn/D,EAAHm/D,IAAatgE,IAAMxS,EAAA,IAAQsT,EAAT,IAR6B,EAS/Cw/D,EAAGn/D,EAAHm/D,IAAa/uB,IAAM/jD,EAAA,MAAUsT,EAAX,KAT6B,EAU/Cw/D,EAAGn/D,EAAHm/D,IAAatgE,IAAMxS,EAAA,OAAWsT,EAAZ,IAV6B,EAY/Cw/D,EAAGn/D,EAAHm/D,IAAatgE,IAAMxS,EAAA,KAASsT,EAAV,KAZ6B,EAa/Cw/D,EAAGn/D,EAAHm/D,IAAa/uB,IAAM/jD,EAAA,IAAQsT,EAAT,KAb6B,EAc/Cw/D,EAAGn/D,EAAHm/D,IAAatgE,IAAMxS,EAAA,MAAUsT,EAAX,KAd6B,EAe/Cw/D,EAAGn/D,EAAHm/D,IAAa/uB,IAAM/jD,EAAA,OAAWsT,EAAZ,KAf6B,EAiB/Cw/D,EAAGn/D,EAAHm/D,IAAa/uB,IAAM/jD,EAAA,KAASsT,EAAV,IAjB6B,EAkB/Cw/D,EAAGn/D,EAAHm/D,IAAatgE,IAAMxS,EAAA,IAAQsT,EAAT,KAlB6B,EAmB/Cw/D,EAAGn/D,EAAHm/D,IAAa/uB,IAAM/jD,EAAA,MAAUsT,EAAX,IAnB6B,EAoB/Cw/D,EAAGn/D,EAAHm/D,IAAatgE,IAAMxS,EAAA,OAAWsT,EAAZ,KApB6B,EAwBjD,IAAMigE,EAAW,EAAIljF,KAAAA,IAASA,KAAAA,IAATA,GAAsBA,KAAAA,IA7CH,IA8CxCgjF,EAAAA,YAA4BG,EAAAA,EAAAA,GAAAA,IA9CY,EA+CxCH,EAAAA,WAA2BG,EAAAA,EAAAA,GAAAA,IA/Ca,EAgDxCH,EAAAA,aAA6BG,EAAAA,EAAAA,EAAAA,IAhDW,EAiDxCH,EAAAA,cAA8BG,EAAAA,EAAAA,GAAAA,IAjDU,EAkDxC3nD,EAAAA,mBAAAA,IAAAA,EAlDwC,QAItCwnD,EAAAA,YAA4BpgE,EAAAA,GAAAA,KAAiB8/D,EAAAA,GADhB,KAE7BM,EAAAA,WAA2BpgE,EAAAA,GAAAA,IAAgB8/D,EAAAA,GAFd,IAG7BM,EAAAA,aAA6BN,EAAAA,GAAAA,MAAoB9/D,EAAAA,GAHpB,MAI7BogE,EAAAA,cAA8BN,EAAAA,GAAAA,OAAqB9/D,EAAAA,GAJtB,OAK7B4Y,EAAAA,mBAAAA,IAAAA,EAL6B,IAmGnC,gBAEE5Y,EAAAA,MAAY,SAAUX,EAAGC,GACvB,OAAOD,EAAAA,GAAOC,EAAPD,IAAeA,EAAAA,MAAUC,EADN,SAK5B,IAPsC,EAgBhCkhE,EAAU,CACd,CACE79E,OAAO,IACPxF,IAFF,IAGEsjF,SAbiB,CACnBvgE,IAAI,IACJE,IAAI,IACJ4O,GAHmB,EAInBC,GAJmB,IAKnBhF,OALmB,EAMnB+1D,MANmB,EAOnBC,MAPmB,KAPiB,WAwBtC,2BAA+B,CAI7B,IAJ6B,IAA/B,EAA+B,QAGzB59E,EAHyB,EAItBA,EAAIm+E,EAAJn+E,QAAsBm+E,EAAAA,GAAAA,KAAkBC,EAA/C,IACEp+E,IAGF,IADA,IAAIqe,EAAI8/D,EAAAA,OAPqB,EAQtB9/D,GAAAA,GAAU8/D,EAAAA,GAAAA,OAAoBC,EAArC,IACE//D,IAGF,IAAIggE,OAAJ,EAAiBC,OAZY,EAazBzX,OAAJ,EACEz8C,OADF,EAEEm0D,GAAU,IACZ,IAAK1X,EAAL,EAAYA,GAAZ,EAAoBA,IAAK,CAEvByX,GADAD,EAAcF,EADS,aAGvB,IAAIK,OAHmB,GAQrBA,EAJEF,EAAAA,GAAsBF,EAA1B,GAKIE,EAAAA,MAAyBF,EAAzBE,MACIA,EADJA,MAEIF,EAP+B,QAQhC,IAAIE,EAAAA,OAGD,KAAsBF,EAAvB,IAHwC,EAMxCE,EAFF,OAIP,IACEC,EADkB,GAStB,IAHAH,EAAAA,MA1C6B,EA6CxBvX,EAAL,EAAYA,GAAZ,EAAoBA,SAGlB,KADAyX,GADAD,EAAcF,EADS,cAGnBG,MAEEA,EAAAA,GAAsBF,EAA1B,GAGME,EAAAA,MAAyBF,EAA7B,QACEE,EAAAA,MAAyBA,EADkB,IAI7CA,EAAAA,MADK,EAGEA,EAAAA,MAAJ,IAELA,EAAAA,MAAyBvjF,KAAAA,IAAAA,EAAkBujF,EAFA,KAO/C,IAAMG,EAlEuB,GAmEzBC,EAnEyB,KAoE7B,IAAK7X,EAAL,EAAYA,GAAZ,EAAoBA,IAAK,CAIvB,IAAM8X,GAFNL,GADAD,EAAcF,EADS,cAKrBG,GAAsBF,EAAtBE,GAAAA,EALqB,EAMnBI,IAAJ,EAEED,EAAeA,EAAAA,OAAfA,GAAAA,IAAgDJ,EAFhB,KAIhCI,EAAAA,KAAoB,CAClBn+E,MAAO+9E,EADW,MAElBvjF,IAAKujF,EAFa,IAGlBD,SAHkB,IAKpBM,EANK,GA6BT,IApBIP,EAAAA,GAAAA,MAAmBC,EAAvB,KACEK,EAAAA,GAAAA,MAA0BL,EADQ,GAElCK,EAAAA,QAAuB,CACrBn+E,MAAO69E,EAAAA,GADc,MAErBrjF,IAAKsjF,EAFgB,GAGrBA,SAAUD,EAAAA,GAHW,YAMrBC,EAAAA,GAAcD,EAAAA,GAAlB,MACEM,EAAeA,EAAAA,OAAfA,GAAAA,IAAgDL,EADhB,GAEhCK,EAAAA,KAAoB,CAClBn+E,MAAO89E,EADW,GAElBtjF,IAAKqjF,EAAAA,GAFa,IAGlBC,SAAUD,EAAAA,GAHQ,YAUjBtX,EAAL,EAAYA,GAAZ,EAAoBA,IAGlB,aADAyX,GADAD,EAAcF,EADS,cAGnBG,MAAJ,CAGA,IAAIM,GANmB,EAOvB,IACEx0D,EAAIpqB,EADN,GAEG4+E,GAAQx0D,GAAT,GAAmB+zD,EAAAA,GAAAA,OAAoBG,EAFzC,GAGEl0D,IAEAw0D,EAAOT,EAAAA,GAAAA,WADP,EAGF,IACE/zD,EAAI/L,EADN,GAEGugE,GAAQx0D,EAAI+zD,EAAb,QAA+BA,EAAAA,GAAAA,KAAkBG,EAFnD,GAGEl0D,IAEAw0D,EAAOT,EAAAA,GAAAA,WADP,EAGF,IAAK/zD,EAAL,GAAaw0D,GAAQx0D,EAAIq0D,EAAzB,OAAgDr0D,IAC9Cw0D,EAAOH,EAAAA,GAAAA,WAD4C,EAGrD,IACEH,EAAAA,MADS,GAKbpiE,MAAAA,UAAAA,OAAAA,MAAAA,EAEE,CAAClc,EAAGqe,EAAAA,EAAJ,UAzI2B,KAxBO,8BAsKtC,+BAAmC,CAAnC,IACQigE,EADR,KAAmC,cAEjC,IAAIA,EAAAA,QACFA,EAAAA,MAAyBvjF,KAAAA,IAAAA,EAAgBujF,EADD,UAM9C,aACEvhF,SAAAA,EAAAA,GAQG,aARS,EAQT,EARS,cAQT,EARS,oBAQT,EARS,YAQT,EARS,WAQT,EARS,WAQT,EARS,oBAAZA,EAQG,EARHA,kHAQG,SACDD,KAAA,aADC,EAEDA,KAAA,mBAFC,EAGDA,KAAA,WAHC,EAIDA,KAAA,UAAiB8nC,EAJhB,cAKD9nC,KAAA,UALC,EAMDA,KAAA,UAAiBg+E,GANhB,GAODh+E,KAAA,qBAA4Bs+E,GAP3B,GAQDt+E,KAAA,wBARC,EASDA,KAAA,wBAA8B,UAACG,WAAD,6BAACA,EAT9B,SAWDH,KAAA,QAXC,KAYDA,KAAA,wBAZC,KAaDA,KAAA,0BAbC,KAcDA,KAAA,eAdC,KAeDA,KAAA,mBAA0B,IAfzB,QAgBDA,KAAA,gBAhBC,EAiBDA,KAAA,WAjBC,EAkBDA,KAAA,aAlBC,+BAmBDA,KAAA,aAnBC,KAoBDA,KAAA,QApBC,GAuBDA,KAAA,6BACW,WACF,EAAL,wBAEE,qBAF+B,MAK7B,EAAJ,iBAGE,8BAHuB,EAIvB,+BAJuB,EAKvB,iBALuB,SAP7B,OAeS,0DASX,WACE,OAAOA,KAAK4jD,YADA,8BAOdxd,WACEpmC,KAAA,WADO,EAEHA,KAAJ,UACEA,KAAA,eACU,IAAI,EAAJ,eADV,qCAES,eAGTA,KAAA,QANgB,MAQlB,OAAIA,KAAK+hF,eACP95B,aAAajoD,KADiB,cAE9BA,KAAA,aAF8B,MAIhCA,KAAA,mBAAwB,IAAIN,MAdrB,2DAoBTsiF,SAAAA,EAAAA,GACE,IAAK,IAAI9+E,EAAJ,EAAWitB,EAAMi6B,EAAtB,OAAoClnD,EAApC,EAA6CA,IAC3C,YAAIknD,EAAAA,GAAAA,IAiBJpqD,KAAA,0BAA+BoqD,EAAAA,GAlBiB,KAmBhD63B,EAAAA,KAAiB73B,EAAjB63B,GAAAA,EAAuCjiF,KAnBS,qBAE9C,GACEoqD,4BAAAA,EAAAA,GAAAA,MADF,uBAEEA,EAAAA,GAAAA,KACA,CACA,IAAM9tB,EAASt8B,KADf,WAEAA,KAAA,WAAkBV,SAAAA,cAFlB,QAGAU,KAAA,yBAHA,iBAIA,OAAIoqD,EAAAA,GAAAA,IACFpqD,KAAA,uCAAsCoqD,EAAAA,GADd,KAG1B9tB,EAAAA,YAAmBt8B,KAPnB,gBAQK,qBAAIoqD,EAAAA,GAAAA,OACTpqD,KAAA,WAAkBA,KAAKkiF,WADwB,uCAavDC,SAAAA,GACE,IAAMvD,EAAoB5+E,KAAKoiF,mBAAmBz1E,IAD/B,GAGfqL,EAHe,GAInB,GAAI4mE,IAAAA,EAAAA,aAAuCA,EAA3C,QAAsE,CACpE,MAAiCD,EADmC,MAC9D,EAAN,WAAM,EAAN,aAIEtf,IAAar/D,KAAbq/D,yBACAgjB,IAAeriF,KAFjB,4BAIEA,KAAA,4CADA,GAEAA,KAAA,wBAFA,EAGAA,KAAA,0BAHA,GAMF,IAAM,EAAYA,KAAKsiF,eAAeC,YAAY5D,EAbkB,aAapE,MAEA,GAAI18E,EAAJ,EAAe,CACb,IAAMtD,EAAQigF,EAAAA,YADD,EAET5+E,KAAJ,wBACE4+E,EAAAA,MAD8B,GAGhC5mE,EAAAA,UAAAA,OALa,EAKbA,MAgBJ,GAbA,IAAI4mE,EAAAA,QACF5mE,EAAAA,UAAAA,OAAsB4mE,EAAtB5mE,MAAAA,SAAAA,OADiC,IAG/BA,EAAAA,OAAJ,IACMhY,KAAJ,wBACE4+E,EAAAA,kBAD8B,GAGhCD,EAAAA,MAAAA,UAJwB,GAOtBC,EAAJ,SACE5+E,KAAA,uBAD6B,GAG3B4+E,EAAJ,OAA8B,CAC5B,IAAMjc,EAAKrjE,SAAAA,cADiB,MAE5BqjE,EAAAA,aAAAA,OAF4B,gBAG5B3iE,KAAA,uBAH4B,2BAUhCwiF,WAAqB,WAAbC,EAAa,uDAArBD,EACQ/1E,GADa,+BAEfi2E,EAAav/E,OAAAA,OAFE,MAKb9C,EAASL,KAAKM,UAAUC,cALX,UAgBnB,GAVAF,EAAAA,OAAgBA,EAAAA,MANG,EAYjBA,EAAAA,WAZiB,EAcnBL,KAAA,eAAsBK,EAAAA,WAAAA,KAAwB,CAAEkvB,OAd7B,IAgBfvvB,KAAJ,aAAuB,CACrB,IAAM2iF,EAAY3iF,KAAK4iF,aADF,MAEfC,EAAa7iF,KAAK4iF,aAFH,OAGrB5iF,KAAA,gBAHqB,GAIrByM,EAJqB,cAKhB,KAAIzM,KAAJ,mBAiBL,MAAM,IAAIN,MADL,uEAfL,IAAM4qD,EAAO,SAAPA,IACJ,uBAAyB,YAAqB,IAApB,EAAoB,EAApB,MAAoB,EAArB,KAErB79C,EADQ,WAKVtJ,OAAAA,OAAAA,EAA0BsC,EANkB,QAO5C,gBAAmBA,EAAnB,MAP4C,GAQ5C6kD,OACC79C,EAVc,SAanBzM,KAAA,QAAeA,KAAK8iF,mBAdc,YAelCx4B,IAOF79C,EAAAA,QAAAA,MAAwB,WACtBi2E,EAD4B,KAE5B,EAKE,eAAoBpjD,YAAW,WAC7BioB,EADmC,GAEnC,eAFmC,OAFhC,GADLA,EAFY,KAUbvnD,KAAK4jD,YAvDW,sCA6DrBm/B,WAAmC,IAApBC,EAAoB,wDACjC,GAAKhjF,KAAD,uBAAgCA,KAApC,gBAGA,OAAIA,KAAKkqE,UACP+Y,EADyB,MAEzBjjF,KAAA,QAFyB,MAO3B,IAHA,IAAMkjF,EAAN,GACEC,EAT+B,GAWxBjgF,EAAJ,EAAWD,EAAKjD,KAAKojF,UAA1B,OAA4ClgF,EAA5C,EAAoDA,IAAK,CACvD,IAAMkvD,EAAMpyD,KAAKojF,UADsC,GAEjDC,EAAWrjF,KAAKoiF,mBAAmBz1E,IAFc,GAIlD02E,EAAL,UAGA,GACEH,EAAAA,OADc,EAEdC,EAAAA,OAFc,EAIVE,EAAJ,mBACEH,EAAAA,KAAkBG,EADY,mBAG5BA,EAAAA,WAAJ,GACEF,EAAAA,KAAAA,GAAAA,OAAmBE,EADQ,WAC3BF,OACAD,EAAAA,KAAAA,cAAAA,QAAiCG,EAFN,WAE3BH,SAEAC,EAAAA,KADK,GAGHE,EAAAA,aAAJ,EACEF,EAAAA,KAAAA,GAAAA,OAAmBE,EAAAA,aAAwBA,EADd,MAC7BF,OAEAA,EAAAA,KADK,GAGHE,EAAAA,cAAJ,EACEF,EAAAA,KAAAA,GAAAA,OAAmBE,EADW,cAC9BF,OAEAA,EAAAA,KADK,GAGHE,EAAAA,YAAJ,GACEF,EAAAA,KAAAA,GAAAA,OAAmBE,EAAAA,YAAuBA,EADd,MAC5BF,OACAD,EAAAA,KAAAA,cAAAA,QACiBG,EAAD,YAAwBA,EAHZ,MAE5BH,SAIAC,EAAAA,KADK,GAIP/wB,EAAAA,MAAAA,QAAoB+wB,EAAAA,KAhCN,KAiCVD,EAAJ,SACE9wB,EAAAA,MAAAA,UAAsB8wB,EAAAA,KADC,QAIzB9wB,EAAAA,MAAAA,QADK,KAELA,EAAAA,MAAAA,UAAsBixB,EAFjB,yDAnRb,uGCniBA,WAhBA,8vEAgCA,IAAIC,EACFrjF,SAAAA,IAAc,WACZue,EAAAA,EAAAA,aADY,iDAQd,IAsVA,WAAY/Y,GACV,GAAIuI,OAAAA,UAAJ,GACE,OAAOvI,EADoB,WAG7B,IAAMksD,EAAIlsD,EAAAA,QAJO,IAKbvC,EAAIyuD,EAAAA,OALS,EAMjB,SAAIA,EAAAA,GACF,OADgB,EAKlB,GACEzuD,UAZe,MAaRyuD,EAAAA,IACT,OAAOA,EAAAA,UAAAA,EAAeA,MAAAA,EAAAA,GAAAA,EAAmBzuD,EAdxB,IA0BnB,WAAYwc,GACV,GAAIA,IAAAA,EAAAA,IAAJ,IAAkBA,EAAAA,GAAY,CAC5B,GAAIA,IAAAA,EAAAA,IAAJ,IAAkBA,EAAAA,GAChB,OAAIA,IAAAA,EAAAA,IAAJ,IAAkBA,EAAAA,GAAY,GAG9B,gBAAgB6jE,EAAG7jE,EAAnB,gBAA4B6jE,EAAG7jE,EAJH,IAI5B,KAEF,GAAIA,EAAAA,KAASA,EAATA,IAAiBA,EAAAA,MAAUA,EAA/B,GAAqC,CACnC,IAAMQ,EAAI,IAACjiB,KAAAA,KAAUyhB,EAAVzhB,IAAyBA,KADD,GAEnC,uBAAiBslF,EAFkB,GAEnC,WAGF,GAAI7jE,IAAAA,EAAAA,IAAAA,IAAcA,EAAAA,IAAdA,IAA4BA,EAAAA,IAAhC,IAA8CA,EAAAA,GAC5C,0BAAoB6jE,EAAG7jE,EAAvB,gBAAgC6jE,EAAG7jE,EADqB,IACxD,KAGJ,MACE,iBAAU6jE,EAAG7jE,EAAb,gBAAsB6jE,EAAG7jE,EAAzB,gBAAkC6jE,EAAG7jE,EAArC,gBAA8C6jE,EAAG7jE,EAAjD,gBAA0D6jE,EAAG7jE,EAA7D,mBACG6jE,EAAG7jE,EAnBK,IAiBb,MAhYI8jE,EAAe,CACnBC,UADmB,SAEnBC,WAFmB,SAGnBznB,UAHmB,WAOfvC,EAAkB,CAAC,OAAQ,QAAjC,UACMC,EAAmB,CAAC,QAAS,QAAnC,SAEMgqB,EAAuB,WAO3B,IANA,IAAMC,EAAa,IAAI5iF,WAAW,CAAC,IAAD,kBAAlC,KAKM6iF,EAAW,IAAIpf,WANkB,KAO9BvhE,EAAT,EAAgBA,EAAhB,IAAyBA,IAAK,CAE5B,IADA,IAAIkd,EADwB,EAEnBolD,EAAT,EAAgBA,EAAhB,EAAuBA,IAEnBplD,EADF,EAAIA,EACE,WAAeA,GAAD,EADT,WAGJA,GAAD,EADC,WAITyjE,EAAAA,GAT4B,EAsB9B,oBACE,IAAIpkE,EAD2C,EAEzC0Q,EAAM2zD,EAFmC,OAI/C/iF,EAAAA,GAAWovB,GAAD,GAJqC,IAK/CpvB,EAAK0e,EAAL1e,GAAeovB,GAAD,GALiC,IAM/CpvB,EAAK0e,EAAL1e,GAAeovB,GAAD,EANiC,IAO/CpvB,EAAK0e,EAAL1e,GAP+C,IAOjCovB,EAGdpvB,EAFA0e,GAR+C,OAUrCxY,EAAAA,WAAAA,GACVlG,EAAK0e,EAAL1e,GAX+C,IAWjCkG,EAAAA,WAAAA,GACdlG,EAAK0e,EAAL1e,GAZ+C,IAYjCkG,EAAAA,WAAAA,GACdlG,EAAK0e,EAAL1e,GAb+C,IAajCkG,EAAAA,WAAAA,GACdwY,GAd+C,EAgB/C1e,EAAAA,IAAAA,EAhB+C,GAmB/C,IAAMgjF,EA7BR,gBAEE,IADA,IAAIA,GAD2B,EAEtB7gF,EAAT,EAAoBA,EAApB,EAA6BA,IAAK,CAChC,IAAMgd,EAD0B,KACrB6jE,EAAMhjF,EAAP,IAEVgjF,EAAOA,IAAD,EADIF,EAFsB,GAKlC,OAP+B,EAOxBE,EAsBKC,CAAAA,EAAYtyB,EAAZsyB,EAFZvkE,GAAKqkE,EAjB0C,QAoB/C/iF,EAAAA,GAAWgjF,GAAD,GApBqC,IAqB/ChjF,EAAK0e,EAAL1e,GAAegjF,GAAD,GArBiC,IAsB/ChjF,EAAK0e,EAAL1e,GAAegjF,GAAD,EAtBiC,IAuB/ChjF,EAAK0e,EAAL1e,GAvB+C,IAuBjCgjF,EA0DhB,cACE,IAAI5zD,EAAM8zD,EAD+B,OAEnCC,EAFmC,MAInCC,EAAgBlmF,KAAAA,KAAUkyB,EAJS,GAKnCi0D,EAAO,IAAIpjF,WAAW,EAAImvB,EAAJ,EAAUg0D,EALG,GAMrCE,EANqC,EAOzCD,EAAKC,KAPoC,IAQzCD,EAAKC,KARoC,IAWzC,IADA,IAAIj5E,EAVqC,EAWlC+kB,EAAP,GAEEi0D,EAAKC,KAFsB,EAG3BD,EAAKC,KAHsB,IAI3BD,EAAKC,KAJsB,IAK3BD,EAAKC,KALsB,EAM3BD,EAAKC,KANsB,EAO3BD,EAAAA,IAASH,EAAAA,SAAAA,EAAuB74E,EAAhCg5E,GAP2B,GAQ3BC,GAR2B,EAS3Bj5E,GAT2B,EAU3B+kB,GAV2B,EAc7Bi0D,EAAKC,KAzBoC,EA0BzCD,EAAKC,KA1BoC,IA0B5Bl0D,EACbi0D,EAAKC,KAASl0D,GAAD,EA3B4B,IA4BzCi0D,EAAKC,KAAe,KAANl0D,EACdi0D,EAAKC,MAAS,OAAC,IAAF,EA7B4B,IA8BzCD,EAAAA,IAASH,EAAAA,SAATG,GA9ByC,GA+BzCC,GAAMJ,EAAAA,OA/BmC,EAiCzC,IAAMK,EAxFR,gBAGE,IAFA,IAAIpkE,EAD6B,EAE7BC,EAF6B,EAGxBjd,EAAT,EAAoBA,EAApB,MAEEid,GAAKA,GADLD,GAAKA,GAAD,IAAMnf,EAAK,KADiB,cAIlC,OAAQof,GAAD,GAP0B,EAwFnBokE,CAAAA,EAAAA,EAAqBN,EAjCM,QAsCzC,OAJAG,EAAKC,KAASC,GAAD,GAlC4B,IAmCzCF,EAAKC,KAASC,GAAD,GAnC4B,IAoCzCF,EAAKC,KAASC,GAAD,EApC4B,IAqCzCF,EAAKC,KArCoC,IAqC5BC,EArC4B,EAyC3C,oBACE,IAEA,IAHsD,EAChDriF,EAAQk0D,EADwC,MAEhDj0D,EAASi0D,EAFuC,OAIhD5qD,EAAQ4qD,EAJwC,KAMtD,UACE,KAAKU,EAAAA,UAAL,eACE2tB,EADF,EAEEC,EAFF,EAGErgB,EAAYniE,EAAD,GAHb,EADF,MAME,KAAK40D,EAAAA,UAAL,UACE2tB,EADF,EAEEC,EAFF,EAGErgB,EAHF,EAGaniE,EATf,MAWE,KAAK40D,EAAAA,UAAL,WACE2tB,EADF,EAEEC,EAFF,EAGErgB,EAHF,EAGaniE,EAdf,MAgBE,QACE,MAAM,IAAIvC,MAjBd,kBAwBA,IAHA,IAAMukF,EAAW,IAAIjjF,YAAY,EAAD,GA3BsB,GA4BlD0jF,EAAJ,EACEC,EA7BoD,EA8B7C52D,EAAT,EAAgBA,EAAhB,MACEk2D,EAASS,KADsB,EAE/BT,EAAAA,IACE14E,EAAAA,SAAAA,EAA4Bo5E,EAD9BV,GAF+B,GAM/BU,GAN+B,EAO/BD,GAP+B,EAUjC,GAAIvyD,IAAS0kC,EAAAA,UAAT1kC,gBAAJ,EAAiD,CAE/CuyD,EAF+C,EAG/C,IAAK,IAAI32D,EAAT,EAAgBA,EAAhB,EAA4BA,IAAK,CAC/B22D,IACA,IAAK,IAAIxhF,EAAT,EAAgBA,EAAhB,EAA8BA,IAC5B+gF,EAASS,MADwB,KAMvC,IAAME,EAAO,IAAI5jF,WAAW,CACzBiB,GAAD,GAD0B,IAEzBA,GAAD,GAF0B,IAGzBA,GAAD,EAH0B,QAI1BA,EACCC,GAAD,GAL0B,IAMzBA,GAAD,GAN0B,IAOzBA,GAAD,EAP0B,QAQ1BA,EAR0B,QAA5B,IAeMkiF,EAlJR,YACE,eAIE,OAAOS,EAJM,GAMf,IAUE,IAVE,EAaA5gF,EADElF,SAASgjB,QAAAA,SAAThjB,OAAJ,EAA0C,EAIhC8iB,OAAAA,KAFH,GAIP,IAAMsuD,EAAS1c,oBAAAA,MAAAA,YAAAA,EAAmD,CAChEqxB,MAnBA,IAqBF,OAAO3U,aAAAA,WAAAA,EAAwC,IAAInvE,WArBjD,GAsBF,MAAO4M,IACPxP,EAAAA,EAAAA,MACE,gEAFQ,GAMZ,OAAOymF,EAnCsB,GAkJhBE,CAlEyC,GAqEhDC,EACJpB,EAAAA,OAAoBqB,GAAyBL,EAA7ChB,OAA2DQ,EAtEP,OAuEhDrjF,EAAO,IAAIC,WAvEqC,GAwElD0wD,EAxEkD,EAiFtD,OARA3wD,EAAAA,IAAAA,EAzEsD,GA2EtDmkF,EAAAA,OAAAA,EAAAA,EADAxzB,GAAUkyB,EA1E4C,QA6EtDsB,EAAAA,QAAAA,EAAAA,EADAxzB,GAnOqC,GAmONkzB,EA5EuB,QA8EtDlzB,GArOqC,GAqON0yB,EA9EuB,OA+EtDc,EAAAA,OAAsB,IAAIlkF,WAA1BkkF,GAAAA,EA/EsD,IAiF/CC,EAAAA,EAAAA,iBAAAA,EAAAA,YAjF+C,GAqFxD,OAAO,SAA6BhvB,EAASrqD,EAAiBs5E,GAG5D,OAAOC,EAAAA,OADLlvB,IAAAA,EAAAA,KAA6BU,EAAAA,UAA7BV,eAAwDA,EAFU,KAG7DkvB,EAH6D,IA5O3C,GAmP7B,EA9PA,WA+PEplF,SAAAA,IAAc,UACZD,KAAA,cADY,EAEZA,KAAA,WAAkBwjF,EAFN,WAGZxjF,KAAA,SAHY,EAKZA,KAAA,WALY,kBAMZA,KAAA,WANY,uBAOZA,KAAA,QAPY,EAQZA,KAAA,kBAAyBk1D,EAAAA,kBARb,KASZl1D,KAAA,gBATY,EAYZA,KAAA,EAZY,EAaZA,KAAA,EAbY,EAgBZA,KAAA,MAhBY,EAiBZA,KAAA,MAjBY,EAoBZA,KAAA,YApBY,EAqBZA,KAAA,YArBY,EAsBZA,KAAA,WAtBY,EAuBZA,KAAA,SAvBY,EA0BZA,KAAA,UAAiBwjF,EA1BL,UA2BZxjF,KAAA,YA3BY,UA6BZA,KAAA,UA7BY,EA8BZA,KAAA,YA9BY,EA+BZA,KAAA,UA/BY,EAgCZA,KAAA,SAhCY,GAiCZA,KAAA,QAjCY,GAkCZA,KAAA,WAlCY,EAoCZA,KAAA,UApCY,GAqCZA,KAAA,UArCY,EAuCZA,KAAA,aAvCY,GA0CZA,KAAA,cA1CY,KA2CZA,KAAA,UA3CY,KA6CZA,KAAA,OA7CY,GA/PhB,+BA+SEmC,WACE,OAAOgB,OAAAA,OADD,QA/SV,6BAmTEiyD,SAAAA,EAAAA,GACEp1D,KAAA,EADoB,EAEpBA,KAAA,EAFoB,MAnTxB,KA0YIslF,EA1YJ,EA2YIC,EA3YJ,EA4YIC,EA5YJ,EA8YAlC,EAAAA,YAAAA,EAAAA,WACErjF,SAAAA,EAAAA,EAAAA,GAAuD,IAAzB6L,EAAyB,wDAqBrD,aArBqD,UACrD9L,KAAA,WAAkB,IADmC,gBAGrDA,KAAA,QAAe,IAHsC,EAIrDA,KAAA,gBAJqD,kBAKrDA,KAAA,eALqD,GAMrDA,KAAA,WANqD,GAOrDA,KAAA,WAPqD,EAQrDA,KAAA,KARqD,EASrDA,KAAA,YATqD,KAUrDA,KAAA,eAVqD,EAYrDA,KAAA,YAZqD,EAarDA,KAAA,cAAqBmD,OAAAA,OAbgC,MAcrDnD,KAAA,SAdqD,KAerDA,KAAA,kBAfqD,EAoBrDA,KAAA,mBApBqD,GAqBrD,MACEA,KAAA,mBAAwB86D,EAAAA,IAAxB,IADoB,EAtB1BwoB,OAAAA,EAAAA,EAAAA,CAAAA,CAAAA,IAAAA,OAAAA,MA2BExrE,WACE9X,KAAA,oBAAyBA,KADpB,iBAEL,IAAM00D,EAAM10D,KAFP,QAGLA,KAAA,gBAHK,GAILA,KAAA,QAAe00D,EAJV,UA3BT4uB,CAAAA,IAAAA,UAAAA,MAkCEvrE,WACE/X,KAAA,gBAAuBA,KAAKylF,eADpB,MAERzlF,KAAA,QAAeA,KAAK0lF,WAFZ,MAGR1lF,KAAA,YAHQ,KAIRA,KAAA,KAJQ,OAlCZsjF,CAAAA,IAAAA,QAAAA,MAyCErgB,SAAAA,GACEjjE,KADW,OAEXA,KAAA,cAFW,GAGXA,KAHW,YAzCfsjF,CAAAA,IAAAA,mBAAAA,MA+CEqC,SAAAA,GAIE,IAJ6B,WACvBr9B,EAAUS,EADa,QAEvBR,EAAYQ,EAFW,UAIpB7lD,EAAJ,EAAWD,EAAKqlD,EAArB,OAAqCplD,EAArC,EAA6CA,IAC3C,GAAIolD,EAAAA,KAAewS,EAAAA,IAAnB,YADgD,UAK9BvS,EAL8B,6BAKhD,EALgD,QAMxCwS,EAAWl1D,EAAAA,WAAAA,MAAuB,EAAvBA,WAAyC,EAD5B,KAExBk1B,EAAU,IAAI37B,SAAQI,SAAAA,GAC1Bu7D,EAAAA,IAAAA,EADqC,MAGvC,4BAL8B,IAAhC,2BAAgC,IALgB,+BAalD,OAAO37D,QAAAA,IAAYY,KAAKqzD,QAjBK,gBA/CjCiwB,CAAAA,IAAAA,YAAAA,MAmEEtrE,SAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GACE,IAAM4tE,EAAkB,CAAC1lE,EAAGC,EAAGC,EAAGT,EAAG/R,EAArC,GACA5N,KAAA,gBAAuBqC,EAAAA,KAAAA,UACrBrC,KADqBqC,gBAFG,GAM1BrC,KAAA,KAN0B,OAnE9BsjF,CAAAA,IAAAA,SAAAA,MA4EEuC,SAAAA,EAAAA,GAA+B,WAC7B7lF,KAAA,SAD6B,EAG7B,IAAM8lF,EAAa9lF,KAAKosD,YAHK,GAI7B,OAAOpsD,KAAK2lF,iBAAiB58B,GAAc5gD,MAAK,WAG9C,OAFA,kBADoD,kBAEpD,gBAAmB,gBAFiC,WAhF1Dm7E,CAAAA,IAAAA,gBAAAA,MAuFEyC,SAAAA,GAKE,IAJA,IAAMC,EAAoBhmF,KADA,mBAEpBuoD,EAAYQ,EAFQ,UAGpBT,EAAUS,EAHU,QAIpBk9B,EAJoB,GAKjB/iF,EAAJ,EAAWD,EAAKqlD,EAArB,OAAqCplD,EAArC,EAA6CA,IAAK,CAChD,IAAM23D,EAAOvS,EADmC,GAEhD29B,EAAAA,KAAY,CACVprB,KADU,EAEV3zD,GAAI8+E,EAFM,GAGV91D,KAAMq4B,EAHI,KAMd,OAxLJ,SAAsB09B,GACpB,IAD4B,EACxBC,EADwB,GAEtBpe,EAFsB,cAI5B,2BAAoC,KAApC,EAAoC,QAClC,SAAIqe,EAAAA,GAOJ,YAAIA,EAAAA,GACFD,EAASpe,EADyB,MAGlCoe,EAAAA,KADK,IARLA,EAAAA,KAAY,CAAErrB,KAAF,GAAY3zD,GAAZ,QAAyBkjD,MAAzB,KACZ0d,EAAAA,KAF+B,GAG/Boe,EAASA,EAAOA,EAAAA,OAAPA,GAHsB,QALP,8BAkB5B,OAlB4B,EAwLnBE,CAbmB,KAvF9B9C,CAAAA,IAAAA,gBAAAA,MAuGE+C,SAAAA,GAAsB,iBACpB,2BAAoC,KAApC,EAAoC,QAC5Bn/E,EAAKo/E,EADuB,GAE5BzrB,EAAOyrB,EAFqB,KAG5Bp2D,EAAOo2D,EAHqB,KAKlC,SAAQzrB,GACN,KAAKC,EAAAA,IAAL,UACE96D,KADF,YADF,MAIE,KAAK86D,EAAAA,IAAL,WAJF,MAOE,KAAKA,EAAAA,IAAL,WACE96D,KAAA,WADF,GAPF,MAUE,KAAK86D,EAAAA,IAAL,mBACE96D,KAAA,mBAAwBkwB,EAAxB,GAAiCA,EADnC,IAVF,MAaE,KAAK4qC,EAAAA,IAAL,QACE96D,KAAA,QADF,GAbF,MAgBE,KAAK86D,EAAAA,IAAL,SAGA,KAAKA,EAAAA,IAAL,eACE96D,KAAA,SAAckwB,EADhB,IAnBF,MAsBE,KAAK4qC,EAAAA,IAAL,QACE96D,KADF,UAtBF,MAyBE,KAAK86D,EAAAA,IAAL,SACE96D,KAAA,SAAckwB,EAAd,GAAuBA,EADzB,IAzBF,MA4BE,KAAK4qC,EAAAA,IAAL,eACE96D,KAAA,eAAoBkwB,EADtB,IA5BF,MA+BE,KAAK4qC,EAAAA,IAAL,eACE96D,KAAA,eAAoBkwB,EADtB,IA/BF,MAkCE,KAAK4qC,EAAAA,IAAL,UACE96D,KAAA,UAAekwB,EADjB,IAlCF,MAqCE,KAAK4qC,EAAAA,IAAL,cACE96D,KAAA,cACEkwB,EADF,GAEEA,EAFF,GAGEA,EAHF,GAIEA,EAJF,GAKEA,EALF,GAMEA,EAPJ,IArCF,MA+CE,KAAK4qC,EAAAA,IAAL,YACE96D,KAAA,YAAiBkwB,EADnB,IA/CF,MAkDE,KAAK4qC,EAAAA,IAAL,qBACE96D,KAAA,qBAA0BkwB,EAD5B,IAlDF,MAqDE,KAAK4qC,EAAAA,IAAL,aACE96D,KAAA,aAAkBkwB,EADpB,IArDF,MAwDE,KAAK4qC,EAAAA,IAAL,YACE96D,KAAA,YAAiBkwB,EADnB,IAxDF,MA2DE,KAAK4qC,EAAAA,IAAL,WACE96D,KAAA,WAAgBkwB,EADlB,IA3DF,MA8DE,KAAK4qC,EAAAA,IAAL,cACE96D,KAAA,cAAmBkwB,EADrB,IA9DF,MAiEE,KAAK4qC,EAAAA,IAAL,gBACE96D,KAAA,gBAAqBkwB,EAArB,GAA8BA,EAA9B,GAAuCA,EADzC,IAjEF,MAoEE,KAAK4qC,EAAAA,IAAL,kBACE96D,KAAA,kBAAuBkwB,EAAvB,GAAgCA,EAAhC,GAAyCA,EAD3C,IApEF,MAuEE,KAAK4qC,EAAAA,IAAL,gBACE96D,KAAA,gBADF,GAvEF,MA0EE,KAAK86D,EAAAA,IAAL,cACE96D,KAAA,cADF,GA1EF,MA6EE,KAAK86D,EAAAA,IAAL,YACE96D,KAAA,YAAiBkwB,EADnB,IA7EF,MAgFE,KAAK4qC,EAAAA,IAAL,QACE96D,KAAA,QAAakwB,EAAb,GAAsBA,EADxB,IAhFF,MAmFE,KAAK4qC,EAAAA,IAAL,mBACE96D,KAAA,mBAAwBkwB,EAD1B,IAnFF,MAsFE,KAAK4qC,EAAAA,IAAL,YACE96D,KAAA,YAAiBkwB,EADnB,IAtFF,MAyFE,KAAK4qC,EAAAA,IAAL,UACE96D,KAAA,UAAekwB,EADjB,IAzFF,MA4FE,KAAK4qC,EAAAA,IAAL,KACE96D,KADF,OA5FF,MA+FE,KAAK86D,EAAAA,IAAL,OACE96D,KADF,SA/FF,MAkGE,KAAK86D,EAAAA,IAAL,OACE96D,KADF,SAlGF,MAqGE,KAAK86D,EAAAA,IAAL,WACE96D,KADF,aArGF,MAwGE,KAAK86D,EAAAA,IAAL,aACE96D,KADF,eAxGF,MA2GE,KAAK86D,EAAAA,IAAL,KACE96D,KAAA,KADF,WA3GF,MA8GE,KAAK86D,EAAAA,IAAL,OACE96D,KAAA,KADF,WA9GF,MAiHE,KAAK86D,EAAAA,IAAL,yBACE96D,KADF,2BAjHF,MAoHE,KAAK86D,EAAAA,IAAL,kBACE96D,KAAA,kBAAuBkwB,EADzB,IApHF,MAuHE,KAAK4qC,EAAAA,IAAL,wBACE96D,KAAA,wBAA6BkwB,EAD/B,IAvHF,MA0HE,KAAK4qC,EAAAA,IAAL,sBACE96D,KAAA,sBAA2BkwB,EAD7B,IA1HF,MA6HE,KAAK4qC,EAAAA,IAAL,sBACE96D,KAAA,sBAA2BkwB,EAA3B,GAAoCA,EADtC,IA7HF,MAgIE,KAAK4qC,EAAAA,IAAL,oBACE96D,KADF,sBAhIF,MAmIE,KAAK86D,EAAAA,IAAL,UACE96D,KADF,YAnIF,MAsIE,KAAK86D,EAAAA,IAAL,YACE96D,KADF,cAtIF,MAyIE,KAAK86D,EAAAA,IAAL,gBACE96D,KADF,kBAzIF,MA4IE,KAAK86D,EAAAA,IAAL,kBACE96D,KADF,oBA5IF,MA+IE,KAAK86D,EAAAA,IAAL,SACE96D,KADF,WA/IF,MAkJE,KAAK86D,EAAAA,IAAL,UACE96D,KAAA,UACEkwB,EADF,GAEEA,EAFF,GAGEA,EAHF,GAIEA,EAJF,GAKEA,EALF,GAMEA,EAPJ,IAlJF,MA4JE,KAAK4qC,EAAAA,IAAL,cACE96D,KAAA,cAAmBkwB,EAAnB,GAA4BA,EAD9B,IA5JF,MA+JE,KAAK4qC,EAAAA,IAAL,QACE96D,KADF,UA/JF,MAkKE,QACEA,KAAA,MAAWsmF,EADb,OAlKF,MAqKE,SACEloF,EAAAA,EAAAA,MAAAA,0BAAAA,OADF,MA3KgB,iCAvGxBklF,CAAAA,IAAAA,iBAAAA,MAyREhqE,SAAAA,GACEtZ,KAAA,oBAD0B,IAzR9BsjF,CAAAA,IAAAA,iBAAAA,MA6REjqE,SAAAA,GACErZ,KAAA,oBAD0B,IA7R9BsjF,CAAAA,IAAAA,WAAAA,MAiSEvpE,WACE/Z,KAAA,WAAiBA,KAAKqzD,QADb,WAjSbiwB,CAAAA,IAAAA,gBAAAA,MAqSExpE,SAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GACE,IAAMu5C,EAAUrzD,KADc,QAE9BqzD,EAAAA,WAAqBA,EAAAA,WAAqB,CAACnzC,EAAGC,EAAGC,EAAGT,EAAG/R,EAAvDylD,GACAA,EAAAA,gBAA0Bp1D,KAAAA,MAAAA,EAHI,GAK9Bo1D,EAAAA,EAAYA,EAAAA,MALkB,EAM9BA,EAAAA,EAAYA,EAAAA,MANkB,EAQ9BA,EAAAA,QAR8B,GAS9BA,EAAAA,QAT8B,GAU9BA,EAAAA,MAAgBrzD,KAAK+7E,WAAWx7E,cAVF,aAW9B8yD,EAAAA,MAAAA,eAAAA,KAAAA,cAAkDA,EAXpB,YAY9BA,EAAAA,MAAAA,eAAAA,KAAAA,YAAAA,GAAAA,OAGKkwB,EAAGlwB,EAfsB,UAY9BA,OAKAA,EAAAA,MAAAA,eAAAA,KAAAA,IAAwCkwB,GAAIlwB,EAjBd,IAmB9BA,EAAAA,WAAqBrzD,KAAK+7E,WAAWx7E,cAnBP,YAoB9B8yD,EAAAA,WAAAA,YAA+BA,EApBD,SArSlCiwB,CAAAA,IAAAA,YAAAA,MA4TEnqE,WACE,IAAMk6C,EAAUrzD,KADN,QAEVqzD,EAAAA,EAAYA,EAAAA,MAFF,EAGVA,EAAAA,EAAYA,EAAAA,MAHF,EAIVA,EAAAA,WAJU,kBAKVA,EAAAA,WALU,kBAMVA,EAAAA,gBANU,EAOVA,EAAAA,MAAgBrzD,KAAK+7E,WAAWx7E,cAPtB,aAQV8yD,EAAAA,WAAqBrzD,KAAK+7E,WAAWx7E,cAR3B,YASV8yD,EAAAA,OAAiBrzD,KAAK+7E,WAAWx7E,cATvB,SAUV8yD,EAAAA,QAVU,GAWVA,EAAAA,QAXU,KA5TdiwB,CAAAA,IAAAA,WAAAA,MA0UE1pE,SAAAA,EAAAA,GACE,IAAMy5C,EAAUrzD,KADH,QAEbqzD,EAAAA,EAAYA,EAAAA,OAFC,EAGbA,EAAAA,EAAYA,EAAAA,OAHC,EAKbA,EAAAA,QALa,GAMbA,EAAAA,QANa,GAObA,EAAAA,MAAgBrzD,KAAK+7E,WAAWx7E,cAPnB,aAQb8yD,EAAAA,MAAAA,eAAAA,KAAAA,cAAkDA,EARrC,YASbA,EAAAA,MAAAA,eAAAA,KAAAA,YAAAA,GAAAA,OAGKkwB,EAAGlwB,EAZK,UASbA,OAKAA,EAAAA,MAAAA,eAAAA,KAAAA,IAAwCkwB,GAAIlwB,EAd/B,MA1UjBiwB,CAAAA,IAAAA,WAAAA,MA2VEtpE,SAAAA,GACE,IAAMq5C,EAAUrzD,KADD,QAETsd,EAAO+1C,EAFE,KAGTgM,EAAWhM,EAHF,SAIf,OAAIgM,EAAJ,CAIA,IARe,EAQTO,EAAgBvM,EARP,cASTwM,EAAcxM,EATL,YAUTyM,EAAczM,EAVL,YAWT0M,EAAgB1M,EAXP,cAYT2M,EAAa3M,EAAAA,WAZJ,EAaT8M,EAAW7iD,EAbF,SAcT8iD,EAAaD,EAAAA,GAdJ,EAeTE,EAAkB/iD,EAfT,gBAgBTgjD,EAAoBjB,EAAWhM,EAAAA,WAhBtB,GAkBX/wD,EAlBW,aAmBf,2BAA4B,KAA5B,EAA4B,QAC1B,UAAIq+D,EAIG,IAAIC,EAAAA,EAAAA,OAAJ,GACLt+D,GAAM89D,EAAAA,EAAD,EADkB,QAAlB,CAKP,IAAMU,GAAWH,EAAA,UAAD,GAVU,EAWpB1N,EAAY0N,EAXQ,SAYtBK,OAAJ,EAAaC,OAZa,EAatBh/D,EAAQ0+D,EAbc,MAc1B,KAAc,CACZ,IAAIQ,OADQ,EAEND,EAAUP,EAAAA,SAFJ,EAIZQ,IADAA,EAAKR,EAAAA,QAAgBO,EAAhBP,GAHO,GAGsB1+D,GAHtB,EAKZ,IAAMm/D,EAAKF,EAAAA,GALC,EAOZj/D,EAAQi/D,GAAWA,EAAXA,GAPI,EAQZF,EAAUG,EARE,EASZF,GAAW3+D,EAAD,GATE,OAWZ0+D,EAAU1+D,EADL,EAEL2+D,EAFK,GAKHN,EAAAA,UAAkBrjD,EAAtB,eACE+1C,EAAAA,QAAAA,KAAqBA,EAAAA,EADiB,GAEtC,GACEA,EAAAA,QAAAA,MAAsBA,EAAD,EADT,GAGdA,EAAAA,MAAAA,aALsC,GAoBxC/wD,GANA,EACcL,EAAAA,EAA4B6+D,EAD5B,EAGA7+D,EAAAA,EAA4B6+D,EADnC,OA1CLx+D,GAAKy9D,EAFa,GApBP,8BAsEf1M,EAAAA,MAAAA,eAAAA,KAAAA,IAGEA,EAAAA,QAAAA,IAAAA,GAAAA,KAzEa,MA2Ef,EACEA,EAAAA,MAAAA,eAAAA,KAAAA,IAGEA,EAAAA,QAAAA,IAAAA,GAAAA,KAJU,MAOZA,EAAAA,MAAAA,eAAAA,KAAAA,IAAwCkwB,GAAIlwB,EADvC,IAIP,EACEA,EAAAA,GADY,EAGZA,EAAAA,GAAa/wD,EADR,EAIP+wD,EAAAA,MAAAA,eAAAA,KAAAA,cAAkDA,EA3FnC,YA4FfA,EAAAA,MAAAA,eAAAA,KAAAA,YAAAA,GAAAA,OAGKkwB,EAAGlwB,EA/FO,UA4FfA,OAKIA,EAAAA,YAAsBmwB,EAA1B,WACEnwB,EAAAA,MAAAA,eAAAA,KAAAA,aAAiDA,EADD,WAG9CA,EAAAA,aAAuBmwB,EAA3B,YACEnwB,EAAAA,MAAAA,eAAAA,KAAAA,cAAkDA,EADA,YAIpD,IAAMiM,EACJjM,EAAAA,kBAA4B6B,EAAAA,kBAzGf,iBA4Hf,GAjBEoK,IAAmBpK,EAAAA,kBAAnBoK,MACAA,IAAmBpK,EAAAA,kBAFrB,aAIM7B,EAAAA,YAAsBmwB,EAA1B,WACEnwB,EAAAA,MAAAA,eAAAA,KAAAA,OAA2CA,EADK,WAG9CA,EAAAA,UAAJ,GACEA,EAAAA,MAAAA,eAAAA,KAAAA,eAAmDA,EAD1B,YAGlBA,EAAAA,oBAA8B6B,EAAAA,kBAAlC,YAGL7B,EAAAA,MAAAA,eAAAA,KAAAA,OAHsE,eAKtEA,EAAAA,MAAAA,eAAAA,KAAAA,OADK,QAKLiM,IAAmBpK,EAAAA,kBAAnBoK,QACAA,IAAmBpK,EAAAA,kBAFrB,YAGE,CACA,IAAMqxB,EAAiB,GAAKlzB,EAAQmzB,iBADpC,GAEAxmF,KAAA,qBAA0BqzD,EAA1B,MAFA,GAQF,IAAIozB,EAAapzB,EAvIF,WAwIf,IAAIA,EAAAA,YACFozB,EAAaA,EADa,SAE1BA,IAAiBpzB,EAFS,UAK5BA,EAAAA,WAAAA,eAAAA,KAAAA,YAAAA,GAAAA,OAGKqzB,EAHLrzB,GAAAA,WAAAA,OAG6BkwB,EAhJd,GA6IflwB,UAKAA,EAAAA,WAAAA,eA33BJ,uCA23BIA,YAlJe,YAmJfA,EAAAA,WAAAA,YAA+BA,EAnJhB,OAoJfA,EAAAA,OAAAA,YAA2BA,EApJZ,YAsJfrzD,KAAA,oCAAyCqzD,EAtJ1B,eA3VnBiwB,CAAAA,IAAAA,qBAAAA,MAofEzpE,SAAAA,EAAAA,GACE7Z,KAAA,YADuB,GAEvBA,KAAA,WAFuB,KApf3BsjF,CAAAA,IAAAA,eAAAA,MAyfEqD,SAAAA,GACE,IAAK7nB,EAAL,KACE,MAAM,IAAIp/D,MACR,qGAICM,KAAL,WACEA,KAAA,SAAgBA,KAAK+7E,WAAWx7E,cADd,aAElBP,KAAA,oCAFkB,YAGlBA,KAAA,iBAAsBA,KAHJ,WAMpB,IAAM1C,GAAM6nF,EAAAA,EAAAA,iBACVrmB,EADUqmB,KAEVrmB,EAFUqmB,SAGVnlF,KAhBkB,iBAkBpBA,KAAA,sBACE,qCAA8B8+D,EAA9B,qCAnBkB,EAkBpB,YA3gBJwkB,CAAAA,IAAAA,UAAAA,MAghBE7pE,SAAAA,GACE,IAAM45C,EAAUrzD,KADD,QAET8+D,EAAU9+D,KAAK8oD,WAAWn8C,IAAIi6E,EAFrB,IAGXtlD,EAAOslD,EAHI,GAIfvzB,EAAAA,KAJe,GAObrzD,KAAK6mF,YACJ/nB,EADD,aAEC9+D,KAAK8mF,cAAchoB,EAHtB,cAKE9+D,KAAA,aADA,GAEAA,KAAA,cAAmB8+D,EAAnB,YAFA,GAIFzL,EAAAA,WAAqByL,EAAAA,YAdN,uBAgBf,IAAIC,EAhBW,SAiBXD,EAAJ,MACEC,EADiB,MAERD,EAAJ,OACLC,EADuB,QAGzB,IAAMC,EAASF,EAAAA,OAAAA,SAtBA,SAwBXx9B,EAAJ,GACEA,GADY,EAEZ+xB,EAAAA,eAFY,GAIZA,EAAAA,cADK,EAGPA,EAAAA,SA9Be,EA+BfA,EAAAA,WAAqByL,EA/BN,WAgCfzL,EAAAA,WAhCe,EAiCfA,EAAAA,UAjCe,EAmCfA,EAAAA,MAAgBrzD,KAAK+7E,WAAWx7E,cAnCjB,aAoCf8yD,EAAAA,MAAAA,eAAAA,KAAAA,IAAwCkwB,GAAIlwB,EApC7B,IAqCfA,EAAAA,QArCe,GAsCfA,EAAAA,QAtCe,KAhhBnBiwB,CAAAA,IAAAA,UAAAA,MAyjBElqE,WAAU,MACFi6C,EAAUrzD,KADR,QAGNqzD,EAAAA,kBAA4B6B,EAAAA,kBAA5B7B,kBAAAA,QAAAA,EACAA,EADAA,kBAAAA,IAAAA,GACAA,EAFF,kBAKEA,EAAAA,QAAkBA,EAFlB,WAGArzD,KAAA,KAHA,WAIAA,KAJA,aA9jBNsjF,CAAAA,IAAAA,eAAAA,MAukBEhsE,SAAAA,GACMrV,EAAJ,IACEjC,KAAA,kBADa,KAxkBnBsjF,CAAAA,IAAAA,aAAAA,MA6kBE/rE,SAAAA,GACEvX,KAAA,gBAAuB05D,EADP,KA7kBpB4pB,CAAAA,IAAAA,cAAAA,MAilBE9rE,SAAAA,GACExX,KAAA,iBAAwB25D,EADP,KAjlBrB2pB,CAAAA,IAAAA,gBAAAA,MAqlBE7rE,SAAAA,GACEzX,KAAA,mBADmB,IArlBvBsjF,CAAAA,IAAAA,iBAAAA,MAylBEyD,SAAAA,GACE/mF,KAAA,oBAD0B,IAzlB9BsjF,CAAAA,IAAAA,oBAAAA,MA6lBExoE,SAAAA,EAAAA,EAAAA,GACE9a,KAAA,oBAA2BqC,EAAAA,KAAAA,aAAAA,EAAAA,EADF,KA7lB7BihF,CAAAA,IAAAA,eAAAA,MAimBE0D,SAAAA,GACEhnF,KAAA,kBADsB,IAjmB1BsjF,CAAAA,IAAAA,kBAAAA,MAqmBEvoE,SAAAA,EAAAA,EAAAA,GACE/a,KAAA,kBAAyBqC,EAAAA,KAAAA,aAAAA,EAAAA,EADF,GAEvBrC,KAAA,cAAqBA,KAAK+7E,WAAWx7E,cAFd,aAGvBP,KAAA,gBAHuB,GAIvBA,KAAA,gBAJuB,KArmB3BsjF,CAAAA,IAAAA,kBAAAA,MA4mBE7oE,SAAAA,GACEza,KAAA,oBAA2BA,KAAKinF,oBADZ,KA5mBxB3D,CAAAA,IAAAA,gBAAAA,MAgnBE3oE,SAAAA,GACE3a,KAAA,kBAAyBA,KAAKinF,oBADZ,KAhnBtB3D,CAAAA,IAAAA,cAAAA,MAonBEpoE,SAAAA,GACE,IAAMjZ,EAAQjC,KAAK4oD,SADH,MAEV1mD,EAASlC,KAAK4oD,SAFJ,OAGV6Z,EAAMpgE,EAAAA,KAAAA,iBAAsBrC,KAHlB,iBAIV0iE,EAAK,EAAArgE,KAAA,eAAoB,CAAC,EAArB,GAJK,GAKVsgE,EAAK,EAAAtgE,KAAA,eAAoB,CAAC,EAArB,GALK,GAMVugE,EAAK,EAAAvgE,KAAA,eAAoB,CAACJ,EAArB,GANK,GAOV4gE,EAAK,EAAAxgE,KAAA,eAAoB,CAACJ,EAArB,GAPK,GAQV6e,EAAK7iB,KAAAA,IAASykE,EAATzkE,GAAgB0kE,EAAhB1kE,GAAuB2kE,EAAvB3kE,GAA8B4kE,EARzB,IASV7hD,EAAK/iB,KAAAA,IAASykE,EAATzkE,GAAgB0kE,EAAhB1kE,GAAuB2kE,EAAvB3kE,GAA8B4kE,EATzB,IAUV9hD,EAAK9iB,KAAAA,IAASykE,EAATzkE,GAAgB0kE,EAAhB1kE,GAAuB2kE,EAAvB3kE,GAA8B4kE,EAVzB,IAWV5hD,EAAKhjB,KAAAA,IAASykE,EAATzkE,GAAgB0kE,EAAhB1kE,GAAuB2kE,EAAvB3kE,GAA8B4kE,EAXzB,IAaVpgE,EAAOzC,KAAK+7E,WAAWx7E,cAbb,YAchBkC,EAAAA,eAAAA,KAAAA,IAdgB,GAehBA,EAAAA,eAAAA,KAAAA,IAfgB,GAgBhBA,EAAAA,eAAAA,KAAAA,QAAmCse,EAhBnB,GAiBhBte,EAAAA,eAAAA,KAAAA,SAAoCwe,EAjBpB,GAkBhBxe,EAAAA,eAAAA,KAAAA,OAAkCzC,KAAKknF,oBAlBvB,IAmBZlnF,KAAKqzD,QAAQ8zB,UAAjB,GACE1kF,EAAAA,eAAAA,KAAAA,eAA0CzC,KAAKqzD,QADjB,WAGhCrzD,KAAA,oCAtBgB,KApnBpBsjF,CAAAA,IAAAA,sBAAAA,MAgpBE2D,SAAAA,GACE,wBAAI/2D,EAAAA,GACKlwB,KAAKonF,mBADmB,GAG1BpnF,KAAKknF,oBAJY,KAhpB5B5D,CAAAA,IAAAA,qBAAAA,MA0pBE8D,SAAAA,GACE,IAAMnlB,EAAQ/xC,EADS,GAEjB64B,EAAe74B,EAFE,GAGjBoyC,EAASpyC,EAAAA,IAHQ,kBAIvB,IAAyBA,EAJF,GAIvB,GAAM,EAAN,KAAM,EAAN,KAAM,EAAN,KAAM,EAAN,KACM66C,EAAQ76C,EALS,GAMjB86C,EAAQ96C,EANS,GAOjB+6C,EAAY/6C,EAPK,GASjBm3D,EAAAA,UAAAA,OAAqB7B,KAC3B,IAA6B,EAAAnjF,KAAA,0BACxB,EAAAA,KAAA,eAAoB,CAACye,EAArB,GADwB,MAExB,EAAAze,KAAA,eAAoB,CAAC0e,EAArB,GAFL,SAAM,EAAN,KAAM,EAAN,KAAM,EAAN,KAAM,EAAN,KAIA,IAAyB1e,EAAAA,KAAAA,8BAdF,GAcvB,GACMilF,EAASvc,EADf,KAEMwc,EAASvc,EAFf,KAIMwc,EAASxnF,KAAK+7E,WAAWx7E,cAlBR,eAmBvBinF,EAAAA,eAAAA,KAAAA,KAnBuB,GAoBvBA,EAAAA,eAAAA,KAAAA,eApBuB,kBAqBvBA,EAAAA,eAAAA,KAAAA,QArBuB,GAsBvBA,EAAAA,eAAAA,KAAAA,SAtBuB,GAuBvBA,EAAAA,eAAAA,KAAAA,IAAAA,GAAAA,OAvBuB,IAwBvBA,EAAAA,eAAAA,KAAAA,IAAAA,GAAAA,OAxBuB,IA2BvB,IAAM5mC,EAAM5gD,KA3BW,IA4BjB4lF,EAAkB5lF,KA5BD,gBA6BjBi8D,EAAYj8D,KAAKqzD,QA7BA,UA8BjBkL,EAAcv+D,KAAKqzD,QA9BF,YAgCjByP,EAAO9iE,KAAK+7E,WAAW3pD,OAAOq1D,EAAvB,EAAkCC,EAhCxB,GAmCvB,GAFA1nF,KAAA,IAjCuB,EAkCvBA,KAAA,gBAlCuB,EAmCvB,IAAIirE,EAAiB,CACnB,IAAMiB,EAAW7pE,EAAAA,KAAAA,aAAAA,MAAAA,EAAAA,KAAAA,EADE,IAEnBrC,KAAA,kBAFmB,EAGnBA,KAAA,oBAHmB,EAerB,OAVAA,KAAA,cAAmBA,KAAK+lF,cAxCD,IA2CvB/lF,KAAA,IA3CuB,EA4CvBA,KAAA,gBA5CuB,EA6CvBA,KAAA,kBA7CuB,EA8CvBA,KAAA,oBA9CuB,EAgDvBwnF,EAAAA,YAAmB1kB,EAAAA,WAhDI,IAiDvB9iE,KAAA,iBAjDuB,GAkDvB,eAlDuB,EAkDvB,OA5sBJsjF,CAAAA,IAAAA,sBAAAA,MAktBE4D,SAAAA,GAIE,OAHA,kBAAWh3D,IACTA,EAAOlwB,KAAK6oD,KAAKl8C,IADW,IAGtBujB,EAAR,IACE,kBACE,IADF,EACQy3D,EAAAA,UAAAA,OAAsBnC,KACtBoC,EAAa13D,EAFrB,GAKE,OAAQA,EAAR,IACE,YACE,IAAM23D,EAAS33D,EADjB,GAEQ43D,EAAS53D,EAFjB,IAGE63D,EAAW/nF,KAAK+7E,WAAWx7E,cAH7B,uBAIEwnF,eAAAA,KAAAA,KAJF,GAKEA,EAAAA,eAAAA,KAAAA,gBALF,kBAMEA,EAAAA,eAAAA,KAAAA,KAAoCF,EANtC,IAOEE,EAAAA,eAAAA,KAAAA,KAAoCF,EAPtC,IAQEE,EAAAA,eAAAA,KAAAA,KAAoCD,EARtC,IASEC,EAAAA,eAAAA,KAAAA,KAAoCD,EATtC,IADF,MAYE,aACE,IAAME,EAAa93D,EADrB,GAEQ+3D,EAAc/3D,EAFtB,GAGQg4D,EAAch4D,EAHtB,GAIQi4D,EAAej4D,EAJvB,IAKE63D,EAAW/nF,KAAK+7E,WAAWx7E,cAL7B,uBAMEwnF,eAAAA,KAAAA,KANF,GAOEA,EAAAA,eAAAA,KAAAA,gBAPF,kBAQEA,EAAAA,eAAAA,KAAAA,KAAoCE,EARtC,IASEF,EAAAA,eAAAA,KAAAA,KAAoCE,EATtC,IAUEF,EAAAA,eAAAA,KAAAA,IAVF,GAWEA,EAAAA,eAAAA,KAAAA,KAAoCC,EAXtC,IAYED,EAAAA,eAAAA,KAAAA,KAAoCC,EAZtC,IAaED,EAAAA,eAAAA,KAAAA,KAbF,GAZF,MA2BE,QACE,MAAM,IAAIroF,MAAM,6BAAV,OAAuCwwB,EA5BjD,KALF,iBAmCE,2BAAoC,KAApC,EAAoC,QAC5BvmB,EAAO3J,KAAK+7E,WAAWx7E,cADK,YAElCoJ,EAAAA,eAAAA,KAAAA,SAAoC29D,EAFF,IAGlC39D,EAAAA,eAAAA,KAAAA,aAAwC29D,EAHN,IAIlCygB,EAAAA,YAJkC,IAnCtC,8BA0CE,OADA/nF,KAAA,iBAzCF,GA0CE,eA3CJ,EA2CI,KACF,WAEE,OADA5B,EAAAA,EAAAA,MADF,8BA5CF,KA+CE,YACE,MAhDJ,UAiDE,QACE,MAAM,IAAIsB,MAAM,oBAAV,OAA8BwwB,EAlDxC,QAttBJozD,CAAAA,IAAAA,UAAAA,MA4wBE5rE,SAAAA,EAAAA,GACE1X,KAAA,kBAD4B,EAE5BA,KAAA,kBAF4B,IA5wBhCsjF,CAAAA,IAAAA,gBAAAA,MAixBEvmE,SAAAA,EAAAA,GACE,IADuB,EACjBs2C,EAAUrzD,KADO,QAEnBsC,EAAI+wD,EAAR,EACEtlC,EAAIslC,EAHiB,EAInB1zC,EAJmB,GAKnB4B,EALmB,aAOvB,2BACE,SADoB,SAElB,KAAKu5C,EAAAA,IAAL,UACEx4D,EAAI4tB,EAAK3O,KACTwM,EAAImC,EAAK3O,KACT,IAAMtf,EAAQiuB,EAAK3O,KACbrf,EAASguB,EAAK3O,KACd28C,EAAK57D,EALb,EAMQ67D,EAAKpwC,EANb,EAOEpO,EAAAA,KAAAA,IAEE4jE,EAFF5jE,GAGE4jE,EAHF5jE,GAAAA,IAKE4jE,EALF5jE,GAME4jE,EANF5jE,GAAAA,IAQE4jE,EARF5jE,GASE4jE,EATF5jE,GAAAA,IAWE4jE,EAXF5jE,GAYE4jE,EAZF5jE,GAPF,KADF,MAwBE,KAAKm7C,EAAAA,IAAL,OACEx4D,EAAI4tB,EAAK3O,KACTwM,EAAImC,EAAK3O,KACT5B,EAAAA,KAAAA,IAAY4jE,EAAZ5jE,GAAmB4jE,EAHrB,IAxBF,MA6BE,KAAKzoB,EAAAA,IAAL,OACEx4D,EAAI4tB,EAAK3O,KACTwM,EAAImC,EAAK3O,KACT5B,EAAAA,KAAAA,IAAY4jE,EAAZ5jE,GAAmB4jE,EAHrB,IA7BF,MAkCE,KAAKzoB,EAAAA,IAAL,QACEx4D,EAAI4tB,EAAK3O,EADX,GAEEwM,EAAImC,EAAK3O,EAFX,GAGE5B,EAAAA,KAAAA,IAEE4jE,EAAGrzD,EAFLvQ,IAGE4jE,EAAGrzD,EAAK3O,EAHV5B,IAIE4jE,EAAGrzD,EAAK3O,EAJV5B,IAKE4jE,EAAGrzD,EAAK3O,EALV5B,IAME4jE,EANF5jE,GAOE4jE,EAVJ,IAYEhiE,GAZF,EAlCF,MAgDE,KAAKu5C,EAAAA,IAAL,SACEn7C,EAAAA,KAAAA,IAEE4jE,EAFF5jE,GAGE4jE,EAHF5jE,GAIE4jE,EAAGrzD,EAJLvQ,IAKE4jE,EAAGrzD,EAAK3O,EALV5B,IAME4jE,EAAGrzD,EAAK3O,EANV5B,IAOE4jE,EAAGrzD,EAAK3O,EARZ,KAUEjf,EAAI4tB,EAAK3O,EAVX,GAWEwM,EAAImC,EAAK3O,EAXX,GAYEA,GAZF,EAhDF,MA8DE,KAAKu5C,EAAAA,IAAL,SACEx4D,EAAI4tB,EAAK3O,EADX,GAEEwM,EAAImC,EAAK3O,EAFX,GAGE5B,EAAAA,KAAAA,IAEE4jE,EAAGrzD,EAFLvQ,IAGE4jE,EAAGrzD,EAAK3O,EAHV5B,IAIE4jE,EAJF5jE,GAKE4jE,EALF5jE,GAME4jE,EANF5jE,GAOE4jE,EAVJ,IAYEhiE,GAZF,EA9DF,MA4EE,KAAKu5C,EAAAA,IAAL,UACEn7C,EAAAA,KADF,MApFmB,8BA0FvBA,EAAIA,EAAAA,KA1FmB,KA6FrB0zC,EAAAA,MACA4K,EAAAA,OADA5K,GAEA4K,EAAAA,KAAWnD,EAAAA,IAFXzH,WAGA4K,EAAAA,KAAWnD,EAAAA,IAJb,OASEn7C,EAAI0zC,EAAAA,KAAAA,eAAAA,KAAAA,KAJJ,GAMAA,EAAAA,KAAerzD,KAAK+7E,WAAWx7E,cAD1B,YAELP,KAAA,oCAAyCqzD,EAFpC,OAKPA,EAAAA,KAAAA,eAAAA,KAAAA,IA3GuB,GA4GvBA,EAAAA,KAAAA,eAAAA,KAAAA,OA5GuB,QAgHvBA,EAAAA,QAAkBA,EAhHK,KAiHvBA,EAAAA,gBAAAA,EAjHuB,KAjxB3BiwB,CAAAA,IAAAA,UAAAA,MAq4BEtqE,WACE,IAAMq6C,EAAUrzD,KADR,QAMR,GAFAqzD,EAAAA,KAJQ,KAMHrzD,KAAL,YAGA,GAAKqzD,EAAL,SAMA,IAAM+0B,EAAAA,WAAAA,OAAoB9C,KACpB+C,EAAWroF,KAAK+7E,WAAWx7E,cAhBzB,gBAiBR8nF,EAAAA,eAAAA,KAAAA,KAjBQ,GAkBRA,EAAAA,eAAAA,KAAAA,YAA2C3B,EAAG1mF,KAlBtC,kBAqBR,IAAMsoF,EAAcj1B,EAAAA,QAAAA,WArBZ,GA+BR,GATA,YAAIrzD,KAAKimE,YACPqiB,EAAAA,eAAAA,KAAAA,YADkC,WAGlCA,EAAAA,eAAAA,KAAAA,YADK,WAGPtoF,KAAA,YA3BQ,KA4BRqoF,EAAAA,YA5BQ,GA6BRroF,KAAA,iBA7BQ,GA+BJqzD,EAAJ,cAA2B,CAGzBA,EAAAA,UAHyB,eAINrzD,KAJM,gBAIzB,2BAAoC,QAClCmK,UADkC,KAJX,8BAQzBk+E,EAAAA,eAAAA,KAAAA,YAA2Ch1B,EARlB,eAU3BA,EAAAA,cAAAA,QAAAA,OAzCQ,EAyCRA,KAEArzD,KAAA,KA3CQ,UAUNA,KAAA,YADoB,OA94B1BsjF,CAAAA,IAAAA,OAAAA,MAm7BErqE,SAAAA,GACEjZ,KAAA,YADS,IAn7BbsjF,CAAAA,IAAAA,YAAAA,MAu7BEhrE,WACE,IAAM+6C,EAAUrzD,KADN,QAEV,GAAIqzD,EAAJ,KAAkB,CAChB,IAAM1zC,EAAAA,GAAAA,OAAO0zC,EAAAA,KAAAA,eAAAA,KADG,KAChB,KACAA,EAAAA,KAAAA,eAAAA,KAAAA,IAFgB,MAz7BtBiwB,CAAAA,IAAAA,aAAAA,MA+7BE9pE,SAAAA,GACExZ,KAAA,iBADkB,IA/7BtBsjF,CAAAA,IAAAA,cAAAA,MAm8BE3pE,SAAAA,GACE3Z,KAAA,iBADoB,IAn8BxBsjF,CAAAA,IAAAA,uBAAAA,MAu8BE5pE,SAAAA,GACE1Z,KAAA,0BADsC,IAv8B1CsjF,CAAAA,IAAAA,YAAAA,MA28BE/pE,SAAAA,GACEvZ,KAAA,mBAA0BrB,EADX,MA38BnB2kF,CAAAA,IAAAA,qBAAAA,MA+8BE3rE,SAAAA,MA/8BF2rE,CAAAA,IAAAA,cAAAA,MAm9BE1rE,SAAAA,MAn9BF0rE,CAAAA,IAAAA,YAAAA,MAu9BEzrE,SAAAA,GAAkB,iBAChB,2BAAmC,oBAAxB,EAAwB,KAAnC,EAAmC,KACjC,UACE,SACE7X,KAAA,aADF,GADF,MAIE,SACEA,KAAA,WADF,GAJF,MAOE,SACEA,KAAA,YADF,GAPF,MAUE,SACEA,KAAA,cADF,GAVF,MAaE,QACEA,KAAA,QAAayF,EAAb,GAAuBA,EADzB,IAbF,MAgBE,SACEzF,KAAA,mBADF,GAhBF,MAmBE,SACEA,KAAA,YADF,GAnBF,MAsBE,WACEA,KAAA,QADF,GAtBF,MAyBE,SACEA,KAAA,eADF,GAzBF,MA4BE,SACEA,KAAA,aADF,GA5BF,MA+BE,SACE5B,EAAAA,EAAAA,MAAAA,wCAAAA,OADF,MAjCY,iCAv9BpBklF,CAAAA,IAAAA,OAAAA,MA+/BE5qE,WACE,IAAM26C,EAAUrzD,KADX,QAEDqzD,EAAJ,UACEA,EAAAA,QAAAA,eAAAA,KAAAA,OAA6CA,EAD1B,WAEnBA,EAAAA,QAAAA,eAAAA,KAAAA,eAAqDA,EAFlC,WAGnBrzD,KAHmB,aAjgCzBsjF,CAAAA,IAAAA,SAAAA,MAwgCE9qE,WACE,IAAM66C,EAAUrzD,KADT,QAEHqzD,EAAJ,UACErzD,KAAA,qBAA0BqzD,EADP,SAEnBA,EAAAA,QAAAA,eAAAA,KAAAA,OAFmB,QAGnBrzD,KAHmB,aA1gCzBsjF,CAAAA,IAAAA,uBAAAA,MAohCEiF,SAAAA,GAAkD,IAApBhC,EAAoB,uDAAlDgC,EACQl1B,EAAUrzD,KADgC,QAE5CwoF,EAAYn1B,EAFgC,UAG5CkzB,IAAAA,GAAwBiC,EAAAA,OAA5B,IACEA,EAAYA,EAAUr6D,KAAI,SAAU1oB,GAClC,OAAO8gF,EADkC,MAI7C3jD,EAAAA,eAAAA,KAAAA,SAAuCywB,EARS,aAShDzwB,EAAAA,eAAAA,KAAAA,iBAA+CywB,EATC,aAUhDzwB,EAAAA,eAAAA,KAAAA,oBAAkD2gD,EAAGlwB,EAVL,aAWhDzwB,EAAAA,eAAAA,KAAAA,iBAA+CywB,EAXC,SAYhDzwB,EAAAA,eAAAA,KAAAA,kBAAgDywB,EAZA,UAahDzwB,EAAAA,eAAAA,KAAAA,eAGE2gD,EAAGgD,EAAiBlzB,EAApBkwB,WAhB8C,MAkBhD3gD,EAAAA,eAAAA,KAAAA,mBAGE4lD,EAAAA,IAAAA,GAAAA,KArB8C,MAuBhD5lD,EAAAA,eAAAA,KAAAA,oBAGE2gD,EAAGgD,EAAiBlzB,EAApBkwB,WA1B8C,QAphCpDD,CAAAA,IAAAA,SAAAA,MAkjCE3qE,WACM3Y,KAAKqzD,QAAT,SACErzD,KAAA,gDADwB,WAG1BA,KAJO,SAljCXsjF,CAAAA,IAAAA,aAAAA,MAyjCE1qE,WAGE5Y,KAHW,SAIXA,KAJW,SAzjCfsjF,CAAAA,IAAAA,eAAAA,MAgkCEzqE,WACM7Y,KAAKqzD,QAAT,SACErzD,KAAA,gDADwB,WAG1BA,KAJa,eAhkCjBsjF,CAAAA,IAAAA,cAAAA,MAukCE7qE,WACEzY,KADY,YAEZA,KAFY,WAvkChBsjF,CAAAA,IAAAA,kBAAAA,MA4kCExqE,WACE9Y,KADgB,YAEhBA,KAFgB,eA5kCpBsjF,CAAAA,IAAAA,oBAAAA,MAilCEvqE,WACE/Y,KADkB,YAElBA,KAFkB,iBAjlCtBsjF,CAAAA,IAAAA,2BAAAA,MAslCExmE,WACE,IAAMra,EAAOzC,KAAK+7E,WAAWx7E,cADJ,YAEzBkC,EAAAA,eAAAA,KAAAA,IAFyB,KAGzBA,EAAAA,eAAAA,KAAAA,IAHyB,KAIzBA,EAAAA,eAAAA,KAAAA,QAJyB,OAKzBA,EAAAA,eAAAA,KAAAA,SALyB,OAMzBA,EAAAA,eAAAA,KAAAA,OAAkCzC,KAAKqzD,QANd,WAQzBrzD,KAAA,oCARyB,KAtlC7BsjF,CAAAA,IAAAA,oBAAAA,MAimCE7mE,SAAAA,GACE,IAAM05C,EAAUxG,EAAAA,WAAAA,MACZ3vD,KAAK8oD,WAAWn8C,IADJgjD,GAEZ3vD,KAAK6oD,KAAKl8C,IAHS,GAIvB,EAIA3M,KAAA,wBARuB,IAKrB5B,EAAAA,EAAAA,MAAAA,kCAAAA,OADY,EACZA,wBAtmCNklF,CAAAA,IAAAA,0BAAAA,MA4mCE5mE,SAAAA,EAAAA,GACE,IAAMza,EAAQk0D,EADuB,MAE/Bj0D,EAASi0D,EAFsB,OAI/BsyB,EAAS9E,EAAAA,EAA6B3jF,KAA7B2jF,kBAJsB,GAK/B+E,EAAW1oF,KAAK+7E,WAAWx7E,cALI,YAMrCmoF,EAAAA,eAAAA,KAAAA,IANqC,KAOrCA,EAAAA,eAAAA,KAAAA,IAPqC,KAQrCA,EAAAA,eAAAA,KAAAA,QAAuCnF,EARF,IASrCmF,EAAAA,eAAAA,KAAAA,SAAwCnF,EATH,IAUrCvjF,KAAA,gBAVqC,EAWrCA,KAAA,KAXqC,WAarC,IAAM2oF,EAAQ3oF,KAAK+7E,WAAWx7E,cAbO,aAcrCooF,EAAAA,eAxgDJ,+BAwgDIA,aAdqC,GAerCA,EAAAA,eAAAA,KAAAA,IAfqC,KAgBrCA,EAAAA,eAAAA,KAAAA,IAAgCpF,GAhBK,IAiBrCoF,EAAAA,eAAAA,KAAAA,QAAoCpF,EAAAA,GAjBC,MAkBrCoF,EAAAA,eAAAA,KAAAA,SAAqCpF,EAAAA,GAlBA,MAmBrCoF,EAAAA,eAAAA,KAAAA,YAAAA,SAAAA,OAGWpF,EAAG,EAHdoF,GAAAA,KAAAA,OAG4BpF,GAAI,EAtBK,GAmBrCoF,MAKA,EACElxB,EAAAA,YADQ,GAGRz3D,KAAA,oCADK,KAtoCXsjF,CAAAA,IAAAA,wBAAAA,MA2oCE/mE,SAAAA,GACE,IAAM82C,EAAUrzD,KADa,QAEvBiC,EAAQk0D,EAFe,MAGvBj0D,EAASi0D,EAHc,OAIvB8F,EAAY5I,EAJW,UAM7BA,EAAAA,OAAAA,OAAAA,OAAwBkyB,KACxB,IAAM9tB,EAAOz3D,KAAK+7E,WAAWx7E,cAPA,YAQ7Bk3D,EAAAA,eAAAA,KAAAA,KAAgCpE,EARH,QAU7B,IAAM5wD,EAAOzC,KAAK+7E,WAAWx7E,cAVA,YAW7BkC,EAAAA,eAAAA,KAAAA,IAX6B,KAY7BA,EAAAA,eAAAA,KAAAA,IAZ6B,KAa7BA,EAAAA,eAAAA,KAAAA,QAAmC8gF,EAbN,IAc7B9gF,EAAAA,eAAAA,KAAAA,SAAoC8gF,EAdP,IAe7B9gF,EAAAA,eAAAA,KAAAA,OAf6B,GAgB7BA,EAAAA,eAAAA,KAAAA,OAAAA,QAAAA,OAA0C4wD,EAhBb,OAgB7B5wD,MAEAzC,KAAA,iBAlB6B,GAmB7BA,KAAA,oCAnB6B,GAqB7BA,KAAA,0BArB6B,KA3oCjCsjF,CAAAA,IAAAA,wBAAAA,MAmqCExnE,SAAAA,EAAAA,GAYE,GAXIsD,MAAAA,QAAAA,IAAJ,IAA6BkjD,EAAAA,QAC3BtiE,KAAA,UACEsiE,EADF,GAEEA,EAFF,GAGEA,EAHF,GAIEA,EAJF,GAKEA,EALF,GAMEA,EAP8C,IAWlD,EAAU,CACR,IAAMrgE,EAAQ6gE,EAAAA,GAAUA,EADhB,GAEF5gE,EAAS4gE,EAAAA,GAAUA,EAFjB,GAIF4lB,EAAW1oF,KAAK+7E,WAAWx7E,cAJzB,YAKRmoF,EAAAA,eAAAA,KAAAA,IAAmC5lB,EAL3B,IAMR4lB,EAAAA,eAAAA,KAAAA,IAAmC5lB,EAN3B,IAOR4lB,EAAAA,eAAAA,KAAAA,QAAuCnF,EAP/B,IAQRmF,EAAAA,eAAAA,KAAAA,SAAwCnF,EARhC,IASRvjF,KAAA,gBATQ,EAURA,KAAA,KAVQ,WAWRA,KAXQ,aA/qCdsjF,CAAAA,IAAAA,sBAAAA,MA8rCEvnE,cA9rCFunE,CAAAA,IAAAA,cAAAA,MAmsCEl3B,SAAAA,GACE,IAAMxL,EAAM5gD,KAAK+7E,WAAW3pD,OAAOw2B,EAAvB,MAAuCA,EAD/B,QAIdggC,EAAc5oF,KAAK+7E,WAAWx7E,cAJhB,YAKpBqgD,EAAAA,YALoB,GAMpB5gD,KAAA,KANoB,EAUpB,IAAM6oF,EAAY7oF,KAAK+7E,WAAWx7E,cAVd,SAmBpB,OARAsoF,EAAAA,eAAAA,KAAAA,YAA4CnC,EAAG99B,EAX3B,YAYpBhI,EAAAA,YAZoB,GAiBpB5gD,KAAA,IAjBoB,MAnsCxBsjF,CAAAA,IAAAA,mBAAAA,MA4tCEwF,WACE,IAAK9oF,KAAKqzD,QAAV,UAA6B,CAC3B,IAAM01B,EAAY/oF,KAAK+7E,WAAWx7E,cADP,SAE3BwoF,EAAAA,eAAAA,KAAAA,YAA4C/oF,KAAKqzD,QAFtB,eAG3BrzD,KAAA,gBAH2B,GAI3BA,KAAA,kBAJ2B,EAM7B,OAAOA,KAAKqzD,QAPK,YA5tCrBiwB,CAAAA,IAAAA,wBAAAA,MAyuCE0F,WAUE,OATKhpF,KAAL,OACEA,KAAA,KAAYA,KAAK+7E,WAAWx7E,cADd,SAEdP,KAAA,qCAA4C0mF,EAAG1mF,KAFjC,kBAGVA,KAAKqzD,QAAT,cACErzD,KAAA,+BAAoCA,KADN,MAG9BA,KAAA,gBAAqBA,KADhB,OAIFA,KAVe,SAzuC1BsjF,EAAAA,+XCvaF,OAMA,myFAWA,IAAM5vB,EAAKD,oBAjCX,MAkCMw1B,EAAOx1B,oBAlCb,MAmCMy1B,EAAQz1B,oBAnCd,MAoCMn2D,EAAMm2D,oBApCZ,MAsCM01B,EAtCN,0BAwDA,aACElpF,SAAAA,EAAAA,GAAoB,UAClBD,KAAA,OADkB,EAElBA,KAAA,IAnBJ,YACE,IAAMopF,EAAY9rF,EAAAA,MADS,GAE3B,MAAI8rF,UAAAA,EAAAA,UAAkCA,EAAtC,KAAsD,EAIlD,gBAAgBlqF,KAApB,GACS5B,EAAAA,MAAAA,WAAAA,OAD4B,KAIhC8rF,EAAL,OACEA,EAAAA,SADmB,SAVM,GAmBdC,CAAS3mE,EAFF,KAGlB1iB,KAAA,OACwB,UAAtBA,KAAK1C,IAAI0G,UAJO,WAIiBhE,KAAK1C,IAAI0G,SAE5ChE,KAAA,QANkB,UAMHA,KAAK1C,IAAI0G,SACxBhE,KAAA,YAAoBA,KAAKspF,QAAU5mE,EAAhB,aAPD,GASlB1iB,KAAA,mBATkB,KAUlBA,KAAA,qBAVkB,iDAapB,WAA6B,QAC3B,2BAAOA,KAAP,uCAAO,EAAP,uBAD2B,+BAI7BsvE,WAQE,OAPAjyE,EAAAA,EAAAA,SACG2C,KADH3C,mBADc,wDAKd2C,KAAA,mBAA0BA,KAAKupF,QAC3B,IAAIC,EADkBxpF,MAEtB,IAAIypF,EAPM,MAQPzpF,KARO,iDAWhByvE,SAAAA,EAAAA,GACE,GAAIzxE,GAAOgC,KAAX,uBACE,OADsC,KAGxC,IAAMsuD,EAActuD,KAAKupF,QACrB,IAAIG,EAA2B1pF,KAAMwD,EADrB,GAEhB,IAAImmF,EAAyB3pF,KAAMwD,EANd,GAQzB,OADAxD,KAAA,0BAPyB,sCAW3B2vE,SAAAA,GACM3vE,KAAJ,oBACEA,KAAA,0BAD2B,GADL,UAIHA,KAAK4pF,qBAAqBniD,MAJvB,QAIxB,2BAAyD,QACvDlE,OADuD,GAJjC,qCAxC5B,yBAkDA,aACEtjC,SAAAA,EAAAA,GAAoB,UAClBD,KAAA,KAAYwjC,EADM,IAElBxjC,KAAA,OAFkB,EAGlBA,KAAA,aAHkB,KAIlBA,KAAA,WAJkB,KAKlB,IAAM0iB,EAAS8gB,EALG,OAMlBxjC,KAAA,eAAsB0iB,EANJ,OAOlB1iB,KAAA,QAPkB,EAQlBA,KAAA,UARkB,KAUlBA,KAAA,cAAqB0iB,EAAAA,eAVH,EAWlB1iB,KAAA,gBAAuB0iB,EAXL,eAYb1iB,KAAD,iBAA0BA,KAA9B,gBACEA,KAAA,eADgD,GAIlDA,KAAA,uBAA8B0iB,EAhBZ,cAiBlB1iB,KAAA,mBAA0B0iB,EAjBR,aAmBlB1iB,KAAA,gBAnBkB,KAoBlBA,KAAA,iBApBkB,+BAqBlBA,KAAA,oBArBkB,mEAwBpB,WACE,OAAOA,KAAK6pF,mBADK,8BAInB,WACE,OAAO7pF,KADM,qCAIf,WACE,OAAOA,KADW,6CAIpB,WACE,OAAOA,KADc,oDAIvB,WACE,OAAOA,KADkB,6EAI3B,4GACQA,KAAK8pF,gBADb,mBAEM9pF,KAFN,+CAGW,CAAEyF,WAAF,EAAoBsB,MAApB,IAHX,WAKM/G,KALN,mCAMUA,KANV,+BASQ4L,EAAQ5L,KAAK+pF,gBATrB,gCAWI/pF,KAAA,iBADkB,+BAVtB,kBAYWA,KAZX,uBAcEA,KAAA,SAAgB4L,EAdL,OAeP5L,KAAJ,YACEA,KAAA,WAAgB,CACd6tD,OAAQ7tD,KADM,QAEd8tD,MAAO9tD,KAFO,iBAMZiM,EAAS,IAAIjL,WAAW4K,GAtBhC,yBAuBS,CAAEnG,MAAF,EAAiBsB,MAAjB,IAvBT,2HA0BAq/B,SAAAA,GAGOpmC,KAAL,gBAIAA,KAAA,wBAPa,GAIXA,KAAA,OADyB,yBAO7BgqF,SAAAA,GACEhqF,KAAA,aADa,EAEbA,KAAA,gBAFa,4CAKfiqF,SAAAA,GAAmC,WACjCjqF,KAAA,gBADiC,EAEjCmqD,EAAAA,GAAAA,YAA8B,WAC5B,kBADkC,aAIpCA,EAAAA,GAAAA,OAAyB,WAEvBA,EAF6B,UAG7B,SAH6B,EAI7B,kBAJ6B,aAO/BA,EAAAA,GAAAA,SAA2Bv9C,SAAAA,GACzB,SADmC,OAMhC5M,KAAD,uBAA+BA,KAAnC,mBACEA,KAAA,OAAY,IAAI,EAAJ,eAD6C,0BAKvDA,KAAJ,cACEA,KAAA,wBAA6BA,KADR,oBA9G3B,GAoHA,aACEC,SAAAA,EAAAA,GAAoB,UAClBD,KAAA,KAAYwjC,EADM,IAElBxjC,KAAA,OAFkB,EAGlBA,KAAA,aAHkB,KAIlBA,KAAA,WAJkB,KAKlBA,KAAA,QALkB,EAMlBA,KAAA,gBANkB,KAOlBA,KAAA,iBAPkB,+BAQlB,IAAM0iB,EAAS8gB,EARG,OASlBxjC,KAAA,uBAA8B0iB,EATZ,0DAYpB,WACE,OAAO1iB,KADkB,6EAI3B,4GACQA,KAAK8pF,gBADb,mBAEM9pF,KAFN,+CAGW,CAAEyF,WAAF,EAAoBsB,MAApB,IAHX,WAKM/G,KALN,mCAMUA,KANV,+BASQ4L,EAAQ5L,KAAK+pF,gBATrB,gCAWI/pF,KAAA,iBADkB,+BAVtB,kBAYWA,KAZX,uBAcEA,KAAA,SAAgB4L,EAdL,OAeP5L,KAAJ,YACEA,KAAA,WAAgB,CAAE6tD,OAAQ7tD,KADP,UAIfiM,EAAS,IAAIjL,WAAW4K,GAnBhC,yBAoBS,CAAEnG,MAAF,EAAiBsB,MAAjB,IApBT,2HAuBAq/B,SAAAA,GAGOpmC,KAAL,gBAIAA,KAAA,wBAPa,GAIXA,KAAA,OADyB,yBAO7BgqF,SAAAA,GACEhqF,KAAA,aADa,EAEbA,KAAA,gBAFa,4CAKfiqF,SAAAA,GAAmC,WACjCjqF,KAAA,gBADiC,EAEjCmqD,EAAAA,GAAAA,YAA8B,WAC5B,kBADkC,aAIpCA,EAAAA,GAAAA,OAAyB,WAEvBA,EAF6B,UAG7B,SAH6B,EAI7B,kBAJ6B,aAO/BA,EAAAA,GAAAA,SAA2Bv9C,SAAAA,GACzB,SADmC,MAKjC5M,KAAJ,cACEA,KAAA,wBAA6BA,KADR,oBAzE3B,GA+EA,gBACE,MAAO,CACLgE,SAAUolF,EADL,SAELc,KAAMd,EAFD,KAGLe,KAAMf,EAHD,SAILhqD,KAAMgqD,EAJD,KAKLx3D,KAAMw3D,EALD,KAML7iF,OANK,MAOL6jF,QAAAA,OAIJ,gCACEnqF,SAAAA,EAAAA,GAAoB,gBAGlB,IAAMoqF,EAAiB1pF,SAAAA,GACrB,SAAIA,EAAAA,WAA6B,CAC/B,IAAMojB,EAAQ,IAAI,EAAJ,2CAAwC,EADvB,KAC/B,OAD+B,OAE/B,eAF+B,OAG/B,4BAH+B,GAMjC,qBAPiC,UAQjC,qBARiC,GAUjC,IAAMumE,EAAoBjnF,SAAAA,GAGxB,OAAO,0BAA6BA,EAHJ,gBAKlC,GACE,IAAAknF,kCAAiC,CAC/BD,kBAD+B,EAE/BhB,OAAQ9lD,EAFuB,OAG/Bgf,eAAgB,EAHe,gBAI/BJ,aAAc,EAJiB,gBAD7B,EAAN,qBAAM,EAAN,kBAQA,oBAvBiC,EAyBjC,iBAAsBooC,GAAmB,EAzBR,eA2BjC,aAAiBC,EAAAA,EAAAA,2BA3BgB,IAHjB,OAClB,cADkB,IAiClB,SAjCkB,KAkClB,UAAI,gBACF,WAAgBxB,EAAAA,QACdyB,EAAqB,EAArBA,KAAgClnD,EADlBylD,aADkB,GAMlC,WAAgBC,EAAAA,QACdwB,EAAqB,EAArBA,KAAgClnD,EADlB0lD,aADX,GAOP,uBAA0Bt8E,SAAAA,GACxB,eADkC,EAElC,4BAFkC,MAOpC,WArDkB,iBADtB,IA0DA,gCACE3M,SAAAA,EAAAA,EAAAA,EAAAA,GAAgC,MAI9B,aAJ8B,WAC9B,cAD8B,IAG9B,aAH8B,GAIPujC,EAAvB,YAA2C,CACzC,IAAM/9B,EAAQ+9B,EAAAA,YAD2B,GAEzC,qBAAW/9B,IAGX,kBALyC,GAO3C,mDAA4CzH,EAXd,GAa9B,IAAMqsF,EAAiB1pF,SAAAA,GACrB,SAAIA,EAAAA,WAKJ,qBANiC,OACjC,CACE,IAAMojB,EAAQ,IAAI,EAAJ,2CAAwC,EADvB,KAC/B,OACA,eAF+B,IAdL,OAsB9B,WAtB8B,KAuB9B,UAAI,gBACF,WAAgBklE,EAAAA,QACdyB,EAAqB,EAArBA,KAAgC,EADlBzB,cADkB,GAMlC,WAAgBC,EAAAA,QACdwB,EAAqB,EAArBA,KAAgC,EADlBxB,cADX,GAOP,uBAA0Bt8E,SAAAA,GACxB,eADkC,KAGpC,WAtC8B,iBADlC,IA2CA,gCACE3M,SAAAA,EAAAA,GAAoB,gBAClB,cADkB,GAGlB,IAAI2xB,EAAOnzB,mBAAmB,OAHZ,aAMd0qF,EAAAA,KAAkB,OAAtB,QACEv3D,EAAOA,EAAAA,QAAAA,MAD8B,KAIvC8hC,EAAAA,MAAAA,GAAe,cACb,KAAW,MACT,WAAI3vC,EAAAA,OACFA,EAAQ,IAAI,EAAJ,2CADmB,EAC3BA,QAEF,eAJS,OAKT,4BALS,GASX,iBAAsBsS,EAVQ,KAY9B,qBAAwBq9B,EAAAA,iBAZM,IAa9B,qBAb8B,aAVd,WADtB,IA6BA,gCACEzzD,SAAAA,EAAAA,EAAAA,EAAAA,GAAgC,gBAC9B,cAD8B,GAG9B,IAAI2xB,EAAOnzB,mBAAmB,OAHA,aAM1B0qF,EAAAA,KAAkB,OAAtB,QACEv3D,EAAOA,EAAAA,QAAAA,MAD8B,KAIvC,qBAAwB8hC,EAAGi3B,iBAAiB/4D,EAAM,CAAEpuB,MAAF,EAASxF,IAAKA,EAAd,KAVpB,WADlC,+GC3WA,cACE,OAAIyiC,MAAAA,GAAmBA,IAAAA,GAAgBnjC,EAAAA,WAAvC,SACS,IAAI,EAAJ,oBAAwB,gBAAkBA,EADc,MAG1D,IAAI,EAAJ,+GAJuC,gCAhBhD,YACE,IAAMstF,EAAqBN,EADyB,uBAEpD,KAAwB,CACtB,IAAIrrF,GAAW4rF,EAAAA,EAAAA,yCADO,GAEtB,GAAI5rF,EAAAA,SAAJ,KACE,IACEA,EAAWR,mBADT,GAEF,MAAOC,IAEX,IAAIkxE,EAAAA,EAAAA,WAAJ,GACE,OADuB,EAI3B,OAboD,yCAzCtD,YAKG,IALuC,EAKvC,EALuC,oBAKvC,EALuC,SAKvC,EALuC,eAA1C,EAKG,EALH,cAMEvyE,EAAAA,EAAAA,QAAOmlD,EAAPnlD,EADC,6CAED,IAAMytF,EAAe,CACnBC,oBADmB,EAEnBP,qBAFmB,GAKfzgF,EAAShL,SAASurF,EAATvrF,kBAPd,IAQD,OAAKiP,OAAAA,UAAL,IAIA88E,EAAAA,gBAZC,EAcG/gF,GAAU,EAAd,GAMIq4C,IAAJ,GAGA,UAAIkoC,EAAAA,kBAKJ,cADwBA,EAAAA,qBA3BvB,cAgCDQ,EAAAA,oBAhCC,GAciC,GANH,4BAsDjC,YACE,OAAOrqD,MAAAA,GAD+B,MACbA,GA5E3B,WAfA,yIC+BA,YACE,IAAIuqD,GAD+D,EAI/DljB,EAAMmjB,EAAAA,cAAAA,KAAAA,KAJyD,GAKnE,KAAS,CAEP,IAAIhsF,EAAWisF,EADfpjB,EAAMA,EADC,IAMP,OAAOqjB,EADPlsF,EAAWmsF,EADXnsF,EAAWosF,EADXpsF,EAAWoP,SAHJ,MAaT,GADAy5D,EAqEA,YAME,IALA,IAD8C,EACxCzjE,EADwC,GAKxCgF,EAAO4hF,EAAAA,kCALiC,MAM9C,QAAQ79E,EAAQ/D,EAAAA,KAAT,KAAqD,CAC1D,QAD0D,EAC1D,GAAI,EAAJ,KAAI,EAAJ,KAAI,EAAJ,KAEA,IADAgW,EAAItgB,SAAAA,EAFsD,OAG1D,GAEE,OAAIsgB,EAAS,WAKfhb,EAAAA,GAAa,CAACinF,EAAdjnF,GAGF,IADA,IAAMknF,EAlBwC,GAmBrClsE,EAAT,EAAgBA,EAAIhb,EAApB,QACQ,KAAN,IADF,EAAyC,CAKvC,QAAmBA,EALoB,GAKvC,GAAI,EAAJ,KAAI,EAAJ,KACAmnF,EAAON,EANgC,GAOvC,IACEM,EAAOn9E,SADC,GAER,IAAIgR,IACFmsE,EAAOH,EADI,KAIfE,EAAAA,KAbuC,GAezC,OAAOA,EAAAA,KAlCuC,IArE1CE,CAjB6D,GAqBjE,OAAON,EADUC,EAFV,IAQT,GADAtjB,EAAMmjB,EAAAA,WAAAA,KAAAA,KAzB6D,GA0B1D,CAEP,IAAIhsF,EAAWisF,EADfpjB,EAAMA,EADC,IAIP,OAAOqjB,EADPlsF,EAAWmsF,EAHJ,IAUT,gBACE,OAAO,IAAIhnF,OACT,sEAF4C,GAehD,gBACE,KAAc,CACZ,IAAK,iBAAiBlF,KAAtB,GACE,OADiC,EAGnC,IACE,IAAMwsF,EAAU,IAAIC,YAAYC,EAAU,CAAEC,OAD1C,IAEI5/E,GAASrL,EAAAA,EAAAA,eAFb,GAGF6E,EAAQimF,EAAAA,OAHN,GAIFV,GAJE,EAKF,MAAOp9E,GAGP,GAAI,YAAY1O,KAAhB,GAEE,IACEuG,EAAQhH,mBAAmBijB,OADzB,IAEFspE,GAFE,EAGF,MAAOjlF,MAIf,OAtBmC,EAwBrC,cASE,OARIilF,GAAsB,cAAc9rF,KAAxC,KAEEuG,EAAQqmF,EAAAA,QAF2C,GAGnD,IAEErmF,EAAQqmF,EAAAA,aAFc,KAJE,EA+C9B,cACE,GAAIrmF,EAAAA,WAAJ,KAA2B,CAGzB,IAFA,IAAM8lF,EAAQ9lF,EAAAA,MAAAA,GAAAA,MADW,OAGhBvC,EAAT,EAAgBA,EAAIqoF,EAApB,WAAuC,CACrC,IAAMQ,EAAYR,EAAAA,GAAAA,QADmB,MAErC,IAAIQ,IACFR,EAAAA,GAAWA,EAAAA,GAAAA,MAAAA,EADS,GAEpBA,EAAAA,OAAeroF,EAFK,GAItBqoF,EAAAA,GAAWA,EAAAA,GAAAA,QAAAA,SAN0B,MAQvC9lF,EAAQ8lF,EAAAA,KAXiB,KAa3B,OAd6B,EAgB/B,cAEE,IAAMS,EAAcC,EAAAA,QAFW,KAG/B,WAAID,EAAoB,EAUjBF,EAJUG,EAAAA,MAAAA,EATc,GAUbA,EAAAA,MAAeD,EAVF,GAYjBE,QAAAA,UAZiB,KAejC,cAWE,OAAKzmF,EAAAA,WAAD,OAA2B,uBAAuBvG,KAAtD,GAAmE,EAU5DuG,EAAM0H,QAAQ,kDAEnB,SAAU9I,EAAS8nF,EAASP,EAAUQ,GACpC,GAAIR,MAAAA,GAAJ,MAAwBA,EAMtB,OAAOE,EAAAA,EAHPM,GADAA,EAAOA,EAAAA,QAAAA,KAFiC,MAG5Bj/E,QAAQ,sBAAsB,SAAUC,EAAOi/E,GACzD,OAAO5gF,OAAAA,aAAoB1M,SAAAA,EADmC,SAKlE,IACEqtF,EAAO36B,KADL,GAEF,MAAO7jD,IACT,OAAOk+E,EAAAA,EAZmC,MAiBhD,MAjMmE,IA/BrE,kmCCeA,OAKA,gpDAwBA,aACE7rF,SAAAA,EAAAA,GAA4B,IAAXiwB,EAAW,uDAA5BjwB,GAA4B,UAC1BD,KAAA,IAD0B,EAE1BA,KAAA,OAAc,YAAYd,KAFA,GAG1Bc,KAAA,YAAoBA,KAAKspF,QAAUp5D,EAAhB,aAAqC/sB,OAAAA,OAH9B,MAI1BnD,KAAA,gBAAuBkwB,EAAAA,kBAJG,EAK1BlwB,KAAA,OACEkwB,EAAAA,QACA,WACE,OAAO,IADwB,gBAInClwB,KAAA,UAX0B,EAY1BA,KAAA,gBAAuBmD,OAAAA,OAZG,4CAe5BmpF,SAAAA,EAAAA,EAAAA,GACE,IAAMp8D,EAAO,CACX4+C,MADW,EAEX9wE,IAAAA,GAEF,eACEkyB,EAAAA,GAAaq8D,EADe,GAG9B,OAAOvsF,KAAKa,QARsB,8BAWpC2rF,SAAAA,GACE,OAAOxsF,KAAKa,QADS,0BAIvBA,SAAAA,GACE,IAAM4rF,EAAMzsF,KADA,SAEN0sF,EAAQ1sF,KAFF,YAGN2sF,EAAkB3sF,KAAK4sF,gBAAgBF,GAAS,CAAED,IAAAA,GAIxD,aAFAA,EAAAA,KAAAA,MAAgBzsF,KALJ,KAMZysF,EAAAA,gBAAsBzsF,KANV,gBAOWA,KAAvB,YAAyC,CACvC,IAAMyF,EAAQzF,KAAKsiD,YADoB,GAEvC,qBAAW78C,GAGXgnF,EAAAA,iBAAAA,EALuC,GA8BzC,OAvBIzsF,KAAKspF,QAAU,UAAf,GAAkC,QAAtC,GACEmD,EAAAA,iBAAAA,QAAAA,SAAAA,OAAuCv8D,EAAvCu8D,MAAAA,KAAAA,OAAqDv8D,EAAAA,IADF,IAEnDy8D,EAAAA,eA3FN,KA6FMA,EAAAA,eA7FN,IA+FIF,EAAAA,aApBY,cAsBRv8D,EAAJ,UACEu8D,EAAAA,QAAc,SAAUltF,GACtB2wB,EAAAA,QAAau8D,EADc,UAI/BA,EAAAA,mBAAyBzsF,KAAK6sF,cAAcjoE,KAAK5kB,KA3BrC,GA4BZysF,EAAAA,WAAiBzsF,KAAK8sF,WAAWloE,KAAK5kB,KA5B1B,GA8BZ2sF,EAAAA,kBAAmCz8D,EA9BvB,kBA+BZy8D,EAAAA,OAAwBz8D,EA/BZ,OAgCZy8D,EAAAA,QAAyBz8D,EAhCb,QAiCZy8D,EAAAA,WAA4Bz8D,EAjChB,WAmCZu8D,EAAAA,KAnCY,kCAwCdK,SAAAA,EAAAA,GAAuB,MACfH,EAAiB3sF,KAAK4sF,gBADP,GAErB,IAGAD,QAAAA,EAAAA,EAAAA,kBAAAA,IAAAA,GAAAA,EAAAA,KAAAA,EALqB,iCAQvBE,SAAAA,EAAAA,GACE,IAAMF,EAAiB3sF,KAAK4sF,gBADJ,GAExB,MAIA,IAAMH,EAAME,EANY,IAYxB,GALIF,EAAAA,YAAAA,GAAuBE,EAA3B,oBACEA,EAD2D,2BAEpDA,EAFoD,mBAK7D,IAAIF,EAAAA,YAIEC,KAAS1sF,KAAf,gBASA,UAHOA,KAAK4sF,gBAtBY,GAyBpBH,IAAAA,EAAAA,QAAoBzsF,KAAxB,QAAqC,MACnC2sF,QAAAA,EAAAA,EAAAA,eAAAA,IAAAA,GAAAA,EAAAA,KAAAA,EAAyBF,EADU,YAArC,CAIA,IAAMM,EAAYN,EAAAA,QAxJtB,IAiKI,GAjKJ,MA8JMM,GA9JN,MA+JMJ,EAAAA,gBAIAI,IAAcJ,EAFhB,gBAQA,IAAM/gF,EAtIV,YACE,IAAM7K,EAAO0rF,EADc,SAE3B,wBAAW1rF,EAAmB,GAGhBH,EAAAA,EAAAA,eALa,UAsIXosF,CA9CU,GA+CxB,GA1KJ,MA0KQD,EAAwC,CAC1C,IAAME,EAAcR,EAAAA,kBADsB,iBAEpCpoF,EAAU,2BAA2B6f,KAFD,GAG1CyoE,EAAAA,OAAsB,CACpB7d,MAAO/vE,SAASsF,EAATtF,GADa,IAEpB6M,MAAAA,SAEG,GAAIA,EACT+gF,EAAAA,OAAsB,CACpB7d,MADoB,EAEpBljE,MAAAA,QAEG,OACL+gF,QAAAA,EAAAA,EAAAA,eAAAA,IAAAA,GAAAA,EAAAA,KAAAA,EAAyBF,EADpB,aArBP,CAGE,MACAE,QAAAA,EAAAA,EAAAA,eAAAA,IAAAA,GAAAA,EAAAA,KAAAA,EAAyBF,EADzB,wCAuBJS,SAAAA,GACE,OAAOltF,KAAK4sF,gBAAgBF,GADT,oCAIrBS,SAAAA,GACE,OAAOT,KAAS1sF,KADM,4CAIxB0xC,SAAAA,GACE,IAAM+6C,EAAMzsF,KAAK4sF,gBAAgBF,GADf,WAEX1sF,KAAK4sF,gBAFM,GAGlBH,EAHkB,cAvJtB,GA+JA,aACExsF,SAAAA,EAAAA,GAAoB,UAClBD,KAAA,QADkB,EAElBA,KAAA,SAAgB,IAAIotF,EAAe1qE,EAAnB,IAA+B,CAC7C4/B,YAAa5/B,EADgC,YAE7C6/B,gBAAiB7/B,EAF4B,kBAI/C1iB,KAAA,gBAAuB0iB,EANL,eAOlB1iB,KAAA,mBAPkB,KAQlBA,KAAA,qBARkB,wDAWpBqtF,SAAAA,GACE,IAAMnqF,EAAIlD,KAAK4pF,qBAAqBv/D,QADF,GAE9BnnB,GAAJ,GACElD,KAAA,8BADU,gCAKdsvE,WASE,OARAjyE,EAAAA,EAAAA,SACG2C,KADH3C,mBADc,2DAKd2C,KAAA,mBAA0B,IAAIstF,EAC5BttF,KADwB,SAExBA,KAPY,SASPA,KATO,iDAYhByvE,SAAAA,EAAAA,GACE,IAAMlsC,EAAS,IAAIgqD,EACjBvtF,KADa,WADU,GAQzB,OAFAujC,EAAAA,SAAkBvjC,KAAKqtF,4BAA4BzoE,KAN1B,MAOzB5kB,KAAA,0BAPyB,sCAW3B2vE,SAAAA,GAA0B,MACxB,UAAA3vE,KAAA,0CADwB,aAGHA,KAAK4pF,qBAAqBniD,MAHvB,QAGxB,2BAAyD,QACvDlE,OADuD,GAHjC,qCA1C5B,4BAoDA,aACEtjC,SAAAA,EAAAA,EAAAA,GAA6B,UAC3BD,KAAA,SAD2B,EAG3B,IAAMkwB,EAAO,CACXs9D,kBAAmBxtF,KAAKytF,mBAAmB7oE,KADhC,MAEX8oE,OAAQ1tF,KAAK2tF,QAAQ/oE,KAFV,MAGXgpE,QAAS5tF,KAAK6tF,SAASjpE,KAHZ,MAIXkoE,WAAY9sF,KAAKkvE,YAAYtqD,KAJlB,OAMb5kB,KAAA,KAAY0iB,EATe,IAU3B1iB,KAAA,eAAsB8tF,EAAAA,YAVK,GAW3B9tF,KAAA,4BAX2B,+BAY3BA,KAAA,cAAqB0iB,EAAAA,eAZM,EAa3B1iB,KAAA,eAAsB0iB,EAbK,OAc3B1iB,KAAA,gBAAuB0iB,EAdI,eAetB1iB,KAAD,iBAA0BA,KAA9B,gBACEA,KAAA,eADgD,GAIlDA,KAAA,uBAnB2B,EAoB3BA,KAAA,mBApB2B,EAsB3BA,KAAA,cAtB2B,GAuB3BA,KAAA,UAvB2B,GAwB3BA,KAAA,OAxB2B,EAyB3BA,KAAA,kBAzB2B,EA0B3BA,KAAA,UA1B2B,KA4B3BA,KAAA,WA5B2B,iDA+B7BytF,WACE,IAAMM,EAAmB/tF,KADN,eAEbguF,EAAiBhuF,KAAKiuF,SAASf,cAFlB,GAIb5C,EAAoBjnF,SAAAA,GACxB,OAAO2qF,EAAAA,kBADyB,IAGlC,GACE,IAAAzD,kCAAiC,CAC/BD,kBAD+B,EAE/BhB,OAAQtpF,KAAKiuF,SAFkB,OAG/BzrC,eAAgBxiD,KAHe,gBAI/BoiD,aAAcpiD,KAJiB,gBAD7B,EAAN,qBAAM,EAAN,kBAQA,IACEA,KAAA,mBADsB,GAIxBA,KAAA,eAAsBwqF,GAAmBxqF,KAnBtB,eAqBnBA,KAAA,WAAiByqF,EAAAA,EAAAA,2BArBE,GAuBfzqF,KAAJ,mBAKEA,KAAA,sBAL0B,GAQ5BA,KAAA,2BA/BmB,iCAkCrB2tF,SAAAA,GAUE,GATA,IACM3tF,KAAK8vE,UAAU/lE,OAAnB,EAC4B/J,KAAK8vE,UADF,QAE7BC,QAA0B,CAAEtqE,MAAO1E,EAAT,MAAqBgG,MAArB,IAE1B/G,KAAA,mBAAwBe,EADnB,QAITf,KAAA,OATY,IAURA,KAAKkuF,cAAcnkF,OAAvB,IAVY,UAaoB/J,KAbpB,eAaZ,2BAAgD,QAC9C+vE,QAA0B,CAAEtqE,WAAF,EAAoBsB,MAApB,IAdhB,8BAgBZ/G,KAAA,iBAhBY,2BAmBd6tF,SAAAA,GACE7tF,KAAA,cAAoBmuF,EAAAA,EAAAA,2BAAAA,EAAkCnuF,KADvC,MAEfA,KAAA,kCAAuCA,KAFxB,wBAGiBA,KAHjB,eAGf,2BAAgD,QAC9C+vE,OAAyB/vE,KADqB,cAHjC,8BAMfA,KAAA,iBANe,EAOfA,KAAA,qBAPe,6BAUjBkvE,SAAAA,GAAiB,MACf,UAAAlvE,KAAA,gCAAAA,KAAkB,CAChB6tD,OAAQtuD,EADQ,OAEhBuuD,MAAOvuD,EAAAA,iBAAuBA,EAAvBA,MAAmCS,KAF1B,uCAMpB,WACE,OAAOA,KADM,wCAIf,WACE,OAAOA,KADc,oDAIvB,WACE,OAAOA,KADkB,iDAI3B,WACE,OAAOA,KADW,yCAIpB,WACE,OAAOA,KAAKouF,2BADK,+DAInB,gGACMpuF,KADN,mCAEUA,KAFV,yBAIMA,KAAKkuF,cAAcnkF,OAJzB,0BAKU6B,EAAQ5L,KAAKkuF,cALvB,0BAMW,CAAEzoF,MAAF,EAAgBsB,MAAhB,IANX,WAQM/G,KARN,+CASW,CAAEyF,WAAF,EAAoBsB,MAApB,IATX,cAWQgpE,GAXK,IAAb,2BAYE/vE,KAAA,eAZW,GAAb,kBAaS+vE,EAbT,oIAgBA3pC,SAAAA,GACEpmC,KAAA,OADa,EAEbA,KAAA,kCAFa,aAGmBA,KAHnB,eAGb,2BAAgD,QAC9C+vE,QAA0B,CAAEtqE,WAAF,EAAoBsB,MAApB,IAJf,8BAMb/G,KAAA,iBANa,EAOTA,KAAKiuF,SAASd,iBAAiBntF,KAAnC,iBACEA,KAAA,sBAA2BA,KAD4B,gBAGzDA,KAAA,mBAVa,WA1IjB,GAyJA,aACEC,SAAAA,EAAAA,EAAAA,EAAAA,GAAiC,UAC/BD,KAAA,SAD+B,EAG/B,IAAMkwB,EAAO,CACXw9D,OAAQ1tF,KAAK2tF,QAAQ/oE,KADV,MAEXgpE,QAAS5tF,KAAK6tF,SAASjpE,KAFZ,MAGXkoE,WAAY9sF,KAAKkvE,YAAYtqD,KAHlB,OAKb5kB,KAAA,KAAY8tF,EARmB,IAS/B9tF,KAAA,WAAkB8tF,EAAAA,aAAAA,EAAAA,EATa,GAU/B9tF,KAAA,UAV+B,GAW/BA,KAAA,aAX+B,KAY/BA,KAAA,OAZ+B,EAa/BA,KAAA,kBAb+B,EAe/BA,KAAA,WAf+B,KAgB/BA,KAAA,SAhB+B,qCAmBjCquF,WAAS,MACP,UAAAruF,KAAA,8BAAAA,KADO,6BAIT2tF,SAAAA,GACE,IAAM/hF,EAAQ7K,EADF,MAERf,KAAK8vE,UAAU/lE,OAAnB,EAC4B/J,KAAK8vE,UADF,QAE7BC,QAA0B,CAAEtqE,MAAF,EAAgBsB,MAAhB,IAE1B/G,KAAA,aADK,EAGPA,KAAA,OARY,YASoBA,KATpB,eASZ,2BAAgD,QAC9C+vE,QAA0B,CAAEtqE,WAAF,EAAoBsB,MAApB,IAVhB,8BAYZ/G,KAAA,iBAZY,EAaZA,KAbY,iCAgBd6tF,SAAAA,GACE7tF,KAAA,cAAoBmuF,EAAAA,EAAAA,2BAAAA,EAAkCnuF,KADvC,gBAEiBA,KAFjB,eAEf,2BAAgD,QAC9C+vE,OAAyB/vE,KADqB,cAFjC,8BAKfA,KAAA,iBALe,EAMfA,KAAA,aANe,gCASjBkvE,SAAAA,GACkC,MAA3BlvE,KAAL,sBACE,UAAAA,KAAA,gCAAAA,KAAkB,CAAE6tD,OAAQtuD,EADE,2CAKlC,WACE,OADyB,yDAI3B,gGACMS,KADN,mCAEUA,KAFV,8BAIMA,KAAKsuF,aAJX,uBAKU1iF,EAAQ5L,KALlB,aAMIA,KAAA,aAF8B,KAJlC,kBAOW,CAAEyF,MAAF,EAAgBsB,MAAhB,IAPX,WASM/G,KATN,+CAUW,CAAEyF,WAAF,EAAoBsB,MAApB,IAVX,cAYQgpE,GAZK,IAAb,2BAaE/vE,KAAA,eAbW,GAAb,kBAcS+vE,EAdT,oIAiBA3pC,SAAAA,GACEpmC,KAAA,OADa,YAEmBA,KAFnB,eAEb,2BAAgD,QAC9C+vE,QAA0B,CAAEtqE,WAAF,EAAoBsB,MAApB,IAHf,8BAKb/G,KAAA,iBALa,EAMTA,KAAKiuF,SAASd,iBAAiBntF,KAAnC,aACEA,KAAA,sBAA2BA,KADwB,YAGrDA,KATa,eA5EjB,uJCzYA,OAKA,4oDAaA,kBACE,MAAO,CACLuG,OADK,MAEL6jF,QAFK,EAGLx0C,OAAAA,OAAQ24C,QAAR34C,IAAQ24C,OAAR34C,EAAQ24C,EAHH,OAILpnE,KAJK,OAKLqnE,YAAajsC,EAAAA,UALR,cAMLksC,SANK,UAUT,cACE,IAAMrE,EAAU,IADkB,QAElC,eAAoC,CAClC,IAAM3kF,EAAQ68C,EADoB,GAElC,qBAAW78C,GAGX2kF,EAAAA,OAAAA,EALkC,GAOpC,OATkC,MAapC,aACEnqF,SAAAA,EAAAA,GAAoB,UAClBD,KAAA,OADkB,EAElBA,KAAA,OAAc,YAAYd,KAAKwjB,EAFb,KAGlB1iB,KAAA,YAAoBA,KAAKspF,QAAU5mE,EAAhB,aAHD,GAKlB1iB,KAAA,mBALkB,KAMlBA,KAAA,qBANkB,iDASpB,WAA6B,QAC3B,2BAAOA,KAAP,uCAAO,EAAP,uBAD2B,+BAI7BsvE,WAME,OALAjyE,EAAAA,EAAAA,SACG2C,KADH3C,mBADc,yDAKd2C,KAAA,mBAA0B,IAAI0uF,EALhB,MAMP1uF,KANO,iDAShByvE,SAAAA,EAAAA,GACE,GAAIzxE,GAAOgC,KAAX,uBACE,OADsC,KAGxC,IAAMujC,EAAS,IAAIorD,EAA0B3uF,KAAM8uE,EAJ1B,GAMzB,OADA9uE,KAAA,0BALyB,sCAS3B2vE,SAAAA,GACM3vE,KAAJ,oBACEA,KAAA,0BAD2B,GADL,UAIHA,KAAK4pF,qBAAqBniD,MAJvB,QAIxB,2BAAyD,QACvDlE,OADuD,GAJjC,qCAhC5B,0BA2CA,aACEtjC,SAAAA,EAAAA,GAAoB,qBAClBD,KAAA,QADkB,EAElBA,KAAA,QAFkB,KAGlBA,KAAA,QAHkB,EAIlBA,KAAA,UAJkB,KAKlB,IAAM0iB,EAAS8gB,EALG,OAMlBxjC,KAAA,iBAAwB0iB,EAAAA,kBANN,EAOlB1iB,KAAA,eAAsB0iB,EAPJ,OAQlB1iB,KAAA,oBARkB,+BASlBA,KAAA,cAAqB0iB,EAAAA,eATH,EAUlB1iB,KAAA,gBAAuB0iB,EAVL,eAWb1iB,KAAD,iBAA0BA,KAA9B,gBACEA,KAAA,eADgD,GAIlD,qBAAWovC,kBACTpvC,KAAA,iBAAwB,IADkB,iBAG5CA,KAAA,uBAA8B0iB,EAlBZ,cAmBlB1iB,KAAA,mBAA0B0iB,EAnBR,aAqBlB1iB,KAAA,SAAgB4uF,EAAc5uF,KAAKgwE,QArBjB,aAuBlB,IAAM1yE,EAAMolB,EAvBM,IAwBlBhiB,MAAAA,EAEEmuF,EACE7uF,KADF6uF,SAEE7uF,KAFF6uF,iBAGE7uF,KALJU,mBAAAA,MAQQC,SAAAA,GACJ,KAAKmuF,EAAAA,EAAAA,wBAAuBnuF,EAA5B,QACE,MAAMwtF,EAAAA,EAAAA,2BAA0BxtF,EAA1BwtF,OADsC,GAG9C,UAAextF,EAAAA,KAJC,YAKhB,qBALgB,UAOhB,IAAM2pF,EAAoBjnF,SAAAA,GACxB,OAAO1C,EAAAA,QAAAA,IADyB,IAGlC,GACE,IAAA4pF,kCAAiC,CAC/BD,kBAD+B,EAE/BhB,OAAQ,UAFuB,OAG/B9mC,eAAgB,EAHe,gBAI/BJ,aAAc,EAJiB,gBAD7B,EAAN,qBAAM,EAAN,kBAQA,oBAlBgB,EAoBhB,iBAAsBooC,GAAmB,EApBzB,eAsBhB,aAAiBC,EAAAA,EAAAA,2BAtBD,IA0BX,EAAD,uBAA+B,EAAnC,mBACE,SAAY,IAAI,EAAJ,eAD6C,8BAlC/D/pF,MAsCSV,KAAK6pF,mBA9DI,QAgElB7pF,KAAA,WAhEkB,yCAmEpB,WACE,OAAOA,KAAK6pF,mBADK,8BAInB,WACE,OAAO7pF,KADM,qCAIf,WACE,OAAOA,KADW,6CAIpB,WACE,OAAOA,KADc,oDAIvB,WACE,OAAOA,KADkB,6EAI3B,gHACQA,KAAK6pF,mBADb,+BAEgC7pF,KAAK+uF,QAFrC,0BAEQ,EAFR,UAEQ,EAFR,iDAIW,CAAEtpF,MAAF,EAASsB,KAAAA,IAJpB,cAME/G,KAAA,SAAgByF,EANL,WAOPzF,KAAJ,YACEA,KAAA,WAAgB,CACd6tD,OAAQ7tD,KADM,QAEd8tD,MAAO9tD,KAFO,iBAKZiM,EAAS,IAAIjL,WAAWyE,GAbhC,yBAcS,CAAEA,MAAF,EAAiBsB,MAAjB,IAdT,2HAiBAq/B,SAAAA,GACMpmC,KAAJ,SACEA,KAAA,eADgB,GAGdA,KAAJ,kBACEA,KAAA,iBADyB,cA7G/B,GAoHA,aACEC,SAAAA,EAAAA,EAAAA,EAAAA,GAAgC,qBAC9BD,KAAA,QAD8B,EAE9BA,KAAA,QAF8B,KAG9BA,KAAA,QAH8B,EAI9B,IAAM0iB,EAAS8gB,EAJe,OAK9BxjC,KAAA,iBAAwB0iB,EAAAA,kBALM,EAM9B1iB,KAAA,iBAN8B,+BAO9BA,KAAA,uBAA8B0iB,EAPA,cAS9B,qBAAW0sB,kBACTpvC,KAAA,iBAAwB,IADkB,iBAI5CA,KAAA,SAAgB4uF,EAAc5uF,KAAKgwE,QAbL,aAc9BhwE,KAAA,sDAAgDhC,EAdlB,IAgB9B,IAAMV,EAAMolB,EAhBkB,IAiB9BhiB,MAAAA,EAEEmuF,EACE7uF,KADF6uF,SAEE7uF,KAFF6uF,iBAGE7uF,KALJU,mBAAAA,MAQQC,SAAAA,GACJ,KAAKmuF,EAAAA,EAAAA,wBAAuBnuF,EAA5B,QACE,MAAMwtF,EAAAA,EAAAA,2BAA0BxtF,EAA1BwtF,OADsC,GAG9C,kBAJgB,UAKhB,UAAextF,EAAAA,KALC,eARpBD,MAeSV,KAAK8pF,gBAhCgB,QAkC9B9pF,KAAA,WAlC8B,iDAqChC,WACE,OAAOA,KADkB,6EAI3B,gHACQA,KAAK8pF,gBADb,+BAEgC9pF,KAAK+uF,QAFrC,0BAEQ,EAFR,UAEQ,EAFR,iDAIW,CAAEtpF,MAAF,EAASsB,KAAAA,IAJpB,cAME/G,KAAA,SAAgByF,EANL,WAOPzF,KAAJ,YACEA,KAAA,WAAgB,CAAE6tD,OAAQ7tD,KADP,UAGfiM,EAAS,IAAIjL,WAAWyE,GAVhC,yBAWS,CAAEA,MAAF,EAAiBsB,MAAjB,IAXT,2HAcAq/B,SAAAA,GACMpmC,KAAJ,SACEA,KAAA,eADgB,GAGdA,KAAJ,kBACEA,KAAA,iBADyB,cA5D/B,KCvNA,4BAGA,gCAEA,kCACA,cACA,iBAGA,mCACA,KACA,UACA,YAUA,OANA,uEAGA,YAGA,UCxBAgvF,oBAAA,gBAGA,OAFA,WACA,4BACA,wuHCmBA,6BAaA,yBAkBA,2BArDA,gKA0FE,cAA0C,CACxC,IAAM,EAAoBrtE,oBADc,KACxC,eAEAstE,EAAAA,EAAAA,6BAA2B5tC,SAAAA,GACzB,OAAO,IAAI6tC,EADwB,UAGhC,CACL,IAAM,EAAuBvtE,oBADxB,KACL,iBACM,EAAqBA,oBAFtB,KAEL,gBAEAstE,EAAAA,EAAAA,6BAA2B5tC,SAAAA,GACzB,OAAI5gD,EAAAA,EAAAA,iBAAgB4gD,EAApB,KACS,IAAI8tC,EADoB,GAG1B,IAAIC,EAJwB,8BhK1FzC,IARA,iLiKDe,SAASC,EAAyB3sE,EAAQ4sE,GACvD,GAAc,MAAV5sE,EAAgB,MAAO,GAC3B,IACIlZ,EAAKtG,EADL4f,GAAS,EAAAysE,EAAA,GAA6B7sE,EAAQ4sE,GAGlD,GAAInsF,OAAO+mB,sBAAuB,CAChC,IAAIslE,EAAmBrsF,OAAO+mB,sBAAsBxH,GAEpD,IAAKxf,EAAI,EAAGA,EAAIssF,EAAiBzlF,OAAQ7G,IACvCsG,EAAMgmF,EAAiBtsF,GACnBosF,EAASjlE,QAAQ7gB,IAAQ,GACxBrG,OAAOy2E,UAAU6V,qBAAqBlsE,KAAKb,EAAQlZ,KACxDsZ,EAAOtZ,GAAOkZ,EAAOlZ,IAIzB,OAAOsZ,kHCdE4sE,EAAiB,CAAC,YAAa,aAAc,WAI7CC,EAAc,CAAC,UAAW,gBAAiB,gBAAiB,SAAU,YAAa,cAAe,aAAc,cAAe,aAAc,cAAe,SAAU,cAAe,eAAgB,eAAgB,cAAe,aAAc,cAAe,aAGjQC,EAAc,CAAC,gBAAiB,aAAc,cAAe,gBAQ7DC,EAAY,GAAG5lE,OAjBG,CAAC,SAAU,QAAS,WAClB,CAAC,mBAAoB,qBAAsB,uBAgBLylE,EAd5C,CAAC,UAAW,UACb,CAAC,WAAY,UAAW,YAAa,UAAW,YAC7C,CAAC,UAAW,UAYsFC,EAVlG,CAAC,gBAAiB,gBAAiB,cAAe,kBAAmB,sBAAuB,uBAAwB,iBAAkB,iBAAkB,gBAAiB,gBACvK,CAAC,YAS4IC,EAPpJ,CAAC,YACE,CAAC,WACD,CAAC,UAAW,YAAa,mBAAoB,mBAAoB,YAAa,cAAe,UAAW,UAAW,eAAgB,mBAAoB,cAAe,UAAW,SAAU,YAAa,aAAc,eAAgB,WAAY,YAAa,YAAa,YAAa,eAAgB,iBAAkB,aAC3T,CAAC,SAAU,WACP,CAAC,mBAAoB,iBAAkB,wBACtC,CAAC,mBACN,CAAC,aA4B1B,EAnBqB,SAAwBp8D,EAAOs8D,GAClD,IAAIC,EAAa,GAejB,OAdAF,EAAUG,SAAQ,SAAUzZ,GACpBA,KAAa/iD,IASnBu8D,EAAWxZ,GALNuZ,EAKmB,SAAUh0D,GAChC,OAAOtI,EAAM+iD,GAAWz6C,EAAOg0D,EAAQvZ,KALf/iD,EAAM+iD,OAQ3BwZ,GC1CM,SAASE,EAAuBl1D,GAC7C,IAAI+yC,GAAc,EACdoiB,EAAiB,IAAI9wF,SAAQ,SAAUI,EAASC,GAClDs7B,EAAQ5yB,MAAK,WACX,OAAQ2lE,GAAetuE,EAAQ++B,WAAM,EAAQxY,cAD/C,OAEY,SAAUhC,GACpB,OAAQ+pD,GAAeruE,EAAOskB,SAGlC,MAAO,CACLgX,QAASm1D,EACT9pD,OAAQ,WACN0nC,GAAc,ICZL,SAASqiB,IACtB,OAAO/wE,MAAMw6D,UAAUnyC,MAAMlkB,KAAKwC,WAAWqqE,QAAO,SAAUC,EAAW7pF,GACvE,OAAO6pF,EAAUpmE,OAAOzjB,KACvB,IAAI8pF,QAAO,SAAU9pF,GACtB,MAAsB,kBAARA,KACbkyB,KAAK,6BCJV,GAA4B63D,EAAAA,EAAAA,eAAc,MCC3B,SAASC,EAAQC,GAC9B,IAAIC,EAAWD,EAAKC,SAChBzpF,EAAOwpF,EAAKxpF,KAChB,OAAoB0pF,EAAAA,cAAoB,MAAO,CAC7CC,UAAW,0CAA0C3mE,OAAOhjB,IAC3DypF,GAELF,EAAQK,UAAY,CAClBH,SAAUI,IAAAA,KACV7pF,KAAM6pF,IAAAA,MAAgB,CAAC,QAAS,UAAW,YAAYC,YCOzD,IAEIC,EAA2B,WAC7B,SAASA,KACPC,EAAAA,EAAAA,GAAgBjxF,KAAMgxF,GAEtBhxF,KAAKkxF,mBAAqB,KAC1BlxF,KAAKmxF,gBAAkB,KAmIzB,OAhIAC,EAAAA,EAAAA,GAAaJ,EAAa,CAAC,CACzBxnF,IAAK,cACL/D,MAAO,SAAqB4rF,GAC1BrxF,KAAKqxF,YAAcA,IAEpB,CACD7nF,IAAK,YACL/D,MAAO,SAAmB6rF,GACxBtxF,KAAKsxF,UAAYA,IAElB,CACD9nF,IAAK,qBACL/D,MAAO,SAA4B0rF,GACjCnxF,KAAKmxF,gBAAkBA,IAExB,CACD3nF,IAAK,wBACL/D,MAAO,SAA+ByrF,GACpClxF,KAAKkxF,mBAAqBA,IAE3B,CACD1nF,IAAK,aACL/D,MAAO,cACN,CACD+D,IAAK,aACLmD,IAAK,WACH,OAAO3M,KAAKqxF,YAAcrxF,KAAKqxF,YAAY/hC,SAAW,IAEvD,CACD9lD,IAAK,OACLmD,IAAK,WACH,OAAO3M,KAAKsxF,UAAUC,mBAExBpoE,IAAK,SAAa1jB,GAChBzF,KAAKsxF,UAAUC,kBAAoB9rF,IAEpC,CACD+D,IAAK,WACLmD,IAAK,WACH,OAAO,GAETwc,IAAK,SAAa1jB,MACjB,CACD+D,IAAK,kBACL/D,MAAO,SAAyB4wC,GAC9B,IAAI1P,EAAQ3mC,KAEZ,IAAIZ,SAAQ,SAAUI,GACA,kBAAT62C,EACT1P,EAAM0qD,YAAYpsC,eAAe5O,GAAMluC,KAAK3I,GACnC4f,MAAMoyE,QAAQn7C,GACvB72C,EAAQ62C,GAERA,EAAKluC,KAAK3I,MAEX2I,MAAK,SAAUspF,IAChBC,EAAAA,EAAAA,SAAUtyE,MAAMoyE,QAAQC,GAAe,IAAKxnE,OAAOwnE,EAAc,wCACjE,IAAIE,EAAUF,EAAa,GAC3B,IAAIryF,SAAQ,SAAUI,GAChBmyF,aAAmBxuF,OACrBwjC,EAAM0qD,YAAYtsC,aAAa4sC,GAASxpF,MAAK,SAAU6gD,GACrDxpD,EAAQwpD,MADV,OAEY,YACV0oC,EAAAA,EAAAA,UAAU,EAAO,IAAKznE,OAAO0nE,EAAS,wCAEZ,kBAAZA,EAChBnyF,EAAQmyF,IAERD,EAAAA,EAAAA,UAAU,EAAO,IAAKznE,OAAO0nE,EAAS,+CAEvCxpF,MAAK,SAAU6gD,GAChB,IAAIiG,EAAajG,EAAY,GAC7B0oC,EAAAA,EAAAA,SAAUziC,GAAc,GAAKA,GAActoB,EAAMirD,WAAY,IAAK3nE,OAAOglC,EAAY,kCAErFtoB,EAAM2qD,UAAUO,mBAAmB,CACjCx7C,KAAMA,EACN2S,UAAWA,EACXiG,WAAYA,YAKnB,CACDzlD,IAAK,aACL/D,MAAO,SAAoB4wC,GACzBr2C,KAAK8xF,gBAAgBz7C,KAEtB,CACD7sC,IAAK,WACL/D,MAAO,cACN,CACD+D,IAAK,oBACL/D,MAAO,SAA2BhI,EAAMH,EAAKy0F,GAC3Ct0F,EAAKu0F,KAAO10F,EACZG,EAAKG,IAAMoC,KAAKmxF,iBAxGC,+BAyGjB1zF,EAAKqlB,OAASivE,EAAY,SAAW/xF,KAAKkxF,oBAAsB,KAEjE,CACD1nF,IAAK,qBACL/D,MAAO,WACL,MAAO,MAER,CACD+D,IAAK,eACL/D,MAAO,WACL,MAAO,MAER,CACD+D,IAAK,UACL/D,MAAO,cACN,CACD+D,IAAK,qBACL/D,MAAO,cACN,CACD+D,IAAK,eACL/D,MAAO,cACN,CACD+D,IAAK,gBACL/D,MAAO,WACL,OAAO,IAER,CACD+D,IAAK,eACL/D,MAAO,WACL,OAAO,MAIJurF,EAxIsB,GCf/B,EAJwB,CACtB1yE,cAAe,EACfC,mBAAoB,YCIX0zE,EAA8B,qBAAX7uE,OAKnB8uE,EAAoBD,GAA0C,UAA7B7uE,OAAO0b,SAAS96B,SAOrD,SAASmuF,EAAUC,GACxB,MAA2B,qBAAbA,EAQT,SAASC,EAAWD,GACzB,OAAOD,EAAUC,IAA0B,OAAbA,EAiBzB,SAASjxC,EAAcixC,GAC5B,OAAOA,aAAoB1qD,YAQtB,SAAS4qD,EAAOF,GAErB,OADAV,EAAAA,EAAAA,SAAUO,EAAW,oDACdG,aAAoBrmF,KAQtB,SAASwmF,EAAOH,GAErB,OADAV,EAAAA,EAAAA,SAAUO,EAAW,oDACdG,aAAoBI,KAQtB,SAASC,EAAUvlF,GACxB,MAtC2B,kBAsCXA,GAAQ,SAAShO,KAAKgO,GAEjC,SAASwlF,EAAoBC,IAClCjB,EAAAA,EAAAA,SAAUe,EAAUE,GAAU,qBAE9B,IAAIC,EAAiBD,EAAQjuE,MAAM,KAC/BmuE,GAAkBC,EAAAA,EAAAA,GAAeF,EAAgB,GACjDG,EAAgBF,EAAgB,GAChCG,EAAaH,EAAgB,GAIjC,OAAmC,IAFrBE,EAAcruE,MAAM,KAEtB2F,QAAQ,UACXonC,KAAKuhC,GAGP3kF,SAAS2kF,GAKlB,IAAIC,EAA8B,sGAC3B,SAASC,KACdC,EAAAA,EAAAA,UAASjB,EAAmB,uFAAuFjoE,OAAOgpE,IAKrH,SAASG,EAAkBC,GAC5BA,GAAeA,EAAYjtD,QAAQitD,EAAYjtD,SAE9C,SAASktD,EAAiB5lC,EAAM/uD,GAyBrC,OAxBAwE,OAAO8gB,eAAeypC,EAAM,QAAS,CACnC/gD,IAAK,WACH,OAAO3M,KAAK0oC,KAAK,GAAK/pC,GAExBgH,cAAc,IAEhBxC,OAAO8gB,eAAeypC,EAAM,SAAU,CACpC/gD,IAAK,WACH,OAAO3M,KAAK0oC,KAAK,GAAK/pC,GAExBgH,cAAc,IAEhBxC,OAAO8gB,eAAeypC,EAAM,gBAAiB,CAC3C/gD,IAAK,WACH,OAAO3M,KAAK0oC,KAAK,IAEnB/iC,cAAc,IAEhBxC,OAAO8gB,eAAeypC,EAAM,iBAAkB,CAC5C/gD,IAAK,WACH,OAAO3M,KAAK0oC,KAAK,IAEnB/iC,cAAc,IAET+nD,EAEF,SAAS6lC,EAAkBxvE,GAChC,MAAsB,gCAAfA,EAAM1gB,KAER,SAASmwF,EAAaC,GAC3B,OAAO,IAAIr0F,SAAQ,SAAUI,EAASC,GACpC,IAAI8jC,EAAS,IAAImwD,WA0BjB,OAxBAnwD,EAAOowD,OAAS,WACd,OAAOn0F,EAAQ,IAAIwB,WAAWuiC,EAAOv7B,UAGvCu7B,EAAOqwD,QAAU,SAAU93D,GACzB,OAAQA,EAAMhZ,OAAOiB,MAAM9V,MACzB,KAAK6tB,EAAMhZ,OAAOiB,MAAM8vE,cACtB,OAAOp0F,EAAO,IAAIC,MAAM,gDAE1B,KAAKo8B,EAAMhZ,OAAOiB,MAAM+vE,iBACtB,OAAOr0F,EAAO,IAAIC,MAAM,mDAE1B,KAAKo8B,EAAMhZ,OAAOiB,MAAMgwE,aACtB,OAAOt0F,EAAO,IAAIC,MAAM,gDAE1B,KAAKo8B,EAAMhZ,OAAOiB,MAAMiwE,UACtB,OAAOv0F,EAAO,IAAIC,MAAM,yCAE1B,QACE,OAAOD,EAAO,IAAIC,MAAM,kCAI9B6jC,EAAO0wD,kBAAkBR,GAClB,sBC/JA1D,EAAa,WACtB,IAAI/nF,EAAS,GAIb,MAHA,GAAGiiB,QAAOiqE,EAAAA,EAAAA,GAAmBvE,IAAcuE,EAAAA,EAAAA,GAAmBtE,IAAcsE,EAAAA,EAAAA,GAAmBxE,IAAiBM,SAAQ,SAAUzZ,GAChIvuE,EAAOuuE,GAAaua,IAAAA,QAEf9oF,EALe,GAOpBmsF,EAAY,CAACrD,IAAAA,OAAkBA,IAAAA,WAAqBppD,aAAcopD,IAAAA,MAAgB,CACpF/vF,KAAM+vF,IAAAA,UAAoB,CAACA,IAAAA,OAAkBA,IAAAA,SAC7CxuC,YAAawuC,IAAAA,OACb1vC,MAAO0vC,IAAAA,OACPxzF,IAAKwzF,IAAAA,OACLvuC,gBAAiBuuC,IAAAA,QAGC,qBAAT0B,MACT2B,EAAU7pE,KAAKwmE,IAAAA,WAAqB0B,OAGlB,qBAATzmF,MACTooF,EAAU7pE,KAAKwmE,IAAAA,WAAqB/kF,OAG/B,IAAIqoF,EAActD,IAAAA,UAAoB,CAACA,IAAAA,OAAkBA,IAAAA,QAAkBA,IAAAA,UACvEyB,EAASzB,IAAAA,UAAoBqD,GAC7BE,EAAgBvD,IAAAA,WAAqBE,GAErCsD,GADexD,IAAAA,MAAgB,CAAC,QAAS,SAAU,UAAW,SACrDA,IAAAA,MAAgB,CAClClsC,WAAYksC,IAAAA,MAAgB,CAC1ByD,WAAYzD,IAAAA,OAAAA,aACXC,WACHjoC,WAAYgoC,IAAAA,MAAgB,CAC1BphC,MAAOohC,IAAAA,OAAAA,aACNC,WACHhqC,eAAgB+pC,IAAAA,KAAAA,WAChB/mC,eAAgB+mC,IAAAA,KAAAA,WAChBhqC,YAAagqC,IAAAA,KAAAA,WACbvpC,OAAQupC,IAAAA,KAAAA,cA8DC0D,GAAQ1D,IAAAA,UAAoB,CAACA,IAAAA,MAAgB,CACtD7rC,eAAgB6rC,IAAAA,KAAAA,WAChBprC,WAAYorC,IAAAA,KAAAA,WACZhsC,QAASgsC,IAAAA,KAAAA,WACTxhC,SAAUwhC,IAAAA,OAAAA,aACRA,IAAAA,OACO2D,GAAQ3D,IAAAA,UAAoB,CAACA,IAAAA,KAAgBA,IAAAA,MAAgB,CACtEz9B,QAASy9B,IAAAA,QAEA4D,GAAe5D,IAAAA,MAAgB,CAAC,SAAU,OAAQ,QAClD6D,GAAW7D,IAAAA,MAAgB,CAAC,EAAG,GAAI,IAAK,MCzG/C8D,GAAY,CAAC,OAEjB,SAAS/qE,GAAQhC,EAAQgtE,GAAkB,IAAItrF,EAAOpG,OAAOoG,KAAKse,GAAS,GAAI1kB,OAAO+mB,sBAAuB,CAAE,IAAI4qE,EAAU3xF,OAAO+mB,sBAAsBrC,GAASgtE,IAAmBC,EAAUA,EAAQxE,QAAO,SAAUyE,GAAO,OAAO5xF,OAAOif,yBAAyByF,EAAQktE,GAAKrvF,eAAiB6D,EAAK+gB,KAAKiU,MAAMh1B,EAAMurF,GAAY,OAAOvrF,EAE9U,SAASyrF,GAAclyE,GAAU,IAAK,IAAI5f,EAAI,EAAGA,EAAI6iB,UAAUhc,OAAQ7G,IAAK,CAAE,IAAIwf,EAAS,MAAQqD,UAAU7iB,GAAK6iB,UAAU7iB,GAAK,GAAIA,EAAI,EAAI2mB,GAAQ1mB,OAAOuf,IAAS,GAAIstE,SAAQ,SAAUxmF,IAAOyrF,EAAAA,EAAAA,GAAgBnyE,EAAQtZ,EAAKkZ,EAAOlZ,OAAYrG,OAAO+xF,0BAA4B/xF,OAAOovB,iBAAiBzP,EAAQ3f,OAAO+xF,0BAA0BxyE,IAAWmH,GAAQ1mB,OAAOuf,IAASstE,SAAQ,SAAUxmF,GAAOrG,OAAO8gB,eAAenB,EAAQtZ,EAAKrG,OAAOif,yBAAyBM,EAAQlZ,OAAa,OAAOsZ,EAEjf,SAASqyE,GAAaC,GAAW,IAAIC,EAErC,WAAuC,GAAuB,qBAAZ91D,UAA4BA,QAAQpB,UAAW,OAAO,EAAO,GAAIoB,QAAQpB,UAAUm3D,KAAM,OAAO,EAAO,GAAqB,oBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFp6C,QAAQy+B,UAAU4b,QAAQjyE,KAAKgc,QAAQpB,UAAUgd,QAAS,IAAI,iBAAyB,EAAQ,MAAOvtC,GAAK,OAAO,GAF9P6nF,GAA6B,OAAO,WAAkC,IAAsCztF,EAAlC0tF,GAAQC,EAAAA,EAAAA,GAAgBP,GAAkB,GAAIC,EAA2B,CAAE,IAAIO,GAAYD,EAAAA,EAAAA,GAAgB31F,MAAMC,YAAa+H,EAASu3B,QAAQpB,UAAUu3D,EAAO3vE,UAAW6vE,QAAqB5tF,EAAS0tF,EAAMn3D,MAAMv+B,KAAM+lB,WAAc,OAAO8vE,EAAAA,EAAAA,GAA2B71F,KAAMgI,IAqB5Z,IAAI8tF,GAAwBC,EAAAA,sBAExBC,GAAwB,SAAUC,IACpCC,EAAAA,EAAAA,GAAUF,EAAUC,GAEpB,IAAIE,EAAShB,GAAaa,GAE1B,SAASA,IACP,IAAIrvD,GAEJsqD,EAAAA,EAAAA,GAAgBjxF,KAAMg2F,GAEtB,IAAK,IAAII,EAAOrwE,UAAUhc,OAAQmmB,EAAO,IAAI9Q,MAAMg3E,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EnmE,EAAKmmE,GAAQtwE,UAAUswE,GA6NzB,OA1NA1vD,EAAQwvD,EAAO5yE,KAAKgb,MAAM43D,EAAQ,CAACn2F,MAAMiqB,OAAOiG,KAEhD+kE,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,QAAS,CACtD4vD,IAAK,QAGPtB,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,SAAU,CACvDkrD,mBAAoB,SAA4BpB,GAC9C,IAAIp6C,EAAOo6C,EAAKp6C,KACZ2S,EAAYynC,EAAKznC,UACjBiG,EAAawhC,EAAKxhC,WAElBunC,EAAc7vD,EAAMnT,MAAMgjE,YAE9B,GAAIA,EACFA,EAAY,CACVngD,KAAMA,EACN2S,UAAWA,EACXiG,WAAYA,QAJhB,CAUA,IAAIvB,EAAO/mB,EAAM8vD,MAAMztC,GAEnB0E,EAEFA,EAAKgpC,kBAIPvD,EAAAA,EAAAA,UAAQ,EAAO,oCAAoClpE,OAAOglC,EAAY,gQAI1EgmC,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,cAAe,IAAIqqD,IAElEiE,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,gBAAgB,WAC7DA,EAAMgwD,qBAAqBxuF,MAAK,SAAUua,GAGxC,GAFAikB,EAAMiwD,kBAEDl0E,EAAL,CAIAikB,EAAMkwD,UAAS,SAAUC,GACvB,OAAKA,EAAUP,IAIR,CACLA,IAAK,MAJE,QAQX,IAAIQ,EAAcpwD,EAAMnT,MACpB3mB,EAAUkqF,EAAYlqF,QACtBmqF,EAAiBD,EAAYC,eAC7BC,EAAaF,EAAYE,WAE7B7D,EAAkBzsD,EAAM0sD,aAEpB1sD,EAAM0f,aAAa1f,EAAM0f,YAAY5F,UACzC9Z,EAAM0f,YAAc0vC,EAAAA,YAAkBf,GAAcA,GAAc,GAAItyE,GAAS7V,IAC/E85B,EAAM0f,YAAY4wC,WAAaA,EAE3BD,IACFrwD,EAAM0f,YAAYymC,WAAakK,GAGjC,IAAIE,EAAcC,EAAgBxwD,EAAM0f,YAAYtrB,SACpD4L,EAAM0sD,YAAc6D,EACpBA,EAAYn8D,QAAQ5yB,MAAK,SAAUouF,GACjC5vD,EAAMkwD,UAAS,SAAUC,GACvB,OAAIA,EAAUP,KAAOO,EAAUP,IAAIa,cAAgBb,EAAIa,YAC9C,KAGF,CACLb,IAAKA,KAEN5vD,EAAM0wD,kBATX,OAUY,SAAUtzE,GACpB4iB,EAAM2wD,YAAYvzE,UA7CtB,OA+CY,SAAUA,GACpB4iB,EAAM4wD,cAAcxzE,UAIxBkxE,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,oBAAoB,WACjE,IAAI6wD,EAAe7wD,EAAMnT,MACrB29D,EAAkBqG,EAAarG,gBAC/BD,EAAqBsG,EAAatG,mBAEtCvqD,EAAM0tC,YAAYojB,UAAU9wD,EAAM+wD,QAElC/wD,EAAM0tC,YAAYsjB,mBAAmBxG,GAErCxqD,EAAM0tC,YAAYujB,sBAAsB1G,OAG1C+D,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,mBAAmB,WAChE,IAAIiwD,EAAkBjwD,EAAMnT,MAAMojE,gBAC9BA,GAAiBA,QAGvB3B,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,iBAAiB,SAAU5iB,IACxEovE,EAAAA,EAAAA,SAAQpvE,GACR,IAAIwzE,EAAgB5wD,EAAMnT,MAAM+jE,cAC5BA,GAAeA,EAAcxzE,OAGnCkxE,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,iBAAiB,WAC9D,IAAI0wD,EAAgB1wD,EAAMnT,MAAM6jE,cAC5Bd,EAAM5vD,EAAMrgC,MAAMiwF,IAClBc,GAAeA,EAAcd,GACjC5vD,EAAM8vD,MAAQ,IAAIr3E,MAAMm3E,EAAIjnC,UAE5B3oB,EAAM0tC,YAAYwjB,YAAYtB,OAGhCtB,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,eAAe,SAAU5iB,GACtE4iB,EAAMkwD,SAAS,CACbN,KAAK,KAGPpD,EAAAA,EAAAA,SAAQpvE,GACR,IAAIuzE,EAAc3wD,EAAMnT,MAAM8jE,YAC1BA,GAAaA,EAAYvzE,OAG/BkxE,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,sBAAsB,WACnE,OAAO,IAAIvnC,SAAQ,SAAUI,GAC3B,IAAIi0F,EAAO9sD,EAAMnT,MAAMigE,KAOvB,GALKA,GACHj0F,EAAQ,MAIU,kBAATi0F,EAAmB,CAC5B,GAAIhB,EAAUgB,GAAO,CACnB,IAAIqE,EAAiBpF,EAAoBe,GACzCj0F,EAAQ,CACNuB,KAAM+2F,IAIV5E,IACA1zF,EAAQ,CACNlC,IAAKm2F,IAuBT,GAlBIA,aAAgBqC,IAClBt2F,EAAQ,CACN4hD,MAAOqyC,IAKPtyC,EAAcsyC,IAChBj0F,EAAQ,CACNuB,KAAM0yF,IASNxB,IAEEK,EAAOmB,IAASlB,EAAOkB,IACzBD,EAAaC,GAAMtrF,MAAK,SAAUpH,GAChCvB,EAAQ,CACNuB,KAAMA,WALd,CAgBA,IAHA2wF,EAAAA,EAAAA,SAA4B,YAAlBqG,EAAAA,EAAAA,GAAQtE,GAAoB,oFACtC/B,EAAAA,EAAAA,SAAU+B,EAAKn2F,KAAOm2F,EAAK1yF,MAAQ0yF,EAAKryC,MAAO,+DAEvB,kBAAbqyC,EAAKn2F,IAAkB,CAChC,GAAIm1F,EAAUgB,EAAKn2F,KAAM,CACvB,IAAIA,EAAMm2F,EAAKn2F,IACX06F,EAAc3I,EAAyBoE,EAAMmB,IAE7CqD,EAAkBvF,EAAoBp1F,GAE1CkC,EAAQw1F,GAAc,CACpBj0F,KAAMk3F,GACLD,IAGL9E,IAGF1zF,EAAQi0F,WAIZwB,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,gBAAgB,SAAUqiB,EAAWr7B,GAClFgZ,EAAM8vD,MAAMztC,GAAar7B,MAG3BsnE,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,kBAAkB,SAAUqiB,UAClEriB,EAAM8vD,MAAMztC,MAGdriB,EA8GT,OA3GAyqD,EAAAA,EAAAA,GAAa4E,EAAU,CAAC,CACtBxsF,IAAK,oBACL/D,MAAO,WACLzF,KAAKk4F,eACLl4F,KAAKm4F,qBAEN,CACD3uF,IAAK,qBACL/D,MAAO,SAA4B2yF,GACtBp4F,KAAKwzB,MAAMigE,OAET2E,EAAU3E,MACrBzzF,KAAKk4F,iBAGR,CACD1uF,IAAK,uBACL/D,MAAO,WAEL2tF,EAAkBpzF,KAAKqzF,aAEnBrzF,KAAKqmD,aAAarmD,KAAKqmD,YAAY5F,YAExC,CACDj3C,IAAK,eACLmD,IAAK,WACH,IAAI0nE,EAAcr0E,KAAKq0E,YACnBgkB,EAAer4F,KAAKq4F,aACpBC,EAAiBt4F,KAAKs4F,eACtBC,EAAev4F,KAAKwzB,MACpBsiD,EAAqByiB,EAAaziB,mBAClC0iB,EAAaD,EAAaC,WAC1BC,EAASF,EAAaE,OAE1B,MAAO,CACL3iB,mBAAoBA,EACpBzB,YAAaA,EACbkiB,IAJQv2F,KAAKsG,MAAMiwF,IAKnB8B,aAAcA,EACdG,WAAYA,EACZC,OAAQA,EACRH,eAAgBA,KAGnB,CACD9uF,IAAK,aACLmD,IAAK,WACH,IAAI+rF,EAAS14F,KAEb,OAAO24F,EAAe34F,KAAKwzB,OAAO,WAChC,OAAOklE,EAAOpyF,MAAMiwF,SAOvB,CACD/sF,IAAK,iBACL/D,MAAO,WACL,IAAIirF,EAAW1wF,KAAKwzB,MAAMk9D,SAC1B,OAAoBC,EAAAA,cAAoBiI,EAAAA,SAA0B,CAChEnzF,MAAOzF,KAAK64F,cACXnI,KAEJ,CACDlnF,IAAK,gBACL/D,MAAO,WACL,IAAIguF,EAAOzzF,KAAKwzB,MAAMigE,KAClB8C,EAAMv2F,KAAKsG,MAAMiwF,IAErB,IAAK9C,EAAM,CACT,IAAIqF,EAAS94F,KAAKwzB,MAAMslE,OACxB,OAAoBnI,EAAAA,cAAoBH,EAAS,CAC/CvpF,KAAM,WACa,oBAAX6xF,EAAwBA,IAAWA,GAG/C,GAAY,OAARvC,EAAc,CAChB,IAAIwC,EAAU/4F,KAAKwzB,MAAMulE,QACzB,OAAoBpI,EAAAA,cAAoBH,EAAS,CAC/CvpF,KAAM,WACc,oBAAZ8xF,EAAyBA,IAAYA,GAGjD,IAAY,IAARxC,EAAe,CACjB,IAAIxyE,EAAQ/jB,KAAKwzB,MAAMzP,MACvB,OAAoB4sE,EAAAA,cAAoBH,EAAS,CAC/CvpF,KAAM,SACY,oBAAV8c,EAAuBA,IAAUA,GAG7C,OAAO/jB,KAAKg5F,mBAEb,CACDxvF,IAAK,SACL/D,MAAO,WACL,IAAIwzF,EAAej5F,KAAKwzB,MACpBo9D,EAAYqI,EAAarI,UACzBsI,EAAWD,EAAaC,SAC5B,OAAoBvI,EAAAA,cAAoB,OAAOwI,EAAAA,EAAAA,GAAS,CACtDvI,UAAWT,EAAgB,sBAAuBS,GAClDjjE,IAAKurE,GACJl5F,KAAK+vF,YAAa/vF,KAAKo5F,qBAIvBpD,EAtVmB,CAuV1BqD,EAAAA,eAGFrD,GAASsD,aAAe,CACtBv1E,MAAO,2BACPg1E,QAAS,oBACTD,OAAQ,yBACR7B,WAAY,SAAoB7zD,EAAUx2B,GACxC,OAAQA,GACN,KAAK2sF,EAAAA,cAIDn2D,EADeo2D,OAAO,8CAEtB,MAGJ,KAAKD,EAAAA,mBAKDn2D,EAFgBo2D,OAAO,2CAUjC,IAAIC,GAAmB3I,IAAAA,UAAoB,CAACA,IAAAA,KAAgBA,IAAAA,OAC5DkF,GAASnF,UAAYmE,GAAcA,GAAc,GAAIjF,GAAa,GAAI,CACpEW,SAAUI,IAAAA,KACVF,UAAWwD,EACXrwE,MAAO01E,GACPtI,gBAAiBL,IAAAA,OACjBI,mBAAoBJ,IAAAA,OACpB2C,KAAMiG,EACN5jB,mBAAoBgb,IAAAA,OACpBoI,SAAUzE,GACVsE,QAASU,GACTX,OAAQW,GACRjD,YAAa1F,IAAAA,KACbwG,YAAaxG,IAAAA,KACbkG,eAAgBlG,IAAAA,KAChBuG,cAAevG,IAAAA,KACfmG,WAAYnG,IAAAA,KACZyG,cAAezG,IAAAA,KACf8F,gBAAiB9F,IAAAA,KACjB2H,OAAQ3H,IAAAA,SC9aV,QAA4BP,EAAAA,EAAAA,eAAc,MCEtCoJ,GAAmB,WACrB,SAASA,EAAIlJ,GACX,IAAImJ,EAAMnJ,EAAKmJ,IACXC,EAAMpJ,EAAKoJ,KAEf5I,EAAAA,EAAAA,GAAgBjxF,KAAM25F,GAEtB35F,KAAK45F,IAAMA,EACX55F,KAAK65F,IAAMA,EAgBb,OAbAzI,EAAAA,EAAAA,GAAauI,EAAK,CAAC,CACjBnwF,IAAK,WACL/D,MAAO,WACL,IAAIyH,EAAM,GAAG+c,OAAOjqB,KAAK45F,IAAK,KAM9B,OAJiB,IAAb55F,KAAK65F,MACP3sF,GAAOlN,KAAK65F,KAGP3sF,MAIJysF,EAxBc,GCOnB/E,GAAY,CAAC,QAEjB,SAASO,GAAaC,GAAW,IAAIC,EAErC,WAAuC,GAAuB,qBAAZ91D,UAA4BA,QAAQpB,UAAW,OAAO,EAAO,GAAIoB,QAAQpB,UAAUm3D,KAAM,OAAO,EAAO,GAAqB,oBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFp6C,QAAQy+B,UAAU4b,QAAQjyE,KAAKgc,QAAQpB,UAAUgd,QAAS,IAAI,iBAAyB,EAAQ,MAAOvtC,GAAK,OAAO,GAF9P6nF,GAA6B,OAAO,WAAkC,IAAsCztF,EAAlC0tF,GAAQC,EAAAA,EAAAA,GAAgBP,GAAkB,GAAIC,EAA2B,CAAE,IAAIO,GAAYD,EAAAA,EAAAA,GAAgB31F,MAAMC,YAAa+H,EAASu3B,QAAQpB,UAAUu3D,EAAO3vE,UAAW6vE,QAAqB5tF,EAAS0tF,EAAMn3D,MAAMv+B,KAAM+lB,WAAc,OAAO8vE,EAAAA,EAAAA,GAA2B71F,KAAMgI,IAWrZ,IAAI8xF,GAAmC,SAAU7D,IACtDC,EAAAA,EAAAA,GAAU4D,EAAqB7D,GAE/B,IAAIE,EAAShB,GAAa2E,GAE1B,SAASA,IACP,IAAInzD,GAEJsqD,EAAAA,EAAAA,GAAgBjxF,KAAM85F,GAEtB,IAAK,IAAI1D,EAAOrwE,UAAUhc,OAAQmmB,EAAO,IAAI9Q,MAAMg3E,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EnmE,EAAKmmE,GAAQtwE,UAAUswE,GAuFzB,OApFA1vD,EAAQwvD,EAAO5yE,KAAKgb,MAAM43D,EAAQ,CAACn2F,MAAMiqB,OAAOiG,KAEhD+kE,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,kBAAkB,WAC/D,OAAO,IAAIvnC,SAAQ,SAAUI,EAASC,GACpC,IAAIs3F,EAAcpwD,EAAMnT,MACpBnoB,EAAO0rF,EAAY1rF,KACnBkrF,EAAMQ,EAAYR,IAUtB,OARKpE,EAAUxrD,EAAM4V,eACM,kBAAdlxC,EAAKgrC,KACdkgD,EAAItxC,eAAe55C,EAAKgrC,MAAMluC,KAAK3I,GAAnC,MAAqDC,GAErDD,EAAQ6L,EAAKgrC,OAIV1P,EAAM4V,eACZp0C,MAAK,SAAUo0C,GAEhB,OADA5V,EAAM4V,YAAcA,EACbA,SAIX04C,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,gBAAgB,WAC7D,OAAO,IAAIvnC,SAAQ,SAAUI,EAASC,GACpC,IAAI82F,EAAM5vD,EAAMnT,MAAM+iE,IAElBpE,EAAUxrD,EAAMqiB,YAClBxpD,EAAQmnC,EAAMqiB,WAGhBriB,EAAMse,iBAAiB98C,MAAK,SAAUo0C,GACpC,GAAKA,EAAL,CAIA,IACI5uB,GADemlE,EAAAA,EAAAA,GAAev2C,EAAa,GACxB,GAEvBg6C,EAAIxxC,aAAa,IAAI40C,GAAIhsE,IAAMxlB,KAAK3I,GAApC,MAAsDC,UAEvD0I,MAAK,SAAU6gD,GAEhB,OADAriB,EAAMqiB,UAAYA,EACXriB,EAAMqiB,iBAIjBisC,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,iBAAiB,WAC9D,OAAO,IAAIvnC,SAAQ,SAAUI,EAASC,GAChC0yF,EAAUxrD,EAAMsoB,aAClBzvD,EAAQmnC,EAAMsoB,YAGhBtoB,EAAMoe,eAAe58C,MAAK,SAAU6gD,GAClCxpD,EAAQwpD,EAAY,MADtB,MAEYvpD,MACX0I,MAAK,SAAU8mD,GAEhB,OADAtoB,EAAMsoB,WAAaA,EACZA,SAIXgmC,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,WAAW,SAAU7K,GAClE,IAAIi+D,EAAUpzD,EAAMnT,MAAMumE,QAG1B,OAFAj+D,EAAMk+D,mBAEDD,GAIE36F,QAAQ09B,IAAI,CAAC6J,EAAMse,iBAAkBte,EAAMoe,eAAgBpe,EAAMszD,kBAAkB9xF,MAAK,SAAUsoF,GACvG,IAAIyJ,GAAQpH,EAAAA,EAAAA,GAAerC,EAAM,GAC7Bp6C,EAAO6jD,EAAM,GACblxC,EAAYkxC,EAAM,GAClBjrC,EAAairC,EAAM,GAEvBH,EAAQ,CACN1jD,KAAMA,EACN2S,UAAWA,EACXiG,WAAYA,UAKXtoB,EAiCT,OA9BAyqD,EAAAA,EAAAA,GAAa0I,EAAqB,CAAC,CACjCtwF,IAAK,iBACL/D,MAAO,WACL,IAAI+xF,EAAex3F,KAAKwzB,MACpBnoB,EAAOmsF,EAAansF,KACpB8uF,EAAa9K,EAAyBmI,EAAc5C,IAExD,IAAKvpF,EAAK++C,QAAU/+C,EAAK++C,MAAMrgD,OAC7B,OAAO,KAGT,IAAIqwF,EAAW/uF,EAAK++C,MACpB,OAAoBumC,EAAAA,cAAoB,KAAM,KAAMyJ,EAASjsE,KAAI,SAAUksE,EAASC,GAClF,OAAoB3J,EAAAA,cAAoBmJ,GAAqBX,EAAAA,EAAAA,GAAS,CACpE3vF,IAAoC,kBAAxB6wF,EAAQ99C,YAA2B89C,EAAQ99C,YAAc+9C,EACrEjvF,KAAMgvF,GACLF,UAGN,CACD3wF,IAAK,SACL/D,MAAO,WACL,IAAI4F,EAAOrL,KAAKwzB,MAAMnoB,KACtB,OAAoBslF,EAAAA,cAAoB,KAAM,KAAmBA,EAAAA,cAAoB,IAAK,CACxFqB,KAAM,IACN+H,QAAS/5F,KAAK+5F,SACb1uF,EAAK0vE,OAAQ/6E,KAAKu6F,sBAIlBT,EAnIqC,CAoI5CT,EAAAA,eACEmB,GAAgB1J,IAAAA,UAAoB,CAACA,IAAAA,OAAkBA,IAAAA,QAAkBA,IAAAA,OAC7EgJ,GAAoBjJ,UAAY,CAC9BxlF,KAAMylF,IAAAA,MAAgB,CACpBz6C,KAAMmkD,GACNpwC,MAAO0mC,IAAAA,QAAkBA,IAAAA,MAAgB,CACvCz6C,KAAMmkD,GACNzf,MAAO+V,IAAAA,UAET/V,MAAO+V,IAAAA,SACNC,WACHgJ,QAASjJ,IAAAA,KACTyF,IAAK/B,GAAMzD,YAGb,IAQA,GARkB,SAAqBv9D,GACrC,OAAoBm9D,EAAAA,cAAoBiI,EAAAA,SAA0B,MAAM,SAAU6B,GAChF,OAAoB9J,EAAAA,cAAoB+J,GAAeC,SAAU,MAAM,SAAUC,GAC/E,OAAoBjK,EAAAA,cAAoBmJ,IAAqBX,EAAAA,EAAAA,GAAS,GAAIsB,EAAiBG,EAAgBpnE,WCpKjH,SAAS3J,GAAQhC,EAAQgtE,GAAkB,IAAItrF,EAAOpG,OAAOoG,KAAKse,GAAS,GAAI1kB,OAAO+mB,sBAAuB,CAAE,IAAI4qE,EAAU3xF,OAAO+mB,sBAAsBrC,GAASgtE,IAAmBC,EAAUA,EAAQxE,QAAO,SAAUyE,GAAO,OAAO5xF,OAAOif,yBAAyByF,EAAQktE,GAAKrvF,eAAiB6D,EAAK+gB,KAAKiU,MAAMh1B,EAAMurF,GAAY,OAAOvrF,EAI9U,SAAS4rF,GAAaC,GAAW,IAAIC,EAErC,WAAuC,GAAuB,qBAAZ91D,UAA4BA,QAAQpB,UAAW,OAAO,EAAO,GAAIoB,QAAQpB,UAAUm3D,KAAM,OAAO,EAAO,GAAqB,oBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFp6C,QAAQy+B,UAAU4b,QAAQjyE,KAAKgc,QAAQpB,UAAUgd,QAAS,IAAI,iBAAyB,EAAQ,MAAOvtC,GAAK,OAAO,GAF9P6nF,GAA6B,OAAO,WAAkC,IAAsCztF,EAAlC0tF,GAAQC,EAAAA,EAAAA,GAAgBP,GAAkB,GAAIC,EAA2B,CAAE,IAAIO,GAAYD,EAAAA,EAAAA,GAAgB31F,MAAMC,YAAa+H,EAASu3B,QAAQpB,UAAUu3D,EAAO3vE,UAAW6vE,QAAqB5tF,EAAS0tF,EAAMn3D,MAAMv+B,KAAM+lB,WAAc,OAAO8vE,EAAAA,EAAAA,GAA2B71F,KAAMgI,IAgBrZ,IAAI6yF,GAA+B,SAAU5E,IAClDC,EAAAA,EAAAA,GAAU2E,EAAiB5E,GAE3B,IAAIE,EAAShB,GAAa0F,GAE1B,SAASA,IACP,IAAIl0D,GAEJsqD,EAAAA,EAAAA,GAAgBjxF,KAAM66F,GAEtB,IAAK,IAAIzE,EAAOrwE,UAAUhc,OAAQmmB,EAAO,IAAI9Q,MAAMg3E,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EnmE,EAAKmmE,GAAQtwE,UAAUswE,GAgEzB,OA7DA1vD,EAAQwvD,EAAO5yE,KAAKgb,MAAM43D,EAAQ,CAACn2F,MAAMiqB,OAAOiG,KAEhD+kE,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,QAAS,CACtDm0D,QAAS,QAGX7F,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,eAAe,WAC5D,IAAI4vD,EAAM5vD,EAAMnT,MAAM+iE,IAEtB5vD,EAAMkwD,UAAS,SAAUC,GACvB,OAAKA,EAAUgE,QAIR,CACLA,QAAS,MAJF,QAQX,IAAI5D,EAAcC,EAAgBZ,EAAI7wC,cACtC/e,EAAM0sD,YAAc6D,EACpBA,EAAYn8D,QAAQ5yB,MAAK,SAAU2yF,GACjCn0D,EAAMkwD,SAAS,CACbiE,QAASA,GACRn0D,EAAM0wD,kBAHX,OAIY,SAAUtzE,GACpB4iB,EAAM2wD,YAAYvzE,UAItBkxE,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,iBAAiB,WAC9D,IAAI0wD,EAAgB1wD,EAAMnT,MAAM6jE,cAC5ByD,EAAUn0D,EAAMrgC,MAAMw0F,QACtBzD,GAAeA,EAAcyD,OAGnC7F,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,eAAe,SAAU5iB,GACtE4iB,EAAMkwD,SAAS,CACbiE,SAAS,KAGX3H,EAAAA,EAAAA,SAAQpvE,GACR,IAAIuzE,EAAc3wD,EAAMnT,MAAM8jE,YAC1BA,GAAaA,EAAYvzE,OAG/BkxE,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,eAAe,SAAU8pD,GACtE,IAAIp6C,EAAOo6C,EAAKp6C,KACZ2S,EAAYynC,EAAKznC,UACjBiG,EAAawhC,EAAKxhC,WAClBunC,EAAc7vD,EAAMnT,MAAMgjE,YAE1BA,GACFA,EAAY,CACVngD,KAAMA,EACN2S,UAAWA,EACXiG,WAAYA,OAKXtoB,EA6ET,OA1EAyqD,EAAAA,EAAAA,GAAayJ,EAAiB,CAAC,CAC7BrxF,IAAK,oBACL/D,MAAO,WACL,IAAI8wF,EAAMv2F,KAAKwzB,MAAM+iE,KACrB7E,EAAAA,EAAAA,SAAU6E,EAAK,gEACfv2F,KAAK+6F,gBAEN,CACDvxF,IAAK,qBACL/D,MAAO,SAA4B2yF,GACjC,IAAI7B,EAAMv2F,KAAKwzB,MAAM+iE,IAEjB6B,EAAU7B,KAAOA,IAAQ6B,EAAU7B,KACrCv2F,KAAK+6F,gBAGR,CACDvxF,IAAK,uBACL/D,MAAO,WACL2tF,EAAkBpzF,KAAKqzF,eAExB,CACD7pF,IAAK,eACLmD,IAAK,WACH,MAAO,CACLotF,QAAS/5F,KAAKw2F,eAGjB,CACDhtF,IAAK,aACLmD,IAAK,WACH,IAAI+rF,EAAS14F,KAEb,OAAO24F,EAAe34F,KAAKwzB,OAAO,WAChC,OAAOklE,EAAOpyF,MAAMw0F,aAOvB,CACDtxF,IAAK,gBACL/D,MAAO,WACL,IAAIq1F,EAAU96F,KAAKsG,MAAMw0F,QACzB,OAAoBnK,EAAAA,cAAoB,KAAM,KAAMmK,EAAQ3sE,KAAI,SAAU9iB,EAAM2vF,GAC9E,OAAoBrK,EAAAA,cAAoBsK,GAAa,CACnDzxF,IAAiC,kBAArB6B,EAAKkxC,YAA2BlxC,EAAKkxC,YAAcy+C,EAC/D3vF,KAAMA,UAIX,CACD7B,IAAK,SACL/D,MAAO,WACL,IAAI8wF,EAAMv2F,KAAKwzB,MAAM+iE,IACjBuE,EAAU96F,KAAKsG,MAAMw0F,QAEzB,IAAKvE,IAAQuE,EACX,OAAO,KAGT,IAAI/D,EAAc/2F,KAAKwzB,MACnBo9D,EAAYmG,EAAYnG,UACxBsI,EAAWnC,EAAYmC,SAC3B,OAAoBvI,EAAAA,cAAoB,OAAOwI,EAAAA,EAAAA,GAAS,CACtDvI,UAAWT,EAAgB,qBAAsBS,GACjDjjE,IAAKurE,GACJl5F,KAAK+vF,YAA0BY,EAAAA,cAAoB+J,GAAeQ,SAAU,CAC7Ez1F,MAAOzF,KAAK64F,cACX74F,KAAKm7F,sBAILN,EAxJiC,CAyJxCxB,EAAAA,eACFwB,GAAgBhK,UA5KhB,SAAuB/tE,GAAU,IAAK,IAAI5f,EAAI,EAAGA,EAAI6iB,UAAUhc,OAAQ7G,IAAK,CAAE,IAAIwf,EAAS,MAAQqD,UAAU7iB,GAAK6iB,UAAU7iB,GAAK,GAAIA,EAAI,EAAI2mB,GAAQ1mB,OAAOuf,IAAS,GAAIstE,SAAQ,SAAUxmF,IAAOyrF,EAAAA,EAAAA,GAAgBnyE,EAAQtZ,EAAKkZ,EAAOlZ,OAAYrG,OAAO+xF,0BAA4B/xF,OAAOovB,iBAAiBzP,EAAQ3f,OAAO+xF,0BAA0BxyE,IAAWmH,GAAQ1mB,OAAOuf,IAASstE,SAAQ,SAAUxmF,GAAOrG,OAAO8gB,eAAenB,EAAQtZ,EAAKrG,OAAOif,yBAAyBM,EAAQlZ,OAAa,OAAOsZ,EA4KrdkyE,CAAc,CACxCpE,UAAWwD,EACX8E,SAAUzE,GACV+B,YAAa1F,IAAAA,KACbwG,YAAaxG,IAAAA,KACbuG,cAAevG,IAAAA,KACfyF,IAAK/B,IACJzE,GClLY,SAASqL,KACtB,IAAK,IAAIhF,EAAOrwE,UAAUhc,OAAQsxF,EAAY,IAAIj8E,MAAMg3E,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IACpFgF,EAAUhF,GAAQtwE,UAAUswE,GAG9B,IAAIiF,EAAoBD,EAAU/K,OAAOn1C,SAEzC,OAAImgD,EAAkBvxF,QAAU,EACvBuxF,EAAkB,GAGpB,SAAoB3tE,GACzB2tE,EAAkBtL,SAAQ,SAAUkJ,GACV,oBAAbA,EACTA,EAASvrE,GAGTurE,EAAS7lC,QAAU1lC,MC5B3B,QAA4B4iE,EAAAA,EAAAA,eAAc,MCQ1C,SAAS4E,GAAaC,GAAW,IAAIC,EAErC,WAAuC,GAAuB,qBAAZ91D,UAA4BA,QAAQpB,UAAW,OAAO,EAAO,GAAIoB,QAAQpB,UAAUm3D,KAAM,OAAO,EAAO,GAAqB,oBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFp6C,QAAQy+B,UAAU4b,QAAQjyE,KAAKgc,QAAQpB,UAAUgd,QAAS,IAAI,iBAAyB,EAAQ,MAAOvtC,GAAK,OAAO,GAF9P6nF,GAA6B,OAAO,WAAkC,IAAsCztF,EAAlC0tF,GAAQC,EAAAA,EAAAA,GAAgBP,GAAkB,GAAIC,EAA2B,CAAE,IAAIO,GAAYD,EAAAA,EAAAA,GAAgB31F,MAAMC,YAAa+H,EAASu3B,QAAQpB,UAAUu3D,EAAO3vE,UAAW6vE,QAAqB5tF,EAAS0tF,EAAMn3D,MAAMv+B,KAAM+lB,WAAc,OAAO8vE,EAAAA,EAAAA,GAA2B71F,KAAMgI,IAY5Z,IAAIuzF,GAAkBxF,EAAAA,eACXyF,GAAkC,SAAUvF,IACrDC,EAAAA,EAAAA,GAAUsF,EAAoBvF,GAE9B,IAAIE,EAAShB,GAAaqG,GAE1B,SAASA,IACP,IAAI70D,GAEJsqD,EAAAA,EAAAA,GAAgBjxF,KAAMw7F,GAEtB,IAAK,IAAIpF,EAAOrwE,UAAUhc,OAAQmmB,EAAO,IAAI9Q,MAAMg3E,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EnmE,EAAKmmE,GAAQtwE,UAAUswE,GAiEzB,OA9DA1vD,EAAQwvD,EAAO5yE,KAAKgb,MAAM43D,EAAQ,CAACn2F,MAAMiqB,OAAOiG,KAEhD+kE,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,mBAAmB,WAChEA,EAAM80D,SAAW,KACjB,IAAI1E,EAAcpwD,EAAMnT,MACpBkoE,EAAkB3E,EAAY2E,gBAC9BhuC,EAAOqpC,EAAYrpC,KACnB/uD,EAAQo4F,EAAYp4F,MACpB+8F,GAAiBA,EAAgBpI,EAAiB5lC,EAAM/uD,QAG9Ds2F,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,iBAAiB,SAAU5iB,GACxE,IAAIwvE,EAAkBxvE,GAAtB,EAIAovE,EAAAA,EAAAA,SAAQpvE,GACR,IAAI43E,EAAgBh1D,EAAMnT,MAAMmoE,cAC5BA,GAAeA,EAAc53E,QAGnCkxE,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,oBAAoB,WACjE,IACItmC,GADwBi2F,EAAAA,EAAAA,GAAuB3vD,GAChBi1D,YAEnC,IAAKv7F,EACH,OAAO,KAGT,IAAIw7F,GAAyBvF,EAAAA,EAAAA,GAAuB3vD,GAChDm1D,EAAiBD,EAAuBC,eACxClzC,EAAWizC,EAAuBjzC,SAElC4uC,EAAe7wD,EAAMnT,MACrBuoE,EAAmBvE,EAAauE,iBAChCruC,EAAO8pC,EAAa9pC,KACpBmvB,EAAc2a,EAAa3a,YAC/Bx8E,EAAO4B,MAAQ65F,EAAe75F,MAC9B5B,EAAO6B,OAAS45F,EAAe55F,OAC/B7B,EAAOw1E,MAAM5zE,MAAQ,GAAGgoB,OAAOhsB,KAAKqtB,MAAMs9B,EAAS3mD,OAAQ,MAC3D5B,EAAOw1E,MAAM3zE,OAAS,GAAG+nB,OAAOhsB,KAAKqtB,MAAMs9B,EAAS1mD,QAAS,MAC7D,IAAI85F,EAAgB,CAClBx0C,eAAgBq1B,EAAc0e,GAAgBvsF,aAAeusF,GAAgBxsF,OAEzE45C,oBACF,OAAOtoD,EAAO47F,WAAW,OAG3BrzC,SAAUkzC,GAWZ,OARIC,IACFC,EAAcp0C,WAAam0C,GAI7Bp1D,EAAMu1D,sBAENv1D,EAAM80D,SAAW/tC,EAAKnG,OAAOy0C,GACtBr1D,EAAM80D,SAAS1gE,QAAQ5yB,KAAKw+B,EAAM+0D,iBAAlC,MAA4D/0D,EAAMg1D,kBAGpEh1D,EA8FT,OA3FAyqD,EAAAA,EAAAA,GAAaoK,EAAoB,CAAC,CAChChyF,IAAK,oBACL/D,MAAO,WACLzF,KAAKm8F,qBAEN,CACD3yF,IAAK,qBACL/D,MAAO,SAA4B2yF,GACjC,IAAIG,EAAev4F,KAAKwzB,MACpBuoE,EAAmBxD,EAAawD,iBAChCruC,EAAO6qC,EAAa7qC,KACpBmvB,EAAc0b,EAAa1b,YAE3Bkf,IAAqB3D,EAAU2D,kBAAoBlf,IAAgBub,EAAUvb,cAE/EnvB,EAAKxH,UACLlmD,KAAKm8F,sBAGR,CACD3yF,IAAK,uBACL/D,MAAO,WACLzF,KAAKk8F,sBAMDl8F,KAAK47F,cACP57F,KAAK47F,YAAY35F,MAAQ,EACzBjC,KAAK47F,YAAY15F,OAAS,EAC1BlC,KAAK47F,YAAc,QAGtB,CACDpyF,IAAK,sBACL/D,MAAO,WACDzF,KAAKy7F,WACPz7F,KAAKy7F,SAASr1D,SACdpmC,KAAKy7F,SAAW,QAOnB,CACDjyF,IAAK,iBACLmD,IAAK,WACH,IAAIssF,EAAej5F,KAAKwzB,MACpBk6B,EAAOurC,EAAavrC,KACpB+qC,EAASQ,EAAaR,OACtB95F,EAAQs6F,EAAat6F,MACrBy9F,ET3DDnK,GAAa7uE,OAAOi5E,kBAAoB,ES4D3C,OAAO3uC,EAAK5G,YAAY,CACtBnoD,MAAOA,EAAQy9F,EACfx9F,SAAU65F,MAGb,CACDjvF,IAAK,WACLmD,IAAK,WACH,IAAI2vF,EAAet8F,KAAKwzB,MACpBk6B,EAAO4uC,EAAa5uC,KACpB+qC,EAAS6D,EAAa7D,OACtB95F,EAAQ29F,EAAa39F,MACzB,OAAO+uD,EAAK5G,YAAY,CACtBnoD,MAAOA,EACPC,SAAU65F,MAGb,CACDjvF,IAAK,SACL/D,MAAO,WACL,IAAIizF,EAAS14F,KAETu8F,EAAYv8F,KAAKwzB,MAAM+oE,UAC3B,OAAoB5L,EAAAA,cAAoB,SAAU,CAChDC,UAAW,0BACX4L,IAAK,MACL7uE,IAAKytE,GAAUmB,GAAW,SAAU5uE,GAClC+qE,EAAOkD,YAAcjuE,KAEvBkoD,MAAO,CACLiB,QAAS,QACT2lB,WAAY,cAMbjB,EA1KoC,CA2K3CnC,EAAAA,eAWa,SAASqD,GAAWlpE,GACjC,OAAoBm9D,EAAAA,cAAoBgM,GAAYhC,SAAU,MAAM,SAAUx0F,GAC5E,OAAoBwqF,EAAAA,cAAoB6K,IAAoBrC,EAAAA,EAAAA,GAAS,GAAIhzF,EAASqtB,OCrMtF,SAAS2hE,GAAaC,GAAW,IAAIC,EAErC,WAAuC,GAAuB,qBAAZ91D,UAA4BA,QAAQpB,UAAW,OAAO,EAAO,GAAIoB,QAAQpB,UAAUm3D,KAAM,OAAO,EAAO,GAAqB,oBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFp6C,QAAQy+B,UAAU4b,QAAQjyE,KAAKgc,QAAQpB,UAAUgd,QAAS,IAAI,iBAAyB,EAAQ,MAAOvtC,GAAK,OAAO,GAF9P6nF,GAA6B,OAAO,WAAkC,IAAsCztF,EAAlC0tF,GAAQC,EAAAA,EAAAA,GAAgBP,GAAkB,GAAIC,EAA2B,CAAE,IAAIO,GAAYD,EAAAA,EAAAA,GAAgB31F,MAAMC,YAAa+H,EAASu3B,QAAQpB,UAAUu3D,EAAO3vE,UAAW6vE,QAAqB5tF,EAAS0tF,EAAMn3D,MAAMv+B,KAAM+lB,WAAc,OAAO8vE,EAAAA,EAAAA,GAA2B71F,KAAMgI,IDyL5ZwzF,GAAmB3K,UAAY,CAC7BkL,iBAAkBjL,IAAAA,OAClByL,UAAW9H,GACXkH,cAAe7K,IAAAA,KACf4K,gBAAiB5K,IAAAA,KACjBpjC,KAAM4mC,EAAOvD,WACblU,YAAaiU,IAAAA,KACb2H,OAAQ9D,GACRh2F,MAAOmyF,IAAAA,OAAAA,YCtLF,IAAI8L,GAA+B,SAAU3G,IAClDC,EAAAA,EAAAA,GAAU0G,EAAiB3G,GAE3B,IAAIE,EAAShB,GAAayH,GAE1B,SAASA,IACP,IAAIj2D,GAEJsqD,EAAAA,EAAAA,GAAgBjxF,KAAM48F,GAEtB,IAAK,IAAIxG,EAAOrwE,UAAUhc,OAAQmmB,EAAO,IAAI9Q,MAAMg3E,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EnmE,EAAKmmE,GAAQtwE,UAAUswE,GA4DzB,OAzDA1vD,EAAQwvD,EAAO5yE,KAAKgb,MAAM43D,EAAQ,CAACn2F,MAAMiqB,OAAOiG,KAEhD+kE,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,QAAS,CACtDia,IAAK,QAGPq0C,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,mBAAmB,WAChEA,EAAM80D,SAAW,KACjB,IAAI1E,EAAcpwD,EAAMnT,MACpBkoE,EAAkB3E,EAAY2E,gBAC9BhuC,EAAOqpC,EAAYrpC,KACnB/uD,EAAQo4F,EAAYp4F,MACpB+8F,GAAiBA,EAAgBpI,EAAiB5lC,EAAM/uD,QAG9Ds2F,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,iBAAiB,SAAU5iB,GACxE,IAAIwvE,EAAkBxvE,GAAtB,EAIAovE,EAAAA,EAAAA,SAAQpvE,GACR,IAAI43E,EAAgBh1D,EAAMnT,MAAMmoE,cAC5BA,GAAeA,EAAc53E,QAGnCkxE,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,aAAa,WAC1D,IAAI+mB,EAAO/mB,EAAMnT,MAAMk6B,KAEvB,OADA/mB,EAAM80D,SAAW/tC,EAAKrE,kBACf1iB,EAAM80D,SAAStzF,MAAK,SAAU4gD,GACnC,IAAI8zC,EAAS,IAAI9G,EAAAA,YAAkBroC,EAAK5E,WAAY4E,EAAK7E,MACzDliB,EAAM80D,SAAWoB,EAAOhX,OAAO98B,EAAcpiB,EAAMiiB,UAAUzgD,MAAK,SAAUy4C,GAC1Eja,EAAMkwD,SAAS,CACbj2C,IAAKA,GACJja,EAAM+0D,oBAHM,MAIL/0D,EAAMg1D,kBANb,MAOKh1D,EAAMg1D,mBAGpB1G,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,uBAAuB,SAAU/D,GAC9E,IAAIge,EAAMja,EAAMrgC,MAAMs6C,IAEtB,GAAKhe,GAAYge,EAAjB,CAKKhe,EAAQk6D,mBACXl6D,EAAQm6D,YAAYn8C,GAGtB,IAAIo8C,EAAiBr2D,EAAMiiB,SACvB3mD,EAAQ+6F,EAAe/6F,MACvBC,EAAS86F,EAAe96F,OAC5B0+C,EAAIq8C,aAAa,QAASh7F,GAC1B2+C,EAAIq8C,aAAa,SAAU/6F,OAGtBykC,EAkDT,OA/CAyqD,EAAAA,EAAAA,GAAawL,EAAiB,CAAC,CAC7BpzF,IAAK,oBACL/D,MAAO,WACLzF,KAAKk9F,cAMN,CACD1zF,IAAK,WACLmD,IAAK,WACH,IAAI6qF,EAAex3F,KAAKwzB,MACpBk6B,EAAO8pC,EAAa9pC,KACpB+qC,EAASjB,EAAaiB,OACtB95F,EAAQ64F,EAAa74F,MACzB,OAAO+uD,EAAK5G,YAAY,CACtBnoD,MAAOA,EACPC,SAAU65F,MAGb,CACDjvF,IAAK,SACL/D,MAAO,WACL,IAAIizF,EAAS14F,KAETm9F,EAAkBn9F,KAAK4oD,SACvB3mD,EAAQk7F,EAAgBl7F,MACxBC,EAASi7F,EAAgBj7F,OAC7B,OAAoByuF,EAAAA,cAAoB,MAAO,CAC7CC,UAAW,uBAEXjjE,IAAK,SAAa8iE,GAChB,OAAOiI,EAAO0E,oBAAoB3M,IAEpC5a,MAAO,CACLiB,QAAS,QACTrM,gBAAiB,QACjB4yB,SAAU,SACVp7F,MAAOA,EACPC,OAAQA,EACRu6F,WAAY,cAMbG,EAzHiC,CA0HxCvD,EAAAA,eAQa,SAASiE,GAAQ9pE,GAC9B,OAAoBm9D,EAAAA,cAAoBgM,GAAYhC,SAAU,MAAM,SAAUx0F,GAC5E,OAAoBwqF,EAAAA,cAAoBiM,IAAiBzD,EAAAA,EAAAA,GAAS,GAAIhzF,EAASqtB,OC9InF,SAAS2hE,GAAaC,GAAW,IAAIC,EAErC,WAAuC,GAAuB,qBAAZ91D,UAA4BA,QAAQpB,UAAW,OAAO,EAAO,GAAIoB,QAAQpB,UAAUm3D,KAAM,OAAO,EAAO,GAAqB,oBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFp6C,QAAQy+B,UAAU4b,QAAQjyE,KAAKgc,QAAQpB,UAAUgd,QAAS,IAAI,iBAAyB,EAAQ,MAAOvtC,GAAK,OAAO,GAF9P6nF,GAA6B,OAAO,WAAkC,IAAsCztF,EAAlC0tF,GAAQC,EAAAA,EAAAA,GAAgBP,GAAkB,GAAIC,EAA2B,CAAE,IAAIO,GAAYD,EAAAA,EAAAA,GAAgB31F,MAAMC,YAAa+H,EAASu3B,QAAQpB,UAAUu3D,EAAO3vE,UAAW6vE,QAAqB5tF,EAAS0tF,EAAMn3D,MAAMv+B,KAAM+lB,WAAc,OAAO8vE,EAAAA,EAAAA,GAA2B71F,KAAMgI,IDqI5Z40F,GAAgB/L,UAAY,CAC1B8K,cAAe7K,IAAAA,KACf4K,gBAAiB5K,IAAAA,KACjBpjC,KAAM4mC,EAAOvD,WACb0H,OAAQ9D,GACRh2F,MAAOmyF,IAAAA,OAAAA,YClIF,IAAIyM,GAAqC,SAAUtH,IACxDC,EAAAA,EAAAA,GAAUqH,EAAuBtH,GAEjC,IAAIE,EAAShB,GAAaoI,GAE1B,SAASA,IACP,IAAI52D,GAEJsqD,EAAAA,EAAAA,GAAgBjxF,KAAMu9F,GAEtB,IAAK,IAAInH,EAAOrwE,UAAUhc,OAAQmmB,EAAO,IAAI9Q,MAAMg3E,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EnmE,EAAKmmE,GAAQtwE,UAAUswE,GAYzB,OATA1vD,EAAQwvD,EAAO5yE,KAAKgb,MAAM43D,EAAQ,CAACn2F,MAAMiqB,OAAOiG,KAEhD+kE,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,mBAAmB,SAAU/D,GAC1E,IACI46D,GADwBlH,EAAAA,EAAAA,GAAuB3vD,GACd62D,SAErC,OAAO56D,EAAQ66D,wBAAwBD,EAAW,SAAW,YAGxD72D,EAyLT,OAtLAyqD,EAAAA,EAAAA,GAAamM,EAAuB,CAAC,CACnC/zF,IAAK,oBACL/D,MAAO,WACLzF,KAAK09F,kBAEN,CACDl0F,IAAK,qBACL/D,MAAO,WACLzF,KAAK09F,kBAEN,CACDl0F,IAAK,oBACLmD,IAAK,WACH,IAAIoqF,EAAc/2F,KAAKwzB,MACnBk6B,EAAOqpC,EAAYrpC,KACnB/uD,EAAQo4F,EAAYp4F,MACxB,OAAO+uD,EAAK5G,YAAY,CACtBnoD,MAAOA,MAQV,CACD6K,IAAK,SACLmD,IAAK,WACH,IAAI6qF,EAAex3F,KAAKwzB,MACpBk6B,EAAO8pC,EAAa9pC,KAExB,OADa8pC,EAAaiB,OACV/qC,EAAK+qC,SAEtB,CACDjvF,IAAK,WACLmD,IAAK,WAEH,OADa3M,KAAKy4F,OACF,MAAQ,IAEzB,CACDjvF,IAAK,kBACLmD,IAAK,WAEH,OADe3M,KAAK29F,kBAAkB/+F,SACpB,MAAQ,IAE3B,CACD4K,IAAK,WACLmD,IAAK,WACH,IAAIqL,EAAYhY,KAAKwzB,MAAMxb,UACvB4lF,EAAkB59F,KAAK49F,gBAEvBC,GAAa/K,EAAAA,EAAAA,GAAe96E,EAAW,GACvC8lF,EAAeD,EAAW,GAC1BE,EAAcF,EAAW,GAE7B,OAAOD,EAAkBG,EAAcD,IAExC,CACDt0F,IAAK,MACLmD,IAAK,WACH,IAAIqL,EAAYhY,KAAKwzB,MAAMxb,UACvB4wC,EAAW5oD,KAAK29F,kBAChBC,EAAkB59F,KAAK49F,gBAEvBI,GAAclL,EAAAA,EAAAA,GAAe96E,EAAW,GAK5C1W,EAAU08F,EAAY,GAClBz8F,EAAUy8F,EAAY,GACtB17F,EAAI07F,EAAY,GAChBjwE,EAAIiwE,EAAY,GAEhBC,GAAoBnL,EAAAA,EAAAA,GAAelqC,EAAS9pD,QAAS,GAGzDo/F,EAEED,EAAkB,GAChBE,EAAOF,EAAkB,GAE7B,OAAOL,EAAkBt7F,EAAIhB,EAAU48F,EAAOC,GAAQpwE,EAAIxsB,KAE3D,CACDiI,IAAK,OACLmD,IAAK,WACH,IAAIqL,EAAYhY,KAAKwzB,MAAMxb,UACvB4wC,EAAW5oD,KAAK29F,kBAChBC,EAAkB59F,KAAK49F,gBAEvBQ,GAActL,EAAAA,EAAAA,GAAe96E,EAAW,GAS5C1V,EAAI87F,EAAY,GACZrwE,EAAIqwE,EAAY,GAGhBC,GADqBvL,EAAAA,EAAAA,GAAelqC,EAAS9pD,QAAS,GAC5B,GAE9B,OAAO8+F,EAAkB7vE,EAAIswE,EAAO/7F,EAAI+7F,IAEzC,CACD70F,IAAK,cACL/D,MAAO,SAAqB64F,GAC1B,IAAI5wC,EAAO1tD,KAAKwzB,MAAMk6B,KACtB,OAAO,IAAItuD,SAAQ,SAAUI,GAC3BkuD,EAAK5E,WAAWn8C,IAAI2xF,EAAU9+F,QAGjC,CACDgK,IAAK,gBACL/D,MAAO,WACL,IAAIizF,EAAS14F,KAET4iC,EAAU5iC,KAAKqL,KAEnB,GAAKu3B,EAAL,CAIAA,EAAQizC,MAAM79D,UAAY,GAC1B,IAAIugF,EAAev4F,KAAKwzB,MACpB8qE,EAAW/F,EAAa+F,SACxB3/F,EAAQ45F,EAAa55F,MACrBsD,EAAQs2F,EAAat2F,MACzB2gC,EAAQizC,MAAMwM,WAAa,GAAGp4D,OAAOq0E,EAAU,gBAC/Ct+F,KAAKu+F,YAAYD,GAAUn2F,MAAK,SAAUq2F,GACxC,IAAIC,EAAmBD,EAAWA,EAASE,aAAe,aAC1D97D,EAAQizC,MAAMwM,WAAa,GAAGp4D,OAAOq0E,EAAU,MAAMr0E,OAAOw0E,GAC5D,IAAIE,EAAc18F,EAAQtD,EAEtBigG,EAAclG,EAAOmG,gBAAgBj8D,GAErC5qB,EAAY,UAAUiS,OAAO00E,EAAcC,EAAa,KACxDjf,EAAS6e,EAAWA,EAAS7e,OAAS,EAEtCA,IACF3nE,GAAa,eAAeiS,OAAsB,KAAd,EAAI01D,GAAe,OAGzD/8C,EAAQizC,MAAM79D,UAAYA,EAC1B4qB,EAAQizC,MAAMipB,gBAAkB9mF,QAGnC,CACDxO,IAAK,SACL/D,MAAO,WACL,IAAIs5F,EAAS/+F,KAETq/D,EAAWr/D,KAAKq/D,SAChByG,EAAM9lE,KAAK8lE,IACXD,EAAO7lE,KAAK6lE,KACZozB,EAAej5F,KAAKwzB,MACpBwrE,EAAqB/F,EAAa+F,mBAClCrgG,EAAQs6F,EAAat6F,MACrBytF,EAAO6M,EAAa/rF,IACxB,OAAoByjF,EAAAA,cAAoB,OAAQ,CAC9ChjE,IAAK,SAAa8iE,GAChBsO,EAAO1zF,KAAOolF,GAEhB5a,MAAO,CACL3zE,OAAQ,MACRmgF,WAAY,aACZhjB,SAAU,GAAGp1C,OAAOo1C,EAAW1gE,EAAO,MACtC0iC,SAAU,WACVykC,IAAK,GAAG77C,OAAO67C,EAAMnnE,EAAO,MAC5BknE,KAAM,GAAG57C,OAAO47C,EAAOlnE,EAAO,MAC9BsgG,gBAAiB,cACjBC,WAAY,MACZC,cAAe,QAEhBH,EAAqBA,EAAmBh/F,KAAKwzB,OAAS44D,OAItDmR,EAhNuC,CAiN9ClE,EAAAA,eAYa,SAAS+F,GAAc5rE,GACpC,OAAoBm9D,EAAAA,cAAoBgM,GAAYhC,SAAU,MAAM,SAAUx0F,GAC5E,OAAoBwqF,EAAAA,cAAoB4M,IAAuBpE,EAAAA,EAAAA,GAAS,GAAIhzF,EAASqtB,OCxOzF,SAAS2hE,GAAaC,GAAW,IAAIC,EAErC,WAAuC,GAAuB,qBAAZ91D,UAA4BA,QAAQpB,UAAW,OAAO,EAAO,GAAIoB,QAAQpB,UAAUm3D,KAAM,OAAO,EAAO,GAAqB,oBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFp6C,QAAQy+B,UAAU4b,QAAQjyE,KAAKgc,QAAQpB,UAAUgd,QAAS,IAAI,iBAAyB,EAAQ,MAAOvtC,GAAK,OAAO,GAF9P6nF,GAA6B,OAAO,WAAkC,IAAsCztF,EAAlC0tF,GAAQC,EAAAA,EAAAA,GAAgBP,GAAkB,GAAIC,EAA2B,CAAE,IAAIO,GAAYD,EAAAA,EAAAA,GAAgB31F,MAAMC,YAAa+H,EAASu3B,QAAQpB,UAAUu3D,EAAO3vE,UAAW6vE,QAAqB5tF,EAAS0tF,EAAMn3D,MAAMv+B,KAAM+lB,WAAc,OAAO8vE,EAAAA,EAAAA,GAA2B71F,KAAMgI,ID2N5Zu1F,GAAsB1M,UAAY,CAChCmO,mBAAoBlO,IAAAA,KACpBwN,SAAUxN,IAAAA,OAAAA,WACVkK,UAAWlK,IAAAA,OAAAA,WACXpjC,KAAM4mC,EAAOvD,WACb0H,OAAQ9D,GACRh2F,MAAOmyF,IAAAA,OACP5jF,IAAK4jF,IAAAA,OAAAA,WACL94E,UAAW84E,IAAAA,QAAkBA,IAAAA,QAAkBC,WAC/C9uF,MAAO6uF,IAAAA,OAAAA,YCvNF,IAAIuO,GAAiC,SAAUpJ,IACpDC,EAAAA,EAAAA,GAAUmJ,EAAmBpJ,GAE7B,IAAIE,EAAShB,GAAakK,GAE1B,SAASA,IACP,IAAI14D,GAEJsqD,EAAAA,EAAAA,GAAgBjxF,KAAMq/F,GAEtB,IAAK,IAAIjJ,EAAOrwE,UAAUhc,OAAQmmB,EAAO,IAAI9Q,MAAMg3E,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EnmE,EAAKmmE,GAAQtwE,UAAUswE,GAwCzB,OArCA1vD,EAAQwvD,EAAO5yE,KAAKgb,MAAM43D,EAAQ,CAACn2F,MAAMiqB,OAAOiG,KAEhD+kE,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,QAAS,CACtDg8C,UAAW,QAGbsS,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,iBAAiB,WAC9D,IACIuwD,EAAcC,EADPxwD,EAAMnT,MAAMk6B,KACgB3D,kBACvCpjB,EAAM0sD,YAAc6D,EACpBA,EAAYn8D,QAAQ5yB,MAAK,SAAUsoF,GACjC,IAAI9N,EAAY8N,EAAKrmC,MAErBzjB,EAAMkwD,SAAS,CACblU,UAAWA,GACVh8C,EAAM0wD,kBALX,OAMY,SAAUtzE,GACpB4iB,EAAM2wD,YAAYvzE,UAItBkxE,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,iBAAiB,WAC9D,IAAI24D,EAAmB34D,EAAMnT,MAAM8rE,iBAC/B3c,EAAYh8C,EAAMrgC,MAAMq8E,UACxB2c,GAAkBA,EAAiB3c,OAGzCsS,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,eAAe,SAAU5iB,GACtE4iB,EAAMkwD,SAAS,CACblU,WAAW,KAGbwQ,EAAAA,EAAAA,SAAQpvE,GACR,IAAIw7E,EAAiB54D,EAAMnT,MAAM+rE,eAC7BA,GAAgBA,EAAex7E,MAG9B4iB,EAsFT,OAnFAyqD,EAAAA,EAAAA,GAAaiO,EAAmB,CAAC,CAC/B71F,IAAK,oBACL/D,MAAO,WACL,IAAIioD,EAAO1tD,KAAKwzB,MAAMk6B,MACtBgkC,EAAAA,EAAAA,SAAUhkC,EAAM,mEAChB1tD,KAAKw/F,kBAEN,CACDh2F,IAAK,qBACL/D,MAAO,SAA4B2yF,GACjC,IAAI1qC,EAAO1tD,KAAKwzB,MAAMk6B,KAElB0qC,EAAU1qC,MAAQA,IAAS0qC,EAAU1qC,MACvC1tD,KAAKw/F,kBAGR,CACDh2F,IAAK,uBACL/D,MAAO,WACL2tF,EAAkBpzF,KAAKqzF,eAExB,CACD7pF,IAAK,oBACLmD,IAAK,WACH,IAAIoqF,EAAc/2F,KAAKwzB,MACnBk6B,EAAOqpC,EAAYrpC,KACnB/uD,EAAQo4F,EAAYp4F,MACxB,OAAO+uD,EAAK5G,YAAY,CACtBnoD,MAAOA,MAQV,CACD6K,IAAK,SACLmD,IAAK,WACH,IAAI6qF,EAAex3F,KAAKwzB,MACpBk6B,EAAO8pC,EAAa9pC,KAExB,OADa8pC,EAAaiB,OACV/qC,EAAK+qC,SAEtB,CACDjvF,IAAK,kBACL/D,MAAO,WACL,IAAIk9E,EAAY3iF,KAAKsG,MAAMq8E,UAE3B,OAAKA,EAIEA,EAAUx0D,KAAI,SAAUsxE,EAAUzE,GACvC,OAAoBrK,EAAAA,cAAoByO,IACtCjG,EAAAA,EAAAA,GAAS,CACT3vF,IAAKwxF,EACLA,UAAWA,GACVyE,OARI,OAWV,CACDj2F,IAAK,SACL/D,MAAO,WACL,IAAImjD,EAAW5oD,KAAK29F,kBAChBlF,EAASz4F,KAAKy4F,OAClB,OAAoB9H,EAAAA,cAAoB,MAAO,CAC7CC,UAAW,+BACX/a,MAAO,CACLx0C,SAAU,WACVykC,IAAK,MACLD,KAAM,MACN5jE,MAAO,GAAGgoB,OAAO2+B,EAAS3mD,MAAO,MACjCC,OAAQ,GAAG+nB,OAAO2+B,EAAS1mD,OAAQ,MACnC+/D,MAAO,cACPjqD,UAAW,gCAAgCiS,OAAOwuE,EAAQ,QAC1DqG,gBAAiB,gCAAgC70E,OAAOwuE,EAAQ,QAChE0G,cAAe,SAEhBn/F,KAAK0/F,uBAILL,EAzImC,CA0I1ChG,EAAAA,eAQa,SAASsG,GAAUnsE,GAChC,OAAoBm9D,EAAAA,cAAoBgM,GAAYhC,SAAU,MAAM,SAAUx0F,GAC5E,OAAoBwqF,EAAAA,cAAoB0O,IAAmBlG,EAAAA,EAAAA,GAAS,GAAIhzF,EAASqtB,OCjKrF,SAAS2hE,GAAaC,GAAW,IAAIC,EAErC,WAAuC,GAAuB,qBAAZ91D,UAA4BA,QAAQpB,UAAW,OAAO,EAAO,GAAIoB,QAAQpB,UAAUm3D,KAAM,OAAO,EAAO,GAAqB,oBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFp6C,QAAQy+B,UAAU4b,QAAQjyE,KAAKgc,QAAQpB,UAAUgd,QAAS,IAAI,iBAAyB,EAAQ,MAAOvtC,GAAK,OAAO,GAF9P6nF,GAA6B,OAAO,WAAkC,IAAsCztF,EAAlC0tF,GAAQC,EAAAA,EAAAA,GAAgBP,GAAkB,GAAIC,EAA2B,CAAE,IAAIO,GAAYD,EAAAA,EAAAA,GAAgB31F,MAAMC,YAAa+H,EAASu3B,QAAQpB,UAAUu3D,EAAO3vE,UAAW6vE,QAAqB5tF,EAAS0tF,EAAMn3D,MAAMv+B,KAAM+lB,WAAc,OAAO8vE,EAAAA,EAAAA,GAA2B71F,KAAMgI,IDwJ5Zq3F,GAAkBxO,UAAY,CAC5B0O,eAAgBzO,IAAAA,KAChBwO,iBAAkBxO,IAAAA,KAClBpjC,KAAM4mC,EAAOvD,WACb0H,OAAQ9D,GACRh2F,MAAOmyF,IAAAA,QC/IF,IAAI8O,GAAuC,SAAU3J,IAC1DC,EAAAA,EAAAA,GAAU0J,EAAyB3J,GAEnC,IAAIE,EAAShB,GAAayK,GAE1B,SAASA,IACP,IAAIj5D,GAEJsqD,EAAAA,EAAAA,GAAgBjxF,KAAM4/F,GAEtB,IAAK,IAAIxJ,EAAOrwE,UAAUhc,OAAQmmB,EAAO,IAAI9Q,MAAMg3E,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EnmE,EAAKmmE,GAAQtwE,UAAUswE,GAiDzB,OA9CA1vD,EAAQwvD,EAAO5yE,KAAKgb,MAAM43D,EAAQ,CAACn2F,MAAMiqB,OAAOiG,KAEhD+kE,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,QAAS,CACtDygB,YAAa,QAGf6tC,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,mBAAmB,WAChE,IACIuwD,EAAcC,EADPxwD,EAAMnT,MAAMk6B,KACgB3G,kBACvCpgB,EAAM0sD,YAAc6D,EACpBA,EAAYn8D,QAAQ5yB,MAAK,SAAUi/C,GACjCzgB,EAAMkwD,SAAS,CACbzvC,YAAaA,GACZzgB,EAAM0wD,kBAHX,OAIY,SAAUtzE,GACpB4iB,EAAM2wD,YAAYvzE,UAItBkxE,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,iBAAiB,WAC9D,IAAIk5D,EAA0Bl5D,EAAMnT,MAAMqsE,wBACtCz4C,EAAczgB,EAAMrgC,MAAM8gD,YAC1By4C,GAAyBA,EAAwBz4C,OAGvD6tC,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,eAAe,SAAU5iB,GACtE4iB,EAAMkwD,SAAS,CACbzvC,aAAa,KAGf+rC,EAAAA,EAAAA,SAAQpvE,GACR,IAAI+7E,EAAwBn5D,EAAMnT,MAAMssE,sBACpCA,GAAuBA,EAAsB/7E,OAGnDkxE,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,mBAAmB,WAChE,IAAIo5D,EAAiCp5D,EAAMnT,MAAMusE,+BAC7CA,GAAgCA,QAGtC9K,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,iBAAiB,SAAU5iB,IACxEovE,EAAAA,EAAAA,SAAQpvE,GACR,IAAIi8E,EAA+Br5D,EAAMnT,MAAMwsE,6BAC3CA,GAA8BA,EAA6Bj8E,MAG1D4iB,EAuFT,OApFAyqD,EAAAA,EAAAA,GAAawO,EAAyB,CAAC,CACrCp2F,IAAK,oBACL/D,MAAO,WACL,IAAIioD,EAAO1tD,KAAKwzB,MAAMk6B,MACtBgkC,EAAAA,EAAAA,SAAUhkC,EAAM,kEAChB1tD,KAAKigG,oBAEN,CACDz2F,IAAK,qBACL/D,MAAO,SAA4B2yF,GACjC,IAAIrB,EAAc/2F,KAAKwzB,MACnBk6B,EAAOqpC,EAAYrpC,KACnBmvB,EAAcka,EAAYla,aAE1Bub,EAAU1qC,MAAQA,IAAS0qC,EAAU1qC,MAAQmvB,IAAgBub,EAAUvb,cACzE78E,KAAKigG,oBAGR,CACDz2F,IAAK,uBACL/D,MAAO,WACL2tF,EAAkBpzF,KAAKqzF,eAExB,CACD7pF,IAAK,WACLmD,IAAK,WACH,IAAI6qF,EAAex3F,KAAKwzB,MACpBk6B,EAAO8pC,EAAa9pC,KACpB+qC,EAASjB,EAAaiB,OACtB95F,EAAQ64F,EAAa74F,MACzB,OAAO+uD,EAAK5G,YAAY,CACtBnoD,MAAOA,EACPC,SAAU65F,MAGb,CACDjvF,IAAK,wBACL/D,MAAO,WACL,IAAI2hD,EAAcpnD,KAAKsG,MAAM8gD,YAE7B,GAAKA,EAAL,CAIA,IAAImxC,EAAev4F,KAAKwzB,MACpBsiD,EAAqByiB,EAAaziB,mBAClCzB,EAAckkB,EAAalkB,YAC3B3mB,EAAO6qC,EAAa7qC,KACpBmvB,EAAc0b,EAAa1b,YAC3Bj0B,EAAW5oD,KAAK4oD,SAASzmD,MAAM,CACjCX,UAAU,IAER+uE,EAAa,CACfnpB,YAAaA,EACbgL,IAAKpyD,KAAKkgG,gBACVpqB,mBAAoBA,EACpBzB,YAAaA,EACb3mB,KAAMA,EACNmvB,YAAaA,EACbj0B,SAAUA,GAEZ5oD,KAAKkgG,gBAAgBC,UAAY,GAEjC,IACEpK,EAAAA,gBAAAA,OAA6BxlB,GAC7BvwE,KAAK07F,kBACL,MAAO33E,GACP/jB,KAAK27F,cAAc53E,OAGtB,CACDva,IAAK,SACL/D,MAAO,WACL,IAAIizF,EAAS14F,KAEb,OAAoB2wF,EAAAA,cAAoB,MAAO,CAC7CC,UAAW,+CACXjjE,IAAK,SAAa8iE,GAChBiI,EAAOwH,gBAAkBzP,IAE1BzwF,KAAKogG,6BAILR,EAnJyC,CAoJhDvG,EAAAA,eACFuG,GAAwB/O,UAAY,CAClC/a,mBAAoBgb,IAAAA,OACpBzc,YAAaggB,EAActD,WAC3B+O,sBAAuBhP,IAAAA,KACvB+O,wBAAyB/O,IAAAA,KACzBkP,6BAA8BlP,IAAAA,KAC9BiP,+BAAgCjP,IAAAA,KAChCpjC,KAAM4mC,EACNzX,YAAaiU,IAAAA,KACb2H,OAAQ9D,GACRh2F,MAAOmyF,IAAAA,QAGT,IAQA,GARsB,SAAyBt9D,GAC7C,OAAoBm9D,EAAAA,cAAoBiI,EAAAA,SAA0B,MAAM,SAAU6B,GAChF,OAAoB9J,EAAAA,cAAoBgM,GAAYhC,SAAU,MAAM,SAAU0F,GAC5E,OAAoB1P,EAAAA,cAAoBiP,IAAyBzG,EAAAA,EAAAA,GAAS,GAAIsB,EAAiB4F,EAAa7sE,WCnLlH,SAAS3J,GAAQhC,EAAQgtE,GAAkB,IAAItrF,EAAOpG,OAAOoG,KAAKse,GAAS,GAAI1kB,OAAO+mB,sBAAuB,CAAE,IAAI4qE,EAAU3xF,OAAO+mB,sBAAsBrC,GAASgtE,IAAmBC,EAAUA,EAAQxE,QAAO,SAAUyE,GAAO,OAAO5xF,OAAOif,yBAAyByF,EAAQktE,GAAKrvF,eAAiB6D,EAAK+gB,KAAKiU,MAAMh1B,EAAMurF,GAAY,OAAOvrF,EAE9U,SAASyrF,GAAclyE,GAAU,IAAK,IAAI5f,EAAI,EAAGA,EAAI6iB,UAAUhc,OAAQ7G,IAAK,CAAE,IAAIwf,EAAS,MAAQqD,UAAU7iB,GAAK6iB,UAAU7iB,GAAK,GAAIA,EAAI,EAAI2mB,GAAQ1mB,OAAOuf,IAAS,GAAIstE,SAAQ,SAAUxmF,IAAOyrF,EAAAA,EAAAA,GAAgBnyE,EAAQtZ,EAAKkZ,EAAOlZ,OAAYrG,OAAO+xF,0BAA4B/xF,OAAOovB,iBAAiBzP,EAAQ3f,OAAO+xF,0BAA0BxyE,IAAWmH,GAAQ1mB,OAAOuf,IAASstE,SAAQ,SAAUxmF,GAAOrG,OAAO8gB,eAAenB,EAAQtZ,EAAKrG,OAAOif,yBAAyBM,EAAQlZ,OAAa,OAAOsZ,EAEjf,SAASqyE,GAAaC,GAAW,IAAIC,EAErC,WAAuC,GAAuB,qBAAZ91D,UAA4BA,QAAQpB,UAAW,OAAO,EAAO,GAAIoB,QAAQpB,UAAUm3D,KAAM,OAAO,EAAO,GAAqB,oBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFp6C,QAAQy+B,UAAU4b,QAAQjyE,KAAKgc,QAAQpB,UAAUgd,QAAS,IAAI,iBAAyB,EAAQ,MAAOvtC,GAAK,OAAO,GAF9P6nF,GAA6B,OAAO,WAAkC,IAAsCztF,EAAlC0tF,GAAQC,EAAAA,EAAAA,GAAgBP,GAAkB,GAAIC,EAA2B,CAAE,IAAIO,GAAYD,EAAAA,EAAAA,GAAgB31F,MAAMC,YAAa+H,EAASu3B,QAAQpB,UAAUu3D,EAAO3vE,UAAW6vE,QAAqB5tF,EAAS0tF,EAAMn3D,MAAMv+B,KAAM+lB,WAAc,OAAO8vE,EAAAA,EAAAA,GAA2B71F,KAAMgI,IAqB5Z,IACWs4F,GAA4B,SAAUrK,IAC/CC,EAAAA,EAAAA,GAAUoK,EAAcrK,GAExB,IAAIE,EAAShB,GAAamL,GAE1B,SAASA,IACP,IAAI35D,GAEJsqD,EAAAA,EAAAA,GAAgBjxF,KAAMsgG,GAEtB,IAAK,IAAIlK,EAAOrwE,UAAUhc,OAAQmmB,EAAO,IAAI9Q,MAAMg3E,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EnmE,EAAKmmE,GAAQtwE,UAAUswE,GA0DzB,OAvDA1vD,EAAQwvD,EAAO5yE,KAAKgb,MAAM43D,EAAQ,CAACn2F,MAAMiqB,OAAOiG,KAEhD+kE,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,QAAS,CACtD+mB,KAAM,QAGRunC,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,iBAAiB,WAC9D,IAAIowD,EAAcpwD,EAAMnT,MACpB6jE,EAAgBN,EAAYM,cAC5BgB,EAAetB,EAAYsB,aAC3B3qC,EAAO/mB,EAAMrgC,MAAMonD,KACnB2pC,GAAeA,EAAc/D,EAAiB5lC,EAAM/mB,EAAMhoC,QAC1D05F,GAAcA,EAAa1xD,EAAMqiB,UAAWriB,EAAMhZ,SAGxDsnE,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,eAAe,SAAU5iB,GACtE4iB,EAAMkwD,SAAS,CACbnpC,MAAM,KAGRylC,EAAAA,EAAAA,SAAQpvE,GACR,IAAIuzE,EAAc3wD,EAAMnT,MAAM8jE,YAC1BA,GAAaA,EAAYvzE,OAG/BkxE,EAAAA,EAAAA,IAAgBqB,EAAAA,EAAAA,GAAuB3vD,GAAQ,YAAY,WACzD,IAAI4vD,EAAM5vD,EAAMnT,MAAM+iE,IAElBtnC,EAAatoB,EAAMszD,gBAEvB,GAAKhrC,EAAL,CAIAtoB,EAAMkwD,UAAS,SAAUC,GACvB,OAAKA,EAAUppC,KAIR,CACLA,KAAM,MAJC,QAQX,IAAIwpC,EAAcC,EAAgBZ,EAAIzxC,QAAQmK,IAC9CtoB,EAAM0sD,YAAc6D,EACpBA,EAAYn8D,QAAQ5yB,MAAK,SAAUulD,GACjC/mB,EAAMkwD,SAAS,CACbnpC,KAAMA,GACL/mB,EAAM0wD,kBAHX,OAIY,SAAUtzE,GACpB4iB,EAAM2wD,YAAYvzE,UAIf4iB,EAwST,OArSAyqD,EAAAA,EAAAA,GAAakP,EAAc,CAAC,CAC1B92F,IAAK,oBACL/D,MAAO,WACL,IAAI8wF,EAAMv2F,KAAKwzB,MAAM+iE,KACrB7E,EAAAA,EAAAA,SAAU6E,EAAK,4DACfv2F,KAAKugG,aAEN,CACD/2F,IAAK,qBACL/D,MAAO,SAA4B2yF,GACjC,IAAI7B,EAAMv2F,KAAKwzB,MAAM+iE,IAErB,GAAI6B,EAAU7B,KAAOA,IAAQ6B,EAAU7B,KAAOv2F,KAAKi6F,kBAAoBj6F,KAAKi6F,cAAc7B,GAAY,CACpG,IAAIE,EAAiBt4F,KAAKwzB,MAAM8kE,eAC5BA,GAAgBA,EAAet4F,KAAK+kD,aAAaqzC,IACrDp4F,KAAKugG,cAGR,CACD/2F,IAAK,uBACL/D,MAAO,WACL,IAAI6yF,EAAiBt4F,KAAKwzB,MAAM8kE,eAC5BA,GAAgBA,EAAet4F,KAAKgpD,WACxCoqC,EAAkBpzF,KAAKqzF,eAExB,CACD7pF,IAAK,eACLmD,IAAK,WACH,IAAI+gD,EAAO1tD,KAAKsG,MAAMonD,KAEtB,IAAKA,EACH,MAAO,GAGT,IAAI8pC,EAAex3F,KAAKwzB,MACpBuoE,EAAmBvE,EAAauE,iBAChCiD,EAAqBxH,EAAawH,mBAClCc,EAAwBtI,EAAasI,sBACrCD,EAA0BrI,EAAaqI,wBACvCN,EAAiB/H,EAAa+H,eAC9BD,EAAmB9H,EAAa8H,iBAChCU,EAA+BxI,EAAawI,6BAC5CD,EAAiCvI,EAAauI,+BAC9CpE,EAAgBnE,EAAamE,cAC7BD,EAAkBlE,EAAakE,gBAC/B7e,EAAc2a,EAAa3a,YAC3B2jB,EAAyBhJ,EAAagJ,uBAC1C,MAAO,CACLzE,iBAAkBA,EAClBiD,mBAAoBA,EACpBc,sBAAuBA,EACvBD,wBAAyBA,EACzBN,eAAgBA,EAChBD,iBAAkBA,EAClBU,6BAA8BA,EAC9BD,+BAAgCA,EAChCpE,cAAeA,EACfD,gBAAiBA,EACjBhuC,KAAMA,EACNmvB,YAA6B,OAAhBA,QAAwC,IAAhBA,EAAyBA,EAAc2jB,EAE5E/H,OAAQz4F,KAAKy4F,OACb95F,MAAOqB,KAAKrB,SAOf,CACD6K,IAAK,eACL/D,MAAO,WACL,IAAI+tB,EAAQzN,UAAUhc,OAAS,QAAsB2d,IAAjB3B,UAAU,GAAmBA,UAAU,GAAK/lB,KAAKwzB,MAErF,OAAI6+D,EAAW7+D,EAAMy7B,YACZz7B,EAAMy7B,WAAa,EAGxBojC,EAAW7+D,EAAMw1B,WACZx1B,EAAMw1B,UAGR,OAER,CACDx/C,IAAK,gBACL/D,MAAO,WACL,IAAI+tB,EAAQzN,UAAUhc,OAAS,QAAsB2d,IAAjB3B,UAAU,GAAmBA,UAAU,GAAK/lB,KAAKwzB,MAErF,OAAI6+D,EAAW7+D,EAAMy7B,YACZz7B,EAAMy7B,WAGXojC,EAAW7+D,EAAMw1B,WACZx1B,EAAMw1B,UAAY,EAGpB,OAER,CACDx/C,IAAK,YACLmD,IAAK,WACH,OAAO3M,KAAK+kD,iBAEb,CACDv7C,IAAK,aACLmD,IAAK,WACH,OAAO3M,KAAKi6F,kBAEb,CACDzwF,IAAK,SACLmD,IAAK,WACH,IAAI8rF,EAASz4F,KAAKwzB,MAAMilE,OAExB,GAAIpG,EAAWoG,GACb,OAAOA,EAGT,IAAI/qC,EAAO1tD,KAAKsG,MAAMonD,KAEtB,OAAKA,EAIEA,EAAK+qC,OAHH,OAKV,CACDjvF,IAAK,QACLmD,IAAK,WACH,IAAI+gD,EAAO1tD,KAAKsG,MAAMonD,KAEtB,IAAKA,EACH,OAAO,KAGT,IAAI6qC,EAAev4F,KAAKwzB,MACpB70B,EAAQ45F,EAAa55F,MACrBsD,EAAQs2F,EAAat2F,MACrBC,EAASq2F,EAAar2F,OACtBu2F,EAASz4F,KAAKy4F,OAEdgI,EAAY,EAEZC,EAA6B,OAAV/hG,EAxNV,EAwN0CA,EAEvD,GAAIsD,GAASC,EAAQ,CACnB,IAAI0mD,EAAW8E,EAAK5G,YAAY,CAC9BnoD,MAAO,EACPC,SAAU65F,IAEZgI,EAAYx+F,EAAQA,EAAQ2mD,EAAS3mD,MAAQC,EAAS0mD,EAAS1mD,OAGjE,OAAOw+F,EAAmBD,IAE3B,CACDj3F,IAAK,aACLmD,IAAK,WACH,IAAI+rF,EAAS14F,KAEb,OAAO24F,EAAe34F,KAAKwzB,OAAO,WAChC,IAAIk6B,EAAOgrC,EAAOpyF,MAAMonD,KAExB,OAAKA,EAIE4lC,EAAiB5lC,EAAMgrC,EAAO/5F,OAH5B+uD,OAMZ,CACDlkD,IAAK,UACLmD,IAAK,WACH,IAAI+gD,EAAO1tD,KAAKsG,MAAMonD,KACtB,MAAO,GAAGzjC,OAAOyjC,EAAK1E,UAAW,KAAK/+B,OAAOjqB,KAAKrB,MAAO,KAAKsrB,OAAOjqB,KAAKy4F,UAE3E,CACDjvF,IAAK,iBACLmD,IAAK,WACH,IAAI+gD,EAAO1tD,KAAKsG,MAAMonD,KACtB,MAAO,GAAGzjC,OAAOyjC,EAAK1E,UAAW,KAAK/+B,OAAOjqB,KAAKy4F,UAEnD,CACDjvF,IAAK,kBACL/D,MAAO,WACL,IAAIwzF,EAAej5F,KAAKwzB,MACpB+oE,EAAYtD,EAAasD,UAG7B,OAFiBtD,EAAaT,YAG5B,IAAK,OACH,OAAO,KAET,IAAK,MACH,OAAoB7H,EAAAA,cAAoB2M,GAAS,CAC/C9zF,IAAK,GAAGygB,OAAOjqB,KAAK2gG,eAAgB,UAIxC,QACE,OAAoBhQ,EAAAA,cAAoB+L,GAAY,CAClDlzF,IAAK,GAAGygB,OAAOjqB,KAAK4gG,QAAS,WAC7BrE,UAAWA,OAIlB,CACD/yF,IAAK,kBACL/D,MAAO,WACL,IAAIo7F,EAAkB7gG,KAAKwzB,MAAMqtE,gBAEjC,OAAKA,EAIelQ,EAAAA,cAAoBgP,GAAW,CACjDn2F,IAAK,GAAGygB,OAAOjqB,KAAK4gG,QAAS,WAJtB,OAOV,CACDp3F,IAAK,wBACL/D,MAAO,WACL,IAAI26F,EAAwBpgG,KAAKwzB,MAAM4sE,sBAEvC,OAAKA,EASezP,EAAAA,cAAoBmQ,GAAiB,CACvDt3F,IAAK,GAAGygB,OAAOjqB,KAAK4gG,QAAS,kBATtB,OAYV,CACDp3F,IAAK,iBACL/D,MAAO,WACL,IAAIirF,EAAW1wF,KAAKwzB,MAAMk9D,SAC1B,OAAoBC,EAAAA,cAAoBgM,GAAYzB,SAAU,CAC5Dz1F,MAAOzF,KAAK64F,cACX74F,KAAK+gG,kBAAmB/gG,KAAK6gG,kBAAmB7gG,KAAKogG,wBAAyB1P,KAElF,CACDlnF,IAAK,gBACL/D,MAAO,WACL,IAAIwpD,EAAajvD,KAAKivD,WAClBsnC,EAAMv2F,KAAKwzB,MAAM+iE,IACjB7oC,EAAO1tD,KAAKsG,MAAMonD,KAEtB,IAAKuB,EAAY,CACf,IAAI6pC,EAAS94F,KAAKwzB,MAAMslE,OACxB,OAAoBnI,EAAAA,cAAoBH,EAAS,CAC/CvpF,KAAM,WACa,oBAAX6xF,EAAwBA,IAAWA,GAG/C,GAAY,OAARvC,GAAyB,OAAT7oC,EAAe,CACjC,IAAIqrC,EAAU/4F,KAAKwzB,MAAMulE,QACzB,OAAoBpI,EAAAA,cAAoBH,EAAS,CAC/CvpF,KAAM,WACc,oBAAZ8xF,EAAyBA,IAAYA,GAGjD,IAAY,IAARxC,IAA0B,IAAT7oC,EAAgB,CACnC,IAAI3pC,EAAQ/jB,KAAKwzB,MAAMzP,MACvB,OAAoB4sE,EAAAA,cAAoBH,EAAS,CAC/CvpF,KAAM,SACY,oBAAV8c,EAAuBA,IAAUA,GAG7C,OAAO/jB,KAAKg5F,mBAEb,CACDxvF,IAAK,SACL/D,MAAO,WACL,IAAIwpD,EAAajvD,KAAKivD,WAClBqtC,EAAet8F,KAAKwzB,MACpBo9D,EAAY0L,EAAa1L,UACzBsI,EAAWoD,EAAapD,SAC5B,OAAoBvI,EAAAA,cAAoB,OAAOwI,EAAAA,EAAAA,GAAS,CACtDvI,UAAWT,EAAgB,kBAAmBS,GAC9C,mBAAoB3hC,EACpBthC,IAAKytE,GAAUlC,EAAUl5F,KAAK2tB,KAC9BkoD,MAAO,CACLx0C,SAAU,aAEXrhC,KAAK+vF,YAAa/vF,KAAKo5F,qBAIvBkH,EA7W8B,CA8WrCjH,EAAAA,eACFiH,GAAahH,aAAe,CAC1Bv1E,MAAO,2BACPg1E,QAAS,qBACTD,OAAQ,qBACRsH,uBAAuB,EACvBvjB,aAAa,EACb2b,WAAY,SACZqI,iBAAiB,EACjBliG,MAxXiB,GA0XnB,IAAI86F,GAAmB3I,IAAAA,UAAoB,CAACA,IAAAA,KAAgBA,IAAAA,OAkC5D,SAASkQ,GAAKxtE,EAAO7F,GACnB,OAAoBgjE,EAAAA,cAAoBiI,EAAAA,SAA0B,MAAM,SAAUzyF,GAChF,OAAoBwqF,EAAAA,cAAoB2P,IAAcnH,EAAAA,EAAAA,GAAS,CAC7DxrE,IAAKA,GACJxnB,EAASqtB,OArChB8sE,GAAazP,UAAYmE,GAAcA,GAAc,GAAIjF,GAAa,GAAI,CACxEgM,iBAAkBjL,IAAAA,OAClBJ,SAAUI,IAAAA,KACVF,UAAWwD,EACX4K,mBAAoBlO,IAAAA,KACpB/sE,MAAO01E,GACPv3F,OAAQ4uF,IAAAA,OACRhb,mBAAoBgb,IAAAA,OACpBoI,SAAUzE,GACVsE,QAASU,GACTX,OAAQW,GACR8F,eAAgBzO,IAAAA,KAChBwO,iBAAkBxO,IAAAA,KAClBwG,YAAaxG,IAAAA,KACbuG,cAAevG,IAAAA,KACf6K,cAAe7K,IAAAA,KACf4K,gBAAiB5K,IAAAA,KACjB9nC,UbjYuB,SAAqBx1B,EAAOytE,EAAUC,GAC7D,IAAIl4C,EAAYx1B,EAAMytE,GAClBhyC,EAAaz7B,EAAMy7B,WACnBsnC,EAAM/iE,EAAM+iE,IAEhB,IAAKpE,EAAUoE,GACb,OAAO,KAGT,GAAIpE,EAAUnpC,GAAY,CACxB,GAAyB,kBAAdA,EACT,OAAO,IAAItpD,MAAM,IAAIuqB,OAAOg3E,EAAU,eAAeh3E,QAAO8tE,EAAAA,EAAAA,GAAQ/uC,GAAY,mBAAmB/+B,OAAOi3E,EAAe,0BAG3H,GAAIl4C,EAAY,EACd,OAAO,IAAItpD,MAAM,aAAauqB,OAAOg3E,EAAU,mCAGjD,IAAI3xC,EAAWinC,EAAIjnC,SAEnB,GAAItG,EAAY,EAAIsG,EAClB,OAAO,IAAI5vD,MAAM,aAAauqB,OAAOg3E,EAAU,6BAA6Bh3E,OAAOqlC,EAAW,EAAG,WAE9F,IAAK6iC,EAAUljC,GACpB,OAAO,IAAIvvD,MAAM,IAAIuqB,OAAOg3E,EAAU,wEAAwEh3E,OAAOi3E,EAAe,OAItI,OAAO,MasWPjyC,WbpWwB,SAAsBz7B,EAAOytE,EAAUC,GAC/D,IAAIjyC,EAAaz7B,EAAMytE,GACnBj4C,EAAYx1B,EAAMw1B,UAClButC,EAAM/iE,EAAM+iE,IAEhB,IAAKpE,EAAUoE,GACb,OAAO,KAGT,GAAIpE,EAAUljC,GAAa,CACzB,GAA0B,kBAAfA,EACT,OAAO,IAAIvvD,MAAM,IAAIuqB,OAAOg3E,EAAU,eAAeh3E,QAAO8tE,EAAAA,EAAAA,GAAQ9oC,GAAa,mBAAmBhlC,OAAOi3E,EAAe,0BAG5H,GAAIjyC,EAAa,EACf,OAAO,IAAIvvD,MAAM,aAAauqB,OAAOg3E,EAAU,mCAGjD,IAAI3xC,EAAWinC,EAAIjnC,SAEnB,GAAIL,EAAaK,EACf,OAAO,IAAI5vD,MAAM,aAAauqB,OAAOg3E,EAAU,6BAA6Bh3E,OAAOqlC,EAAU,WAE1F,IAAK6iC,EAAUnpC,GACpB,OAAO,IAAItpD,MAAM,IAAIuqB,OAAOg3E,EAAU,wEAAwEh3E,OAAOi3E,EAAe,OAItI,OAAO,MayUP3K,IAAK/B,GACL6D,aAAcvH,IAAAA,KACdsP,sBAAuBtP,IAAAA,KACvBjU,YAAaiU,IAAAA,KACb0P,uBAAwB1P,IAAAA,KAExB0H,WAAY9D,GACZmM,gBAAiB/P,IAAAA,KACjB2H,OAAQ9D,GACRh2F,MAAOmyF,IAAAA,OACPwH,eAAgBxH,IAAAA,KAChB7uF,MAAO6uF,IAAAA,SAWT,OAA4BH,EAAAA,WAAiBqQ,KdhW3C7N,EAAAA,EAAAA,UAASjB,EAAmB,0EAA0EjoE,OAAOgpE,IehG/G8C,EAAAA,oBAAAA,UAAsC,mDCNvB,SAASd,EAAgBpvF,EAAK2D,EAAK/D,GAYhD,OAXI+D,KAAO3D,EACT1C,OAAO8gB,eAAepe,EAAK2D,EAAK,CAC9B/D,MAAOA,EACPC,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZC,EAAI2D,GAAO/D,EAGNI","sources":["../pdfjs-dist/build/pdf/webpack/universalModuleDefinition","../pdfjs-dist/build/pdf/src/display/display_utils.js","../pdfjs-dist/build/pdf/node_modules/@babel/runtime/regenerator/index.js","../pdfjs-dist/build/pdf/node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js","../pdfjs-dist/build/pdf/src/shared/util.js","../pdfjs-dist/build/pdf/src/shared/compatibility.js","../pdfjs-dist/build/pdf/src/shared/is_node.js","../pdfjs-dist/build/pdf/node_modules/core-js/es/global-this.js","../pdfjs-dist/build/pdf/node_modules/core-js/modules/es.global-this.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/export.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/global.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/object-get-own-property-descriptor.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/descriptors.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/fails.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/function-call.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/object-property-is-enumerable.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/create-property-descriptor.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/to-indexed-object.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/indexed-object.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/function-uncurry-this.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/classof-raw.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/require-object-coercible.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/to-property-key.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/to-primitive.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/is-object.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/is-callable.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/is-symbol.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/get-built-in.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/object-is-prototype-of.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/use-symbol-as-uid.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/native-symbol.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/engine-v8-version.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/engine-user-agent.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/get-method.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/a-callable.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/try-to-string.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/ordinary-to-primitive.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/well-known-symbol.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/shared.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/is-pure.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/shared-store.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/set-global.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/has-own-property.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/to-object.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/uid.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/ie8-dom-define.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/document-create-element.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/create-non-enumerable-property.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/object-define-property.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/an-object.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/redefine.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/inspect-source.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/internal-state.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/native-weak-map.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/shared-key.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/hidden-keys.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/function-name.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/copy-constructor-properties.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/own-keys.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/object-get-own-property-names.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/object-keys-internal.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/array-includes.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/to-absolute-index.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/to-integer-or-infinity.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/length-of-array-like.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/to-length.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/enum-bug-keys.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/object-get-own-property-symbols.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/is-forced.js","../pdfjs-dist/build/pdf/node_modules/dommatrix/dist/dommatrix.js","../pdfjs-dist/build/pdf/node_modules/core-js/es/object/from-entries.js","../pdfjs-dist/build/pdf/node_modules/core-js/modules/es.array.iterator.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/add-to-unscopables.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/object-create.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/object-define-properties.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/object-keys.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/html.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/iterators.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/define-iterator.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/create-iterator-constructor.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/iterators-core.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/object-get-prototype-of.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/correct-prototype-getter.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/set-to-string-tag.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/object-set-prototype-of.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/a-possible-prototype.js","../pdfjs-dist/build/pdf/node_modules/core-js/modules/es.object.from-entries.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/iterate.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/function-bind-context.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/is-array-iterator-method.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/get-iterator.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/get-iterator-method.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/classof.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/to-string-tag-support.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/iterator-close.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/create-property.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/path.js","../pdfjs-dist/build/pdf/node_modules/core-js/es/promise/index.js","../pdfjs-dist/build/pdf/node_modules/core-js/modules/es.aggregate-error.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/clear-error-stack.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/array-slice-simple.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/install-error-cause.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/normalize-string-argument.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/to-string.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/error-stack-installable.js","../pdfjs-dist/build/pdf/node_modules/core-js/modules/es.object.to-string.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/object-to-string.js","../pdfjs-dist/build/pdf/node_modules/core-js/modules/es.promise.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/native-promise-constructor.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/redefine-all.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/set-species.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/an-instance.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/check-correctness-of-iteration.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/species-constructor.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/a-constructor.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/is-constructor.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/task.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/function-apply.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/array-slice.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/engine-is-ios.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/engine-is-node.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/microtask.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/engine-is-ios-pebble.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/engine-is-webos-webkit.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/promise-resolve.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/new-promise-capability.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/host-report-errors.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/perform.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/engine-is-browser.js","../pdfjs-dist/build/pdf/node_modules/core-js/modules/es.promise.all-settled.js","../pdfjs-dist/build/pdf/node_modules/core-js/modules/es.promise.any.js","../pdfjs-dist/build/pdf/node_modules/core-js/modules/es.promise.finally.js","../pdfjs-dist/build/pdf/node_modules/core-js/modules/es.string.iterator.js","../pdfjs-dist/build/pdf/node_modules/core-js/internals/string-multibyte.js","../pdfjs-dist/build/pdf/node_modules/web-streams-polyfill/dist/ponyfill.js","../pdfjs-dist/build/pdf/src/display/base_factory.js","../pdfjs-dist/build/pdf/src/display/api.js","../pdfjs-dist/build/pdf/src/display/font_loader.js","../pdfjs-dist/build/pdf/src/display/node_utils.js","../pdfjs-dist/build/pdf/src/display/annotation_storage.js","../pdfjs-dist/build/pdf/src/display/canvas.js","../pdfjs-dist/build/pdf/src/display/pattern_helper.js","../pdfjs-dist/build/pdf/src/display/worker_options.js","../pdfjs-dist/build/pdf/src/shared/message_handler.js","../pdfjs-dist/build/pdf/src/display/metadata.js","../pdfjs-dist/build/pdf/src/display/optional_content_config.js","../pdfjs-dist/build/pdf/src/display/transport_stream.js","../pdfjs-dist/build/pdf/src/display/xfa_text.js","../pdfjs-dist/build/pdf/src/display/annotation_layer.js","../pdfjs-dist/build/pdf/src/shared/scripting_utils.js","../pdfjs-dist/build/pdf/src/display/xfa_layer.js","../pdfjs-dist/build/pdf/src/display/text_layer.js","../pdfjs-dist/build/pdf/src/display/svg.js","../pdfjs-dist/build/pdf/src/display/node_stream.js","../pdfjs-dist/build/pdf/src/display/network_utils.js","../pdfjs-dist/build/pdf/src/display/content_disposition.js","../pdfjs-dist/build/pdf/src/display/network.js","../pdfjs-dist/build/pdf/src/display/fetch_stream.js","../pdfjs-dist/build/pdf/webpack/bootstrap","../webpack:/pdfjs-dist/build/pdf/webpack/runtime/node module decorator","../pdfjs-dist/build/pdf/src/pdf.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/make-event-props/dist/esm/index.js","../node_modules/make-cancellable-promise/dist/esm/index.js","../node_modules/merge-class-names/dist/esm/index.js","../node_modules/react-pdf/dist/esm/DocumentContext.js","../node_modules/react-pdf/dist/esm/Message.js","../node_modules/react-pdf/dist/esm/LinkService.js","../node_modules/react-pdf/dist/esm/PasswordResponses.js","../node_modules/react-pdf/dist/esm/shared/utils.js","../node_modules/react-pdf/dist/esm/shared/propTypes.js","../node_modules/react-pdf/dist/esm/Document.js","../node_modules/react-pdf/dist/esm/OutlineContext.js","../node_modules/react-pdf/dist/esm/Ref.js","../node_modules/react-pdf/dist/esm/OutlineItem.js","../node_modules/react-pdf/dist/esm/Outline.js","../node_modules/merge-refs/dist/esm/index.js","../node_modules/react-pdf/dist/esm/PageContext.js","../node_modules/react-pdf/dist/esm/Page/PageCanvas.js","../node_modules/react-pdf/dist/esm/Page/PageSVG.js","../node_modules/react-pdf/dist/esm/Page/TextLayerItem.js","../node_modules/react-pdf/dist/esm/Page/TextLayer.js","../node_modules/react-pdf/dist/esm/Page/AnnotationLayer.js","../node_modules/react-pdf/dist/esm/Page.js","../node_modules/react-pdf/dist/esm/entry.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"pdfjs-dist/build/pdf\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pdfjs-dist/build/pdf\"] = factory();\n\telse\n\t\troot[\"pdfjs-dist/build/pdf\"] = factory();\n})(this, function() {\nreturn ","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert,\n  BaseException,\n  isString,\n  removeNullCharacters,\n  shadow,\n  stringToBytes,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport {\n  BaseCanvasFactory,\n  BaseCMapReaderFactory,\n  BaseStandardFontDataFactory,\n  BaseSVGFactory,\n} from \"./base_factory.js\";\n\nconst DEFAULT_LINK_REL = \"noopener noreferrer nofollow\";\nconst SVG_NS = \"http://www.w3.org/2000/svg\";\n\nconst PixelsPerInch = {\n  CSS: 96.0,\n  PDF: 72.0,\n\n  /** @type {number} */\n  get PDF_TO_CSS_UNITS() {\n    return shadow(this, \"PDF_TO_CSS_UNITS\", this.CSS / this.PDF);\n  },\n};\n\nclass DOMCanvasFactory extends BaseCanvasFactory {\n  constructor({ ownerDocument = globalThis.document } = {}) {\n    super();\n    this._document = ownerDocument;\n  }\n\n  _createCanvas(width, height) {\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  }\n}\n\nasync function fetchData(url, asTypedArray = false) {\n  if (\n    (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n    isValidFetchUrl(url, document.baseURI)\n  ) {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return asTypedArray\n      ? new Uint8Array(await response.arrayBuffer())\n      : stringToBytes(await response.text());\n  }\n\n  // The Fetch API is not supported.\n  return new Promise((resolve, reject) => {\n    const request = new XMLHttpRequest();\n    request.open(\"GET\", url, /* asTypedArray = */ true);\n\n    if (asTypedArray) {\n      request.responseType = \"arraybuffer\";\n    }\n    request.onreadystatechange = () => {\n      if (request.readyState !== XMLHttpRequest.DONE) {\n        return;\n      }\n      if (request.status === 200 || request.status === 0) {\n        let data;\n        if (asTypedArray && request.response) {\n          data = new Uint8Array(request.response);\n        } else if (!asTypedArray && request.responseText) {\n          data = stringToBytes(request.responseText);\n        }\n        if (data) {\n          resolve(data);\n          return;\n        }\n      }\n      reject(new Error(request.statusText));\n    };\n\n    request.send(null);\n  });\n}\n\nclass DOMCMapReaderFactory extends BaseCMapReaderFactory {\n  _fetchData(url, compressionType) {\n    return fetchData(url, /* asTypedArray = */ this.isCompressed).then(data => {\n      return { cMapData: data, compressionType };\n    });\n  }\n}\n\nclass DOMStandardFontDataFactory extends BaseStandardFontDataFactory {\n  _fetchData(url) {\n    return fetchData(url, /* asTypedArray = */ true);\n  }\n}\n\nclass DOMSVGFactory extends BaseSVGFactory {\n  _createSVG(type) {\n    return document.createElementNS(SVG_NS, type);\n  }\n}\n\n/**\n * @typedef {Object} PageViewportParameters\n * @property {Array<number>} viewBox - The xMin, yMin, xMax and\n *   yMax coordinates.\n * @property {number} scale - The scale of the viewport.\n * @property {number} rotation - The rotation, in degrees, of the viewport.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset. The\n *   default value is `0`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset. The\n *   default value is `0`.\n * @property {boolean} [dontFlip] - If true, the y-axis will not be flipped.\n *   The default value is `false`.\n */\n\n/**\n * @typedef {Object} PageViewportCloneParameters\n * @property {number} [scale] - The scale, overriding the one in the cloned\n *   viewport. The default value is `this.scale`.\n * @property {number} [rotation] - The rotation, in degrees, overriding the one\n *   in the cloned viewport. The default value is `this.rotation`.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset.\n *   The default value is `this.offsetX`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset.\n *   The default value is `this.offsetY`.\n * @property {boolean} [dontFlip] - If true, the x-axis will not be flipped.\n *   The default value is `false`.\n */\n\n/**\n * PDF page viewport created based on scale, rotation and offset.\n */\nclass PageViewport {\n  /**\n   * @param {PageViewportParameters}\n   */\n  constructor({\n    viewBox,\n    scale,\n    rotation,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false,\n  }) {\n    this.viewBox = viewBox;\n    this.scale = scale;\n    this.rotation = rotation;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n\n    // creating transform to convert pdf coordinate system to the normal\n    // canvas like coordinates taking in account scale and rotation\n    const centerX = (viewBox[2] + viewBox[0]) / 2;\n    const centerY = (viewBox[3] + viewBox[1]) / 2;\n    let rotateA, rotateB, rotateC, rotateD;\n    // Normalize the rotation, by clamping it to the [0, 360) range.\n    rotation %= 360;\n    if (rotation < 0) {\n      rotation += 360;\n    }\n    switch (rotation) {\n      case 180:\n        rotateA = -1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = 1;\n        break;\n      case 90:\n        rotateA = 0;\n        rotateB = 1;\n        rotateC = 1;\n        rotateD = 0;\n        break;\n      case 270:\n        rotateA = 0;\n        rotateB = -1;\n        rotateC = -1;\n        rotateD = 0;\n        break;\n      case 0:\n        rotateA = 1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = -1;\n        break;\n      default:\n        throw new Error(\n          \"PageViewport: Invalid rotation, must be a multiple of 90 degrees.\"\n        );\n    }\n\n    if (dontFlip) {\n      rotateC = -rotateC;\n      rotateD = -rotateD;\n    }\n\n    let offsetCanvasX, offsetCanvasY;\n    let width, height;\n    if (rotateA === 0) {\n      offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n      width = Math.abs(viewBox[3] - viewBox[1]) * scale;\n      height = Math.abs(viewBox[2] - viewBox[0]) * scale;\n    } else {\n      offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n      width = Math.abs(viewBox[2] - viewBox[0]) * scale;\n      height = Math.abs(viewBox[3] - viewBox[1]) * scale;\n    }\n    // creating transform for the following operations:\n    // translate(-centerX, -centerY), rotate and flip vertically,\n    // scale, and translate(offsetCanvasX, offsetCanvasY)\n    this.transform = [\n      rotateA * scale,\n      rotateB * scale,\n      rotateC * scale,\n      rotateD * scale,\n      offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY,\n      offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY,\n    ];\n\n    this.width = width;\n    this.height = height;\n  }\n\n  /**\n   * Clones viewport, with optional additional properties.\n   * @param {PageViewportCloneParameters} [params]\n   * @returns {PageViewport} Cloned viewport.\n   */\n  clone({\n    scale = this.scale,\n    rotation = this.rotation,\n    offsetX = this.offsetX,\n    offsetY = this.offsetY,\n    dontFlip = false,\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.viewBox.slice(),\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip,\n    });\n  }\n\n  /**\n   * Converts PDF point to the viewport coordinates. For examples, useful for\n   * converting PDF location into canvas pixel coordinates.\n   * @param {number} x - The x-coordinate.\n   * @param {number} y - The y-coordinate.\n   * @returns {Object} Object containing `x` and `y` properties of the\n   *   point in the viewport coordinate space.\n   * @see {@link convertToPdfPoint}\n   * @see {@link convertToViewportRectangle}\n   */\n  convertToViewportPoint(x, y) {\n    return Util.applyTransform([x, y], this.transform);\n  }\n\n  /**\n   * Converts PDF rectangle to the viewport coordinates.\n   * @param {Array} rect - The xMin, yMin, xMax and yMax coordinates.\n   * @returns {Array} Array containing corresponding coordinates of the\n   *   rectangle in the viewport coordinate space.\n   * @see {@link convertToViewportPoint}\n   */\n  convertToViewportRectangle(rect) {\n    const topLeft = Util.applyTransform([rect[0], rect[1]], this.transform);\n    const bottomRight = Util.applyTransform([rect[2], rect[3]], this.transform);\n    return [topLeft[0], topLeft[1], bottomRight[0], bottomRight[1]];\n  }\n\n  /**\n   * Converts viewport coordinates to the PDF location. For examples, useful\n   * for converting canvas pixel location into PDF one.\n   * @param {number} x - The x-coordinate.\n   * @param {number} y - The y-coordinate.\n   * @returns {Object} Object containing `x` and `y` properties of the\n   *   point in the PDF coordinate space.\n   * @see {@link convertToViewportPoint}\n   */\n  convertToPdfPoint(x, y) {\n    return Util.applyInverseTransform([x, y], this.transform);\n  }\n}\n\nclass RenderingCancelledException extends BaseException {\n  constructor(msg, type) {\n    super(msg, \"RenderingCancelledException\");\n    this.type = type;\n  }\n}\n\nconst LinkTarget = {\n  NONE: 0, // Default value.\n  SELF: 1,\n  BLANK: 2,\n  PARENT: 3,\n  TOP: 4,\n};\n\n/**\n * @typedef ExternalLinkParameters\n * @typedef {Object} ExternalLinkParameters\n * @property {string} url - An absolute URL.\n * @property {LinkTarget} [target] - The link target. The default value is\n *   `LinkTarget.NONE`.\n * @property {string} [rel] - The link relationship. The default value is\n *   `DEFAULT_LINK_REL`.\n * @property {boolean} [enabled] - Whether the link should be enabled. The\n *   default value is true.\n */\n\n/**\n * Adds various attributes (href, title, target, rel) to hyperlinks.\n * @param {HTMLAnchorElement} link - The link element.\n * @param {ExternalLinkParameters} params\n */\nfunction addLinkAttributes(link, { url, target, rel, enabled = true } = {}) {\n  assert(\n    url && typeof url === \"string\",\n    'addLinkAttributes: A valid \"url\" parameter must provided.'\n  );\n\n  const urlNullRemoved = removeNullCharacters(url);\n  if (enabled) {\n    link.href = link.title = urlNullRemoved;\n  } else {\n    link.href = \"\";\n    link.title = `Disabled: ${urlNullRemoved}`;\n    link.onclick = () => {\n      return false;\n    };\n  }\n\n  let targetStr = \"\"; // LinkTarget.NONE\n  switch (target) {\n    case LinkTarget.NONE:\n      break;\n    case LinkTarget.SELF:\n      targetStr = \"_self\";\n      break;\n    case LinkTarget.BLANK:\n      targetStr = \"_blank\";\n      break;\n    case LinkTarget.PARENT:\n      targetStr = \"_parent\";\n      break;\n    case LinkTarget.TOP:\n      targetStr = \"_top\";\n      break;\n  }\n  link.target = targetStr;\n\n  link.rel = typeof rel === \"string\" ? rel : DEFAULT_LINK_REL;\n}\n\nfunction isDataScheme(url) {\n  const ii = url.length;\n  let i = 0;\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\n\nfunction isPdfFile(filename) {\n  return typeof filename === \"string\" && /\\.pdf$/i.test(filename);\n}\n\n/**\n * Gets the filename from a given URL.\n * @param {string} url\n * @returns {string}\n */\nfunction getFilenameFromUrl(url) {\n  const anchor = url.indexOf(\"#\");\n  const query = url.indexOf(\"?\");\n  const end = Math.min(\n    anchor > 0 ? anchor : url.length,\n    query > 0 ? query : url.length\n  );\n  return url.substring(url.lastIndexOf(\"/\", end) + 1, end);\n}\n\n/**\n * Returns the filename or guessed filename from the url (see issue 3455).\n * @param {string} url - The original PDF location.\n * @param {string} defaultFilename - The value returned if the filename is\n *   unknown, or the protocol is unsupported.\n * @returns {string} Guessed PDF filename.\n */\nfunction getPdfFilenameFromUrl(url, defaultFilename = \"document.pdf\") {\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n  if (isDataScheme(url)) {\n    warn('getPdfFilenameFromUrl: ignore \"data:\"-URL for performance reasons.');\n    return defaultFilename;\n  }\n  const reURI = /^(?:(?:[^:]+:)?\\/\\/[^/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n  //              SCHEME        HOST        1.PATH  2.QUERY   3.REF\n  // Pattern to get last matching NAME.pdf\n  const reFilename = /[^/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n  const splitURI = reURI.exec(url);\n  let suggestedFilename =\n    reFilename.exec(splitURI[1]) ||\n    reFilename.exec(splitURI[2]) ||\n    reFilename.exec(splitURI[3]);\n  if (suggestedFilename) {\n    suggestedFilename = suggestedFilename[0];\n    if (suggestedFilename.includes(\"%\")) {\n      // URL-encoded %2Fpath%2Fto%2Ffile.pdf should be file.pdf\n      try {\n        suggestedFilename = reFilename.exec(\n          decodeURIComponent(suggestedFilename)\n        )[0];\n      } catch (ex) {\n        // Possible (extremely rare) errors:\n        // URIError \"Malformed URI\", e.g. for \"%AA.pdf\"\n        // TypeError \"null has no properties\", e.g. for \"%2F.pdf\"\n      }\n    }\n  }\n  return suggestedFilename || defaultFilename;\n}\n\nclass StatTimer {\n  constructor() {\n    this.started = Object.create(null);\n    this.times = [];\n  }\n\n  time(name) {\n    if (name in this.started) {\n      warn(`Timer is already running for ${name}`);\n    }\n    this.started[name] = Date.now();\n  }\n\n  timeEnd(name) {\n    if (!(name in this.started)) {\n      warn(`Timer has not been started for ${name}`);\n    }\n    this.times.push({\n      name,\n      start: this.started[name],\n      end: Date.now(),\n    });\n    // Remove timer from started so it can be called again.\n    delete this.started[name];\n  }\n\n  toString() {\n    // Find the longest name for padding purposes.\n    const outBuf = [];\n    let longest = 0;\n    for (const time of this.times) {\n      const name = time.name;\n      if (name.length > longest) {\n        longest = name.length;\n      }\n    }\n    for (const time of this.times) {\n      const duration = time.end - time.start;\n      outBuf.push(`${time.name.padEnd(longest)} ${duration}ms\\n`);\n    }\n    return outBuf.join(\"\");\n  }\n}\n\nfunction isValidFetchUrl(url, baseUrl) {\n  try {\n    const { protocol } = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    // The Fetch API only supports the http/https protocols, and not file/ftp.\n    return protocol === \"http:\" || protocol === \"https:\";\n  } catch (ex) {\n    return false; // `new URL()` will throw on incorrect data.\n  }\n}\n\n/**\n * @param {string} src\n * @param {boolean} [removeScriptElement]\n * @returns {Promise<void>}\n */\nfunction loadScript(src, removeScriptElement = false) {\n  return new Promise((resolve, reject) => {\n    const script = document.createElement(\"script\");\n    script.src = src;\n\n    script.onload = function (evt) {\n      if (removeScriptElement) {\n        script.remove();\n      }\n      resolve(evt);\n    };\n    script.onerror = function () {\n      reject(new Error(`Cannot load script at: ${script.src}`));\n    };\n    (document.head || document.documentElement).appendChild(script);\n  });\n}\n\n// Deprecated API function -- display regardless of the `verbosity` setting.\nfunction deprecated(details) {\n  console.log(\"Deprecated API usage: \" + details);\n}\n\nlet pdfDateStringRegex;\n\nclass PDFDateString {\n  /**\n   * Convert a PDF date string to a JavaScript `Date` object.\n   *\n   * The PDF date string format is described in section 7.9.4 of the official\n   * PDF 32000-1:2008 specification. However, in the PDF 1.7 reference (sixth\n   * edition) Adobe describes the same format including a trailing apostrophe.\n   * This syntax in incorrect, but Adobe Acrobat creates PDF files that contain\n   * them. We ignore all apostrophes as they are not necessary for date parsing.\n   *\n   * Moreover, Adobe Acrobat doesn't handle changing the date to universal time\n   * and doesn't use the user's time zone (effectively ignoring the HH' and mm'\n   * parts of the date string).\n   *\n   * @param {string} input\n   * @returns {Date|null}\n   */\n  static toDateObject(input) {\n    if (!input || !isString(input)) {\n      return null;\n    }\n\n    // Lazily initialize the regular expression.\n    if (!pdfDateStringRegex) {\n      pdfDateStringRegex = new RegExp(\n        \"^D:\" + // Prefix (required)\n          \"(\\\\d{4})\" + // Year (required)\n          \"(\\\\d{2})?\" + // Month (optional)\n          \"(\\\\d{2})?\" + // Day (optional)\n          \"(\\\\d{2})?\" + // Hour (optional)\n          \"(\\\\d{2})?\" + // Minute (optional)\n          \"(\\\\d{2})?\" + // Second (optional)\n          \"([Z|+|-])?\" + // Universal time relation (optional)\n          \"(\\\\d{2})?\" + // Offset hour (optional)\n          \"'?\" + // Splitting apostrophe (optional)\n          \"(\\\\d{2})?\" + // Offset minute (optional)\n          \"'?\" // Trailing apostrophe (optional)\n      );\n    }\n\n    // Optional fields that don't satisfy the requirements from the regular\n    // expression (such as incorrect digit counts or numbers that are out of\n    // range) will fall back the defaults from the specification.\n    const matches = pdfDateStringRegex.exec(input);\n    if (!matches) {\n      return null;\n    }\n\n    // JavaScript's `Date` object expects the month to be between 0 and 11\n    // instead of 1 and 12, so we have to correct for that.\n    const year = parseInt(matches[1], 10);\n    let month = parseInt(matches[2], 10);\n    month = month >= 1 && month <= 12 ? month - 1 : 0;\n    let day = parseInt(matches[3], 10);\n    day = day >= 1 && day <= 31 ? day : 1;\n    let hour = parseInt(matches[4], 10);\n    hour = hour >= 0 && hour <= 23 ? hour : 0;\n    let minute = parseInt(matches[5], 10);\n    minute = minute >= 0 && minute <= 59 ? minute : 0;\n    let second = parseInt(matches[6], 10);\n    second = second >= 0 && second <= 59 ? second : 0;\n    const universalTimeRelation = matches[7] || \"Z\";\n    let offsetHour = parseInt(matches[8], 10);\n    offsetHour = offsetHour >= 0 && offsetHour <= 23 ? offsetHour : 0;\n    let offsetMinute = parseInt(matches[9], 10) || 0;\n    offsetMinute = offsetMinute >= 0 && offsetMinute <= 59 ? offsetMinute : 0;\n\n    // Universal time relation 'Z' means that the local time is equal to the\n    // universal time, whereas the relations '+'/'-' indicate that the local\n    // time is later respectively earlier than the universal time. Every date\n    // is normalized to universal time.\n    if (universalTimeRelation === \"-\") {\n      hour += offsetHour;\n      minute += offsetMinute;\n    } else if (universalTimeRelation === \"+\") {\n      hour -= offsetHour;\n      minute -= offsetMinute;\n    }\n\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\n  }\n}\n\n/**\n * NOTE: This is (mostly) intended to support printing of XFA forms.\n */\nfunction getXfaPageViewport(xfaPage, { scale = 1, rotation = 0 }) {\n  const { width, height } = xfaPage.attributes.style;\n  const viewBox = [0, 0, parseInt(width), parseInt(height)];\n\n  return new PageViewport({\n    viewBox,\n    scale,\n    rotation,\n  });\n}\n\nexport {\n  addLinkAttributes,\n  deprecated,\n  DOMCanvasFactory,\n  DOMCMapReaderFactory,\n  DOMStandardFontDataFactory,\n  DOMSVGFactory,\n  getFilenameFromUrl,\n  getPdfFilenameFromUrl,\n  getXfaPageViewport,\n  isDataScheme,\n  isPdfFile,\n  isValidFetchUrl,\n  LinkTarget,\n  loadScript,\n  PageViewport,\n  PDFDateString,\n  PixelsPerInch,\n  RenderingCancelledException,\n  StatTimer,\n};\n","module.exports = require(\"regenerator-runtime\");\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport \"./compatibility.js\";\n\nconst IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\nconst FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\n\n/**\n * Refer to the `WorkerTransport.getRenderingIntent`-method in the API, to see\n * how these flags are being used:\n *  - ANY, DISPLAY, and PRINT are the normal rendering intents, note the\n *    `PDFPageProxy.{render, getOperatorList, getAnnotations}`-methods.\n *  - ANNOTATIONS_FORMS, ANNOTATIONS_STORAGE, ANNOTATIONS_DISABLE control which\n *    annotations are rendered onto the canvas (i.e. by being included in the\n *    operatorList), note the `PDFPageProxy.{render, getOperatorList}`-methods\n *    and their `annotationMode`-option.\n *  - OPLIST is used with the `PDFPageProxy.getOperatorList`-method, note the\n *    `OperatorList`-constructor (on the worker-thread).\n */\nconst RenderingIntentFlag = {\n  ANY: 0x01,\n  DISPLAY: 0x02,\n  PRINT: 0x04,\n  ANNOTATIONS_FORMS: 0x10,\n  ANNOTATIONS_STORAGE: 0x20,\n  ANNOTATIONS_DISABLE: 0x40,\n  OPLIST: 0x100,\n};\n\nconst AnnotationMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_FORMS: 2,\n  ENABLE_STORAGE: 3,\n};\n\n// Permission flags from Table 22, Section 7.6.3.2 of the PDF specification.\nconst PermissionFlag = {\n  PRINT: 0x04,\n  MODIFY_CONTENTS: 0x08,\n  COPY: 0x10,\n  MODIFY_ANNOTATIONS: 0x20,\n  FILL_INTERACTIVE_FORMS: 0x100,\n  COPY_FOR_ACCESSIBILITY: 0x200,\n  ASSEMBLE: 0x400,\n  PRINT_HIGH_QUALITY: 0x800,\n};\n\nconst TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4,\n};\n\nconst ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3,\n};\n\nconst AnnotationType = {\n  TEXT: 1,\n  LINK: 2,\n  FREETEXT: 3,\n  LINE: 4,\n  SQUARE: 5,\n  CIRCLE: 6,\n  POLYGON: 7,\n  POLYLINE: 8,\n  HIGHLIGHT: 9,\n  UNDERLINE: 10,\n  SQUIGGLY: 11,\n  STRIKEOUT: 12,\n  STAMP: 13,\n  CARET: 14,\n  INK: 15,\n  POPUP: 16,\n  FILEATTACHMENT: 17,\n  SOUND: 18,\n  MOVIE: 19,\n  WIDGET: 20,\n  SCREEN: 21,\n  PRINTERMARK: 22,\n  TRAPNET: 23,\n  WATERMARK: 24,\n  THREED: 25,\n  REDACT: 26,\n};\n\nconst AnnotationStateModelType = {\n  MARKED: \"Marked\",\n  REVIEW: \"Review\",\n};\n\nconst AnnotationMarkedState = {\n  MARKED: \"Marked\",\n  UNMARKED: \"Unmarked\",\n};\n\nconst AnnotationReviewState = {\n  ACCEPTED: \"Accepted\",\n  REJECTED: \"Rejected\",\n  CANCELLED: \"Cancelled\",\n  COMPLETED: \"Completed\",\n  NONE: \"None\",\n};\n\nconst AnnotationReplyType = {\n  GROUP: \"Group\",\n  REPLY: \"R\",\n};\n\nconst AnnotationFlag = {\n  INVISIBLE: 0x01,\n  HIDDEN: 0x02,\n  PRINT: 0x04,\n  NOZOOM: 0x08,\n  NOROTATE: 0x10,\n  NOVIEW: 0x20,\n  READONLY: 0x40,\n  LOCKED: 0x80,\n  TOGGLENOVIEW: 0x100,\n  LOCKEDCONTENTS: 0x200,\n};\n\nconst AnnotationFieldFlag = {\n  READONLY: 0x0000001,\n  REQUIRED: 0x0000002,\n  NOEXPORT: 0x0000004,\n  MULTILINE: 0x0001000,\n  PASSWORD: 0x0002000,\n  NOTOGGLETOOFF: 0x0004000,\n  RADIO: 0x0008000,\n  PUSHBUTTON: 0x0010000,\n  COMBO: 0x0020000,\n  EDIT: 0x0040000,\n  SORT: 0x0080000,\n  FILESELECT: 0x0100000,\n  MULTISELECT: 0x0200000,\n  DONOTSPELLCHECK: 0x0400000,\n  DONOTSCROLL: 0x0800000,\n  COMB: 0x1000000,\n  RICHTEXT: 0x2000000,\n  RADIOSINUNISON: 0x2000000,\n  COMMITONSELCHANGE: 0x4000000,\n};\n\nconst AnnotationBorderStyleType = {\n  SOLID: 1,\n  DASHED: 2,\n  BEVELED: 3,\n  INSET: 4,\n  UNDERLINE: 5,\n};\n\nconst AnnotationActionEventType = {\n  E: \"Mouse Enter\",\n  X: \"Mouse Exit\",\n  D: \"Mouse Down\",\n  U: \"Mouse Up\",\n  Fo: \"Focus\",\n  Bl: \"Blur\",\n  PO: \"PageOpen\",\n  PC: \"PageClose\",\n  PV: \"PageVisible\",\n  PI: \"PageInvisible\",\n  K: \"Keystroke\",\n  F: \"Format\",\n  V: \"Validate\",\n  C: \"Calculate\",\n};\n\nconst DocumentActionEventType = {\n  WC: \"WillClose\",\n  WS: \"WillSave\",\n  DS: \"DidSave\",\n  WP: \"WillPrint\",\n  DP: \"DidPrint\",\n};\n\nconst PageActionEventType = {\n  O: \"PageOpen\",\n  C: \"PageClose\",\n};\n\nconst StreamType = {\n  UNKNOWN: \"UNKNOWN\",\n  FLATE: \"FLATE\",\n  LZW: \"LZW\",\n  DCT: \"DCT\",\n  JPX: \"JPX\",\n  JBIG: \"JBIG\",\n  A85: \"A85\",\n  AHX: \"AHX\",\n  CCF: \"CCF\",\n  RLX: \"RLX\", // PDF short name is 'RL', but telemetry requires three chars.\n};\n\nconst FontType = {\n  UNKNOWN: \"UNKNOWN\",\n  TYPE1: \"TYPE1\",\n  TYPE1STANDARD: \"TYPE1STANDARD\",\n  TYPE1C: \"TYPE1C\",\n  CIDFONTTYPE0: \"CIDFONTTYPE0\",\n  CIDFONTTYPE0C: \"CIDFONTTYPE0C\",\n  TRUETYPE: \"TRUETYPE\",\n  CIDFONTTYPE2: \"CIDFONTTYPE2\",\n  TYPE3: \"TYPE3\",\n  OPENTYPE: \"OPENTYPE\",\n  TYPE0: \"TYPE0\",\n  MMTYPE1: \"MMTYPE1\",\n};\n\nconst VerbosityLevel = {\n  ERRORS: 0,\n  WARNINGS: 1,\n  INFOS: 5,\n};\n\nconst CMapCompressionType = {\n  NONE: 0,\n  BINARY: 1,\n  STREAM: 2,\n};\n\n// All the possible operations for an operator list.\nconst OPS = {\n  // Intentionally start from 1 so it is easy to spot bad operators that will be\n  // 0's.\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  beginAnnotations: 78,\n  endAnnotations: 79,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  /** @deprecated unused */\n  paintJpegXObject: 82,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91,\n};\n\nconst UNSUPPORTED_FEATURES = {\n  /** @deprecated unused */\n  unknown: \"unknown\",\n  forms: \"forms\",\n  javaScript: \"javaScript\",\n  signatures: \"signatures\",\n  smask: \"smask\",\n  shadingPattern: \"shadingPattern\",\n  /** @deprecated unused */\n  font: \"font\",\n  errorTilingPattern: \"errorTilingPattern\",\n  errorExtGState: \"errorExtGState\",\n  errorXObject: \"errorXObject\",\n  errorFontLoadType3: \"errorFontLoadType3\",\n  errorFontState: \"errorFontState\",\n  errorFontMissing: \"errorFontMissing\",\n  errorFontTranslate: \"errorFontTranslate\",\n  errorColorSpace: \"errorColorSpace\",\n  errorOperatorList: \"errorOperatorList\",\n  errorFontToUnicode: \"errorFontToUnicode\",\n  errorFontLoadNative: \"errorFontLoadNative\",\n  errorFontBuildPath: \"errorFontBuildPath\",\n  errorFontGetPath: \"errorFontGetPath\",\n  errorMarkedContent: \"errorMarkedContent\",\n  errorContentSubStream: \"errorContentSubStream\",\n};\n\nconst PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2,\n};\n\nlet verbosity = VerbosityLevel.WARNINGS;\n\nfunction setVerbosityLevel(level) {\n  if (Number.isInteger(level)) {\n    verbosity = level;\n  }\n}\n\nfunction getVerbosityLevel() {\n  return verbosity;\n}\n\n// A notice for devs. These are good for things that are helpful to devs, such\n// as warning that Workers were disabled, which is important to devs but not\n// end users.\nfunction info(msg) {\n  if (verbosity >= VerbosityLevel.INFOS) {\n    console.log(`Info: ${msg}`);\n  }\n}\n\n// Non-fatal warnings.\nfunction warn(msg) {\n  if (verbosity >= VerbosityLevel.WARNINGS) {\n    console.log(`Warning: ${msg}`);\n  }\n}\n\nfunction unreachable(msg) {\n  throw new Error(msg);\n}\n\nfunction assert(cond, msg) {\n  if (!cond) {\n    unreachable(msg);\n  }\n}\n\n// Checks if URLs have the same origin. For non-HTTP based URLs, returns false.\nfunction isSameOrigin(baseUrl, otherUrl) {\n  let base;\n  try {\n    base = new URL(baseUrl);\n    if (!base.origin || base.origin === \"null\") {\n      return false; // non-HTTP url\n    }\n  } catch (e) {\n    return false;\n  }\n\n  const other = new URL(otherUrl, base);\n  return base.origin === other.origin;\n}\n\n// Checks if URLs use one of the allowed protocols, e.g. to avoid XSS.\nfunction _isValidProtocol(url) {\n  if (!url) {\n    return false;\n  }\n  switch (url.protocol) {\n    case \"http:\":\n    case \"https:\":\n    case \"ftp:\":\n    case \"mailto:\":\n    case \"tel:\":\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Attempts to create a valid absolute URL.\n *\n * @param {URL|string} url - An absolute, or relative, URL.\n * @param {URL|string} [baseUrl] - An absolute URL.\n * @param {Object} [options]\n * @returns Either a valid {URL}, or `null` otherwise.\n */\nfunction createValidAbsoluteUrl(url, baseUrl = null, options = null) {\n  if (!url) {\n    return null;\n  }\n  try {\n    if (options && typeof url === \"string\") {\n      // Let URLs beginning with \"www.\" default to using the \"http://\" protocol.\n      if (options.addDefaultProtocol && url.startsWith(\"www.\")) {\n        const dots = url.match(/\\./g);\n        // Avoid accidentally matching a *relative* URL pointing to a file named\n        // e.g. \"www.pdf\" or similar.\n        if (dots && dots.length >= 2) {\n          url = `http://${url}`;\n        }\n      }\n\n      // According to ISO 32000-1:2008, section 12.6.4.7, URIs should be encoded\n      // in 7-bit ASCII. Some bad PDFs use UTF-8 encoding; see bug 1122280.\n      if (options.tryConvertEncoding) {\n        try {\n          url = stringToUTF8String(url);\n        } catch (ex) {}\n      }\n    }\n\n    const absoluteUrl = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    if (_isValidProtocol(absoluteUrl)) {\n      return absoluteUrl;\n    }\n  } catch (ex) {\n    /* `new URL()` will throw on incorrect data. */\n  }\n  return null;\n}\n\nfunction shadow(obj, prop, value) {\n  if (\n    typeof PDFJSDev === \"undefined\" ||\n    PDFJSDev.test(\"!PRODUCTION || TESTING\")\n  ) {\n    assert(\n      prop in obj,\n      `shadow: Property \"${prop && prop.toString()}\" not found in object.`\n    );\n  }\n  Object.defineProperty(obj, prop, {\n    value,\n    enumerable: true,\n    configurable: true,\n    writable: false,\n  });\n  return value;\n}\n\n/**\n * @type {any}\n */\nconst BaseException = (function BaseExceptionClosure() {\n  // eslint-disable-next-line no-shadow\n  function BaseException(message, name) {\n    if (this.constructor === BaseException) {\n      unreachable(\"Cannot initialize BaseException.\");\n    }\n    this.message = message;\n    this.name = name;\n  }\n  BaseException.prototype = new Error();\n  BaseException.constructor = BaseException;\n\n  return BaseException;\n})();\n\nclass PasswordException extends BaseException {\n  constructor(msg, code) {\n    super(msg, \"PasswordException\");\n    this.code = code;\n  }\n}\n\nclass UnknownErrorException extends BaseException {\n  constructor(msg, details) {\n    super(msg, \"UnknownErrorException\");\n    this.details = details;\n  }\n}\n\nclass InvalidPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"InvalidPDFException\");\n  }\n}\n\nclass MissingPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"MissingPDFException\");\n  }\n}\n\nclass UnexpectedResponseException extends BaseException {\n  constructor(msg, status) {\n    super(msg, \"UnexpectedResponseException\");\n    this.status = status;\n  }\n}\n\n/**\n * Error caused during parsing PDF data.\n */\nclass FormatError extends BaseException {\n  constructor(msg) {\n    super(msg, \"FormatError\");\n  }\n}\n\n/**\n * Error used to indicate task cancellation.\n */\nclass AbortException extends BaseException {\n  constructor(msg) {\n    super(msg, \"AbortException\");\n  }\n}\n\nconst NullCharactersRegExp = /\\x00+/g;\nconst InvisibleCharactersRegExp = /[\\x01-\\x1F]/g;\n\n/**\n * @param {string} str\n */\nfunction removeNullCharacters(str, replaceInvisible = false) {\n  if (typeof str !== \"string\") {\n    warn(\"The argument for removeNullCharacters must be a string.\");\n    return str;\n  }\n  if (replaceInvisible) {\n    str = str.replace(InvisibleCharactersRegExp, \" \");\n  }\n  return str.replace(NullCharactersRegExp, \"\");\n}\n\nfunction bytesToString(bytes) {\n  assert(\n    bytes !== null && typeof bytes === \"object\" && bytes.length !== undefined,\n    \"Invalid argument for bytesToString\"\n  );\n  const length = bytes.length;\n  const MAX_ARGUMENT_COUNT = 8192;\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n  const strBuf = [];\n  for (let i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    const chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    const chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n  return strBuf.join(\"\");\n}\n\nfunction stringToBytes(str) {\n  assert(typeof str === \"string\", \"Invalid argument for stringToBytes\");\n  const length = str.length;\n  const bytes = new Uint8Array(length);\n  for (let i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xff;\n  }\n  return bytes;\n}\n\n/**\n * Gets length of the array (Array, Uint8Array, or string) in bytes.\n * @param {Array<any>|Uint8Array|string} arr\n * @returns {number}\n */\nfunction arrayByteLength(arr) {\n  if (arr.length !== undefined) {\n    return arr.length;\n  }\n  assert(arr.byteLength !== undefined, \"arrayByteLength - invalid argument.\");\n  return arr.byteLength;\n}\n\n/**\n * Combines array items (arrays) into single Uint8Array object.\n * @param {Array<Array<any>|Uint8Array|string>} arr - the array of the arrays\n *   (Array, Uint8Array, or string).\n * @returns {Uint8Array}\n */\nfunction arraysToBytes(arr) {\n  const length = arr.length;\n  // Shortcut: if first and only item is Uint8Array, return it.\n  if (length === 1 && arr[0] instanceof Uint8Array) {\n    return arr[0];\n  }\n  let resultLength = 0;\n  for (let i = 0; i < length; i++) {\n    resultLength += arrayByteLength(arr[i]);\n  }\n  let pos = 0;\n  const data = new Uint8Array(resultLength);\n  for (let i = 0; i < length; i++) {\n    let item = arr[i];\n    if (!(item instanceof Uint8Array)) {\n      if (typeof item === \"string\") {\n        item = stringToBytes(item);\n      } else {\n        item = new Uint8Array(item);\n      }\n    }\n    const itemLength = item.byteLength;\n    data.set(item, pos);\n    pos += itemLength;\n  }\n  return data;\n}\n\nfunction string32(value) {\n  if (\n    typeof PDFJSDev === \"undefined\" ||\n    PDFJSDev.test(\"!PRODUCTION || TESTING\")\n  ) {\n    assert(\n      typeof value === \"number\" && Math.abs(value) < 2 ** 32,\n      `string32: Unexpected input \"${value}\".`\n    );\n  }\n  return String.fromCharCode(\n    (value >> 24) & 0xff,\n    (value >> 16) & 0xff,\n    (value >> 8) & 0xff,\n    value & 0xff\n  );\n}\n\nfunction objectSize(obj) {\n  return Object.keys(obj).length;\n}\n\n// Ensure that the returned Object has a `null` prototype; hence why\n// `Object.fromEntries(...)` is not used.\nfunction objectFromMap(map) {\n  const obj = Object.create(null);\n  for (const [key, value] of map) {\n    obj[key] = value;\n  }\n  return obj;\n}\n\n// Checks the endianness of the platform.\nfunction isLittleEndian() {\n  const buffer8 = new Uint8Array(4);\n  buffer8[0] = 1;\n  const view32 = new Uint32Array(buffer8.buffer, 0, 1);\n  return view32[0] === 1;\n}\nconst IsLittleEndianCached = {\n  get value() {\n    return shadow(this, \"value\", isLittleEndian());\n  },\n};\n\n// Checks if it's possible to eval JS expressions.\nfunction isEvalSupported() {\n  try {\n    new Function(\"\"); // eslint-disable-line no-new, no-new-func\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nconst IsEvalSupportedCached = {\n  get value() {\n    return shadow(this, \"value\", isEvalSupported());\n  },\n};\n\nconst hexNumbers = [...Array(256).keys()].map(n =>\n  n.toString(16).padStart(2, \"0\")\n);\n\nclass Util {\n  static makeHexColor(r, g, b) {\n    return `#${hexNumbers[r]}${hexNumbers[g]}${hexNumbers[b]}`;\n  }\n\n  // Concatenates two transformation matrices together and returns the result.\n  static transform(m1, m2) {\n    return [\n      m1[0] * m2[0] + m1[2] * m2[1],\n      m1[1] * m2[0] + m1[3] * m2[1],\n      m1[0] * m2[2] + m1[2] * m2[3],\n      m1[1] * m2[2] + m1[3] * m2[3],\n      m1[0] * m2[4] + m1[2] * m2[5] + m1[4],\n      m1[1] * m2[4] + m1[3] * m2[5] + m1[5],\n    ];\n  }\n\n  // For 2d affine transforms\n  static applyTransform(p, m) {\n    const xt = p[0] * m[0] + p[1] * m[2] + m[4];\n    const yt = p[0] * m[1] + p[1] * m[3] + m[5];\n    return [xt, yt];\n  }\n\n  static applyInverseTransform(p, m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    const xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    const yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n    return [xt, yt];\n  }\n\n  // Applies the transform to the rectangle and finds the minimum axially\n  // aligned bounding box.\n  static getAxialAlignedBoundingBox(r, m) {\n    const p1 = Util.applyTransform(r, m);\n    const p2 = Util.applyTransform(r.slice(2, 4), m);\n    const p3 = Util.applyTransform([r[0], r[3]], m);\n    const p4 = Util.applyTransform([r[2], r[1]], m);\n    return [\n      Math.min(p1[0], p2[0], p3[0], p4[0]),\n      Math.min(p1[1], p2[1], p3[1], p4[1]),\n      Math.max(p1[0], p2[0], p3[0], p4[0]),\n      Math.max(p1[1], p2[1], p3[1], p4[1]),\n    ];\n  }\n\n  static inverseTransform(m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    return [\n      m[3] / d,\n      -m[1] / d,\n      -m[2] / d,\n      m[0] / d,\n      (m[2] * m[5] - m[4] * m[3]) / d,\n      (m[4] * m[1] - m[5] * m[0]) / d,\n    ];\n  }\n\n  // Apply a generic 3d matrix M on a 3-vector v:\n  //   | a b c |   | X |\n  //   | d e f | x | Y |\n  //   | g h i |   | Z |\n  // M is assumed to be serialized as [a,b,c,d,e,f,g,h,i],\n  // with v as [X,Y,Z]\n  static apply3dTransform(m, v) {\n    return [\n      m[0] * v[0] + m[1] * v[1] + m[2] * v[2],\n      m[3] * v[0] + m[4] * v[1] + m[5] * v[2],\n      m[6] * v[0] + m[7] * v[1] + m[8] * v[2],\n    ];\n  }\n\n  // This calculation uses Singular Value Decomposition.\n  // The SVD can be represented with formula A = USV. We are interested in the\n  // matrix S here because it represents the scale values.\n  static singularValueDecompose2dScale(m) {\n    const transpose = [m[0], m[2], m[1], m[3]];\n\n    // Multiply matrix m with its transpose.\n    const a = m[0] * transpose[0] + m[1] * transpose[2];\n    const b = m[0] * transpose[1] + m[1] * transpose[3];\n    const c = m[2] * transpose[0] + m[3] * transpose[2];\n    const d = m[2] * transpose[1] + m[3] * transpose[3];\n\n    // Solve the second degree polynomial to get roots.\n    const first = (a + d) / 2;\n    const second = Math.sqrt((a + d) ** 2 - 4 * (a * d - c * b)) / 2;\n    const sx = first + second || 1;\n    const sy = first - second || 1;\n\n    // Scale values are the square roots of the eigenvalues.\n    return [Math.sqrt(sx), Math.sqrt(sy)];\n  }\n\n  // Normalize rectangle rect=[x1, y1, x2, y2] so that (x1,y1) < (x2,y2)\n  // For coordinate systems whose origin lies in the bottom-left, this\n  // means normalization to (BL,TR) ordering. For systems with origin in the\n  // top-left, this means (TL,BR) ordering.\n  static normalizeRect(rect) {\n    const r = rect.slice(0); // clone rect\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n    return r;\n  }\n\n  // Returns a rectangle [x1, y1, x2, y2] corresponding to the\n  // intersection of rect1 and rect2. If no intersection, returns 'false'\n  // The rectangle coordinates of rect1, rect2 should be [x1, y1, x2, y2]\n  static intersect(rect1, rect2) {\n    function compare(a, b) {\n      return a - b;\n    }\n\n    // Order points along the axes\n    const orderedX = [rect1[0], rect1[2], rect2[0], rect2[2]].sort(compare);\n    const orderedY = [rect1[1], rect1[3], rect2[1], rect2[3]].sort(compare);\n    const result = [];\n\n    rect1 = Util.normalizeRect(rect1);\n    rect2 = Util.normalizeRect(rect2);\n\n    // X: first and second points belong to different rectangles?\n    if (\n      (orderedX[0] === rect1[0] && orderedX[1] === rect2[0]) ||\n      (orderedX[0] === rect2[0] && orderedX[1] === rect1[0])\n    ) {\n      // Intersection must be between second and third points\n      result[0] = orderedX[1];\n      result[2] = orderedX[2];\n    } else {\n      return null;\n    }\n\n    // Y: first and second points belong to different rectangles?\n    if (\n      (orderedY[0] === rect1[1] && orderedY[1] === rect2[1]) ||\n      (orderedY[0] === rect2[1] && orderedY[1] === rect1[1])\n    ) {\n      // Intersection must be between second and third points\n      result[1] = orderedY[1];\n      result[3] = orderedY[2];\n    } else {\n      return null;\n    }\n\n    return result;\n  }\n\n  // From https://github.com/adobe-webplatform/Snap.svg/blob/b365287722a72526000ac4bfcf0ce4cac2faa015/src/path.js#L852\n  static bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3) {\n    const tvalues = [],\n      bounds = [[], []];\n    let a, b, c, t, t1, t2, b2ac, sqrtb2ac;\n    for (let i = 0; i < 2; ++i) {\n      if (i === 0) {\n        b = 6 * x0 - 12 * x1 + 6 * x2;\n        a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n        c = 3 * x1 - 3 * x0;\n      } else {\n        b = 6 * y0 - 12 * y1 + 6 * y2;\n        a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n        c = 3 * y1 - 3 * y0;\n      }\n      if (Math.abs(a) < 1e-12) {\n        if (Math.abs(b) < 1e-12) {\n          continue;\n        }\n        t = -c / b;\n        if (0 < t && t < 1) {\n          tvalues.push(t);\n        }\n        continue;\n      }\n      b2ac = b * b - 4 * c * a;\n      sqrtb2ac = Math.sqrt(b2ac);\n      if (b2ac < 0) {\n        continue;\n      }\n      t1 = (-b + sqrtb2ac) / (2 * a);\n      if (0 < t1 && t1 < 1) {\n        tvalues.push(t1);\n      }\n      t2 = (-b - sqrtb2ac) / (2 * a);\n      if (0 < t2 && t2 < 1) {\n        tvalues.push(t2);\n      }\n    }\n\n    let j = tvalues.length,\n      mt;\n    const jlen = j;\n    while (j--) {\n      t = tvalues[j];\n      mt = 1 - t;\n      bounds[0][j] =\n        mt * mt * mt * x0 +\n        3 * mt * mt * t * x1 +\n        3 * mt * t * t * x2 +\n        t * t * t * x3;\n      bounds[1][j] =\n        mt * mt * mt * y0 +\n        3 * mt * mt * t * y1 +\n        3 * mt * t * t * y2 +\n        t * t * t * y3;\n    }\n\n    bounds[0][jlen] = x0;\n    bounds[1][jlen] = y0;\n    bounds[0][jlen + 1] = x3;\n    bounds[1][jlen + 1] = y3;\n    bounds[0].length = bounds[1].length = jlen + 2;\n\n    return [\n      Math.min(...bounds[0]),\n      Math.min(...bounds[1]),\n      Math.max(...bounds[0]),\n      Math.max(...bounds[1]),\n    ];\n  }\n}\n\nconst PDFStringTranslateTable = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2d8,\n  0x2c7, 0x2c6, 0x2d9, 0x2dd, 0x2db, 0x2da, 0x2dc, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014, 0x2013, 0x192,\n  0x2044, 0x2039, 0x203a, 0x2212, 0x2030, 0x201e, 0x201c, 0x201d, 0x2018,\n  0x2019, 0x201a, 0x2122, 0xfb01, 0xfb02, 0x141, 0x152, 0x160, 0x178, 0x17d,\n  0x131, 0x142, 0x153, 0x161, 0x17e, 0, 0x20ac,\n];\n\nfunction stringToPDFString(str) {\n  const length = str.length,\n    strBuf = [];\n  if (str[0] === \"\\xFE\" && str[1] === \"\\xFF\") {\n    // UTF16BE BOM\n    for (let i = 2; i < length; i += 2) {\n      strBuf.push(\n        String.fromCharCode((str.charCodeAt(i) << 8) | str.charCodeAt(i + 1))\n      );\n    }\n  } else if (str[0] === \"\\xFF\" && str[1] === \"\\xFE\") {\n    // UTF16LE BOM\n    for (let i = 2; i < length; i += 2) {\n      strBuf.push(\n        String.fromCharCode((str.charCodeAt(i + 1) << 8) | str.charCodeAt(i))\n      );\n    }\n  } else {\n    for (let i = 0; i < length; ++i) {\n      const code = PDFStringTranslateTable[str.charCodeAt(i)];\n      strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n    }\n  }\n  return strBuf.join(\"\");\n}\n\nfunction escapeString(str) {\n  // replace \"(\", \")\", \"\\n\", \"\\r\" and \"\\\"\n  // by \"\\(\", \"\\)\", \"\\\\n\", \"\\\\r\" and \"\\\\\"\n  // in order to write it in a PDF file.\n  return str.replace(/([()\\\\\\n\\r])/g, match => {\n    if (match === \"\\n\") {\n      return \"\\\\n\";\n    } else if (match === \"\\r\") {\n      return \"\\\\r\";\n    }\n    return `\\\\${match}`;\n  });\n}\n\nfunction isAscii(str) {\n  return /^[\\x00-\\x7F]*$/.test(str);\n}\n\nfunction stringToUTF16BEString(str) {\n  const buf = [\"\\xFE\\xFF\"];\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const char = str.charCodeAt(i);\n    buf.push(\n      String.fromCharCode((char >> 8) & 0xff),\n      String.fromCharCode(char & 0xff)\n    );\n  }\n  return buf.join(\"\");\n}\n\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\n\nfunction utf8StringToString(str) {\n  return unescape(encodeURIComponent(str));\n}\n\nfunction isBool(v) {\n  return typeof v === \"boolean\";\n}\n\nfunction isNum(v) {\n  return typeof v === \"number\";\n}\n\nfunction isString(v) {\n  return typeof v === \"string\";\n}\n\nfunction isArrayBuffer(v) {\n  return typeof v === \"object\" && v !== null && v.byteLength !== undefined;\n}\n\nfunction isArrayEqual(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  for (let i = 0, ii = arr1.length; i < ii; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction getModificationDate(date = new Date()) {\n  const buffer = [\n    date.getUTCFullYear().toString(),\n    (date.getUTCMonth() + 1).toString().padStart(2, \"0\"),\n    date.getUTCDate().toString().padStart(2, \"0\"),\n    date.getUTCHours().toString().padStart(2, \"0\"),\n    date.getUTCMinutes().toString().padStart(2, \"0\"),\n    date.getUTCSeconds().toString().padStart(2, \"0\"),\n  ];\n\n  return buffer.join(\"\");\n}\n\n/**\n * Promise Capability object.\n *\n * @typedef {Object} PromiseCapability\n * @property {Promise<any>} promise - A Promise object.\n * @property {boolean} settled - If the Promise has been fulfilled/rejected.\n * @property {function} resolve - Fulfills the Promise.\n * @property {function} reject - Rejects the Promise.\n */\n\n/**\n * Creates a promise capability object.\n * @alias createPromiseCapability\n *\n * @returns {PromiseCapability}\n */\nfunction createPromiseCapability() {\n  const capability = Object.create(null);\n  let isSettled = false;\n\n  Object.defineProperty(capability, \"settled\", {\n    get() {\n      return isSettled;\n    },\n  });\n  capability.promise = new Promise(function (resolve, reject) {\n    capability.resolve = function (data) {\n      isSettled = true;\n      resolve(data);\n    };\n    capability.reject = function (reason) {\n      isSettled = true;\n      reject(reason);\n    };\n  });\n  return capability;\n}\n\nfunction createObjectURL(data, contentType = \"\", forceDataSchema = false) {\n  if (URL.createObjectURL && typeof Blob !== \"undefined\" && !forceDataSchema) {\n    return URL.createObjectURL(new Blob([data], { type: contentType }));\n  }\n  // Blob/createObjectURL is not available, falling back to data schema.\n  const digits =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\n  let buffer = `data:${contentType};base64,`;\n  for (let i = 0, ii = data.length; i < ii; i += 3) {\n    const b1 = data[i] & 0xff;\n    const b2 = data[i + 1] & 0xff;\n    const b3 = data[i + 2] & 0xff;\n    const d1 = b1 >> 2,\n      d2 = ((b1 & 3) << 4) | (b2 >> 4);\n    const d3 = i + 1 < ii ? ((b2 & 0xf) << 2) | (b3 >> 6) : 64;\n    const d4 = i + 2 < ii ? b3 & 0x3f : 64;\n    buffer += digits[d1] + digits[d2] + digits[d3] + digits[d4];\n  }\n  return buffer;\n}\n\nexport {\n  AbortException,\n  AnnotationActionEventType,\n  AnnotationBorderStyleType,\n  AnnotationFieldFlag,\n  AnnotationFlag,\n  AnnotationMarkedState,\n  AnnotationMode,\n  AnnotationReplyType,\n  AnnotationReviewState,\n  AnnotationStateModelType,\n  AnnotationType,\n  arrayByteLength,\n  arraysToBytes,\n  assert,\n  BaseException,\n  bytesToString,\n  CMapCompressionType,\n  createObjectURL,\n  createPromiseCapability,\n  createValidAbsoluteUrl,\n  DocumentActionEventType,\n  escapeString,\n  FONT_IDENTITY_MATRIX,\n  FontType,\n  FormatError,\n  getModificationDate,\n  getVerbosityLevel,\n  IDENTITY_MATRIX,\n  ImageKind,\n  info,\n  InvalidPDFException,\n  isArrayBuffer,\n  isArrayEqual,\n  isAscii,\n  isBool,\n  IsEvalSupportedCached,\n  IsLittleEndianCached,\n  isNum,\n  isSameOrigin,\n  isString,\n  MissingPDFException,\n  objectFromMap,\n  objectSize,\n  OPS,\n  PageActionEventType,\n  PasswordException,\n  PasswordResponses,\n  PermissionFlag,\n  removeNullCharacters,\n  RenderingIntentFlag,\n  setVerbosityLevel,\n  shadow,\n  StreamType,\n  string32,\n  stringToBytes,\n  stringToPDFString,\n  stringToUTF16BEString,\n  stringToUTF8String,\n  TextRenderingMode,\n  UnexpectedResponseException,\n  UnknownErrorException,\n  unreachable,\n  UNSUPPORTED_FEATURES,\n  utf8StringToString,\n  Util,\n  VerbosityLevel,\n  warn,\n};\n","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isNodeJS } from \"./is_node.js\";\n\n// Skip compatibility checks for modern builds and if we already ran the module.\nif (\n  (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"SKIP_BABEL\")) &&\n  (typeof globalThis === \"undefined\" || !globalThis._pdfjsCompatibilityChecked)\n) {\n  // Provides support for `globalThis` in legacy browsers.\n  // Support: Firefox<65, Chrome<71, Safari<12.1, Node.js<12.0.0\n  if (typeof globalThis === \"undefined\" || globalThis.Math !== Math) {\n    // eslint-disable-next-line no-global-assign\n    globalThis = require(\"core-js/es/global-this\");\n  }\n  globalThis._pdfjsCompatibilityChecked = true;\n\n  // Support: Node.js\n  (function checkNodeBtoa() {\n    if (globalThis.btoa || !isNodeJS) {\n      return;\n    }\n    globalThis.btoa = function (chars) {\n      // eslint-disable-next-line no-undef\n      return Buffer.from(chars, \"binary\").toString(\"base64\");\n    };\n  })();\n\n  // Support: Node.js\n  (function checkNodeAtob() {\n    if (globalThis.atob || !isNodeJS) {\n      return;\n    }\n    globalThis.atob = function (input) {\n      // eslint-disable-next-line no-undef\n      return Buffer.from(input, \"base64\").toString(\"binary\");\n    };\n  })();\n\n  // Support: Node.js\n  (function checkDOMMatrix() {\n    if (globalThis.DOMMatrix || !isNodeJS) {\n      return;\n    }\n    globalThis.DOMMatrix = require(\"dommatrix/dist/dommatrix.js\");\n  })();\n\n  // Provides support for Object.fromEntries in legacy browsers.\n  // Support: Firefox<63, Chrome<73, Safari<12.1, Node.js<12.0.0\n  (function checkObjectFromEntries() {\n    if (Object.fromEntries) {\n      return;\n    }\n    require(\"core-js/es/object/from-entries.js\");\n  })();\n\n  // Provides support for *recent* additions to the Promise specification,\n  // however basic Promise support is assumed to be available natively.\n  // Support: Firefox<71, Chrome<76, Safari<13, Node.js<12.9.0\n  (function checkPromise() {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"IMAGE_DECODERS\")) {\n      // The current image decoders are synchronous, hence `Promise` shouldn't\n      // need to be polyfilled for the IMAGE_DECODERS build target.\n      return;\n    }\n    if (globalThis.Promise.allSettled) {\n      return;\n    }\n    globalThis.Promise = require(\"core-js/es/promise/index.js\");\n  })();\n\n  // Support: Node.js\n  (function checkReadableStream() {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"IMAGE_DECODERS\")) {\n      // The current image decoders are synchronous, hence `ReadableStream`\n      // shouldn't need to be polyfilled for the IMAGE_DECODERS build target.\n      return;\n    }\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"CHROME\")) {\n      // Slightly reduce the size of the Chromium-extension, given\n      // that `ReadableStream` has been supported since Chrome 43.\n      return;\n    }\n    if (globalThis.ReadableStream || !isNodeJS) {\n      return;\n    }\n    globalThis.ReadableStream =\n      require(\"web-streams-polyfill/dist/ponyfill.js\").ReadableStream;\n  })();\n}\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals process */\n\n// NW.js / Electron is a browser context, but copies some Node.js objects; see\n// http://docs.nwjs.io/en/latest/For%20Users/Advanced/JavaScript%20Contexts%20in%20NW.js/#access-nodejs-and-nwjs-api-in-browser-context\n// https://www.electronjs.org/docs/api/process#processversionselectron-readonly\n// https://www.electronjs.org/docs/api/process#processtype-readonly\nconst isNodeJS =\n  typeof process === \"object\" &&\n  process + \"\" === \"[object process]\" &&\n  !process.versions.nw &&\n  !(process.versions.electron && process.type && process.type !== \"browser\");\n\nexport { isNodeJS };\n","require('../modules/es.global-this');\n\nmodule.exports = require('../internals/global');\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\n\n// `globalThis` object\n// https://tc39.es/ecma262/#sec-globalthis\n$({ global: true }, {\n  globalThis: global\n});\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n  options.name        - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var call = Function.prototype.call;\n\nmodule.exports = call.bind ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar Object = global.Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split(it, '') : Object(it);\n} : Object;\n","var FunctionPrototype = Function.prototype;\nvar bind = FunctionPrototype.bind;\nvar call = FunctionPrototype.call;\nvar callBind = bind && bind.bind(call);\n\nmodule.exports = bind ? function (fn) {\n  return fn && callBind(call, fn);\n} : function (fn) {\n  return fn && function () {\n    return call.apply(fn, arguments);\n  };\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","var global = require('../internals/global');\n\nvar TypeError = global.TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","var global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TypeError = global.TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","var isCallable = require('../internals/is-callable');\n\nmodule.exports = function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\nmodule.exports = function (argument) {\n  return typeof argument == 'function';\n};\n","var global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar Object = global.Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, Object(it));\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var aCallable = require('../internals/a-callable');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return func == null ? undefined : aCallable(func);\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar TypeError = global.TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw TypeError(tryToString(argument) + ' is not a function');\n};\n","var global = require('../internals/global');\n\nvar String = global.String;\n\nmodule.exports = function (argument) {\n  try {\n    return String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","var global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar TypeError = global.TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar symbolFor = Symbol && Symbol['for'];\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    var description = 'Symbol.' + name;\n    if (NATIVE_SYMBOL && hasOwn(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else if (USE_SYMBOL_AS_UID && symbolFor) {\n      WellKnownSymbolsStore[name] = symbolFor(description);\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol(description);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.19.3',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2021 Denis Pushkarev (zloirock.ru)'\n});\n","module.exports = false;\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var global = require('../internals/global');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","var global = require('../internals/global');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar Object = global.Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- requied for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar TypeError = global.TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar String = global.String;\nvar TypeError = global.TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw TypeError(String(argument) + ' is not an object');\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var name = options && options.name !== undefined ? options.name : key;\n  var state;\n  if (isCallable(value)) {\n    if (String(name).slice(0, 7) === 'Symbol(') {\n      name = '[' + String(name).replace(/^Symbol\\(([^)]*)\\)/, '$1') + ']';\n    }\n    if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n      createNonEnumerableProperty(value, 'name', name);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof name == 'string' ? name : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n});\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = uncurryThis(store.get);\n  var wmhas = uncurryThis(store.has);\n  var wmset = uncurryThis(store.set);\n  set = function (it, metadata) {\n    if (wmhas(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(inspectSource(WeakMap));\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","module.exports = {};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","var hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- safe\n  return number !== number || number === 0 ? 0 : (number > 0 ? floor : ceil)(number);\n};\n","var toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","/*!\n* DOMMatrix v0.0.24 (https://thednp.github.io/DOMMatrix/)\n* Copyright 2021  thednp\n* Licensed under MIT (https://github.com/thednp/DOMMatrix/blob/master/LICENSE)\n*/\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.CSSMatrix = factory());\n})(this, (function () { 'use strict';\n\n  // DOMMatrix Static methods\n  // * `fromFloat64Array` and `fromFloat32Array are not implemented;\n  // * `fromArray` is a more simple implementation, should also accept Float[32/64]Array;\n  // * `fromMatrix` load values from another CSSMatrix/DOMMatrix instance or JSON object;\n  // * `fromString` parses and loads values from any valid CSS transform string (TransformList).\n\n  /**\n   * Creates a new mutable `CSSMatrix` instance given an array of 16/6 floating point values.\n   * This static method invalidates arrays that contain non-number elements.\n   *\n   * If the array has six values, the result is a 2D matrix; if the array has 16 values,\n   * the result is a 3D matrix. Otherwise, a TypeError exception is thrown.\n   *\n   * @param {number[]} array an `Array` to feed values from.\n   * @return {CSSMatrix} the resulted matrix.\n   */\n  function fromArray(array) {\n    var m = new CSSMatrix();\n    var a = Array.from(array);\n\n    if (!a.every(function (n) { return !Number.isNaN(n); })) {\n      throw TypeError((\"CSSMatrix: \\\"\" + array + \"\\\" must only have numbers.\"));\n    }\n    if (a.length === 16) {\n      var m11 = a[0];\n      var m12 = a[1];\n      var m13 = a[2];\n      var m14 = a[3];\n      var m21 = a[4];\n      var m22 = a[5];\n      var m23 = a[6];\n      var m24 = a[7];\n      var m31 = a[8];\n      var m32 = a[9];\n      var m33 = a[10];\n      var m34 = a[11];\n      var m41 = a[12];\n      var m42 = a[13];\n      var m43 = a[14];\n      var m44 = a[15];\n\n      m.m11 = m11;\n      m.a = m11;\n\n      m.m21 = m21;\n      m.c = m21;\n\n      m.m31 = m31;\n\n      m.m41 = m41;\n      m.e = m41;\n\n      m.m12 = m12;\n      m.b = m12;\n\n      m.m22 = m22;\n      m.d = m22;\n\n      m.m32 = m32;\n\n      m.m42 = m42;\n      m.f = m42;\n\n      m.m13 = m13;\n      m.m23 = m23;\n      m.m33 = m33;\n      m.m43 = m43;\n      m.m14 = m14;\n      m.m24 = m24;\n      m.m34 = m34;\n      m.m44 = m44;\n    } else if (a.length === 6) {\n      var M11 = a[0];\n      var M12 = a[1];\n      var M21 = a[2];\n      var M22 = a[3];\n      var M41 = a[4];\n      var M42 = a[5];\n\n      m.m11 = M11;\n      m.a = M11;\n\n      m.m12 = M12;\n      m.b = M12;\n\n      m.m21 = M21;\n      m.c = M21;\n\n      m.m22 = M22;\n      m.d = M22;\n\n      m.m41 = M41;\n      m.e = M41;\n\n      m.m42 = M42;\n      m.f = M42;\n    } else {\n      throw new TypeError('CSSMatrix: expecting an Array of 6/16 values.');\n    }\n    return m;\n  }\n\n  /**\n   * Creates a new mutable `CSSMatrix` instance given an existing matrix or a\n   * `DOMMatrix` instance which provides the values for its properties.\n   *\n   * @param {CSSMatrix | DOMMatrix | CSSMatrix.JSONMatrix} m the source matrix to feed values from.\n   * @return {CSSMatrix} the resulted matrix.\n   */\n  function fromMatrix(m) {\n    var keys = Object.keys(new CSSMatrix());\n    if (typeof m === 'object' && keys.every(function (k) { return k in m; })) {\n      return fromArray(\n        [m.m11, m.m12, m.m13, m.m14,\n          m.m21, m.m22, m.m23, m.m24,\n          m.m31, m.m32, m.m33, m.m34,\n          m.m41, m.m42, m.m43, m.m44]\n      );\n    }\n    throw TypeError((\"CSSMatrix: \\\"\" + m + \"\\\" is not a DOMMatrix / CSSMatrix / JSON compatible object.\"));\n  }\n\n  /**\n   * Creates a new mutable `CSSMatrix` given any valid CSS transform string,\n   * or what we call `TransformList`:\n   *\n   * * `matrix(a, b, c, d, e, f)` - valid matrix() transform function\n   * * `matrix3d(m11, m12, m13, ...m44)` - valid matrix3d() transform function\n   * * `translate(tx, ty) rotateX(alpha)` - any valid transform function(s)\n   *\n   * @copyright thednp  2021\n   *\n   * @param {string} source valid CSS transform string syntax.\n   * @return {CSSMatrix} the resulted matrix.\n   */\n  function fromString(source) {\n    if (typeof source !== 'string') {\n      throw TypeError((\"CSSMatrix: \\\"\" + source + \"\\\" is not a string.\"));\n    }\n    var str = String(source).replace(/\\s/g, '');\n    var m = new CSSMatrix();\n    var invalidStringError = \"CSSMatrix: invalid transform string \\\"\" + source + \"\\\"\";\n\n    // const px = ['perspective'];\n    // const length = ['translate', 'translate3d', 'translateX', 'translateY', 'translateZ'];\n    // const deg = ['rotate', 'rotate3d', 'rotateX', 'rotateY', 'rotateZ', 'skew', 'skewX', 'skewY'];\n    // const abs = ['scale', 'scale3d', 'matrix', 'matrix3d'];\n    // const transformFunctions = px.concat(length, deg, abs);\n\n    str.split(')').filter(function (f) { return f; }).forEach(function (tf) {\n      var ref = tf.split('(');\n      var prop = ref[0];\n      var value = ref[1];\n\n      // invalidate empty string\n      if (!value) { throw TypeError(invalidStringError); }\n\n      var components = value.split(',')\n        .map(function (n) { return (n.includes('rad') ? parseFloat(n) * (180 / Math.PI) : parseFloat(n)); });\n\n      var x = components[0];\n      var y = components[1];\n      var z = components[2];\n      var a = components[3];\n      var xyz = [x, y, z];\n      var xyza = [x, y, z, a];\n\n      // single number value expected\n      if (prop === 'perspective' && x && [y, z].every(function (n) { return n === undefined; })) {\n        m.m34 = -1 / x;\n      // 6/16 number values expected\n      } else if (prop.includes('matrix') && [6, 16].includes(components.length)\n        && components.every(function (n) { return !Number.isNaN(+n); })) {\n        var values = components.map(function (n) { return (Math.abs(n) < 1e-6 ? 0 : n); });\n        m = m.multiply(fromArray(values));\n      // 3 values expected\n      } else if (prop === 'translate3d' && xyz.every(function (n) { return !Number.isNaN(+n); })) {\n        m = m.translate(x, y, z);\n      // single/double number value(s) expected\n      } else if (prop === 'translate' && x && z === undefined) {\n        m = m.translate(x, y || 0, 0);\n      // all 4 values expected\n      } else if (prop === 'rotate3d' && xyza.every(function (n) { return !Number.isNaN(+n); }) && a) {\n        m = m.rotateAxisAngle(x, y, z, a);\n      // single value expected\n      } else if (prop === 'rotate' && x && [y, z].every(function (n) { return n === undefined; })) {\n        m = m.rotate(0, 0, x);\n      // 4 values expected\n      } else if (prop === 'scale3d' && xyz.every(function (n) { return !Number.isNaN(+n); }) && xyz.some(function (n) { return n !== 1; })) {\n        m = m.scale(x, y, z);\n      // single value expected\n      } else if (prop === 'scale' && !Number.isNaN(x) && x !== 1 && z === undefined) {\n        var nosy = Number.isNaN(+y);\n        var sy = nosy ? x : y;\n        m = m.scale(x, sy, 1);\n      // single/double value expected\n      } else if (prop === 'skew' && x && z === undefined) {\n        m = m.skewX(x);\n        m = y ? m.skewY(y) : m;\n      } else if (/[XYZ]/.test(prop) && x && [y, z].every(function (n) { return n === undefined; }) // a single value expected\n        && ['translate', 'rotate', 'scale', 'skew'].some(function (p) { return prop.includes(p); })) {\n        if (['skewX', 'skewY'].includes(prop)) {\n          // @ts-ignore unfortunately\n          m = m[prop](x);\n        } else {\n          var fn = prop.replace(/[XYZ]/, '');\n          var axis = prop.replace(fn, '');\n          var idx = ['X', 'Y', 'Z'].indexOf(axis);\n          var axeValues = [\n            idx === 0 ? x : 0,\n            idx === 1 ? x : 0,\n            idx === 2 ? x : 0];\n          // @ts-ignore unfortunately\n          m = m[fn].apply(m, axeValues);\n        }\n      } else {\n        throw TypeError(invalidStringError);\n      }\n    });\n\n    return m;\n  }\n\n  // Transform Functions\n  // https://www.w3.org/TR/css-transforms-1/#transform-functions\n\n  /**\n   * Creates a new `CSSMatrix` for the translation matrix and returns it.\n   * This method is equivalent to the CSS `translate3d()` function.\n   *\n   * https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/translate3d\n   *\n   * @param {number} x the `x-axis` position.\n   * @param {number} y the `y-axis` position.\n   * @param {number} z the `z-axis` position.\n   * @return {CSSMatrix} the resulted matrix.\n   */\n  function Translate(x, y, z) {\n    var m = new CSSMatrix();\n    m.m41 = x;\n    m.e = x;\n    m.m42 = y;\n    m.f = y;\n    m.m43 = z;\n    return m;\n  }\n\n  /**\n   * Creates a new `CSSMatrix` for the rotation matrix and returns it.\n   *\n   * http://en.wikipedia.org/wiki/Rotation_matrix\n   *\n   * @param {number} rx the `x-axis` rotation.\n   * @param {number} ry the `y-axis` rotation.\n   * @param {number} rz the `z-axis` rotation.\n   * @return {CSSMatrix} the resulted matrix.\n   */\n  function Rotate(rx, ry, rz) {\n    var m = new CSSMatrix();\n    var degToRad = Math.PI / 180;\n    var radX = rx * degToRad;\n    var radY = ry * degToRad;\n    var radZ = rz * degToRad;\n\n    // minus sin() because of right-handed system\n    var cosx = Math.cos(radX);\n    var sinx = -Math.sin(radX);\n    var cosy = Math.cos(radY);\n    var siny = -Math.sin(radY);\n    var cosz = Math.cos(radZ);\n    var sinz = -Math.sin(radZ);\n\n    var m11 = cosy * cosz;\n    var m12 = -cosy * sinz;\n\n    m.m11 = m11;\n    m.a = m11;\n\n    m.m12 = m12;\n    m.b = m12;\n\n    m.m13 = siny;\n\n    var m21 = sinx * siny * cosz + cosx * sinz;\n    m.m21 = m21;\n    m.c = m21;\n\n    var m22 = cosx * cosz - sinx * siny * sinz;\n    m.m22 = m22;\n    m.d = m22;\n\n    m.m23 = -sinx * cosy;\n\n    m.m31 = sinx * sinz - cosx * siny * cosz;\n    m.m32 = sinx * cosz + cosx * siny * sinz;\n    m.m33 = cosx * cosy;\n\n    return m;\n  }\n\n  /**\n   * Creates a new `CSSMatrix` for the rotation matrix and returns it.\n   * This method is equivalent to the CSS `rotate3d()` function.\n   *\n   * https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/rotate3d\n   *\n   * @param {number} x the `x-axis` vector length.\n   * @param {number} y the `y-axis` vector length.\n   * @param {number} z the `z-axis` vector length.\n   * @param {number} alpha the value in degrees of the rotation.\n   * @return {CSSMatrix} the resulted matrix.\n   */\n  function RotateAxisAngle(x, y, z, alpha) {\n    var m = new CSSMatrix();\n    var angle = alpha * (Math.PI / 360);\n    var sinA = Math.sin(angle);\n    var cosA = Math.cos(angle);\n    var sinA2 = sinA * sinA;\n    var length = Math.sqrt(x * x + y * y + z * z);\n    var X = x;\n    var Y = y;\n    var Z = z;\n\n    if (length === 0) {\n      // bad vector length, use something reasonable\n      X = 0;\n      Y = 0;\n      Z = 1;\n    } else {\n      X /= length;\n      Y /= length;\n      Z /= length;\n    }\n\n    var x2 = X * X;\n    var y2 = Y * Y;\n    var z2 = Z * Z;\n\n    var m11 = 1 - 2 * (y2 + z2) * sinA2;\n    m.m11 = m11;\n    m.a = m11;\n\n    var m12 = 2 * (X * Y * sinA2 + Z * sinA * cosA);\n    m.m12 = m12;\n    m.b = m12;\n\n    m.m13 = 2 * (X * Z * sinA2 - Y * sinA * cosA);\n\n    var m21 = 2 * (Y * X * sinA2 - Z * sinA * cosA);\n    m.m21 = m21;\n    m.c = m21;\n\n    var m22 = 1 - 2 * (z2 + x2) * sinA2;\n    m.m22 = m22;\n    m.d = m22;\n\n    m.m23 = 2 * (Y * Z * sinA2 + X * sinA * cosA);\n    m.m31 = 2 * (Z * X * sinA2 + Y * sinA * cosA);\n    m.m32 = 2 * (Z * Y * sinA2 - X * sinA * cosA);\n    m.m33 = 1 - 2 * (x2 + y2) * sinA2;\n\n    return m;\n  }\n\n  /**\n   * Creates a new `CSSMatrix` for the scale matrix and returns it.\n   * This method is equivalent to the CSS `scale3d()` function, except it doesn't\n   * accept {x, y, z} transform origin parameters.\n   *\n   * https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/scale3d\n   *\n   * @param {number} x the `x-axis` scale.\n   * @param {number} y the `y-axis` scale.\n   * @param {number} z the `z-axis` scale.\n   * @return {CSSMatrix} the resulted matrix.\n   */\n  function Scale(x, y, z) {\n    var m = new CSSMatrix();\n    m.m11 = x;\n    m.a = x;\n\n    m.m22 = y;\n    m.d = y;\n\n    m.m33 = z;\n    return m;\n  }\n\n  /**\n   * Creates a new `CSSMatrix` for the shear of the `x-axis` rotation matrix and\n   * returns it. This method is equivalent to the CSS `skewX()` function.\n   *\n   * https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/skewX\n   *\n   * @param {number} angle the angle in degrees.\n   * @return {CSSMatrix} the resulted matrix.\n   */\n  function SkewX(angle) {\n    var m = new CSSMatrix();\n    var radA = (angle * Math.PI) / 180;\n    var t = Math.tan(radA);\n    m.m21 = t;\n    m.c = t;\n    return m;\n  }\n\n  /**\n   * Creates a new `CSSMatrix` for the shear of the `y-axis` rotation matrix and\n   * returns it. This method is equivalent to the CSS `skewY()` function.\n   *\n   * https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/skewY\n   *\n   * @param {number} angle the angle in degrees.\n   * @return {CSSMatrix} the resulted matrix.\n   */\n  function SkewY(angle) {\n    var m = new CSSMatrix();\n    var radA = (angle * Math.PI) / 180;\n    var t = Math.tan(radA);\n    m.m12 = t;\n    m.b = t;\n    return m;\n  }\n\n  /**\n   * Creates a new `CSSMatrix` resulted from the multiplication of two matrixes\n   * and returns it. Both matrixes are not changed.\n   *\n   * @param {CSSMatrix} m1 the first matrix.\n   * @param {CSSMatrix} m2 the second matrix.\n   * @return {CSSMatrix} the resulted matrix.\n   */\n  function Multiply(m1, m2) {\n    var m11 = m2.m11 * m1.m11 + m2.m12 * m1.m21 + m2.m13 * m1.m31 + m2.m14 * m1.m41;\n    var m12 = m2.m11 * m1.m12 + m2.m12 * m1.m22 + m2.m13 * m1.m32 + m2.m14 * m1.m42;\n    var m13 = m2.m11 * m1.m13 + m2.m12 * m1.m23 + m2.m13 * m1.m33 + m2.m14 * m1.m43;\n    var m14 = m2.m11 * m1.m14 + m2.m12 * m1.m24 + m2.m13 * m1.m34 + m2.m14 * m1.m44;\n\n    var m21 = m2.m21 * m1.m11 + m2.m22 * m1.m21 + m2.m23 * m1.m31 + m2.m24 * m1.m41;\n    var m22 = m2.m21 * m1.m12 + m2.m22 * m1.m22 + m2.m23 * m1.m32 + m2.m24 * m1.m42;\n    var m23 = m2.m21 * m1.m13 + m2.m22 * m1.m23 + m2.m23 * m1.m33 + m2.m24 * m1.m43;\n    var m24 = m2.m21 * m1.m14 + m2.m22 * m1.m24 + m2.m23 * m1.m34 + m2.m24 * m1.m44;\n\n    var m31 = m2.m31 * m1.m11 + m2.m32 * m1.m21 + m2.m33 * m1.m31 + m2.m34 * m1.m41;\n    var m32 = m2.m31 * m1.m12 + m2.m32 * m1.m22 + m2.m33 * m1.m32 + m2.m34 * m1.m42;\n    var m33 = m2.m31 * m1.m13 + m2.m32 * m1.m23 + m2.m33 * m1.m33 + m2.m34 * m1.m43;\n    var m34 = m2.m31 * m1.m14 + m2.m32 * m1.m24 + m2.m33 * m1.m34 + m2.m34 * m1.m44;\n\n    var m41 = m2.m41 * m1.m11 + m2.m42 * m1.m21 + m2.m43 * m1.m31 + m2.m44 * m1.m41;\n    var m42 = m2.m41 * m1.m12 + m2.m42 * m1.m22 + m2.m43 * m1.m32 + m2.m44 * m1.m42;\n    var m43 = m2.m41 * m1.m13 + m2.m42 * m1.m23 + m2.m43 * m1.m33 + m2.m44 * m1.m43;\n    var m44 = m2.m41 * m1.m14 + m2.m42 * m1.m24 + m2.m43 * m1.m34 + m2.m44 * m1.m44;\n\n    return fromArray(\n      [m11, m12, m13, m14,\n        m21, m22, m23, m24,\n        m31, m32, m33, m34,\n        m41, m42, m43, m44]\n    );\n  }\n\n  /**\n   * Creates and returns a new `DOMMatrix` compatible instance\n   * with equivalent instance.\n   * @class CSSMatrix\n   *\n   * @author thednp <https://github.com/thednp/DOMMatrix/>\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMMatrix\n   */\n\n  var CSSMatrix = function CSSMatrix() {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    var m = this;\n    // array 6\n    m.a = 1; m.b = 0;\n    m.c = 0; m.d = 1;\n    m.e = 0; m.f = 0;\n    // array 16\n    m.m11 = 1; m.m12 = 0; m.m13 = 0; m.m14 = 0;\n    m.m21 = 0; m.m22 = 1; m.m23 = 0; m.m24 = 0;\n    m.m31 = 0; m.m32 = 0; m.m33 = 1; m.m34 = 0;\n    m.m41 = 0; m.m42 = 0; m.m43 = 0; m.m44 = 1;\n\n    if (args && args.length) {\n      var ARGS = [16, 6].some(function (l) { return l === args.length; }) ? args : args[0];\n\n      return m.setMatrixValue(ARGS);\n    }\n    return m;\n  };\n\n  var prototypeAccessors = { isIdentity: { configurable: true },is2D: { configurable: true } };\n\n  /**\n   * Sets a new `Boolean` flag value for `this.isIdentity` matrix property.\n   *\n   * @param {boolean} value sets a new flag for this property\n   */\n  prototypeAccessors.isIdentity.set = function (value) {\n    this.isIdentity = value;\n  };\n\n  /**\n   * A `Boolean` whose value is `true` if the matrix is the identity matrix. The identity\n   * matrix is one in which every value is 0 except those on the main diagonal from top-left\n   * to bottom-right corner (in other words, where the offsets in each direction are equal).\n   *\n   * @return {boolean} the current property value\n   */\n  prototypeAccessors.isIdentity.get = function () {\n    var m = this;\n    return (m.m11 === 1 && m.m12 === 0 && m.m13 === 0 && m.m14 === 0\n            && m.m21 === 0 && m.m22 === 1 && m.m23 === 0 && m.m24 === 0\n            && m.m31 === 0 && m.m32 === 0 && m.m33 === 1 && m.m34 === 0\n            && m.m41 === 0 && m.m42 === 0 && m.m43 === 0 && m.m44 === 1);\n  };\n\n  /**\n   * A `Boolean` flag whose value is `true` if the matrix was initialized as a 2D matrix\n   * and `false` if the matrix is 3D.\n   *\n   * @return {boolean} the current property value\n   */\n  prototypeAccessors.is2D.get = function () {\n    var m = this;\n    return (m.m31 === 0 && m.m32 === 0 && m.m33 === 1 && m.m34 === 0 && m.m43 === 0 && m.m44 === 1);\n  };\n\n  /**\n   * Sets a new `Boolean` flag value for `this.is2D` matrix property.\n   *\n   * @param {boolean} value sets a new flag for this property\n   */\n  prototypeAccessors.is2D.set = function (value) {\n    this.is2D = value;\n  };\n\n  /**\n   * The `setMatrixValue` method replaces the existing matrix with one computed\n   * in the browser. EG: `matrix(1,0.25,-0.25,1,0,0)`\n   *\n   * The method accepts any *Array* values, the result of\n   * `DOMMatrix` instance method `toFloat64Array()` / `toFloat32Array()` calls\n   *or `CSSMatrix` instance method `toArray()`.\n   *\n   * This method expects valid *matrix()* / *matrix3d()* string values, as well\n   * as other transform functions like *translateX(10px)*.\n   *\n   * @param {string | number[] | CSSMatrix | DOMMatrix} source\n   * @return {CSSMatrix} the matrix instance\n   */\n  CSSMatrix.prototype.setMatrixValue = function setMatrixValue (source) {\n    var m = this;\n\n    // [Arguments list | Array] come here\n    if ([Array, Float64Array, Float32Array].some(function (a) { return source instanceof a; })) {\n      return fromArray(source);\n    }\n    // CSS transform string source - TransformList\n    if (typeof source === 'string' && source.length && source !== 'none') {\n      return fromString(source);\n    }\n    // new CSSMatrix(CSSMatrix | DOMMatrix | JSON)\n    if (typeof source === 'object') {\n      return fromMatrix(source);\n    }\n    return m;\n  };\n\n  /**\n   * Returns an *Array* containing elements which comprise the matrix.\n   * The method can return either the 16 elements or the 6 elements\n   * depending on the value of the `is2D` property.\n   *\n   * @return {number[]} an *Array* representation of the matrix\n   */\n  CSSMatrix.prototype.toArray = function toArray () {\n    var m = this;\n    var pow = (Math.pow( 10, 6 ));\n    var result;\n\n    if (m.is2D) {\n      result = [m.a, m.b, m.c, m.d, m.e, m.f];\n    } else {\n      result = [m.m11, m.m12, m.m13, m.m14,\n        m.m21, m.m22, m.m23, m.m24,\n        m.m31, m.m32, m.m33, m.m34,\n        m.m41, m.m42, m.m43, m.m44];\n    }\n    // clean up the numbers\n    // eslint-disable-next-line -- no-bitwise\n    return result.map(function (n) { return (Math.abs(n) < 1e-6 ? 0 : ((n * pow) >> 0) / pow); });\n  };\n\n  /**\n   * Creates and returns a string representation of the matrix in `CSS` matrix syntax,\n   * using the appropriate `CSS` matrix notation.\n   *\n   * matrix3d *matrix3d(m11, m12, m13, m14, m21, ...)*\n   * matrix *matrix(a, b, c, d, e, f)*\n   *\n   * @return {string} a string representation of the matrix\n   */\n  CSSMatrix.prototype.toString = function toString () {\n    var m = this;\n    var values = m.toArray();\n    var type = m.is2D ? 'matrix' : 'matrix3d';\n    return (type + \"(\" + values + \")\");\n  };\n\n  /**\n   * Returns a JSON representation of the `CSSMatrix` instance, a standard *Object*\n   * that includes `{a,b,c,d,e,f}` and `{m11,m12,m13,..m44}` properties as well\n   * as the `is2D` & `isIdentity` properties.\n   *\n   * The result can also be used as a second parameter for the `fromMatrix` static method\n   * to load values into another matrix instance.\n   *\n   * @return {CSSMatrix.JSONMatrix} an *Object* with all matrix values.\n   */\n  CSSMatrix.prototype.toJSON = function toJSON () {\n    var m = this;\n    var is2D = m.is2D;\n      var isIdentity = m.isIdentity;\n    return Object.assign({}, m, {is2D: is2D, isIdentity: isIdentity});\n  };\n\n  /**\n   * The Multiply method returns a new CSSMatrix which is the result of this\n   * matrix multiplied by the passed matrix, with the passed matrix to the right.\n   * This matrix is not modified.\n   *\n   * @param {CSSMatrix | DOMMatrix | CSSMatrix.JSONMatrix} m2 CSSMatrix\n   * @return {CSSMatrix} The resulted matrix.\n   */\n  CSSMatrix.prototype.multiply = function multiply (m2) {\n    return Multiply(this, m2);\n  };\n\n  /**\n   * The translate method returns a new matrix which is this matrix post\n   * multiplied by a translation matrix containing the passed values. If the z\n   * component is undefined, a 0 value is used in its place. This matrix is not\n   * modified.\n   *\n   * @param {number} x X component of the translation value.\n   * @param {number=} y Y component of the translation value.\n   * @param {number=} z Z component of the translation value.\n   * @return {CSSMatrix} The resulted matrix\n   */\n  CSSMatrix.prototype.translate = function translate (x, y, z) {\n    var X = x;\n    var Y = y;\n    var Z = z;\n    if (Z === undefined) { Z = 0; }\n    if (Y === undefined) { Y = 0; }\n    return Multiply(this, Translate(X, Y, Z));\n  };\n\n  /**\n   * The scale method returns a new matrix which is this matrix post multiplied by\n   * a scale matrix containing the passed values. If the z component is undefined,\n   * a 1 value is used in its place. If the y component is undefined, the x\n   * component value is used in its place. This matrix is not modified.\n   *\n   * @param {number} x The X component of the scale value.\n   * @param {number=} y The Y component of the scale value.\n   * @param {number=} z The Z component of the scale value.\n   * @return {CSSMatrix} The resulted matrix\n   */\n  CSSMatrix.prototype.scale = function scale (x, y, z) {\n    var X = x;\n    var Y = y;\n    var Z = z;\n    if (Y === undefined) { Y = x; }\n    if (Z === undefined) { Z = 1; } // Z must be 1 if undefined\n\n    return Multiply(this, Scale(X, Y, Z));\n  };\n\n  /**\n   * The rotate method returns a new matrix which is this matrix post multiplied\n   * by each of 3 rotation matrices about the major axes, first X, then Y, then Z.\n   * If the y and z components are undefined, the x value is used to rotate the\n   * object about the z axis, as though the vector (0,0,x) were passed. All\n   * rotation values are in degrees. This matrix is not modified.\n   *\n   * @param {number} rx The X component of the rotation, or Z if Y and Z are null.\n   * @param {number=} ry The (optional) Y component of the rotation value.\n   * @param {number=} rz The (optional) Z component of the rotation value.\n   * @return {CSSMatrix} The resulted matrix\n   */\n  CSSMatrix.prototype.rotate = function rotate (rx, ry, rz) {\n    var RX = rx;\n    var RY = ry;\n    var RZ = rz;\n    if (RY === undefined) { RY = 0; }\n    if (RZ === undefined) { RZ = RX; RX = 0; }\n    return Multiply(this, Rotate(RX, RY, RZ));\n  };\n\n  /**\n   * The rotateAxisAngle method returns a new matrix which is this matrix post\n   * multiplied by a rotation matrix with the given axis and `angle`. The right-hand\n   * rule is used to determine the direction of rotation. All rotation values are\n   * in degrees. This matrix is not modified.\n   *\n   * @param {number} x The X component of the axis vector.\n   * @param {number} y The Y component of the axis vector.\n   * @param {number} z The Z component of the axis vector.\n   * @param {number} angle The angle of rotation about the axis vector, in degrees.\n   * @return {CSSMatrix} The resulted matrix\n   */\n  CSSMatrix.prototype.rotateAxisAngle = function rotateAxisAngle (x, y, z, angle) {\n    if ([x, y, z, angle].some(function (n) { return Number.isNaN(n); })) {\n      throw new TypeError('CSSMatrix: expecting 4 values');\n    }\n    return Multiply(this, RotateAxisAngle(x, y, z, angle));\n  };\n\n  /**\n   * Specifies a skew transformation along the `x-axis` by the given angle.\n   * This matrix is not modified.\n   *\n   * @param {number} angle The angle amount in degrees to skew.\n   * @return {CSSMatrix} The resulted matrix\n   */\n  CSSMatrix.prototype.skewX = function skewX (angle) {\n    return Multiply(this, SkewX(angle));\n  };\n\n  /**\n   * Specifies a skew transformation along the `y-axis` by the given angle.\n   * This matrix is not modified.\n   *\n   * @param {number} angle The angle amount in degrees to skew.\n   * @return {CSSMatrix} The resulted matrix\n   */\n  CSSMatrix.prototype.skewY = function skewY (angle) {\n    return Multiply(this, SkewY(angle));\n  };\n\n  /**\n   * Transforms a specified point using the matrix, returning a new\n   * Tuple *Object* comprising of the transformed point.\n   * Neither the matrix nor the original point are altered.\n   *\n   * The method is equivalent with `transformPoint()` method\n   * of the `DOMMatrix` constructor.\n   *\n   * @copyright thednp  2021\n   *\n   * @param {CSSMatrix.PointTuple | DOMPoint} v Tuple or DOMPoint\n   * @return {CSSMatrix.PointTuple} the resulting Tuple\n   */\n  CSSMatrix.prototype.transformPoint = function transformPoint (v) {\n    var M = this;\n    var m = Translate(v.x, v.y, v.z);\n\n    m.m44 = v.w || 1;\n    m = M.multiply(m);\n\n    return {\n      x: m.m41,\n      y: m.m42,\n      z: m.m43,\n      w: m.m44,\n    };\n  };\n\n  /**\n   * Transforms a specified vector using the matrix, returning a new\n   * {x,y,z,w} Tuple *Object* comprising the transformed vector.\n   * Neither the matrix nor the original vector are altered.\n   *\n   * @param {CSSMatrix.PointTuple} t Tuple with `{x,y,z,w}` components\n   * @return {CSSMatrix.PointTuple} the resulting Tuple\n   */\n  CSSMatrix.prototype.transform = function transform (t) {\n    var m = this;\n    var x = m.m11 * t.x + m.m12 * t.y + m.m13 * t.z + m.m14 * t.w;\n    var y = m.m21 * t.x + m.m22 * t.y + m.m23 * t.z + m.m24 * t.w;\n    var z = m.m31 * t.x + m.m32 * t.y + m.m33 * t.z + m.m34 * t.w;\n    var w = m.m41 * t.x + m.m42 * t.y + m.m43 * t.z + m.m44 * t.w;\n\n    return {\n      x: x / w,\n      y: y / w,\n      z: z / w,\n      w: w,\n    };\n  };\n\n  Object.defineProperties( CSSMatrix.prototype, prototypeAccessors );\n\n  // Add Transform Functions to CSSMatrix object\n  // without creating a TypeScript namespace.\n  Object.assign(CSSMatrix, {\n    Translate: Translate,\n    Rotate: Rotate,\n    RotateAxisAngle: RotateAxisAngle,\n    Scale: Scale,\n    SkewX: SkewX,\n    SkewY: SkewY,\n    Multiply: Multiply,\n    fromArray: fromArray,\n    fromMatrix: fromMatrix,\n    fromString: fromString,\n  });\n\n  var version = \"0.0.24\";\n\n  // @ts-ignore\n\n  /**\n   * A global namespace for library version.\n   * @type {string}\n   */\n  var Version = version;\n\n  Object.assign(CSSMatrix, { Version: Version });\n\n  return CSSMatrix;\n\n}));\n","require('../../modules/es.array.iterator');\nrequire('../../modules/es.object.from-entries');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.fromEntries;\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.es/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.es/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.es/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.es/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.es/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.es/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var props = toIndexedObject(Properties);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);\n  return O;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","module.exports = {};\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar IS_PURE = require('../internals/is-pure');\nvar FunctionName = require('../internals/function-name');\nvar isCallable = require('../internals/is-callable');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar PROPER_FUNCTION_NAME = FunctionName.PROPER;\nvar CONFIGURABLE_FUNCTION_NAME = FunctionName.CONFIGURABLE;\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (CurrentIteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (!isCallable(CurrentIteratorPrototype[ITERATOR])) {\n          redefine(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array.prototype.{ values, @@iterator }.name in V8 / FF\n  if (PROPER_FUNCTION_NAME && DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    if (!IS_PURE && CONFIGURABLE_FUNCTION_NAME) {\n      createNonEnumerableProperty(IterablePrototype, 'name', VALUES);\n    } else {\n      INCORRECT_VALUES_NAME = true;\n      defaultIterator = function values() { return call(nativeIterator, this); };\n    }\n  }\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    redefine(IterablePrototype, ITERATOR, defaultIterator, { name: DEFAULT });\n  }\n  Iterators[NAME] = defaultIterator;\n\n  return methods;\n};\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next, ENUMERABLE_NEXT) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(+!ENUMERABLE_NEXT, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar create = require('../internals/object-create');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = IteratorPrototype == undefined || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\nelse if (IS_PURE) IteratorPrototype = create(IteratorPrototype);\n\n// `%IteratorPrototype%[@@iterator]()` method\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator\nif (!isCallable(IteratorPrototype[ITERATOR])) {\n  redefine(IteratorPrototype, ITERATOR, function () {\n    return this;\n  });\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","var global = require('../internals/global');\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar Object = global.Object;\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof Object ? ObjectPrototype : null;\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","var defineProperty = require('../internals/object-define-property').f;\nvar hasOwn = require('../internals/has-own-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !hasOwn(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","/* eslint-disable no-proto -- safe */\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    setter = uncurryThis(Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set);\n    setter(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar String = global.String;\nvar TypeError = global.TypeError;\n\nmodule.exports = function (argument) {\n  if (typeof argument == 'object' || isCallable(argument)) return argument;\n  throw TypeError(\"Can't set \" + String(argument) + ' as a prototype');\n};\n","var $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar createProperty = require('../internals/create-property');\n\n// `Object.fromEntries` method\n// https://github.com/tc39/proposal-object-from-entries\n$({ target: 'Object', stat: true }, {\n  fromEntries: function fromEntries(iterable) {\n    var obj = {};\n    iterate(iterable, function (k, v) {\n      createProperty(obj, k, v);\n    }, { AS_ENTRIES: true });\n    return obj;\n  }\n});\n","var global = require('../internals/global');\nvar bind = require('../internals/function-bind-context');\nvar call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar tryToString = require('../internals/try-to-string');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar TypeError = global.TypeError;\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar ResultPrototype = Result.prototype;\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator, 'normal', condition);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (!iterFn) throw TypeError(tryToString(iterable) + ' is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = lengthOfArrayLike(iterable); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && isPrototypeOf(ResultPrototype, result)) return result;\n      } return new Result(false);\n    }\n    iterator = getIterator(iterable, iterFn);\n  }\n\n  next = iterator.next;\n  while (!(step = call(next, iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator, 'throw', error);\n    }\n    if (typeof result == 'object' && result && isPrototypeOf(ResultPrototype, result)) return result;\n  } return new Result(false);\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\n\nvar bind = uncurryThis(uncurryThis.bind);\n\n// optional / simple context binding\nmodule.exports = function (fn, that) {\n  aCallable(fn);\n  return that === undefined ? fn : bind ? bind(fn, that) : function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar tryToString = require('../internals/try-to-string');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nvar TypeError = global.TypeError;\n\nmodule.exports = function (argument, usingIterator) {\n  var iteratorMethod = arguments.length < 2 ? getIteratorMethod(argument) : usingIterator;\n  if (aCallable(iteratorMethod)) return anObject(call(iteratorMethod, argument));\n  throw TypeError(tryToString(argument) + ' is not iterable');\n};\n","var classof = require('../internals/classof');\nvar getMethod = require('../internals/get-method');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return getMethod(it, ITERATOR)\n    || getMethod(it, '@@iterator')\n    || Iterators[classof(it)];\n};\n","var global = require('../internals/global');\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar Object = global.Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar getMethod = require('../internals/get-method');\n\nmodule.exports = function (iterator, kind, value) {\n  var innerResult, innerError;\n  anObject(iterator);\n  try {\n    innerResult = getMethod(iterator, 'return');\n    if (!innerResult) {\n      if (kind === 'throw') throw value;\n      return value;\n    }\n    innerResult = call(innerResult, iterator);\n  } catch (error) {\n    innerError = true;\n    innerResult = error;\n  }\n  if (kind === 'throw') throw value;\n  if (innerError) throw innerResult;\n  anObject(innerResult);\n  return value;\n};\n","'use strict';\nvar toPropertyKey = require('../internals/to-property-key');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPropertyKey(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","require('../../modules/es.aggregate-error');\nrequire('../../modules/es.array.iterator');\nrequire('../../modules/es.object.to-string');\nrequire('../../modules/es.promise');\nrequire('../../modules/es.promise.all-settled');\nrequire('../../modules/es.promise.any');\nrequire('../../modules/es.promise.finally');\nrequire('../../modules/es.string.iterator');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Promise;\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar create = require('../internals/object-create');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar clearErrorStack = require('../internals/clear-error-stack');\nvar installErrorCause = require('../internals/install-error-cause');\nvar iterate = require('../internals/iterate');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar ERROR_STACK_INSTALLABLE = require('../internals/error-stack-installable');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar Error = global.Error;\nvar push = [].push;\n\nvar $AggregateError = function AggregateError(errors, message /* , options */) {\n  var options = arguments.length > 2 ? arguments[2] : undefined;\n  var isInstance = isPrototypeOf(AggregateErrorPrototype, this);\n  var that;\n  if (setPrototypeOf) {\n    that = setPrototypeOf(new Error(undefined), isInstance ? getPrototypeOf(this) : AggregateErrorPrototype);\n  } else {\n    that = isInstance ? this : create(AggregateErrorPrototype);\n    createNonEnumerableProperty(that, TO_STRING_TAG, 'Error');\n  }\n  createNonEnumerableProperty(that, 'message', normalizeStringArgument(message, ''));\n  if (ERROR_STACK_INSTALLABLE) createNonEnumerableProperty(that, 'stack', clearErrorStack(that.stack, 1));\n  installErrorCause(that, options);\n  var errorsArray = [];\n  iterate(errors, push, { that: errorsArray });\n  createNonEnumerableProperty(that, 'errors', errorsArray);\n  return that;\n};\n\nif (setPrototypeOf) setPrototypeOf($AggregateError, Error);\nelse copyConstructorProperties($AggregateError, Error);\n\nvar AggregateErrorPrototype = $AggregateError.prototype = create(Error.prototype, {\n  constructor: createPropertyDescriptor(1, $AggregateError),\n  message: createPropertyDescriptor(1, ''),\n  name: createPropertyDescriptor(1, 'AggregateError')\n});\n\n// `AggregateError` constructor\n// https://tc39.es/ecma262/#sec-aggregate-error-constructor\n$({ global: true }, {\n  AggregateError: $AggregateError\n});\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar arraySlice = require('../internals/array-slice-simple');\n\nvar replace = uncurryThis(''.replace);\nvar split = uncurryThis(''.split);\nvar join = uncurryThis([].join);\n\nvar TEST = (function (arg) { return String(Error(arg).stack); })('zxcasd');\nvar V8_OR_CHAKRA_STACK_ENTRY = /\\n\\s*at [^:]*:[^\\n]*/;\nvar IS_V8_OR_CHAKRA_STACK = V8_OR_CHAKRA_STACK_ENTRY.test(TEST);\nvar IS_FIREFOX_OR_SAFARI_STACK = /@[^\\n]*\\n/.test(TEST) && !/zxcasd/.test(TEST);\n\nmodule.exports = function (stack, dropEntries) {\n  if (typeof stack != 'string') return stack;\n  if (IS_V8_OR_CHAKRA_STACK) {\n    while (dropEntries--) stack = replace(stack, V8_OR_CHAKRA_STACK_ENTRY, '');\n  } else if (IS_FIREFOX_OR_SAFARI_STACK) {\n    return join(arraySlice(split(stack, '\\n'), dropEntries), '\\n');\n  } return stack;\n};\n","var global = require('../internals/global');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar createProperty = require('../internals/create-property');\n\nvar Array = global.Array;\nvar max = Math.max;\n\nmodule.exports = function (O, start, end) {\n  var length = lengthOfArrayLike(O);\n  var k = toAbsoluteIndex(start, length);\n  var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n  var result = Array(max(fin - k, 0));\n  for (var n = 0; k < fin; k++, n++) createProperty(result, n, O[k]);\n  result.length = n;\n  return result;\n};\n","var isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\n// `InstallErrorCause` abstract operation\n// https://tc39.es/proposal-error-cause/#sec-errorobjects-install-error-cause\nmodule.exports = function (O, options) {\n  if (isObject(options) && 'cause' in options) {\n    createNonEnumerableProperty(O, 'cause', options.cause);\n  }\n};\n","var toString = require('../internals/to-string');\n\nmodule.exports = function (argument, $default) {\n  return argument === undefined ? arguments.length < 2 ? '' : $default : toString(argument);\n};\n","var global = require('../internals/global');\nvar classof = require('../internals/classof');\n\nvar String = global.String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');\n  return String(argument);\n};\n","var fails = require('../internals/fails');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = !fails(function () {\n  var error = Error('a');\n  if (!('stack' in error)) return true;\n  // eslint-disable-next-line es/no-object-defineproperty -- safe\n  Object.defineProperty(error, 'stack', createPropertyDescriptor(1, 7));\n  return error.stack !== 7;\n});\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar call = require('../internals/function-call');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar aCallable = require('../internals/a-callable');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar anInstance = require('../internals/an-instance');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_BROWSER = require('../internals/engine-is-browser');\nvar IS_NODE = require('../internals/engine-is-node');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\n\nvar getInternalState = InternalStateModule.getterFor(PROMISE);\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar NativePromisePrototype = NativePromise && NativePromise.prototype;\nvar PromiseConstructor = NativePromise;\nvar PromisePrototype = NativePromisePrototype;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\n\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar NATIVE_REJECTION_EVENT = isCallable(global.PromiseRejectionEvent);\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar SUBCLASSING = false;\n\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var PROMISE_CONSTRUCTOR_SOURCE = inspectSource(PromiseConstructor);\n  var GLOBAL_CORE_JS_PROMISE = PROMISE_CONSTRUCTOR_SOURCE !== String(PromiseConstructor);\n  // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n  // We can't detect it synchronously, so just check versions\n  if (!GLOBAL_CORE_JS_PROMISE && V8_VERSION === 66) return true;\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromisePrototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PROMISE_CONSTRUCTOR_SOURCE)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = new PromiseConstructor(function (resolve) { resolve(1); });\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  SUBCLASSING = promise.then(function () { /* empty */ }) instanceof FakePromise;\n  if (!SUBCLASSING) return true;\n  // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n  return !GLOBAL_CORE_JS_PROMISE && IS_BROWSER && !NATIVE_REJECTION_EVENT;\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && isCallable(then = it.then) ? then : false;\n};\n\nvar notify = function (state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            call(then, result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (!NATIVE_REJECTION_EVENT && (handler = global['on' + name])) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (state) {\n  call(task, global, function () {\n    var promise = state.facade;\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (state) {\n  call(task, global, function () {\n    var promise = state.facade;\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, state, unwrap) {\n  return function (value) {\n    fn(state, value, unwrap);\n  };\n};\n\nvar internalReject = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(state, true);\n};\n\nvar internalResolve = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (state.facade === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          call(then, value,\n            bind(internalResolve, wrapper, state),\n            bind(internalReject, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(state, false);\n    }\n  } catch (error) {\n    internalReject({ done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromisePrototype);\n    aCallable(executor);\n    call(Internal, this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, state), bind(internalReject, state));\n    } catch (error) {\n      internalReject(state, error);\n    }\n  };\n  PromisePrototype = PromiseConstructor.prototype;\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromisePrototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reactions = state.reactions;\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = isCallable(onFulfilled) ? onFulfilled : true;\n      reaction.fail = isCallable(onRejected) && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      reactions[reactions.length] = reaction;\n      if (state.state != PENDING) notify(state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, state);\n    this.reject = bind(internalReject, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && isCallable(NativePromise) && NativePromisePrototype !== Object.prototype) {\n    nativeThen = NativePromisePrototype.then;\n\n    if (!SUBCLASSING) {\n      // make `Promise#then` return a polyfilled `Promise` for native promise-based APIs\n      redefine(NativePromisePrototype, 'then', function then(onFulfilled, onRejected) {\n        var that = this;\n        return new PromiseConstructor(function (resolve, reject) {\n          call(nativeThen, that, resolve, reject);\n        }).then(onFulfilled, onRejected);\n      // https://github.com/zloirock/core-js/issues/640\n      }, { unsafe: true });\n\n      // makes sure that native promise-based APIs `Promise#catch` properly works with patched `Promise#then`\n      redefine(NativePromisePrototype, 'catch', PromisePrototype['catch'], { unsafe: true });\n    }\n\n    // make `.constructor === Promise` work for native promise-based APIs\n    try {\n      delete NativePromisePrototype.constructor;\n    } catch (error) { /* empty */ }\n\n    // make `instanceof Promise` work for native promise-based APIs\n    if (setPrototypeOf) {\n      setPrototypeOf(NativePromisePrototype, PromisePrototype);\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.es/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    call(capability.reject, undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.es/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.es/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aCallable(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        remaining++;\n        call($promiseResolve, C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.es/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aCallable(C.resolve);\n      iterate(iterable, function (promise) {\n        call($promiseResolve, C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","var global = require('../internals/global');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\n\nvar TypeError = global.TypeError;\n\nmodule.exports = function (it, Prototype) {\n  if (isPrototypeOf(Prototype, it)) return it;\n  throw TypeError('Incorrect invocation');\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var anObject = require('../internals/an-object');\nvar aConstructor = require('../internals/a-constructor');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aConstructor(S);\n};\n","var global = require('../internals/global');\nvar isConstructor = require('../internals/is-constructor');\nvar tryToString = require('../internals/try-to-string');\n\nvar TypeError = global.TypeError;\n\n// `Assert: IsConstructor(argument) is true`\nmodule.exports = function (argument) {\n  if (isConstructor(argument)) return argument;\n  throw TypeError(tryToString(argument) + ' is not a constructor');\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar classof = require('../internals/classof');\nvar getBuiltIn = require('../internals/get-built-in');\nvar inspectSource = require('../internals/inspect-source');\n\nvar noop = function () { /* empty */ };\nvar empty = [];\nvar construct = getBuiltIn('Reflect', 'construct');\nvar constructorRegExp = /^\\s*(?:class|function)\\b/;\nvar exec = uncurryThis(constructorRegExp.exec);\nvar INCORRECT_TO_STRING = !constructorRegExp.exec(noop);\n\nvar isConstructorModern = function (argument) {\n  if (!isCallable(argument)) return false;\n  try {\n    construct(noop, empty, argument);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\nvar isConstructorLegacy = function (argument) {\n  if (!isCallable(argument)) return false;\n  switch (classof(argument)) {\n    case 'AsyncFunction':\n    case 'GeneratorFunction':\n    case 'AsyncGeneratorFunction': return false;\n    // we can't check .prototype since constructors produced by .bind haven't it\n  } return INCORRECT_TO_STRING || !!exec(constructorRegExp, inspectSource(argument));\n};\n\n// `IsConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-isconstructor\nmodule.exports = !construct || fails(function () {\n  var called;\n  return isConstructorModern(isConstructorModern.call)\n    || !isConstructorModern(Object)\n    || !isConstructorModern(function () { called = true; })\n    || called;\n}) ? isConstructorLegacy : isConstructorModern;\n","var global = require('../internals/global');\nvar apply = require('../internals/function-apply');\nvar bind = require('../internals/function-bind-context');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar fails = require('../internals/fails');\nvar html = require('../internals/html');\nvar arraySlice = require('../internals/array-slice');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar Dispatch = global.Dispatch;\nvar Function = global.Function;\nvar MessageChannel = global.MessageChannel;\nvar String = global.String;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar location, defer, channel, port;\n\ntry {\n  // Deno throws a ReferenceError on `location` access without `--location` flag\n  location = global.location;\n} catch (error) { /* empty */ }\n\nvar run = function (id) {\n  if (hasOwn(queue, id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(String(id), location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = arraySlice(arguments, 1);\n    queue[++counter] = function () {\n      apply(isCallable(fn) ? fn : Function(fn), undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (IS_NODE) {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    isCallable(global.postMessage) &&\n    !global.importScripts &&\n    location && location.protocol !== 'file:' &&\n    !fails(post)\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var FunctionPrototype = Function.prototype;\nvar apply = FunctionPrototype.apply;\nvar bind = FunctionPrototype.bind;\nvar call = FunctionPrototype.call;\n\n// eslint-disable-next-line es/no-reflect -- safe\nmodule.exports = typeof Reflect == 'object' && Reflect.apply || (bind ? call.bind(apply) : function () {\n  return call.apply(apply, arguments);\n});\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis([].slice);\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent);\n","var classof = require('../internals/classof-raw');\nvar global = require('../internals/global');\n\nmodule.exports = classof(global.process) == 'process';\n","var global = require('../internals/global');\nvar bind = require('../internals/function-bind-context');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_IOS_PEBBLE = require('../internals/engine-is-ios-pebble');\nvar IS_WEBOS_WEBKIT = require('../internals/engine-is-webos-webkit');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar document = global.document;\nvar process = global.process;\nvar Promise = global.Promise;\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  // also except WebOS Webkit https://github.com/zloirock/core-js/issues/898\n  if (!IS_IOS && !IS_NODE && !IS_WEBOS_WEBKIT && MutationObserver && document) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (!IS_IOS_PEBBLE && Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    // workaround of WebKit ~ iOS Safari 10.1 bug\n    promise.constructor = Promise;\n    then = bind(promise.then, promise);\n    notify = function () {\n      then(flush);\n    };\n  // Node.js without promises\n  } else if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    // strange IE + webpack dev server bug - use .bind(global)\n    macrotask = bind(macrotask, global);\n    notify = function () {\n      macrotask(flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","var userAgent = require('../internals/engine-user-agent');\nvar global = require('../internals/global');\n\nmodule.exports = /ipad|iphone|ipod/i.test(userAgent) && global.Pebble !== undefined;\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /web0s(?!.*chrome)/i.test(userAgent);\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","'use strict';\nvar aCallable = require('../internals/a-callable');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aCallable(resolve);\n  this.reject = aCallable(reject);\n};\n\n// `NewPromiseCapability` abstract operation\n// https://tc39.es/ecma262/#sec-newpromisecapability\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length == 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","module.exports = typeof window == 'object';\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar iterate = require('../internals/iterate');\n\n// `Promise.allSettled` method\n// https://tc39.es/ecma262/#sec-promise.allsettled\n$({ target: 'Promise', stat: true }, {\n  allSettled: function allSettled(iterable) {\n    var C = this;\n    var capability = newPromiseCapabilityModule.f(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var promiseResolve = aCallable(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        remaining++;\n        call(promiseResolve, C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = { status: 'fulfilled', value: value };\n          --remaining || resolve(values);\n        }, function (error) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = { status: 'rejected', reason: error };\n          --remaining || resolve(values);\n        });\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar aCallable = require('../internals/a-callable');\nvar getBuiltIn = require('../internals/get-built-in');\nvar call = require('../internals/function-call');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar iterate = require('../internals/iterate');\n\nvar PROMISE_ANY_ERROR = 'No one promise resolved';\n\n// `Promise.any` method\n// https://tc39.es/ecma262/#sec-promise.any\n$({ target: 'Promise', stat: true }, {\n  any: function any(iterable) {\n    var C = this;\n    var AggregateError = getBuiltIn('AggregateError');\n    var capability = newPromiseCapabilityModule.f(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var promiseResolve = aCallable(C.resolve);\n      var errors = [];\n      var counter = 0;\n      var remaining = 1;\n      var alreadyResolved = false;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyRejected = false;\n        remaining++;\n        call(promiseResolve, C, promise).then(function (value) {\n          if (alreadyRejected || alreadyResolved) return;\n          alreadyResolved = true;\n          resolve(value);\n        }, function (error) {\n          if (alreadyRejected || alreadyResolved) return;\n          alreadyRejected = true;\n          errors[index] = error;\n          --remaining || reject(new AggregateError(errors, PROMISE_ANY_ERROR));\n        });\n      });\n      --remaining || reject(new AggregateError(errors, PROMISE_ANY_ERROR));\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar redefine = require('../internals/redefine');\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromise && fails(function () {\n  NativePromise.prototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.es/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = isCallable(onFinally);\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// makes sure that native promise-based APIs `Promise#finally` properly works with patched `Promise#then`\nif (!IS_PURE && isCallable(NativePromise)) {\n  var method = getBuiltIn('Promise').prototype['finally'];\n  if (NativePromise.prototype['finally'] !== method) {\n    redefine(NativePromise.prototype, 'finally', method, { unsafe: true });\n  }\n}\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar toString = require('../internals/to-string');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: toString(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar stringSlice = uncurryThis(''.slice);\n\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = toString(requireObjectCoercible($this));\n    var position = toIntegerOrInfinity(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = charCodeAt(S, position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = charCodeAt(S, position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING\n          ? charAt(S, position)\n          : first\n        : CONVERT_TO_STRING\n          ? stringSlice(S, position, position + 2)\n          : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","/**\n * web-streams-polyfill v3.2.0\n */\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.WebStreamsPolyfill = {}));\n}(this, (function (exports) { 'use strict';\n\n    /// <reference lib=\"es2015.symbol\" />\n    var SymbolPolyfill = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ?\n        Symbol :\n        function (description) { return \"Symbol(\" + description + \")\"; };\n\n    /// <reference lib=\"dom\" />\n    function noop() {\n        return undefined;\n    }\n    function getGlobals() {\n        if (typeof self !== 'undefined') {\n            return self;\n        }\n        else if (typeof window !== 'undefined') {\n            return window;\n        }\n        else if (typeof global !== 'undefined') {\n            return global;\n        }\n        return undefined;\n    }\n    var globals = getGlobals();\n\n    function typeIsObject(x) {\n        return (typeof x === 'object' && x !== null) || typeof x === 'function';\n    }\n    var rethrowAssertionErrorRejection = noop;\n\n    var originalPromise = Promise;\n    var originalPromiseThen = Promise.prototype.then;\n    var originalPromiseResolve = Promise.resolve.bind(originalPromise);\n    var originalPromiseReject = Promise.reject.bind(originalPromise);\n    function newPromise(executor) {\n        return new originalPromise(executor);\n    }\n    function promiseResolvedWith(value) {\n        return originalPromiseResolve(value);\n    }\n    function promiseRejectedWith(reason) {\n        return originalPromiseReject(reason);\n    }\n    function PerformPromiseThen(promise, onFulfilled, onRejected) {\n        // There doesn't appear to be any way to correctly emulate the behaviour from JavaScript, so this is just an\n        // approximation.\n        return originalPromiseThen.call(promise, onFulfilled, onRejected);\n    }\n    function uponPromise(promise, onFulfilled, onRejected) {\n        PerformPromiseThen(PerformPromiseThen(promise, onFulfilled, onRejected), undefined, rethrowAssertionErrorRejection);\n    }\n    function uponFulfillment(promise, onFulfilled) {\n        uponPromise(promise, onFulfilled);\n    }\n    function uponRejection(promise, onRejected) {\n        uponPromise(promise, undefined, onRejected);\n    }\n    function transformPromiseWith(promise, fulfillmentHandler, rejectionHandler) {\n        return PerformPromiseThen(promise, fulfillmentHandler, rejectionHandler);\n    }\n    function setPromiseIsHandledToTrue(promise) {\n        PerformPromiseThen(promise, undefined, rethrowAssertionErrorRejection);\n    }\n    var queueMicrotask = (function () {\n        var globalQueueMicrotask = globals && globals.queueMicrotask;\n        if (typeof globalQueueMicrotask === 'function') {\n            return globalQueueMicrotask;\n        }\n        var resolvedPromise = promiseResolvedWith(undefined);\n        return function (fn) { return PerformPromiseThen(resolvedPromise, fn); };\n    })();\n    function reflectCall(F, V, args) {\n        if (typeof F !== 'function') {\n            throw new TypeError('Argument is not a function');\n        }\n        return Function.prototype.apply.call(F, V, args);\n    }\n    function promiseCall(F, V, args) {\n        try {\n            return promiseResolvedWith(reflectCall(F, V, args));\n        }\n        catch (value) {\n            return promiseRejectedWith(value);\n        }\n    }\n\n    // Original from Chromium\n    // https://chromium.googlesource.com/chromium/src/+/0aee4434a4dba42a42abaea9bfbc0cd196a63bc1/third_party/blink/renderer/core/streams/SimpleQueue.js\n    var QUEUE_MAX_ARRAY_SIZE = 16384;\n    /**\n     * Simple queue structure.\n     *\n     * Avoids scalability issues with using a packed array directly by using\n     * multiple arrays in a linked list and keeping the array size bounded.\n     */\n    var SimpleQueue = /** @class */ (function () {\n        function SimpleQueue() {\n            this._cursor = 0;\n            this._size = 0;\n            // _front and _back are always defined.\n            this._front = {\n                _elements: [],\n                _next: undefined\n            };\n            this._back = this._front;\n            // The cursor is used to avoid calling Array.shift().\n            // It contains the index of the front element of the array inside the\n            // front-most node. It is always in the range [0, QUEUE_MAX_ARRAY_SIZE).\n            this._cursor = 0;\n            // When there is only one node, size === elements.length - cursor.\n            this._size = 0;\n        }\n        Object.defineProperty(SimpleQueue.prototype, \"length\", {\n            get: function () {\n                return this._size;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        // For exception safety, this method is structured in order:\n        // 1. Read state\n        // 2. Calculate required state mutations\n        // 3. Perform state mutations\n        SimpleQueue.prototype.push = function (element) {\n            var oldBack = this._back;\n            var newBack = oldBack;\n            if (oldBack._elements.length === QUEUE_MAX_ARRAY_SIZE - 1) {\n                newBack = {\n                    _elements: [],\n                    _next: undefined\n                };\n            }\n            // push() is the mutation most likely to throw an exception, so it\n            // goes first.\n            oldBack._elements.push(element);\n            if (newBack !== oldBack) {\n                this._back = newBack;\n                oldBack._next = newBack;\n            }\n            ++this._size;\n        };\n        // Like push(), shift() follows the read -> calculate -> mutate pattern for\n        // exception safety.\n        SimpleQueue.prototype.shift = function () { // must not be called on an empty queue\n            var oldFront = this._front;\n            var newFront = oldFront;\n            var oldCursor = this._cursor;\n            var newCursor = oldCursor + 1;\n            var elements = oldFront._elements;\n            var element = elements[oldCursor];\n            if (newCursor === QUEUE_MAX_ARRAY_SIZE) {\n                newFront = oldFront._next;\n                newCursor = 0;\n            }\n            // No mutations before this point.\n            --this._size;\n            this._cursor = newCursor;\n            if (oldFront !== newFront) {\n                this._front = newFront;\n            }\n            // Permit shifted element to be garbage collected.\n            elements[oldCursor] = undefined;\n            return element;\n        };\n        // The tricky thing about forEach() is that it can be called\n        // re-entrantly. The queue may be mutated inside the callback. It is easy to\n        // see that push() within the callback has no negative effects since the end\n        // of the queue is checked for on every iteration. If shift() is called\n        // repeatedly within the callback then the next iteration may return an\n        // element that has been removed. In this case the callback will be called\n        // with undefined values until we either \"catch up\" with elements that still\n        // exist or reach the back of the queue.\n        SimpleQueue.prototype.forEach = function (callback) {\n            var i = this._cursor;\n            var node = this._front;\n            var elements = node._elements;\n            while (i !== elements.length || node._next !== undefined) {\n                if (i === elements.length) {\n                    node = node._next;\n                    elements = node._elements;\n                    i = 0;\n                    if (elements.length === 0) {\n                        break;\n                    }\n                }\n                callback(elements[i]);\n                ++i;\n            }\n        };\n        // Return the element that would be returned if shift() was called now,\n        // without modifying the queue.\n        SimpleQueue.prototype.peek = function () { // must not be called on an empty queue\n            var front = this._front;\n            var cursor = this._cursor;\n            return front._elements[cursor];\n        };\n        return SimpleQueue;\n    }());\n\n    function ReadableStreamReaderGenericInitialize(reader, stream) {\n        reader._ownerReadableStream = stream;\n        stream._reader = reader;\n        if (stream._state === 'readable') {\n            defaultReaderClosedPromiseInitialize(reader);\n        }\n        else if (stream._state === 'closed') {\n            defaultReaderClosedPromiseInitializeAsResolved(reader);\n        }\n        else {\n            defaultReaderClosedPromiseInitializeAsRejected(reader, stream._storedError);\n        }\n    }\n    // A client of ReadableStreamDefaultReader and ReadableStreamBYOBReader may use these functions directly to bypass state\n    // check.\n    function ReadableStreamReaderGenericCancel(reader, reason) {\n        var stream = reader._ownerReadableStream;\n        return ReadableStreamCancel(stream, reason);\n    }\n    function ReadableStreamReaderGenericRelease(reader) {\n        if (reader._ownerReadableStream._state === 'readable') {\n            defaultReaderClosedPromiseReject(reader, new TypeError(\"Reader was released and can no longer be used to monitor the stream's closedness\"));\n        }\n        else {\n            defaultReaderClosedPromiseResetToRejected(reader, new TypeError(\"Reader was released and can no longer be used to monitor the stream's closedness\"));\n        }\n        reader._ownerReadableStream._reader = undefined;\n        reader._ownerReadableStream = undefined;\n    }\n    // Helper functions for the readers.\n    function readerLockException(name) {\n        return new TypeError('Cannot ' + name + ' a stream using a released reader');\n    }\n    // Helper functions for the ReadableStreamDefaultReader.\n    function defaultReaderClosedPromiseInitialize(reader) {\n        reader._closedPromise = newPromise(function (resolve, reject) {\n            reader._closedPromise_resolve = resolve;\n            reader._closedPromise_reject = reject;\n        });\n    }\n    function defaultReaderClosedPromiseInitializeAsRejected(reader, reason) {\n        defaultReaderClosedPromiseInitialize(reader);\n        defaultReaderClosedPromiseReject(reader, reason);\n    }\n    function defaultReaderClosedPromiseInitializeAsResolved(reader) {\n        defaultReaderClosedPromiseInitialize(reader);\n        defaultReaderClosedPromiseResolve(reader);\n    }\n    function defaultReaderClosedPromiseReject(reader, reason) {\n        if (reader._closedPromise_reject === undefined) {\n            return;\n        }\n        setPromiseIsHandledToTrue(reader._closedPromise);\n        reader._closedPromise_reject(reason);\n        reader._closedPromise_resolve = undefined;\n        reader._closedPromise_reject = undefined;\n    }\n    function defaultReaderClosedPromiseResetToRejected(reader, reason) {\n        defaultReaderClosedPromiseInitializeAsRejected(reader, reason);\n    }\n    function defaultReaderClosedPromiseResolve(reader) {\n        if (reader._closedPromise_resolve === undefined) {\n            return;\n        }\n        reader._closedPromise_resolve(undefined);\n        reader._closedPromise_resolve = undefined;\n        reader._closedPromise_reject = undefined;\n    }\n\n    var AbortSteps = SymbolPolyfill('[[AbortSteps]]');\n    var ErrorSteps = SymbolPolyfill('[[ErrorSteps]]');\n    var CancelSteps = SymbolPolyfill('[[CancelSteps]]');\n    var PullSteps = SymbolPolyfill('[[PullSteps]]');\n\n    /// <reference lib=\"es2015.core\" />\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isFinite#Polyfill\n    var NumberIsFinite = Number.isFinite || function (x) {\n        return typeof x === 'number' && isFinite(x);\n    };\n\n    /// <reference lib=\"es2015.core\" />\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/trunc#Polyfill\n    var MathTrunc = Math.trunc || function (v) {\n        return v < 0 ? Math.ceil(v) : Math.floor(v);\n    };\n\n    // https://heycam.github.io/webidl/#idl-dictionaries\n    function isDictionary(x) {\n        return typeof x === 'object' || typeof x === 'function';\n    }\n    function assertDictionary(obj, context) {\n        if (obj !== undefined && !isDictionary(obj)) {\n            throw new TypeError(context + \" is not an object.\");\n        }\n    }\n    // https://heycam.github.io/webidl/#idl-callback-functions\n    function assertFunction(x, context) {\n        if (typeof x !== 'function') {\n            throw new TypeError(context + \" is not a function.\");\n        }\n    }\n    // https://heycam.github.io/webidl/#idl-object\n    function isObject(x) {\n        return (typeof x === 'object' && x !== null) || typeof x === 'function';\n    }\n    function assertObject(x, context) {\n        if (!isObject(x)) {\n            throw new TypeError(context + \" is not an object.\");\n        }\n    }\n    function assertRequiredArgument(x, position, context) {\n        if (x === undefined) {\n            throw new TypeError(\"Parameter \" + position + \" is required in '\" + context + \"'.\");\n        }\n    }\n    function assertRequiredField(x, field, context) {\n        if (x === undefined) {\n            throw new TypeError(field + \" is required in '\" + context + \"'.\");\n        }\n    }\n    // https://heycam.github.io/webidl/#idl-unrestricted-double\n    function convertUnrestrictedDouble(value) {\n        return Number(value);\n    }\n    function censorNegativeZero(x) {\n        return x === 0 ? 0 : x;\n    }\n    function integerPart(x) {\n        return censorNegativeZero(MathTrunc(x));\n    }\n    // https://heycam.github.io/webidl/#idl-unsigned-long-long\n    function convertUnsignedLongLongWithEnforceRange(value, context) {\n        var lowerBound = 0;\n        var upperBound = Number.MAX_SAFE_INTEGER;\n        var x = Number(value);\n        x = censorNegativeZero(x);\n        if (!NumberIsFinite(x)) {\n            throw new TypeError(context + \" is not a finite number\");\n        }\n        x = integerPart(x);\n        if (x < lowerBound || x > upperBound) {\n            throw new TypeError(context + \" is outside the accepted range of \" + lowerBound + \" to \" + upperBound + \", inclusive\");\n        }\n        if (!NumberIsFinite(x) || x === 0) {\n            return 0;\n        }\n        // TODO Use BigInt if supported?\n        // let xBigInt = BigInt(integerPart(x));\n        // xBigInt = BigInt.asUintN(64, xBigInt);\n        // return Number(xBigInt);\n        return x;\n    }\n\n    function assertReadableStream(x, context) {\n        if (!IsReadableStream(x)) {\n            throw new TypeError(context + \" is not a ReadableStream.\");\n        }\n    }\n\n    // Abstract operations for the ReadableStream.\n    function AcquireReadableStreamDefaultReader(stream) {\n        return new ReadableStreamDefaultReader(stream);\n    }\n    // ReadableStream API exposed for controllers.\n    function ReadableStreamAddReadRequest(stream, readRequest) {\n        stream._reader._readRequests.push(readRequest);\n    }\n    function ReadableStreamFulfillReadRequest(stream, chunk, done) {\n        var reader = stream._reader;\n        var readRequest = reader._readRequests.shift();\n        if (done) {\n            readRequest._closeSteps();\n        }\n        else {\n            readRequest._chunkSteps(chunk);\n        }\n    }\n    function ReadableStreamGetNumReadRequests(stream) {\n        return stream._reader._readRequests.length;\n    }\n    function ReadableStreamHasDefaultReader(stream) {\n        var reader = stream._reader;\n        if (reader === undefined) {\n            return false;\n        }\n        if (!IsReadableStreamDefaultReader(reader)) {\n            return false;\n        }\n        return true;\n    }\n    /**\n     * A default reader vended by a {@link ReadableStream}.\n     *\n     * @public\n     */\n    var ReadableStreamDefaultReader = /** @class */ (function () {\n        function ReadableStreamDefaultReader(stream) {\n            assertRequiredArgument(stream, 1, 'ReadableStreamDefaultReader');\n            assertReadableStream(stream, 'First parameter');\n            if (IsReadableStreamLocked(stream)) {\n                throw new TypeError('This stream has already been locked for exclusive reading by another reader');\n            }\n            ReadableStreamReaderGenericInitialize(this, stream);\n            this._readRequests = new SimpleQueue();\n        }\n        Object.defineProperty(ReadableStreamDefaultReader.prototype, \"closed\", {\n            /**\n             * Returns a promise that will be fulfilled when the stream becomes closed,\n             * or rejected if the stream ever errors or the reader's lock is released before the stream finishes closing.\n             */\n            get: function () {\n                if (!IsReadableStreamDefaultReader(this)) {\n                    return promiseRejectedWith(defaultReaderBrandCheckException('closed'));\n                }\n                return this._closedPromise;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        /**\n         * If the reader is active, behaves the same as {@link ReadableStream.cancel | stream.cancel(reason)}.\n         */\n        ReadableStreamDefaultReader.prototype.cancel = function (reason) {\n            if (reason === void 0) { reason = undefined; }\n            if (!IsReadableStreamDefaultReader(this)) {\n                return promiseRejectedWith(defaultReaderBrandCheckException('cancel'));\n            }\n            if (this._ownerReadableStream === undefined) {\n                return promiseRejectedWith(readerLockException('cancel'));\n            }\n            return ReadableStreamReaderGenericCancel(this, reason);\n        };\n        /**\n         * Returns a promise that allows access to the next chunk from the stream's internal queue, if available.\n         *\n         * If reading a chunk causes the queue to become empty, more data will be pulled from the underlying source.\n         */\n        ReadableStreamDefaultReader.prototype.read = function () {\n            if (!IsReadableStreamDefaultReader(this)) {\n                return promiseRejectedWith(defaultReaderBrandCheckException('read'));\n            }\n            if (this._ownerReadableStream === undefined) {\n                return promiseRejectedWith(readerLockException('read from'));\n            }\n            var resolvePromise;\n            var rejectPromise;\n            var promise = newPromise(function (resolve, reject) {\n                resolvePromise = resolve;\n                rejectPromise = reject;\n            });\n            var readRequest = {\n                _chunkSteps: function (chunk) { return resolvePromise({ value: chunk, done: false }); },\n                _closeSteps: function () { return resolvePromise({ value: undefined, done: true }); },\n                _errorSteps: function (e) { return rejectPromise(e); }\n            };\n            ReadableStreamDefaultReaderRead(this, readRequest);\n            return promise;\n        };\n        /**\n         * Releases the reader's lock on the corresponding stream. After the lock is released, the reader is no longer active.\n         * If the associated stream is errored when the lock is released, the reader will appear errored in the same way\n         * from now on; otherwise, the reader will appear closed.\n         *\n         * A reader's lock cannot be released while it still has a pending read request, i.e., if a promise returned by\n         * the reader's {@link ReadableStreamDefaultReader.read | read()} method has not yet been settled. Attempting to\n         * do so will throw a `TypeError` and leave the reader locked to the stream.\n         */\n        ReadableStreamDefaultReader.prototype.releaseLock = function () {\n            if (!IsReadableStreamDefaultReader(this)) {\n                throw defaultReaderBrandCheckException('releaseLock');\n            }\n            if (this._ownerReadableStream === undefined) {\n                return;\n            }\n            if (this._readRequests.length > 0) {\n                throw new TypeError('Tried to release a reader lock when that reader has pending read() calls un-settled');\n            }\n            ReadableStreamReaderGenericRelease(this);\n        };\n        return ReadableStreamDefaultReader;\n    }());\n    Object.defineProperties(ReadableStreamDefaultReader.prototype, {\n        cancel: { enumerable: true },\n        read: { enumerable: true },\n        releaseLock: { enumerable: true },\n        closed: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ReadableStreamDefaultReader.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ReadableStreamDefaultReader',\n            configurable: true\n        });\n    }\n    // Abstract operations for the readers.\n    function IsReadableStreamDefaultReader(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_readRequests')) {\n            return false;\n        }\n        return x instanceof ReadableStreamDefaultReader;\n    }\n    function ReadableStreamDefaultReaderRead(reader, readRequest) {\n        var stream = reader._ownerReadableStream;\n        stream._disturbed = true;\n        if (stream._state === 'closed') {\n            readRequest._closeSteps();\n        }\n        else if (stream._state === 'errored') {\n            readRequest._errorSteps(stream._storedError);\n        }\n        else {\n            stream._readableStreamController[PullSteps](readRequest);\n        }\n    }\n    // Helper functions for the ReadableStreamDefaultReader.\n    function defaultReaderBrandCheckException(name) {\n        return new TypeError(\"ReadableStreamDefaultReader.prototype.\" + name + \" can only be used on a ReadableStreamDefaultReader\");\n    }\n\n    /// <reference lib=\"es2018.asynciterable\" />\n    var _a;\n    var AsyncIteratorPrototype;\n    if (typeof SymbolPolyfill.asyncIterator === 'symbol') {\n        // We're running inside a ES2018+ environment, but we're compiling to an older syntax.\n        // We cannot access %AsyncIteratorPrototype% without non-ES2018 syntax, but we can re-create it.\n        AsyncIteratorPrototype = (_a = {},\n            // 25.1.3.1 %AsyncIteratorPrototype% [ @@asyncIterator ] ( )\n            // https://tc39.github.io/ecma262/#sec-asynciteratorprototype-asynciterator\n            _a[SymbolPolyfill.asyncIterator] = function () {\n                return this;\n            },\n            _a);\n        Object.defineProperty(AsyncIteratorPrototype, SymbolPolyfill.asyncIterator, { enumerable: false });\n    }\n\n    /// <reference lib=\"es2018.asynciterable\" />\n    var ReadableStreamAsyncIteratorImpl = /** @class */ (function () {\n        function ReadableStreamAsyncIteratorImpl(reader, preventCancel) {\n            this._ongoingPromise = undefined;\n            this._isFinished = false;\n            this._reader = reader;\n            this._preventCancel = preventCancel;\n        }\n        ReadableStreamAsyncIteratorImpl.prototype.next = function () {\n            var _this = this;\n            var nextSteps = function () { return _this._nextSteps(); };\n            this._ongoingPromise = this._ongoingPromise ?\n                transformPromiseWith(this._ongoingPromise, nextSteps, nextSteps) :\n                nextSteps();\n            return this._ongoingPromise;\n        };\n        ReadableStreamAsyncIteratorImpl.prototype.return = function (value) {\n            var _this = this;\n            var returnSteps = function () { return _this._returnSteps(value); };\n            return this._ongoingPromise ?\n                transformPromiseWith(this._ongoingPromise, returnSteps, returnSteps) :\n                returnSteps();\n        };\n        ReadableStreamAsyncIteratorImpl.prototype._nextSteps = function () {\n            var _this = this;\n            if (this._isFinished) {\n                return Promise.resolve({ value: undefined, done: true });\n            }\n            var reader = this._reader;\n            if (reader._ownerReadableStream === undefined) {\n                return promiseRejectedWith(readerLockException('iterate'));\n            }\n            var resolvePromise;\n            var rejectPromise;\n            var promise = newPromise(function (resolve, reject) {\n                resolvePromise = resolve;\n                rejectPromise = reject;\n            });\n            var readRequest = {\n                _chunkSteps: function (chunk) {\n                    _this._ongoingPromise = undefined;\n                    // This needs to be delayed by one microtask, otherwise we stop pulling too early which breaks a test.\n                    // FIXME Is this a bug in the specification, or in the test?\n                    queueMicrotask(function () { return resolvePromise({ value: chunk, done: false }); });\n                },\n                _closeSteps: function () {\n                    _this._ongoingPromise = undefined;\n                    _this._isFinished = true;\n                    ReadableStreamReaderGenericRelease(reader);\n                    resolvePromise({ value: undefined, done: true });\n                },\n                _errorSteps: function (reason) {\n                    _this._ongoingPromise = undefined;\n                    _this._isFinished = true;\n                    ReadableStreamReaderGenericRelease(reader);\n                    rejectPromise(reason);\n                }\n            };\n            ReadableStreamDefaultReaderRead(reader, readRequest);\n            return promise;\n        };\n        ReadableStreamAsyncIteratorImpl.prototype._returnSteps = function (value) {\n            if (this._isFinished) {\n                return Promise.resolve({ value: value, done: true });\n            }\n            this._isFinished = true;\n            var reader = this._reader;\n            if (reader._ownerReadableStream === undefined) {\n                return promiseRejectedWith(readerLockException('finish iterating'));\n            }\n            if (!this._preventCancel) {\n                var result = ReadableStreamReaderGenericCancel(reader, value);\n                ReadableStreamReaderGenericRelease(reader);\n                return transformPromiseWith(result, function () { return ({ value: value, done: true }); });\n            }\n            ReadableStreamReaderGenericRelease(reader);\n            return promiseResolvedWith({ value: value, done: true });\n        };\n        return ReadableStreamAsyncIteratorImpl;\n    }());\n    var ReadableStreamAsyncIteratorPrototype = {\n        next: function () {\n            if (!IsReadableStreamAsyncIterator(this)) {\n                return promiseRejectedWith(streamAsyncIteratorBrandCheckException('next'));\n            }\n            return this._asyncIteratorImpl.next();\n        },\n        return: function (value) {\n            if (!IsReadableStreamAsyncIterator(this)) {\n                return promiseRejectedWith(streamAsyncIteratorBrandCheckException('return'));\n            }\n            return this._asyncIteratorImpl.return(value);\n        }\n    };\n    if (AsyncIteratorPrototype !== undefined) {\n        Object.setPrototypeOf(ReadableStreamAsyncIteratorPrototype, AsyncIteratorPrototype);\n    }\n    // Abstract operations for the ReadableStream.\n    function AcquireReadableStreamAsyncIterator(stream, preventCancel) {\n        var reader = AcquireReadableStreamDefaultReader(stream);\n        var impl = new ReadableStreamAsyncIteratorImpl(reader, preventCancel);\n        var iterator = Object.create(ReadableStreamAsyncIteratorPrototype);\n        iterator._asyncIteratorImpl = impl;\n        return iterator;\n    }\n    function IsReadableStreamAsyncIterator(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_asyncIteratorImpl')) {\n            return false;\n        }\n        try {\n            // noinspection SuspiciousTypeOfGuard\n            return x._asyncIteratorImpl instanceof\n                ReadableStreamAsyncIteratorImpl;\n        }\n        catch (_a) {\n            return false;\n        }\n    }\n    // Helper functions for the ReadableStream.\n    function streamAsyncIteratorBrandCheckException(name) {\n        return new TypeError(\"ReadableStreamAsyncIterator.\" + name + \" can only be used on a ReadableSteamAsyncIterator\");\n    }\n\n    /// <reference lib=\"es2015.core\" />\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN#Polyfill\n    var NumberIsNaN = Number.isNaN || function (x) {\n        // eslint-disable-next-line no-self-compare\n        return x !== x;\n    };\n\n    function CreateArrayFromList(elements) {\n        // We use arrays to represent lists, so this is basically a no-op.\n        // Do a slice though just in case we happen to depend on the unique-ness.\n        return elements.slice();\n    }\n    function CopyDataBlockBytes(dest, destOffset, src, srcOffset, n) {\n        new Uint8Array(dest).set(new Uint8Array(src, srcOffset, n), destOffset);\n    }\n    // Not implemented correctly\n    function TransferArrayBuffer(O) {\n        return O;\n    }\n    // Not implemented correctly\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    function IsDetachedBuffer(O) {\n        return false;\n    }\n    function ArrayBufferSlice(buffer, begin, end) {\n        // ArrayBuffer.prototype.slice is not available on IE10\n        // https://www.caniuse.com/mdn-javascript_builtins_arraybuffer_slice\n        if (buffer.slice) {\n            return buffer.slice(begin, end);\n        }\n        var length = end - begin;\n        var slice = new ArrayBuffer(length);\n        CopyDataBlockBytes(slice, 0, buffer, begin, length);\n        return slice;\n    }\n\n    function IsNonNegativeNumber(v) {\n        if (typeof v !== 'number') {\n            return false;\n        }\n        if (NumberIsNaN(v)) {\n            return false;\n        }\n        if (v < 0) {\n            return false;\n        }\n        return true;\n    }\n    function CloneAsUint8Array(O) {\n        var buffer = ArrayBufferSlice(O.buffer, O.byteOffset, O.byteOffset + O.byteLength);\n        return new Uint8Array(buffer);\n    }\n\n    function DequeueValue(container) {\n        var pair = container._queue.shift();\n        container._queueTotalSize -= pair.size;\n        if (container._queueTotalSize < 0) {\n            container._queueTotalSize = 0;\n        }\n        return pair.value;\n    }\n    function EnqueueValueWithSize(container, value, size) {\n        if (!IsNonNegativeNumber(size) || size === Infinity) {\n            throw new RangeError('Size must be a finite, non-NaN, non-negative number.');\n        }\n        container._queue.push({ value: value, size: size });\n        container._queueTotalSize += size;\n    }\n    function PeekQueueValue(container) {\n        var pair = container._queue.peek();\n        return pair.value;\n    }\n    function ResetQueue(container) {\n        container._queue = new SimpleQueue();\n        container._queueTotalSize = 0;\n    }\n\n    /**\n     * A pull-into request in a {@link ReadableByteStreamController}.\n     *\n     * @public\n     */\n    var ReadableStreamBYOBRequest = /** @class */ (function () {\n        function ReadableStreamBYOBRequest() {\n            throw new TypeError('Illegal constructor');\n        }\n        Object.defineProperty(ReadableStreamBYOBRequest.prototype, \"view\", {\n            /**\n             * Returns the view for writing in to, or `null` if the BYOB request has already been responded to.\n             */\n            get: function () {\n                if (!IsReadableStreamBYOBRequest(this)) {\n                    throw byobRequestBrandCheckException('view');\n                }\n                return this._view;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ReadableStreamBYOBRequest.prototype.respond = function (bytesWritten) {\n            if (!IsReadableStreamBYOBRequest(this)) {\n                throw byobRequestBrandCheckException('respond');\n            }\n            assertRequiredArgument(bytesWritten, 1, 'respond');\n            bytesWritten = convertUnsignedLongLongWithEnforceRange(bytesWritten, 'First parameter');\n            if (this._associatedReadableByteStreamController === undefined) {\n                throw new TypeError('This BYOB request has been invalidated');\n            }\n            if (IsDetachedBuffer(this._view.buffer)) ;\n            ReadableByteStreamControllerRespond(this._associatedReadableByteStreamController, bytesWritten);\n        };\n        ReadableStreamBYOBRequest.prototype.respondWithNewView = function (view) {\n            if (!IsReadableStreamBYOBRequest(this)) {\n                throw byobRequestBrandCheckException('respondWithNewView');\n            }\n            assertRequiredArgument(view, 1, 'respondWithNewView');\n            if (!ArrayBuffer.isView(view)) {\n                throw new TypeError('You can only respond with array buffer views');\n            }\n            if (this._associatedReadableByteStreamController === undefined) {\n                throw new TypeError('This BYOB request has been invalidated');\n            }\n            if (IsDetachedBuffer(view.buffer)) ;\n            ReadableByteStreamControllerRespondWithNewView(this._associatedReadableByteStreamController, view);\n        };\n        return ReadableStreamBYOBRequest;\n    }());\n    Object.defineProperties(ReadableStreamBYOBRequest.prototype, {\n        respond: { enumerable: true },\n        respondWithNewView: { enumerable: true },\n        view: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ReadableStreamBYOBRequest.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ReadableStreamBYOBRequest',\n            configurable: true\n        });\n    }\n    /**\n     * Allows control of a {@link ReadableStream | readable byte stream}'s state and internal queue.\n     *\n     * @public\n     */\n    var ReadableByteStreamController = /** @class */ (function () {\n        function ReadableByteStreamController() {\n            throw new TypeError('Illegal constructor');\n        }\n        Object.defineProperty(ReadableByteStreamController.prototype, \"byobRequest\", {\n            /**\n             * Returns the current BYOB pull request, or `null` if there isn't one.\n             */\n            get: function () {\n                if (!IsReadableByteStreamController(this)) {\n                    throw byteStreamControllerBrandCheckException('byobRequest');\n                }\n                return ReadableByteStreamControllerGetBYOBRequest(this);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ReadableByteStreamController.prototype, \"desiredSize\", {\n            /**\n             * Returns the desired size to fill the controlled stream's internal queue. It can be negative, if the queue is\n             * over-full. An underlying byte source ought to use this information to determine when and how to apply backpressure.\n             */\n            get: function () {\n                if (!IsReadableByteStreamController(this)) {\n                    throw byteStreamControllerBrandCheckException('desiredSize');\n                }\n                return ReadableByteStreamControllerGetDesiredSize(this);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        /**\n         * Closes the controlled readable stream. Consumers will still be able to read any previously-enqueued chunks from\n         * the stream, but once those are read, the stream will become closed.\n         */\n        ReadableByteStreamController.prototype.close = function () {\n            if (!IsReadableByteStreamController(this)) {\n                throw byteStreamControllerBrandCheckException('close');\n            }\n            if (this._closeRequested) {\n                throw new TypeError('The stream has already been closed; do not close it again!');\n            }\n            var state = this._controlledReadableByteStream._state;\n            if (state !== 'readable') {\n                throw new TypeError(\"The stream (in \" + state + \" state) is not in the readable state and cannot be closed\");\n            }\n            ReadableByteStreamControllerClose(this);\n        };\n        ReadableByteStreamController.prototype.enqueue = function (chunk) {\n            if (!IsReadableByteStreamController(this)) {\n                throw byteStreamControllerBrandCheckException('enqueue');\n            }\n            assertRequiredArgument(chunk, 1, 'enqueue');\n            if (!ArrayBuffer.isView(chunk)) {\n                throw new TypeError('chunk must be an array buffer view');\n            }\n            if (chunk.byteLength === 0) {\n                throw new TypeError('chunk must have non-zero byteLength');\n            }\n            if (chunk.buffer.byteLength === 0) {\n                throw new TypeError(\"chunk's buffer must have non-zero byteLength\");\n            }\n            if (this._closeRequested) {\n                throw new TypeError('stream is closed or draining');\n            }\n            var state = this._controlledReadableByteStream._state;\n            if (state !== 'readable') {\n                throw new TypeError(\"The stream (in \" + state + \" state) is not in the readable state and cannot be enqueued to\");\n            }\n            ReadableByteStreamControllerEnqueue(this, chunk);\n        };\n        /**\n         * Errors the controlled readable stream, making all future interactions with it fail with the given error `e`.\n         */\n        ReadableByteStreamController.prototype.error = function (e) {\n            if (e === void 0) { e = undefined; }\n            if (!IsReadableByteStreamController(this)) {\n                throw byteStreamControllerBrandCheckException('error');\n            }\n            ReadableByteStreamControllerError(this, e);\n        };\n        /** @internal */\n        ReadableByteStreamController.prototype[CancelSteps] = function (reason) {\n            ReadableByteStreamControllerClearPendingPullIntos(this);\n            ResetQueue(this);\n            var result = this._cancelAlgorithm(reason);\n            ReadableByteStreamControllerClearAlgorithms(this);\n            return result;\n        };\n        /** @internal */\n        ReadableByteStreamController.prototype[PullSteps] = function (readRequest) {\n            var stream = this._controlledReadableByteStream;\n            if (this._queueTotalSize > 0) {\n                var entry = this._queue.shift();\n                this._queueTotalSize -= entry.byteLength;\n                ReadableByteStreamControllerHandleQueueDrain(this);\n                var view = new Uint8Array(entry.buffer, entry.byteOffset, entry.byteLength);\n                readRequest._chunkSteps(view);\n                return;\n            }\n            var autoAllocateChunkSize = this._autoAllocateChunkSize;\n            if (autoAllocateChunkSize !== undefined) {\n                var buffer = void 0;\n                try {\n                    buffer = new ArrayBuffer(autoAllocateChunkSize);\n                }\n                catch (bufferE) {\n                    readRequest._errorSteps(bufferE);\n                    return;\n                }\n                var pullIntoDescriptor = {\n                    buffer: buffer,\n                    bufferByteLength: autoAllocateChunkSize,\n                    byteOffset: 0,\n                    byteLength: autoAllocateChunkSize,\n                    bytesFilled: 0,\n                    elementSize: 1,\n                    viewConstructor: Uint8Array,\n                    readerType: 'default'\n                };\n                this._pendingPullIntos.push(pullIntoDescriptor);\n            }\n            ReadableStreamAddReadRequest(stream, readRequest);\n            ReadableByteStreamControllerCallPullIfNeeded(this);\n        };\n        return ReadableByteStreamController;\n    }());\n    Object.defineProperties(ReadableByteStreamController.prototype, {\n        close: { enumerable: true },\n        enqueue: { enumerable: true },\n        error: { enumerable: true },\n        byobRequest: { enumerable: true },\n        desiredSize: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ReadableByteStreamController.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ReadableByteStreamController',\n            configurable: true\n        });\n    }\n    // Abstract operations for the ReadableByteStreamController.\n    function IsReadableByteStreamController(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_controlledReadableByteStream')) {\n            return false;\n        }\n        return x instanceof ReadableByteStreamController;\n    }\n    function IsReadableStreamBYOBRequest(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_associatedReadableByteStreamController')) {\n            return false;\n        }\n        return x instanceof ReadableStreamBYOBRequest;\n    }\n    function ReadableByteStreamControllerCallPullIfNeeded(controller) {\n        var shouldPull = ReadableByteStreamControllerShouldCallPull(controller);\n        if (!shouldPull) {\n            return;\n        }\n        if (controller._pulling) {\n            controller._pullAgain = true;\n            return;\n        }\n        controller._pulling = true;\n        // TODO: Test controller argument\n        var pullPromise = controller._pullAlgorithm();\n        uponPromise(pullPromise, function () {\n            controller._pulling = false;\n            if (controller._pullAgain) {\n                controller._pullAgain = false;\n                ReadableByteStreamControllerCallPullIfNeeded(controller);\n            }\n        }, function (e) {\n            ReadableByteStreamControllerError(controller, e);\n        });\n    }\n    function ReadableByteStreamControllerClearPendingPullIntos(controller) {\n        ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n        controller._pendingPullIntos = new SimpleQueue();\n    }\n    function ReadableByteStreamControllerCommitPullIntoDescriptor(stream, pullIntoDescriptor) {\n        var done = false;\n        if (stream._state === 'closed') {\n            done = true;\n        }\n        var filledView = ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);\n        if (pullIntoDescriptor.readerType === 'default') {\n            ReadableStreamFulfillReadRequest(stream, filledView, done);\n        }\n        else {\n            ReadableStreamFulfillReadIntoRequest(stream, filledView, done);\n        }\n    }\n    function ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor) {\n        var bytesFilled = pullIntoDescriptor.bytesFilled;\n        var elementSize = pullIntoDescriptor.elementSize;\n        return new pullIntoDescriptor.viewConstructor(pullIntoDescriptor.buffer, pullIntoDescriptor.byteOffset, bytesFilled / elementSize);\n    }\n    function ReadableByteStreamControllerEnqueueChunkToQueue(controller, buffer, byteOffset, byteLength) {\n        controller._queue.push({ buffer: buffer, byteOffset: byteOffset, byteLength: byteLength });\n        controller._queueTotalSize += byteLength;\n    }\n    function ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor) {\n        var elementSize = pullIntoDescriptor.elementSize;\n        var currentAlignedBytes = pullIntoDescriptor.bytesFilled - pullIntoDescriptor.bytesFilled % elementSize;\n        var maxBytesToCopy = Math.min(controller._queueTotalSize, pullIntoDescriptor.byteLength - pullIntoDescriptor.bytesFilled);\n        var maxBytesFilled = pullIntoDescriptor.bytesFilled + maxBytesToCopy;\n        var maxAlignedBytes = maxBytesFilled - maxBytesFilled % elementSize;\n        var totalBytesToCopyRemaining = maxBytesToCopy;\n        var ready = false;\n        if (maxAlignedBytes > currentAlignedBytes) {\n            totalBytesToCopyRemaining = maxAlignedBytes - pullIntoDescriptor.bytesFilled;\n            ready = true;\n        }\n        var queue = controller._queue;\n        while (totalBytesToCopyRemaining > 0) {\n            var headOfQueue = queue.peek();\n            var bytesToCopy = Math.min(totalBytesToCopyRemaining, headOfQueue.byteLength);\n            var destStart = pullIntoDescriptor.byteOffset + pullIntoDescriptor.bytesFilled;\n            CopyDataBlockBytes(pullIntoDescriptor.buffer, destStart, headOfQueue.buffer, headOfQueue.byteOffset, bytesToCopy);\n            if (headOfQueue.byteLength === bytesToCopy) {\n                queue.shift();\n            }\n            else {\n                headOfQueue.byteOffset += bytesToCopy;\n                headOfQueue.byteLength -= bytesToCopy;\n            }\n            controller._queueTotalSize -= bytesToCopy;\n            ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, bytesToCopy, pullIntoDescriptor);\n            totalBytesToCopyRemaining -= bytesToCopy;\n        }\n        return ready;\n    }\n    function ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, size, pullIntoDescriptor) {\n        pullIntoDescriptor.bytesFilled += size;\n    }\n    function ReadableByteStreamControllerHandleQueueDrain(controller) {\n        if (controller._queueTotalSize === 0 && controller._closeRequested) {\n            ReadableByteStreamControllerClearAlgorithms(controller);\n            ReadableStreamClose(controller._controlledReadableByteStream);\n        }\n        else {\n            ReadableByteStreamControllerCallPullIfNeeded(controller);\n        }\n    }\n    function ReadableByteStreamControllerInvalidateBYOBRequest(controller) {\n        if (controller._byobRequest === null) {\n            return;\n        }\n        controller._byobRequest._associatedReadableByteStreamController = undefined;\n        controller._byobRequest._view = null;\n        controller._byobRequest = null;\n    }\n    function ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller) {\n        while (controller._pendingPullIntos.length > 0) {\n            if (controller._queueTotalSize === 0) {\n                return;\n            }\n            var pullIntoDescriptor = controller._pendingPullIntos.peek();\n            if (ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor)) {\n                ReadableByteStreamControllerShiftPendingPullInto(controller);\n                ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableByteStream, pullIntoDescriptor);\n            }\n        }\n    }\n    function ReadableByteStreamControllerPullInto(controller, view, readIntoRequest) {\n        var stream = controller._controlledReadableByteStream;\n        var elementSize = 1;\n        if (view.constructor !== DataView) {\n            elementSize = view.constructor.BYTES_PER_ELEMENT;\n        }\n        var ctor = view.constructor;\n        // try {\n        var buffer = TransferArrayBuffer(view.buffer);\n        // } catch (e) {\n        //   readIntoRequest._errorSteps(e);\n        //   return;\n        // }\n        var pullIntoDescriptor = {\n            buffer: buffer,\n            bufferByteLength: buffer.byteLength,\n            byteOffset: view.byteOffset,\n            byteLength: view.byteLength,\n            bytesFilled: 0,\n            elementSize: elementSize,\n            viewConstructor: ctor,\n            readerType: 'byob'\n        };\n        if (controller._pendingPullIntos.length > 0) {\n            controller._pendingPullIntos.push(pullIntoDescriptor);\n            // No ReadableByteStreamControllerCallPullIfNeeded() call since:\n            // - No change happens on desiredSize\n            // - The source has already been notified of that there's at least 1 pending read(view)\n            ReadableStreamAddReadIntoRequest(stream, readIntoRequest);\n            return;\n        }\n        if (stream._state === 'closed') {\n            var emptyView = new ctor(pullIntoDescriptor.buffer, pullIntoDescriptor.byteOffset, 0);\n            readIntoRequest._closeSteps(emptyView);\n            return;\n        }\n        if (controller._queueTotalSize > 0) {\n            if (ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor)) {\n                var filledView = ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);\n                ReadableByteStreamControllerHandleQueueDrain(controller);\n                readIntoRequest._chunkSteps(filledView);\n                return;\n            }\n            if (controller._closeRequested) {\n                var e = new TypeError('Insufficient bytes to fill elements in the given buffer');\n                ReadableByteStreamControllerError(controller, e);\n                readIntoRequest._errorSteps(e);\n                return;\n            }\n        }\n        controller._pendingPullIntos.push(pullIntoDescriptor);\n        ReadableStreamAddReadIntoRequest(stream, readIntoRequest);\n        ReadableByteStreamControllerCallPullIfNeeded(controller);\n    }\n    function ReadableByteStreamControllerRespondInClosedState(controller, firstDescriptor) {\n        var stream = controller._controlledReadableByteStream;\n        if (ReadableStreamHasBYOBReader(stream)) {\n            while (ReadableStreamGetNumReadIntoRequests(stream) > 0) {\n                var pullIntoDescriptor = ReadableByteStreamControllerShiftPendingPullInto(controller);\n                ReadableByteStreamControllerCommitPullIntoDescriptor(stream, pullIntoDescriptor);\n            }\n        }\n    }\n    function ReadableByteStreamControllerRespondInReadableState(controller, bytesWritten, pullIntoDescriptor) {\n        ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, bytesWritten, pullIntoDescriptor);\n        if (pullIntoDescriptor.bytesFilled < pullIntoDescriptor.elementSize) {\n            return;\n        }\n        ReadableByteStreamControllerShiftPendingPullInto(controller);\n        var remainderSize = pullIntoDescriptor.bytesFilled % pullIntoDescriptor.elementSize;\n        if (remainderSize > 0) {\n            var end = pullIntoDescriptor.byteOffset + pullIntoDescriptor.bytesFilled;\n            var remainder = ArrayBufferSlice(pullIntoDescriptor.buffer, end - remainderSize, end);\n            ReadableByteStreamControllerEnqueueChunkToQueue(controller, remainder, 0, remainder.byteLength);\n        }\n        pullIntoDescriptor.bytesFilled -= remainderSize;\n        ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableByteStream, pullIntoDescriptor);\n        ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller);\n    }\n    function ReadableByteStreamControllerRespondInternal(controller, bytesWritten) {\n        var firstDescriptor = controller._pendingPullIntos.peek();\n        ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n        var state = controller._controlledReadableByteStream._state;\n        if (state === 'closed') {\n            ReadableByteStreamControllerRespondInClosedState(controller);\n        }\n        else {\n            ReadableByteStreamControllerRespondInReadableState(controller, bytesWritten, firstDescriptor);\n        }\n        ReadableByteStreamControllerCallPullIfNeeded(controller);\n    }\n    function ReadableByteStreamControllerShiftPendingPullInto(controller) {\n        var descriptor = controller._pendingPullIntos.shift();\n        return descriptor;\n    }\n    function ReadableByteStreamControllerShouldCallPull(controller) {\n        var stream = controller._controlledReadableByteStream;\n        if (stream._state !== 'readable') {\n            return false;\n        }\n        if (controller._closeRequested) {\n            return false;\n        }\n        if (!controller._started) {\n            return false;\n        }\n        if (ReadableStreamHasDefaultReader(stream) && ReadableStreamGetNumReadRequests(stream) > 0) {\n            return true;\n        }\n        if (ReadableStreamHasBYOBReader(stream) && ReadableStreamGetNumReadIntoRequests(stream) > 0) {\n            return true;\n        }\n        var desiredSize = ReadableByteStreamControllerGetDesiredSize(controller);\n        if (desiredSize > 0) {\n            return true;\n        }\n        return false;\n    }\n    function ReadableByteStreamControllerClearAlgorithms(controller) {\n        controller._pullAlgorithm = undefined;\n        controller._cancelAlgorithm = undefined;\n    }\n    // A client of ReadableByteStreamController may use these functions directly to bypass state check.\n    function ReadableByteStreamControllerClose(controller) {\n        var stream = controller._controlledReadableByteStream;\n        if (controller._closeRequested || stream._state !== 'readable') {\n            return;\n        }\n        if (controller._queueTotalSize > 0) {\n            controller._closeRequested = true;\n            return;\n        }\n        if (controller._pendingPullIntos.length > 0) {\n            var firstPendingPullInto = controller._pendingPullIntos.peek();\n            if (firstPendingPullInto.bytesFilled > 0) {\n                var e = new TypeError('Insufficient bytes to fill elements in the given buffer');\n                ReadableByteStreamControllerError(controller, e);\n                throw e;\n            }\n        }\n        ReadableByteStreamControllerClearAlgorithms(controller);\n        ReadableStreamClose(stream);\n    }\n    function ReadableByteStreamControllerEnqueue(controller, chunk) {\n        var stream = controller._controlledReadableByteStream;\n        if (controller._closeRequested || stream._state !== 'readable') {\n            return;\n        }\n        var buffer = chunk.buffer;\n        var byteOffset = chunk.byteOffset;\n        var byteLength = chunk.byteLength;\n        var transferredBuffer = TransferArrayBuffer(buffer);\n        if (controller._pendingPullIntos.length > 0) {\n            var firstPendingPullInto = controller._pendingPullIntos.peek();\n            if (IsDetachedBuffer(firstPendingPullInto.buffer)) ;\n            firstPendingPullInto.buffer = TransferArrayBuffer(firstPendingPullInto.buffer);\n        }\n        ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n        if (ReadableStreamHasDefaultReader(stream)) {\n            if (ReadableStreamGetNumReadRequests(stream) === 0) {\n                ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n            }\n            else {\n                if (controller._pendingPullIntos.length > 0) {\n                    ReadableByteStreamControllerShiftPendingPullInto(controller);\n                }\n                var transferredView = new Uint8Array(transferredBuffer, byteOffset, byteLength);\n                ReadableStreamFulfillReadRequest(stream, transferredView, false);\n            }\n        }\n        else if (ReadableStreamHasBYOBReader(stream)) {\n            // TODO: Ideally in this branch detaching should happen only if the buffer is not consumed fully.\n            ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n            ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller);\n        }\n        else {\n            ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n        }\n        ReadableByteStreamControllerCallPullIfNeeded(controller);\n    }\n    function ReadableByteStreamControllerError(controller, e) {\n        var stream = controller._controlledReadableByteStream;\n        if (stream._state !== 'readable') {\n            return;\n        }\n        ReadableByteStreamControllerClearPendingPullIntos(controller);\n        ResetQueue(controller);\n        ReadableByteStreamControllerClearAlgorithms(controller);\n        ReadableStreamError(stream, e);\n    }\n    function ReadableByteStreamControllerGetBYOBRequest(controller) {\n        if (controller._byobRequest === null && controller._pendingPullIntos.length > 0) {\n            var firstDescriptor = controller._pendingPullIntos.peek();\n            var view = new Uint8Array(firstDescriptor.buffer, firstDescriptor.byteOffset + firstDescriptor.bytesFilled, firstDescriptor.byteLength - firstDescriptor.bytesFilled);\n            var byobRequest = Object.create(ReadableStreamBYOBRequest.prototype);\n            SetUpReadableStreamBYOBRequest(byobRequest, controller, view);\n            controller._byobRequest = byobRequest;\n        }\n        return controller._byobRequest;\n    }\n    function ReadableByteStreamControllerGetDesiredSize(controller) {\n        var state = controller._controlledReadableByteStream._state;\n        if (state === 'errored') {\n            return null;\n        }\n        if (state === 'closed') {\n            return 0;\n        }\n        return controller._strategyHWM - controller._queueTotalSize;\n    }\n    function ReadableByteStreamControllerRespond(controller, bytesWritten) {\n        var firstDescriptor = controller._pendingPullIntos.peek();\n        var state = controller._controlledReadableByteStream._state;\n        if (state === 'closed') {\n            if (bytesWritten !== 0) {\n                throw new TypeError('bytesWritten must be 0 when calling respond() on a closed stream');\n            }\n        }\n        else {\n            if (bytesWritten === 0) {\n                throw new TypeError('bytesWritten must be greater than 0 when calling respond() on a readable stream');\n            }\n            if (firstDescriptor.bytesFilled + bytesWritten > firstDescriptor.byteLength) {\n                throw new RangeError('bytesWritten out of range');\n            }\n        }\n        firstDescriptor.buffer = TransferArrayBuffer(firstDescriptor.buffer);\n        ReadableByteStreamControllerRespondInternal(controller, bytesWritten);\n    }\n    function ReadableByteStreamControllerRespondWithNewView(controller, view) {\n        var firstDescriptor = controller._pendingPullIntos.peek();\n        var state = controller._controlledReadableByteStream._state;\n        if (state === 'closed') {\n            if (view.byteLength !== 0) {\n                throw new TypeError('The view\\'s length must be 0 when calling respondWithNewView() on a closed stream');\n            }\n        }\n        else {\n            if (view.byteLength === 0) {\n                throw new TypeError('The view\\'s length must be greater than 0 when calling respondWithNewView() on a readable stream');\n            }\n        }\n        if (firstDescriptor.byteOffset + firstDescriptor.bytesFilled !== view.byteOffset) {\n            throw new RangeError('The region specified by view does not match byobRequest');\n        }\n        if (firstDescriptor.bufferByteLength !== view.buffer.byteLength) {\n            throw new RangeError('The buffer of view has different capacity than byobRequest');\n        }\n        if (firstDescriptor.bytesFilled + view.byteLength > firstDescriptor.byteLength) {\n            throw new RangeError('The region specified by view is larger than byobRequest');\n        }\n        var viewByteLength = view.byteLength;\n        firstDescriptor.buffer = TransferArrayBuffer(view.buffer);\n        ReadableByteStreamControllerRespondInternal(controller, viewByteLength);\n    }\n    function SetUpReadableByteStreamController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, autoAllocateChunkSize) {\n        controller._controlledReadableByteStream = stream;\n        controller._pullAgain = false;\n        controller._pulling = false;\n        controller._byobRequest = null;\n        // Need to set the slots so that the assert doesn't fire. In the spec the slots already exist implicitly.\n        controller._queue = controller._queueTotalSize = undefined;\n        ResetQueue(controller);\n        controller._closeRequested = false;\n        controller._started = false;\n        controller._strategyHWM = highWaterMark;\n        controller._pullAlgorithm = pullAlgorithm;\n        controller._cancelAlgorithm = cancelAlgorithm;\n        controller._autoAllocateChunkSize = autoAllocateChunkSize;\n        controller._pendingPullIntos = new SimpleQueue();\n        stream._readableStreamController = controller;\n        var startResult = startAlgorithm();\n        uponPromise(promiseResolvedWith(startResult), function () {\n            controller._started = true;\n            ReadableByteStreamControllerCallPullIfNeeded(controller);\n        }, function (r) {\n            ReadableByteStreamControllerError(controller, r);\n        });\n    }\n    function SetUpReadableByteStreamControllerFromUnderlyingSource(stream, underlyingByteSource, highWaterMark) {\n        var controller = Object.create(ReadableByteStreamController.prototype);\n        var startAlgorithm = function () { return undefined; };\n        var pullAlgorithm = function () { return promiseResolvedWith(undefined); };\n        var cancelAlgorithm = function () { return promiseResolvedWith(undefined); };\n        if (underlyingByteSource.start !== undefined) {\n            startAlgorithm = function () { return underlyingByteSource.start(controller); };\n        }\n        if (underlyingByteSource.pull !== undefined) {\n            pullAlgorithm = function () { return underlyingByteSource.pull(controller); };\n        }\n        if (underlyingByteSource.cancel !== undefined) {\n            cancelAlgorithm = function (reason) { return underlyingByteSource.cancel(reason); };\n        }\n        var autoAllocateChunkSize = underlyingByteSource.autoAllocateChunkSize;\n        if (autoAllocateChunkSize === 0) {\n            throw new TypeError('autoAllocateChunkSize must be greater than 0');\n        }\n        SetUpReadableByteStreamController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, autoAllocateChunkSize);\n    }\n    function SetUpReadableStreamBYOBRequest(request, controller, view) {\n        request._associatedReadableByteStreamController = controller;\n        request._view = view;\n    }\n    // Helper functions for the ReadableStreamBYOBRequest.\n    function byobRequestBrandCheckException(name) {\n        return new TypeError(\"ReadableStreamBYOBRequest.prototype.\" + name + \" can only be used on a ReadableStreamBYOBRequest\");\n    }\n    // Helper functions for the ReadableByteStreamController.\n    function byteStreamControllerBrandCheckException(name) {\n        return new TypeError(\"ReadableByteStreamController.prototype.\" + name + \" can only be used on a ReadableByteStreamController\");\n    }\n\n    // Abstract operations for the ReadableStream.\n    function AcquireReadableStreamBYOBReader(stream) {\n        return new ReadableStreamBYOBReader(stream);\n    }\n    // ReadableStream API exposed for controllers.\n    function ReadableStreamAddReadIntoRequest(stream, readIntoRequest) {\n        stream._reader._readIntoRequests.push(readIntoRequest);\n    }\n    function ReadableStreamFulfillReadIntoRequest(stream, chunk, done) {\n        var reader = stream._reader;\n        var readIntoRequest = reader._readIntoRequests.shift();\n        if (done) {\n            readIntoRequest._closeSteps(chunk);\n        }\n        else {\n            readIntoRequest._chunkSteps(chunk);\n        }\n    }\n    function ReadableStreamGetNumReadIntoRequests(stream) {\n        return stream._reader._readIntoRequests.length;\n    }\n    function ReadableStreamHasBYOBReader(stream) {\n        var reader = stream._reader;\n        if (reader === undefined) {\n            return false;\n        }\n        if (!IsReadableStreamBYOBReader(reader)) {\n            return false;\n        }\n        return true;\n    }\n    /**\n     * A BYOB reader vended by a {@link ReadableStream}.\n     *\n     * @public\n     */\n    var ReadableStreamBYOBReader = /** @class */ (function () {\n        function ReadableStreamBYOBReader(stream) {\n            assertRequiredArgument(stream, 1, 'ReadableStreamBYOBReader');\n            assertReadableStream(stream, 'First parameter');\n            if (IsReadableStreamLocked(stream)) {\n                throw new TypeError('This stream has already been locked for exclusive reading by another reader');\n            }\n            if (!IsReadableByteStreamController(stream._readableStreamController)) {\n                throw new TypeError('Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte ' +\n                    'source');\n            }\n            ReadableStreamReaderGenericInitialize(this, stream);\n            this._readIntoRequests = new SimpleQueue();\n        }\n        Object.defineProperty(ReadableStreamBYOBReader.prototype, \"closed\", {\n            /**\n             * Returns a promise that will be fulfilled when the stream becomes closed, or rejected if the stream ever errors or\n             * the reader's lock is released before the stream finishes closing.\n             */\n            get: function () {\n                if (!IsReadableStreamBYOBReader(this)) {\n                    return promiseRejectedWith(byobReaderBrandCheckException('closed'));\n                }\n                return this._closedPromise;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        /**\n         * If the reader is active, behaves the same as {@link ReadableStream.cancel | stream.cancel(reason)}.\n         */\n        ReadableStreamBYOBReader.prototype.cancel = function (reason) {\n            if (reason === void 0) { reason = undefined; }\n            if (!IsReadableStreamBYOBReader(this)) {\n                return promiseRejectedWith(byobReaderBrandCheckException('cancel'));\n            }\n            if (this._ownerReadableStream === undefined) {\n                return promiseRejectedWith(readerLockException('cancel'));\n            }\n            return ReadableStreamReaderGenericCancel(this, reason);\n        };\n        /**\n         * Attempts to reads bytes into view, and returns a promise resolved with the result.\n         *\n         * If reading a chunk causes the queue to become empty, more data will be pulled from the underlying source.\n         */\n        ReadableStreamBYOBReader.prototype.read = function (view) {\n            if (!IsReadableStreamBYOBReader(this)) {\n                return promiseRejectedWith(byobReaderBrandCheckException('read'));\n            }\n            if (!ArrayBuffer.isView(view)) {\n                return promiseRejectedWith(new TypeError('view must be an array buffer view'));\n            }\n            if (view.byteLength === 0) {\n                return promiseRejectedWith(new TypeError('view must have non-zero byteLength'));\n            }\n            if (view.buffer.byteLength === 0) {\n                return promiseRejectedWith(new TypeError(\"view's buffer must have non-zero byteLength\"));\n            }\n            if (IsDetachedBuffer(view.buffer)) ;\n            if (this._ownerReadableStream === undefined) {\n                return promiseRejectedWith(readerLockException('read from'));\n            }\n            var resolvePromise;\n            var rejectPromise;\n            var promise = newPromise(function (resolve, reject) {\n                resolvePromise = resolve;\n                rejectPromise = reject;\n            });\n            var readIntoRequest = {\n                _chunkSteps: function (chunk) { return resolvePromise({ value: chunk, done: false }); },\n                _closeSteps: function (chunk) { return resolvePromise({ value: chunk, done: true }); },\n                _errorSteps: function (e) { return rejectPromise(e); }\n            };\n            ReadableStreamBYOBReaderRead(this, view, readIntoRequest);\n            return promise;\n        };\n        /**\n         * Releases the reader's lock on the corresponding stream. After the lock is released, the reader is no longer active.\n         * If the associated stream is errored when the lock is released, the reader will appear errored in the same way\n         * from now on; otherwise, the reader will appear closed.\n         *\n         * A reader's lock cannot be released while it still has a pending read request, i.e., if a promise returned by\n         * the reader's {@link ReadableStreamBYOBReader.read | read()} method has not yet been settled. Attempting to\n         * do so will throw a `TypeError` and leave the reader locked to the stream.\n         */\n        ReadableStreamBYOBReader.prototype.releaseLock = function () {\n            if (!IsReadableStreamBYOBReader(this)) {\n                throw byobReaderBrandCheckException('releaseLock');\n            }\n            if (this._ownerReadableStream === undefined) {\n                return;\n            }\n            if (this._readIntoRequests.length > 0) {\n                throw new TypeError('Tried to release a reader lock when that reader has pending read() calls un-settled');\n            }\n            ReadableStreamReaderGenericRelease(this);\n        };\n        return ReadableStreamBYOBReader;\n    }());\n    Object.defineProperties(ReadableStreamBYOBReader.prototype, {\n        cancel: { enumerable: true },\n        read: { enumerable: true },\n        releaseLock: { enumerable: true },\n        closed: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ReadableStreamBYOBReader.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ReadableStreamBYOBReader',\n            configurable: true\n        });\n    }\n    // Abstract operations for the readers.\n    function IsReadableStreamBYOBReader(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_readIntoRequests')) {\n            return false;\n        }\n        return x instanceof ReadableStreamBYOBReader;\n    }\n    function ReadableStreamBYOBReaderRead(reader, view, readIntoRequest) {\n        var stream = reader._ownerReadableStream;\n        stream._disturbed = true;\n        if (stream._state === 'errored') {\n            readIntoRequest._errorSteps(stream._storedError);\n        }\n        else {\n            ReadableByteStreamControllerPullInto(stream._readableStreamController, view, readIntoRequest);\n        }\n    }\n    // Helper functions for the ReadableStreamBYOBReader.\n    function byobReaderBrandCheckException(name) {\n        return new TypeError(\"ReadableStreamBYOBReader.prototype.\" + name + \" can only be used on a ReadableStreamBYOBReader\");\n    }\n\n    function ExtractHighWaterMark(strategy, defaultHWM) {\n        var highWaterMark = strategy.highWaterMark;\n        if (highWaterMark === undefined) {\n            return defaultHWM;\n        }\n        if (NumberIsNaN(highWaterMark) || highWaterMark < 0) {\n            throw new RangeError('Invalid highWaterMark');\n        }\n        return highWaterMark;\n    }\n    function ExtractSizeAlgorithm(strategy) {\n        var size = strategy.size;\n        if (!size) {\n            return function () { return 1; };\n        }\n        return size;\n    }\n\n    function convertQueuingStrategy(init, context) {\n        assertDictionary(init, context);\n        var highWaterMark = init === null || init === void 0 ? void 0 : init.highWaterMark;\n        var size = init === null || init === void 0 ? void 0 : init.size;\n        return {\n            highWaterMark: highWaterMark === undefined ? undefined : convertUnrestrictedDouble(highWaterMark),\n            size: size === undefined ? undefined : convertQueuingStrategySize(size, context + \" has member 'size' that\")\n        };\n    }\n    function convertQueuingStrategySize(fn, context) {\n        assertFunction(fn, context);\n        return function (chunk) { return convertUnrestrictedDouble(fn(chunk)); };\n    }\n\n    function convertUnderlyingSink(original, context) {\n        assertDictionary(original, context);\n        var abort = original === null || original === void 0 ? void 0 : original.abort;\n        var close = original === null || original === void 0 ? void 0 : original.close;\n        var start = original === null || original === void 0 ? void 0 : original.start;\n        var type = original === null || original === void 0 ? void 0 : original.type;\n        var write = original === null || original === void 0 ? void 0 : original.write;\n        return {\n            abort: abort === undefined ?\n                undefined :\n                convertUnderlyingSinkAbortCallback(abort, original, context + \" has member 'abort' that\"),\n            close: close === undefined ?\n                undefined :\n                convertUnderlyingSinkCloseCallback(close, original, context + \" has member 'close' that\"),\n            start: start === undefined ?\n                undefined :\n                convertUnderlyingSinkStartCallback(start, original, context + \" has member 'start' that\"),\n            write: write === undefined ?\n                undefined :\n                convertUnderlyingSinkWriteCallback(write, original, context + \" has member 'write' that\"),\n            type: type\n        };\n    }\n    function convertUnderlyingSinkAbortCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return function (reason) { return promiseCall(fn, original, [reason]); };\n    }\n    function convertUnderlyingSinkCloseCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return function () { return promiseCall(fn, original, []); };\n    }\n    function convertUnderlyingSinkStartCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return function (controller) { return reflectCall(fn, original, [controller]); };\n    }\n    function convertUnderlyingSinkWriteCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return function (chunk, controller) { return promiseCall(fn, original, [chunk, controller]); };\n    }\n\n    function assertWritableStream(x, context) {\n        if (!IsWritableStream(x)) {\n            throw new TypeError(context + \" is not a WritableStream.\");\n        }\n    }\n\n    function isAbortSignal(value) {\n        if (typeof value !== 'object' || value === null) {\n            return false;\n        }\n        try {\n            return typeof value.aborted === 'boolean';\n        }\n        catch (_a) {\n            // AbortSignal.prototype.aborted throws if its brand check fails\n            return false;\n        }\n    }\n    var supportsAbortController = typeof AbortController === 'function';\n    /**\n     * Construct a new AbortController, if supported by the platform.\n     *\n     * @internal\n     */\n    function createAbortController() {\n        if (supportsAbortController) {\n            return new AbortController();\n        }\n        return undefined;\n    }\n\n    /**\n     * A writable stream represents a destination for data, into which you can write.\n     *\n     * @public\n     */\n    var WritableStream = /** @class */ (function () {\n        function WritableStream(rawUnderlyingSink, rawStrategy) {\n            if (rawUnderlyingSink === void 0) { rawUnderlyingSink = {}; }\n            if (rawStrategy === void 0) { rawStrategy = {}; }\n            if (rawUnderlyingSink === undefined) {\n                rawUnderlyingSink = null;\n            }\n            else {\n                assertObject(rawUnderlyingSink, 'First parameter');\n            }\n            var strategy = convertQueuingStrategy(rawStrategy, 'Second parameter');\n            var underlyingSink = convertUnderlyingSink(rawUnderlyingSink, 'First parameter');\n            InitializeWritableStream(this);\n            var type = underlyingSink.type;\n            if (type !== undefined) {\n                throw new RangeError('Invalid type is specified');\n            }\n            var sizeAlgorithm = ExtractSizeAlgorithm(strategy);\n            var highWaterMark = ExtractHighWaterMark(strategy, 1);\n            SetUpWritableStreamDefaultControllerFromUnderlyingSink(this, underlyingSink, highWaterMark, sizeAlgorithm);\n        }\n        Object.defineProperty(WritableStream.prototype, \"locked\", {\n            /**\n             * Returns whether or not the writable stream is locked to a writer.\n             */\n            get: function () {\n                if (!IsWritableStream(this)) {\n                    throw streamBrandCheckException$2('locked');\n                }\n                return IsWritableStreamLocked(this);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        /**\n         * Aborts the stream, signaling that the producer can no longer successfully write to the stream and it is to be\n         * immediately moved to an errored state, with any queued-up writes discarded. This will also execute any abort\n         * mechanism of the underlying sink.\n         *\n         * The returned promise will fulfill if the stream shuts down successfully, or reject if the underlying sink signaled\n         * that there was an error doing so. Additionally, it will reject with a `TypeError` (without attempting to cancel\n         * the stream) if the stream is currently locked.\n         */\n        WritableStream.prototype.abort = function (reason) {\n            if (reason === void 0) { reason = undefined; }\n            if (!IsWritableStream(this)) {\n                return promiseRejectedWith(streamBrandCheckException$2('abort'));\n            }\n            if (IsWritableStreamLocked(this)) {\n                return promiseRejectedWith(new TypeError('Cannot abort a stream that already has a writer'));\n            }\n            return WritableStreamAbort(this, reason);\n        };\n        /**\n         * Closes the stream. The underlying sink will finish processing any previously-written chunks, before invoking its\n         * close behavior. During this time any further attempts to write will fail (without erroring the stream).\n         *\n         * The method returns a promise that will fulfill if all remaining chunks are successfully written and the stream\n         * successfully closes, or rejects if an error is encountered during this process. Additionally, it will reject with\n         * a `TypeError` (without attempting to cancel the stream) if the stream is currently locked.\n         */\n        WritableStream.prototype.close = function () {\n            if (!IsWritableStream(this)) {\n                return promiseRejectedWith(streamBrandCheckException$2('close'));\n            }\n            if (IsWritableStreamLocked(this)) {\n                return promiseRejectedWith(new TypeError('Cannot close a stream that already has a writer'));\n            }\n            if (WritableStreamCloseQueuedOrInFlight(this)) {\n                return promiseRejectedWith(new TypeError('Cannot close an already-closing stream'));\n            }\n            return WritableStreamClose(this);\n        };\n        /**\n         * Creates a {@link WritableStreamDefaultWriter | writer} and locks the stream to the new writer. While the stream\n         * is locked, no other writer can be acquired until this one is released.\n         *\n         * This functionality is especially useful for creating abstractions that desire the ability to write to a stream\n         * without interruption or interleaving. By getting a writer for the stream, you can ensure nobody else can write at\n         * the same time, which would cause the resulting written data to be unpredictable and probably useless.\n         */\n        WritableStream.prototype.getWriter = function () {\n            if (!IsWritableStream(this)) {\n                throw streamBrandCheckException$2('getWriter');\n            }\n            return AcquireWritableStreamDefaultWriter(this);\n        };\n        return WritableStream;\n    }());\n    Object.defineProperties(WritableStream.prototype, {\n        abort: { enumerable: true },\n        close: { enumerable: true },\n        getWriter: { enumerable: true },\n        locked: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(WritableStream.prototype, SymbolPolyfill.toStringTag, {\n            value: 'WritableStream',\n            configurable: true\n        });\n    }\n    // Abstract operations for the WritableStream.\n    function AcquireWritableStreamDefaultWriter(stream) {\n        return new WritableStreamDefaultWriter(stream);\n    }\n    // Throws if and only if startAlgorithm throws.\n    function CreateWritableStream(startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark, sizeAlgorithm) {\n        if (highWaterMark === void 0) { highWaterMark = 1; }\n        if (sizeAlgorithm === void 0) { sizeAlgorithm = function () { return 1; }; }\n        var stream = Object.create(WritableStream.prototype);\n        InitializeWritableStream(stream);\n        var controller = Object.create(WritableStreamDefaultController.prototype);\n        SetUpWritableStreamDefaultController(stream, controller, startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark, sizeAlgorithm);\n        return stream;\n    }\n    function InitializeWritableStream(stream) {\n        stream._state = 'writable';\n        // The error that will be reported by new method calls once the state becomes errored. Only set when [[state]] is\n        // 'erroring' or 'errored'. May be set to an undefined value.\n        stream._storedError = undefined;\n        stream._writer = undefined;\n        // Initialize to undefined first because the constructor of the controller checks this\n        // variable to validate the caller.\n        stream._writableStreamController = undefined;\n        // This queue is placed here instead of the writer class in order to allow for passing a writer to the next data\n        // producer without waiting for the queued writes to finish.\n        stream._writeRequests = new SimpleQueue();\n        // Write requests are removed from _writeRequests when write() is called on the underlying sink. This prevents\n        // them from being erroneously rejected on error. If a write() call is in-flight, the request is stored here.\n        stream._inFlightWriteRequest = undefined;\n        // The promise that was returned from writer.close(). Stored here because it may be fulfilled after the writer\n        // has been detached.\n        stream._closeRequest = undefined;\n        // Close request is removed from _closeRequest when close() is called on the underlying sink. This prevents it\n        // from being erroneously rejected on error. If a close() call is in-flight, the request is stored here.\n        stream._inFlightCloseRequest = undefined;\n        // The promise that was returned from writer.abort(). This may also be fulfilled after the writer has detached.\n        stream._pendingAbortRequest = undefined;\n        // The backpressure signal set by the controller.\n        stream._backpressure = false;\n    }\n    function IsWritableStream(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_writableStreamController')) {\n            return false;\n        }\n        return x instanceof WritableStream;\n    }\n    function IsWritableStreamLocked(stream) {\n        if (stream._writer === undefined) {\n            return false;\n        }\n        return true;\n    }\n    function WritableStreamAbort(stream, reason) {\n        var _a;\n        if (stream._state === 'closed' || stream._state === 'errored') {\n            return promiseResolvedWith(undefined);\n        }\n        stream._writableStreamController._abortReason = reason;\n        (_a = stream._writableStreamController._abortController) === null || _a === void 0 ? void 0 : _a.abort();\n        // TypeScript narrows the type of `stream._state` down to 'writable' | 'erroring',\n        // but it doesn't know that signaling abort runs author code that might have changed the state.\n        // Widen the type again by casting to WritableStreamState.\n        var state = stream._state;\n        if (state === 'closed' || state === 'errored') {\n            return promiseResolvedWith(undefined);\n        }\n        if (stream._pendingAbortRequest !== undefined) {\n            return stream._pendingAbortRequest._promise;\n        }\n        var wasAlreadyErroring = false;\n        if (state === 'erroring') {\n            wasAlreadyErroring = true;\n            // reason will not be used, so don't keep a reference to it.\n            reason = undefined;\n        }\n        var promise = newPromise(function (resolve, reject) {\n            stream._pendingAbortRequest = {\n                _promise: undefined,\n                _resolve: resolve,\n                _reject: reject,\n                _reason: reason,\n                _wasAlreadyErroring: wasAlreadyErroring\n            };\n        });\n        stream._pendingAbortRequest._promise = promise;\n        if (!wasAlreadyErroring) {\n            WritableStreamStartErroring(stream, reason);\n        }\n        return promise;\n    }\n    function WritableStreamClose(stream) {\n        var state = stream._state;\n        if (state === 'closed' || state === 'errored') {\n            return promiseRejectedWith(new TypeError(\"The stream (in \" + state + \" state) is not in the writable state and cannot be closed\"));\n        }\n        var promise = newPromise(function (resolve, reject) {\n            var closeRequest = {\n                _resolve: resolve,\n                _reject: reject\n            };\n            stream._closeRequest = closeRequest;\n        });\n        var writer = stream._writer;\n        if (writer !== undefined && stream._backpressure && state === 'writable') {\n            defaultWriterReadyPromiseResolve(writer);\n        }\n        WritableStreamDefaultControllerClose(stream._writableStreamController);\n        return promise;\n    }\n    // WritableStream API exposed for controllers.\n    function WritableStreamAddWriteRequest(stream) {\n        var promise = newPromise(function (resolve, reject) {\n            var writeRequest = {\n                _resolve: resolve,\n                _reject: reject\n            };\n            stream._writeRequests.push(writeRequest);\n        });\n        return promise;\n    }\n    function WritableStreamDealWithRejection(stream, error) {\n        var state = stream._state;\n        if (state === 'writable') {\n            WritableStreamStartErroring(stream, error);\n            return;\n        }\n        WritableStreamFinishErroring(stream);\n    }\n    function WritableStreamStartErroring(stream, reason) {\n        var controller = stream._writableStreamController;\n        stream._state = 'erroring';\n        stream._storedError = reason;\n        var writer = stream._writer;\n        if (writer !== undefined) {\n            WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, reason);\n        }\n        if (!WritableStreamHasOperationMarkedInFlight(stream) && controller._started) {\n            WritableStreamFinishErroring(stream);\n        }\n    }\n    function WritableStreamFinishErroring(stream) {\n        stream._state = 'errored';\n        stream._writableStreamController[ErrorSteps]();\n        var storedError = stream._storedError;\n        stream._writeRequests.forEach(function (writeRequest) {\n            writeRequest._reject(storedError);\n        });\n        stream._writeRequests = new SimpleQueue();\n        if (stream._pendingAbortRequest === undefined) {\n            WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n            return;\n        }\n        var abortRequest = stream._pendingAbortRequest;\n        stream._pendingAbortRequest = undefined;\n        if (abortRequest._wasAlreadyErroring) {\n            abortRequest._reject(storedError);\n            WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n            return;\n        }\n        var promise = stream._writableStreamController[AbortSteps](abortRequest._reason);\n        uponPromise(promise, function () {\n            abortRequest._resolve();\n            WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n        }, function (reason) {\n            abortRequest._reject(reason);\n            WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n        });\n    }\n    function WritableStreamFinishInFlightWrite(stream) {\n        stream._inFlightWriteRequest._resolve(undefined);\n        stream._inFlightWriteRequest = undefined;\n    }\n    function WritableStreamFinishInFlightWriteWithError(stream, error) {\n        stream._inFlightWriteRequest._reject(error);\n        stream._inFlightWriteRequest = undefined;\n        WritableStreamDealWithRejection(stream, error);\n    }\n    function WritableStreamFinishInFlightClose(stream) {\n        stream._inFlightCloseRequest._resolve(undefined);\n        stream._inFlightCloseRequest = undefined;\n        var state = stream._state;\n        if (state === 'erroring') {\n            // The error was too late to do anything, so it is ignored.\n            stream._storedError = undefined;\n            if (stream._pendingAbortRequest !== undefined) {\n                stream._pendingAbortRequest._resolve();\n                stream._pendingAbortRequest = undefined;\n            }\n        }\n        stream._state = 'closed';\n        var writer = stream._writer;\n        if (writer !== undefined) {\n            defaultWriterClosedPromiseResolve(writer);\n        }\n    }\n    function WritableStreamFinishInFlightCloseWithError(stream, error) {\n        stream._inFlightCloseRequest._reject(error);\n        stream._inFlightCloseRequest = undefined;\n        // Never execute sink abort() after sink close().\n        if (stream._pendingAbortRequest !== undefined) {\n            stream._pendingAbortRequest._reject(error);\n            stream._pendingAbortRequest = undefined;\n        }\n        WritableStreamDealWithRejection(stream, error);\n    }\n    // TODO(ricea): Fix alphabetical order.\n    function WritableStreamCloseQueuedOrInFlight(stream) {\n        if (stream._closeRequest === undefined && stream._inFlightCloseRequest === undefined) {\n            return false;\n        }\n        return true;\n    }\n    function WritableStreamHasOperationMarkedInFlight(stream) {\n        if (stream._inFlightWriteRequest === undefined && stream._inFlightCloseRequest === undefined) {\n            return false;\n        }\n        return true;\n    }\n    function WritableStreamMarkCloseRequestInFlight(stream) {\n        stream._inFlightCloseRequest = stream._closeRequest;\n        stream._closeRequest = undefined;\n    }\n    function WritableStreamMarkFirstWriteRequestInFlight(stream) {\n        stream._inFlightWriteRequest = stream._writeRequests.shift();\n    }\n    function WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream) {\n        if (stream._closeRequest !== undefined) {\n            stream._closeRequest._reject(stream._storedError);\n            stream._closeRequest = undefined;\n        }\n        var writer = stream._writer;\n        if (writer !== undefined) {\n            defaultWriterClosedPromiseReject(writer, stream._storedError);\n        }\n    }\n    function WritableStreamUpdateBackpressure(stream, backpressure) {\n        var writer = stream._writer;\n        if (writer !== undefined && backpressure !== stream._backpressure) {\n            if (backpressure) {\n                defaultWriterReadyPromiseReset(writer);\n            }\n            else {\n                defaultWriterReadyPromiseResolve(writer);\n            }\n        }\n        stream._backpressure = backpressure;\n    }\n    /**\n     * A default writer vended by a {@link WritableStream}.\n     *\n     * @public\n     */\n    var WritableStreamDefaultWriter = /** @class */ (function () {\n        function WritableStreamDefaultWriter(stream) {\n            assertRequiredArgument(stream, 1, 'WritableStreamDefaultWriter');\n            assertWritableStream(stream, 'First parameter');\n            if (IsWritableStreamLocked(stream)) {\n                throw new TypeError('This stream has already been locked for exclusive writing by another writer');\n            }\n            this._ownerWritableStream = stream;\n            stream._writer = this;\n            var state = stream._state;\n            if (state === 'writable') {\n                if (!WritableStreamCloseQueuedOrInFlight(stream) && stream._backpressure) {\n                    defaultWriterReadyPromiseInitialize(this);\n                }\n                else {\n                    defaultWriterReadyPromiseInitializeAsResolved(this);\n                }\n                defaultWriterClosedPromiseInitialize(this);\n            }\n            else if (state === 'erroring') {\n                defaultWriterReadyPromiseInitializeAsRejected(this, stream._storedError);\n                defaultWriterClosedPromiseInitialize(this);\n            }\n            else if (state === 'closed') {\n                defaultWriterReadyPromiseInitializeAsResolved(this);\n                defaultWriterClosedPromiseInitializeAsResolved(this);\n            }\n            else {\n                var storedError = stream._storedError;\n                defaultWriterReadyPromiseInitializeAsRejected(this, storedError);\n                defaultWriterClosedPromiseInitializeAsRejected(this, storedError);\n            }\n        }\n        Object.defineProperty(WritableStreamDefaultWriter.prototype, \"closed\", {\n            /**\n             * Returns a promise that will be fulfilled when the stream becomes closed, or rejected if the stream ever errors or\n             * the writers lock is released before the stream finishes closing.\n             */\n            get: function () {\n                if (!IsWritableStreamDefaultWriter(this)) {\n                    return promiseRejectedWith(defaultWriterBrandCheckException('closed'));\n                }\n                return this._closedPromise;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(WritableStreamDefaultWriter.prototype, \"desiredSize\", {\n            /**\n             * Returns the desired size to fill the streams internal queue. It can be negative, if the queue is over-full.\n             * A producer can use this information to determine the right amount of data to write.\n             *\n             * It will be `null` if the stream cannot be successfully written to (due to either being errored, or having an abort\n             * queued up). It will return zero if the stream is closed. And the getter will throw an exception if invoked when\n             * the writers lock is released.\n             */\n            get: function () {\n                if (!IsWritableStreamDefaultWriter(this)) {\n                    throw defaultWriterBrandCheckException('desiredSize');\n                }\n                if (this._ownerWritableStream === undefined) {\n                    throw defaultWriterLockException('desiredSize');\n                }\n                return WritableStreamDefaultWriterGetDesiredSize(this);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(WritableStreamDefaultWriter.prototype, \"ready\", {\n            /**\n             * Returns a promise that will be fulfilled when the desired size to fill the streams internal queue transitions\n             * from non-positive to positive, signaling that it is no longer applying backpressure. Once the desired size dips\n             * back to zero or below, the getter will return a new promise that stays pending until the next transition.\n             *\n             * If the stream becomes errored or aborted, or the writers lock is released, the returned promise will become\n             * rejected.\n             */\n            get: function () {\n                if (!IsWritableStreamDefaultWriter(this)) {\n                    return promiseRejectedWith(defaultWriterBrandCheckException('ready'));\n                }\n                return this._readyPromise;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        /**\n         * If the reader is active, behaves the same as {@link WritableStream.abort | stream.abort(reason)}.\n         */\n        WritableStreamDefaultWriter.prototype.abort = function (reason) {\n            if (reason === void 0) { reason = undefined; }\n            if (!IsWritableStreamDefaultWriter(this)) {\n                return promiseRejectedWith(defaultWriterBrandCheckException('abort'));\n            }\n            if (this._ownerWritableStream === undefined) {\n                return promiseRejectedWith(defaultWriterLockException('abort'));\n            }\n            return WritableStreamDefaultWriterAbort(this, reason);\n        };\n        /**\n         * If the reader is active, behaves the same as {@link WritableStream.close | stream.close()}.\n         */\n        WritableStreamDefaultWriter.prototype.close = function () {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                return promiseRejectedWith(defaultWriterBrandCheckException('close'));\n            }\n            var stream = this._ownerWritableStream;\n            if (stream === undefined) {\n                return promiseRejectedWith(defaultWriterLockException('close'));\n            }\n            if (WritableStreamCloseQueuedOrInFlight(stream)) {\n                return promiseRejectedWith(new TypeError('Cannot close an already-closing stream'));\n            }\n            return WritableStreamDefaultWriterClose(this);\n        };\n        /**\n         * Releases the writers lock on the corresponding stream. After the lock is released, the writer is no longer active.\n         * If the associated stream is errored when the lock is released, the writer will appear errored in the same way from\n         * now on; otherwise, the writer will appear closed.\n         *\n         * Note that the lock can still be released even if some ongoing writes have not yet finished (i.e. even if the\n         * promises returned from previous calls to {@link WritableStreamDefaultWriter.write | write()} have not yet settled).\n         * Its not necessary to hold the lock on the writer for the duration of the write; the lock instead simply prevents\n         * other producers from writing in an interleaved manner.\n         */\n        WritableStreamDefaultWriter.prototype.releaseLock = function () {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                throw defaultWriterBrandCheckException('releaseLock');\n            }\n            var stream = this._ownerWritableStream;\n            if (stream === undefined) {\n                return;\n            }\n            WritableStreamDefaultWriterRelease(this);\n        };\n        WritableStreamDefaultWriter.prototype.write = function (chunk) {\n            if (chunk === void 0) { chunk = undefined; }\n            if (!IsWritableStreamDefaultWriter(this)) {\n                return promiseRejectedWith(defaultWriterBrandCheckException('write'));\n            }\n            if (this._ownerWritableStream === undefined) {\n                return promiseRejectedWith(defaultWriterLockException('write to'));\n            }\n            return WritableStreamDefaultWriterWrite(this, chunk);\n        };\n        return WritableStreamDefaultWriter;\n    }());\n    Object.defineProperties(WritableStreamDefaultWriter.prototype, {\n        abort: { enumerable: true },\n        close: { enumerable: true },\n        releaseLock: { enumerable: true },\n        write: { enumerable: true },\n        closed: { enumerable: true },\n        desiredSize: { enumerable: true },\n        ready: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(WritableStreamDefaultWriter.prototype, SymbolPolyfill.toStringTag, {\n            value: 'WritableStreamDefaultWriter',\n            configurable: true\n        });\n    }\n    // Abstract operations for the WritableStreamDefaultWriter.\n    function IsWritableStreamDefaultWriter(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_ownerWritableStream')) {\n            return false;\n        }\n        return x instanceof WritableStreamDefaultWriter;\n    }\n    // A client of WritableStreamDefaultWriter may use these functions directly to bypass state check.\n    function WritableStreamDefaultWriterAbort(writer, reason) {\n        var stream = writer._ownerWritableStream;\n        return WritableStreamAbort(stream, reason);\n    }\n    function WritableStreamDefaultWriterClose(writer) {\n        var stream = writer._ownerWritableStream;\n        return WritableStreamClose(stream);\n    }\n    function WritableStreamDefaultWriterCloseWithErrorPropagation(writer) {\n        var stream = writer._ownerWritableStream;\n        var state = stream._state;\n        if (WritableStreamCloseQueuedOrInFlight(stream) || state === 'closed') {\n            return promiseResolvedWith(undefined);\n        }\n        if (state === 'errored') {\n            return promiseRejectedWith(stream._storedError);\n        }\n        return WritableStreamDefaultWriterClose(writer);\n    }\n    function WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer, error) {\n        if (writer._closedPromiseState === 'pending') {\n            defaultWriterClosedPromiseReject(writer, error);\n        }\n        else {\n            defaultWriterClosedPromiseResetToRejected(writer, error);\n        }\n    }\n    function WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, error) {\n        if (writer._readyPromiseState === 'pending') {\n            defaultWriterReadyPromiseReject(writer, error);\n        }\n        else {\n            defaultWriterReadyPromiseResetToRejected(writer, error);\n        }\n    }\n    function WritableStreamDefaultWriterGetDesiredSize(writer) {\n        var stream = writer._ownerWritableStream;\n        var state = stream._state;\n        if (state === 'errored' || state === 'erroring') {\n            return null;\n        }\n        if (state === 'closed') {\n            return 0;\n        }\n        return WritableStreamDefaultControllerGetDesiredSize(stream._writableStreamController);\n    }\n    function WritableStreamDefaultWriterRelease(writer) {\n        var stream = writer._ownerWritableStream;\n        var releasedError = new TypeError(\"Writer was released and can no longer be used to monitor the stream's closedness\");\n        WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, releasedError);\n        // The state transitions to \"errored\" before the sink abort() method runs, but the writer.closed promise is not\n        // rejected until afterwards. This means that simply testing state will not work.\n        WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer, releasedError);\n        stream._writer = undefined;\n        writer._ownerWritableStream = undefined;\n    }\n    function WritableStreamDefaultWriterWrite(writer, chunk) {\n        var stream = writer._ownerWritableStream;\n        var controller = stream._writableStreamController;\n        var chunkSize = WritableStreamDefaultControllerGetChunkSize(controller, chunk);\n        if (stream !== writer._ownerWritableStream) {\n            return promiseRejectedWith(defaultWriterLockException('write to'));\n        }\n        var state = stream._state;\n        if (state === 'errored') {\n            return promiseRejectedWith(stream._storedError);\n        }\n        if (WritableStreamCloseQueuedOrInFlight(stream) || state === 'closed') {\n            return promiseRejectedWith(new TypeError('The stream is closing or closed and cannot be written to'));\n        }\n        if (state === 'erroring') {\n            return promiseRejectedWith(stream._storedError);\n        }\n        var promise = WritableStreamAddWriteRequest(stream);\n        WritableStreamDefaultControllerWrite(controller, chunk, chunkSize);\n        return promise;\n    }\n    var closeSentinel = {};\n    /**\n     * Allows control of a {@link WritableStream | writable stream}'s state and internal queue.\n     *\n     * @public\n     */\n    var WritableStreamDefaultController = /** @class */ (function () {\n        function WritableStreamDefaultController() {\n            throw new TypeError('Illegal constructor');\n        }\n        Object.defineProperty(WritableStreamDefaultController.prototype, \"abortReason\", {\n            /**\n             * The reason which was passed to `WritableStream.abort(reason)` when the stream was aborted.\n             *\n             * @deprecated\n             *  This property has been removed from the specification, see https://github.com/whatwg/streams/pull/1177.\n             *  Use {@link WritableStreamDefaultController.signal}'s `reason` instead.\n             */\n            get: function () {\n                if (!IsWritableStreamDefaultController(this)) {\n                    throw defaultControllerBrandCheckException$2('abortReason');\n                }\n                return this._abortReason;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(WritableStreamDefaultController.prototype, \"signal\", {\n            /**\n             * An `AbortSignal` that can be used to abort the pending write or close operation when the stream is aborted.\n             */\n            get: function () {\n                if (!IsWritableStreamDefaultController(this)) {\n                    throw defaultControllerBrandCheckException$2('signal');\n                }\n                if (this._abortController === undefined) {\n                    // Older browsers or older Node versions may not support `AbortController` or `AbortSignal`.\n                    // We don't want to bundle and ship an `AbortController` polyfill together with our polyfill,\n                    // so instead we only implement support for `signal` if we find a global `AbortController` constructor.\n                    throw new TypeError('WritableStreamDefaultController.prototype.signal is not supported');\n                }\n                return this._abortController.signal;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        /**\n         * Closes the controlled writable stream, making all future interactions with it fail with the given error `e`.\n         *\n         * This method is rarely used, since usually it suffices to return a rejected promise from one of the underlying\n         * sink's methods. However, it can be useful for suddenly shutting down a stream in response to an event outside the\n         * normal lifecycle of interactions with the underlying sink.\n         */\n        WritableStreamDefaultController.prototype.error = function (e) {\n            if (e === void 0) { e = undefined; }\n            if (!IsWritableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$2('error');\n            }\n            var state = this._controlledWritableStream._state;\n            if (state !== 'writable') {\n                // The stream is closed, errored or will be soon. The sink can't do anything useful if it gets an error here, so\n                // just treat it as a no-op.\n                return;\n            }\n            WritableStreamDefaultControllerError(this, e);\n        };\n        /** @internal */\n        WritableStreamDefaultController.prototype[AbortSteps] = function (reason) {\n            var result = this._abortAlgorithm(reason);\n            WritableStreamDefaultControllerClearAlgorithms(this);\n            return result;\n        };\n        /** @internal */\n        WritableStreamDefaultController.prototype[ErrorSteps] = function () {\n            ResetQueue(this);\n        };\n        return WritableStreamDefaultController;\n    }());\n    Object.defineProperties(WritableStreamDefaultController.prototype, {\n        abortReason: { enumerable: true },\n        signal: { enumerable: true },\n        error: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(WritableStreamDefaultController.prototype, SymbolPolyfill.toStringTag, {\n            value: 'WritableStreamDefaultController',\n            configurable: true\n        });\n    }\n    // Abstract operations implementing interface required by the WritableStream.\n    function IsWritableStreamDefaultController(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_controlledWritableStream')) {\n            return false;\n        }\n        return x instanceof WritableStreamDefaultController;\n    }\n    function SetUpWritableStreamDefaultController(stream, controller, startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark, sizeAlgorithm) {\n        controller._controlledWritableStream = stream;\n        stream._writableStreamController = controller;\n        // Need to set the slots so that the assert doesn't fire. In the spec the slots already exist implicitly.\n        controller._queue = undefined;\n        controller._queueTotalSize = undefined;\n        ResetQueue(controller);\n        controller._abortReason = undefined;\n        controller._abortController = createAbortController();\n        controller._started = false;\n        controller._strategySizeAlgorithm = sizeAlgorithm;\n        controller._strategyHWM = highWaterMark;\n        controller._writeAlgorithm = writeAlgorithm;\n        controller._closeAlgorithm = closeAlgorithm;\n        controller._abortAlgorithm = abortAlgorithm;\n        var backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n        WritableStreamUpdateBackpressure(stream, backpressure);\n        var startResult = startAlgorithm();\n        var startPromise = promiseResolvedWith(startResult);\n        uponPromise(startPromise, function () {\n            controller._started = true;\n            WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n        }, function (r) {\n            controller._started = true;\n            WritableStreamDealWithRejection(stream, r);\n        });\n    }\n    function SetUpWritableStreamDefaultControllerFromUnderlyingSink(stream, underlyingSink, highWaterMark, sizeAlgorithm) {\n        var controller = Object.create(WritableStreamDefaultController.prototype);\n        var startAlgorithm = function () { return undefined; };\n        var writeAlgorithm = function () { return promiseResolvedWith(undefined); };\n        var closeAlgorithm = function () { return promiseResolvedWith(undefined); };\n        var abortAlgorithm = function () { return promiseResolvedWith(undefined); };\n        if (underlyingSink.start !== undefined) {\n            startAlgorithm = function () { return underlyingSink.start(controller); };\n        }\n        if (underlyingSink.write !== undefined) {\n            writeAlgorithm = function (chunk) { return underlyingSink.write(chunk, controller); };\n        }\n        if (underlyingSink.close !== undefined) {\n            closeAlgorithm = function () { return underlyingSink.close(); };\n        }\n        if (underlyingSink.abort !== undefined) {\n            abortAlgorithm = function (reason) { return underlyingSink.abort(reason); };\n        }\n        SetUpWritableStreamDefaultController(stream, controller, startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark, sizeAlgorithm);\n    }\n    // ClearAlgorithms may be called twice. Erroring the same stream in multiple ways will often result in redundant calls.\n    function WritableStreamDefaultControllerClearAlgorithms(controller) {\n        controller._writeAlgorithm = undefined;\n        controller._closeAlgorithm = undefined;\n        controller._abortAlgorithm = undefined;\n        controller._strategySizeAlgorithm = undefined;\n    }\n    function WritableStreamDefaultControllerClose(controller) {\n        EnqueueValueWithSize(controller, closeSentinel, 0);\n        WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n    }\n    function WritableStreamDefaultControllerGetChunkSize(controller, chunk) {\n        try {\n            return controller._strategySizeAlgorithm(chunk);\n        }\n        catch (chunkSizeE) {\n            WritableStreamDefaultControllerErrorIfNeeded(controller, chunkSizeE);\n            return 1;\n        }\n    }\n    function WritableStreamDefaultControllerGetDesiredSize(controller) {\n        return controller._strategyHWM - controller._queueTotalSize;\n    }\n    function WritableStreamDefaultControllerWrite(controller, chunk, chunkSize) {\n        try {\n            EnqueueValueWithSize(controller, chunk, chunkSize);\n        }\n        catch (enqueueE) {\n            WritableStreamDefaultControllerErrorIfNeeded(controller, enqueueE);\n            return;\n        }\n        var stream = controller._controlledWritableStream;\n        if (!WritableStreamCloseQueuedOrInFlight(stream) && stream._state === 'writable') {\n            var backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n            WritableStreamUpdateBackpressure(stream, backpressure);\n        }\n        WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n    }\n    // Abstract operations for the WritableStreamDefaultController.\n    function WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller) {\n        var stream = controller._controlledWritableStream;\n        if (!controller._started) {\n            return;\n        }\n        if (stream._inFlightWriteRequest !== undefined) {\n            return;\n        }\n        var state = stream._state;\n        if (state === 'erroring') {\n            WritableStreamFinishErroring(stream);\n            return;\n        }\n        if (controller._queue.length === 0) {\n            return;\n        }\n        var value = PeekQueueValue(controller);\n        if (value === closeSentinel) {\n            WritableStreamDefaultControllerProcessClose(controller);\n        }\n        else {\n            WritableStreamDefaultControllerProcessWrite(controller, value);\n        }\n    }\n    function WritableStreamDefaultControllerErrorIfNeeded(controller, error) {\n        if (controller._controlledWritableStream._state === 'writable') {\n            WritableStreamDefaultControllerError(controller, error);\n        }\n    }\n    function WritableStreamDefaultControllerProcessClose(controller) {\n        var stream = controller._controlledWritableStream;\n        WritableStreamMarkCloseRequestInFlight(stream);\n        DequeueValue(controller);\n        var sinkClosePromise = controller._closeAlgorithm();\n        WritableStreamDefaultControllerClearAlgorithms(controller);\n        uponPromise(sinkClosePromise, function () {\n            WritableStreamFinishInFlightClose(stream);\n        }, function (reason) {\n            WritableStreamFinishInFlightCloseWithError(stream, reason);\n        });\n    }\n    function WritableStreamDefaultControllerProcessWrite(controller, chunk) {\n        var stream = controller._controlledWritableStream;\n        WritableStreamMarkFirstWriteRequestInFlight(stream);\n        var sinkWritePromise = controller._writeAlgorithm(chunk);\n        uponPromise(sinkWritePromise, function () {\n            WritableStreamFinishInFlightWrite(stream);\n            var state = stream._state;\n            DequeueValue(controller);\n            if (!WritableStreamCloseQueuedOrInFlight(stream) && state === 'writable') {\n                var backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n                WritableStreamUpdateBackpressure(stream, backpressure);\n            }\n            WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n        }, function (reason) {\n            if (stream._state === 'writable') {\n                WritableStreamDefaultControllerClearAlgorithms(controller);\n            }\n            WritableStreamFinishInFlightWriteWithError(stream, reason);\n        });\n    }\n    function WritableStreamDefaultControllerGetBackpressure(controller) {\n        var desiredSize = WritableStreamDefaultControllerGetDesiredSize(controller);\n        return desiredSize <= 0;\n    }\n    // A client of WritableStreamDefaultController may use these functions directly to bypass state check.\n    function WritableStreamDefaultControllerError(controller, error) {\n        var stream = controller._controlledWritableStream;\n        WritableStreamDefaultControllerClearAlgorithms(controller);\n        WritableStreamStartErroring(stream, error);\n    }\n    // Helper functions for the WritableStream.\n    function streamBrandCheckException$2(name) {\n        return new TypeError(\"WritableStream.prototype.\" + name + \" can only be used on a WritableStream\");\n    }\n    // Helper functions for the WritableStreamDefaultController.\n    function defaultControllerBrandCheckException$2(name) {\n        return new TypeError(\"WritableStreamDefaultController.prototype.\" + name + \" can only be used on a WritableStreamDefaultController\");\n    }\n    // Helper functions for the WritableStreamDefaultWriter.\n    function defaultWriterBrandCheckException(name) {\n        return new TypeError(\"WritableStreamDefaultWriter.prototype.\" + name + \" can only be used on a WritableStreamDefaultWriter\");\n    }\n    function defaultWriterLockException(name) {\n        return new TypeError('Cannot ' + name + ' a stream using a released writer');\n    }\n    function defaultWriterClosedPromiseInitialize(writer) {\n        writer._closedPromise = newPromise(function (resolve, reject) {\n            writer._closedPromise_resolve = resolve;\n            writer._closedPromise_reject = reject;\n            writer._closedPromiseState = 'pending';\n        });\n    }\n    function defaultWriterClosedPromiseInitializeAsRejected(writer, reason) {\n        defaultWriterClosedPromiseInitialize(writer);\n        defaultWriterClosedPromiseReject(writer, reason);\n    }\n    function defaultWriterClosedPromiseInitializeAsResolved(writer) {\n        defaultWriterClosedPromiseInitialize(writer);\n        defaultWriterClosedPromiseResolve(writer);\n    }\n    function defaultWriterClosedPromiseReject(writer, reason) {\n        if (writer._closedPromise_reject === undefined) {\n            return;\n        }\n        setPromiseIsHandledToTrue(writer._closedPromise);\n        writer._closedPromise_reject(reason);\n        writer._closedPromise_resolve = undefined;\n        writer._closedPromise_reject = undefined;\n        writer._closedPromiseState = 'rejected';\n    }\n    function defaultWriterClosedPromiseResetToRejected(writer, reason) {\n        defaultWriterClosedPromiseInitializeAsRejected(writer, reason);\n    }\n    function defaultWriterClosedPromiseResolve(writer) {\n        if (writer._closedPromise_resolve === undefined) {\n            return;\n        }\n        writer._closedPromise_resolve(undefined);\n        writer._closedPromise_resolve = undefined;\n        writer._closedPromise_reject = undefined;\n        writer._closedPromiseState = 'resolved';\n    }\n    function defaultWriterReadyPromiseInitialize(writer) {\n        writer._readyPromise = newPromise(function (resolve, reject) {\n            writer._readyPromise_resolve = resolve;\n            writer._readyPromise_reject = reject;\n        });\n        writer._readyPromiseState = 'pending';\n    }\n    function defaultWriterReadyPromiseInitializeAsRejected(writer, reason) {\n        defaultWriterReadyPromiseInitialize(writer);\n        defaultWriterReadyPromiseReject(writer, reason);\n    }\n    function defaultWriterReadyPromiseInitializeAsResolved(writer) {\n        defaultWriterReadyPromiseInitialize(writer);\n        defaultWriterReadyPromiseResolve(writer);\n    }\n    function defaultWriterReadyPromiseReject(writer, reason) {\n        if (writer._readyPromise_reject === undefined) {\n            return;\n        }\n        setPromiseIsHandledToTrue(writer._readyPromise);\n        writer._readyPromise_reject(reason);\n        writer._readyPromise_resolve = undefined;\n        writer._readyPromise_reject = undefined;\n        writer._readyPromiseState = 'rejected';\n    }\n    function defaultWriterReadyPromiseReset(writer) {\n        defaultWriterReadyPromiseInitialize(writer);\n    }\n    function defaultWriterReadyPromiseResetToRejected(writer, reason) {\n        defaultWriterReadyPromiseInitializeAsRejected(writer, reason);\n    }\n    function defaultWriterReadyPromiseResolve(writer) {\n        if (writer._readyPromise_resolve === undefined) {\n            return;\n        }\n        writer._readyPromise_resolve(undefined);\n        writer._readyPromise_resolve = undefined;\n        writer._readyPromise_reject = undefined;\n        writer._readyPromiseState = 'fulfilled';\n    }\n\n    /// <reference lib=\"dom\" />\n    var NativeDOMException = typeof DOMException !== 'undefined' ? DOMException : undefined;\n\n    /// <reference types=\"node\" />\n    function isDOMExceptionConstructor(ctor) {\n        if (!(typeof ctor === 'function' || typeof ctor === 'object')) {\n            return false;\n        }\n        try {\n            new ctor();\n            return true;\n        }\n        catch (_a) {\n            return false;\n        }\n    }\n    function createDOMExceptionPolyfill() {\n        // eslint-disable-next-line no-shadow\n        var ctor = function DOMException(message, name) {\n            this.message = message || '';\n            this.name = name || 'Error';\n            if (Error.captureStackTrace) {\n                Error.captureStackTrace(this, this.constructor);\n            }\n        };\n        ctor.prototype = Object.create(Error.prototype);\n        Object.defineProperty(ctor.prototype, 'constructor', { value: ctor, writable: true, configurable: true });\n        return ctor;\n    }\n    // eslint-disable-next-line no-redeclare\n    var DOMException$1 = isDOMExceptionConstructor(NativeDOMException) ? NativeDOMException : createDOMExceptionPolyfill();\n\n    function ReadableStreamPipeTo(source, dest, preventClose, preventAbort, preventCancel, signal) {\n        var reader = AcquireReadableStreamDefaultReader(source);\n        var writer = AcquireWritableStreamDefaultWriter(dest);\n        source._disturbed = true;\n        var shuttingDown = false;\n        // This is used to keep track of the spec's requirement that we wait for ongoing writes during shutdown.\n        var currentWrite = promiseResolvedWith(undefined);\n        return newPromise(function (resolve, reject) {\n            var abortAlgorithm;\n            if (signal !== undefined) {\n                abortAlgorithm = function () {\n                    var error = new DOMException$1('Aborted', 'AbortError');\n                    var actions = [];\n                    if (!preventAbort) {\n                        actions.push(function () {\n                            if (dest._state === 'writable') {\n                                return WritableStreamAbort(dest, error);\n                            }\n                            return promiseResolvedWith(undefined);\n                        });\n                    }\n                    if (!preventCancel) {\n                        actions.push(function () {\n                            if (source._state === 'readable') {\n                                return ReadableStreamCancel(source, error);\n                            }\n                            return promiseResolvedWith(undefined);\n                        });\n                    }\n                    shutdownWithAction(function () { return Promise.all(actions.map(function (action) { return action(); })); }, true, error);\n                };\n                if (signal.aborted) {\n                    abortAlgorithm();\n                    return;\n                }\n                signal.addEventListener('abort', abortAlgorithm);\n            }\n            // Using reader and writer, read all chunks from this and write them to dest\n            // - Backpressure must be enforced\n            // - Shutdown must stop all activity\n            function pipeLoop() {\n                return newPromise(function (resolveLoop, rejectLoop) {\n                    function next(done) {\n                        if (done) {\n                            resolveLoop();\n                        }\n                        else {\n                            // Use `PerformPromiseThen` instead of `uponPromise` to avoid\n                            // adding unnecessary `.catch(rethrowAssertionErrorRejection)` handlers\n                            PerformPromiseThen(pipeStep(), next, rejectLoop);\n                        }\n                    }\n                    next(false);\n                });\n            }\n            function pipeStep() {\n                if (shuttingDown) {\n                    return promiseResolvedWith(true);\n                }\n                return PerformPromiseThen(writer._readyPromise, function () {\n                    return newPromise(function (resolveRead, rejectRead) {\n                        ReadableStreamDefaultReaderRead(reader, {\n                            _chunkSteps: function (chunk) {\n                                currentWrite = PerformPromiseThen(WritableStreamDefaultWriterWrite(writer, chunk), undefined, noop);\n                                resolveRead(false);\n                            },\n                            _closeSteps: function () { return resolveRead(true); },\n                            _errorSteps: rejectRead\n                        });\n                    });\n                });\n            }\n            // Errors must be propagated forward\n            isOrBecomesErrored(source, reader._closedPromise, function (storedError) {\n                if (!preventAbort) {\n                    shutdownWithAction(function () { return WritableStreamAbort(dest, storedError); }, true, storedError);\n                }\n                else {\n                    shutdown(true, storedError);\n                }\n            });\n            // Errors must be propagated backward\n            isOrBecomesErrored(dest, writer._closedPromise, function (storedError) {\n                if (!preventCancel) {\n                    shutdownWithAction(function () { return ReadableStreamCancel(source, storedError); }, true, storedError);\n                }\n                else {\n                    shutdown(true, storedError);\n                }\n            });\n            // Closing must be propagated forward\n            isOrBecomesClosed(source, reader._closedPromise, function () {\n                if (!preventClose) {\n                    shutdownWithAction(function () { return WritableStreamDefaultWriterCloseWithErrorPropagation(writer); });\n                }\n                else {\n                    shutdown();\n                }\n            });\n            // Closing must be propagated backward\n            if (WritableStreamCloseQueuedOrInFlight(dest) || dest._state === 'closed') {\n                var destClosed_1 = new TypeError('the destination writable stream closed before all data could be piped to it');\n                if (!preventCancel) {\n                    shutdownWithAction(function () { return ReadableStreamCancel(source, destClosed_1); }, true, destClosed_1);\n                }\n                else {\n                    shutdown(true, destClosed_1);\n                }\n            }\n            setPromiseIsHandledToTrue(pipeLoop());\n            function waitForWritesToFinish() {\n                // Another write may have started while we were waiting on this currentWrite, so we have to be sure to wait\n                // for that too.\n                var oldCurrentWrite = currentWrite;\n                return PerformPromiseThen(currentWrite, function () { return oldCurrentWrite !== currentWrite ? waitForWritesToFinish() : undefined; });\n            }\n            function isOrBecomesErrored(stream, promise, action) {\n                if (stream._state === 'errored') {\n                    action(stream._storedError);\n                }\n                else {\n                    uponRejection(promise, action);\n                }\n            }\n            function isOrBecomesClosed(stream, promise, action) {\n                if (stream._state === 'closed') {\n                    action();\n                }\n                else {\n                    uponFulfillment(promise, action);\n                }\n            }\n            function shutdownWithAction(action, originalIsError, originalError) {\n                if (shuttingDown) {\n                    return;\n                }\n                shuttingDown = true;\n                if (dest._state === 'writable' && !WritableStreamCloseQueuedOrInFlight(dest)) {\n                    uponFulfillment(waitForWritesToFinish(), doTheRest);\n                }\n                else {\n                    doTheRest();\n                }\n                function doTheRest() {\n                    uponPromise(action(), function () { return finalize(originalIsError, originalError); }, function (newError) { return finalize(true, newError); });\n                }\n            }\n            function shutdown(isError, error) {\n                if (shuttingDown) {\n                    return;\n                }\n                shuttingDown = true;\n                if (dest._state === 'writable' && !WritableStreamCloseQueuedOrInFlight(dest)) {\n                    uponFulfillment(waitForWritesToFinish(), function () { return finalize(isError, error); });\n                }\n                else {\n                    finalize(isError, error);\n                }\n            }\n            function finalize(isError, error) {\n                WritableStreamDefaultWriterRelease(writer);\n                ReadableStreamReaderGenericRelease(reader);\n                if (signal !== undefined) {\n                    signal.removeEventListener('abort', abortAlgorithm);\n                }\n                if (isError) {\n                    reject(error);\n                }\n                else {\n                    resolve(undefined);\n                }\n            }\n        });\n    }\n\n    /**\n     * Allows control of a {@link ReadableStream | readable stream}'s state and internal queue.\n     *\n     * @public\n     */\n    var ReadableStreamDefaultController = /** @class */ (function () {\n        function ReadableStreamDefaultController() {\n            throw new TypeError('Illegal constructor');\n        }\n        Object.defineProperty(ReadableStreamDefaultController.prototype, \"desiredSize\", {\n            /**\n             * Returns the desired size to fill the controlled stream's internal queue. It can be negative, if the queue is\n             * over-full. An underlying source ought to use this information to determine when and how to apply backpressure.\n             */\n            get: function () {\n                if (!IsReadableStreamDefaultController(this)) {\n                    throw defaultControllerBrandCheckException$1('desiredSize');\n                }\n                return ReadableStreamDefaultControllerGetDesiredSize(this);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        /**\n         * Closes the controlled readable stream. Consumers will still be able to read any previously-enqueued chunks from\n         * the stream, but once those are read, the stream will become closed.\n         */\n        ReadableStreamDefaultController.prototype.close = function () {\n            if (!IsReadableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$1('close');\n            }\n            if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(this)) {\n                throw new TypeError('The stream is not in a state that permits close');\n            }\n            ReadableStreamDefaultControllerClose(this);\n        };\n        ReadableStreamDefaultController.prototype.enqueue = function (chunk) {\n            if (chunk === void 0) { chunk = undefined; }\n            if (!IsReadableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$1('enqueue');\n            }\n            if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(this)) {\n                throw new TypeError('The stream is not in a state that permits enqueue');\n            }\n            return ReadableStreamDefaultControllerEnqueue(this, chunk);\n        };\n        /**\n         * Errors the controlled readable stream, making all future interactions with it fail with the given error `e`.\n         */\n        ReadableStreamDefaultController.prototype.error = function (e) {\n            if (e === void 0) { e = undefined; }\n            if (!IsReadableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$1('error');\n            }\n            ReadableStreamDefaultControllerError(this, e);\n        };\n        /** @internal */\n        ReadableStreamDefaultController.prototype[CancelSteps] = function (reason) {\n            ResetQueue(this);\n            var result = this._cancelAlgorithm(reason);\n            ReadableStreamDefaultControllerClearAlgorithms(this);\n            return result;\n        };\n        /** @internal */\n        ReadableStreamDefaultController.prototype[PullSteps] = function (readRequest) {\n            var stream = this._controlledReadableStream;\n            if (this._queue.length > 0) {\n                var chunk = DequeueValue(this);\n                if (this._closeRequested && this._queue.length === 0) {\n                    ReadableStreamDefaultControllerClearAlgorithms(this);\n                    ReadableStreamClose(stream);\n                }\n                else {\n                    ReadableStreamDefaultControllerCallPullIfNeeded(this);\n                }\n                readRequest._chunkSteps(chunk);\n            }\n            else {\n                ReadableStreamAddReadRequest(stream, readRequest);\n                ReadableStreamDefaultControllerCallPullIfNeeded(this);\n            }\n        };\n        return ReadableStreamDefaultController;\n    }());\n    Object.defineProperties(ReadableStreamDefaultController.prototype, {\n        close: { enumerable: true },\n        enqueue: { enumerable: true },\n        error: { enumerable: true },\n        desiredSize: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ReadableStreamDefaultController.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ReadableStreamDefaultController',\n            configurable: true\n        });\n    }\n    // Abstract operations for the ReadableStreamDefaultController.\n    function IsReadableStreamDefaultController(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_controlledReadableStream')) {\n            return false;\n        }\n        return x instanceof ReadableStreamDefaultController;\n    }\n    function ReadableStreamDefaultControllerCallPullIfNeeded(controller) {\n        var shouldPull = ReadableStreamDefaultControllerShouldCallPull(controller);\n        if (!shouldPull) {\n            return;\n        }\n        if (controller._pulling) {\n            controller._pullAgain = true;\n            return;\n        }\n        controller._pulling = true;\n        var pullPromise = controller._pullAlgorithm();\n        uponPromise(pullPromise, function () {\n            controller._pulling = false;\n            if (controller._pullAgain) {\n                controller._pullAgain = false;\n                ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n            }\n        }, function (e) {\n            ReadableStreamDefaultControllerError(controller, e);\n        });\n    }\n    function ReadableStreamDefaultControllerShouldCallPull(controller) {\n        var stream = controller._controlledReadableStream;\n        if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(controller)) {\n            return false;\n        }\n        if (!controller._started) {\n            return false;\n        }\n        if (IsReadableStreamLocked(stream) && ReadableStreamGetNumReadRequests(stream) > 0) {\n            return true;\n        }\n        var desiredSize = ReadableStreamDefaultControllerGetDesiredSize(controller);\n        if (desiredSize > 0) {\n            return true;\n        }\n        return false;\n    }\n    function ReadableStreamDefaultControllerClearAlgorithms(controller) {\n        controller._pullAlgorithm = undefined;\n        controller._cancelAlgorithm = undefined;\n        controller._strategySizeAlgorithm = undefined;\n    }\n    // A client of ReadableStreamDefaultController may use these functions directly to bypass state check.\n    function ReadableStreamDefaultControllerClose(controller) {\n        if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(controller)) {\n            return;\n        }\n        var stream = controller._controlledReadableStream;\n        controller._closeRequested = true;\n        if (controller._queue.length === 0) {\n            ReadableStreamDefaultControllerClearAlgorithms(controller);\n            ReadableStreamClose(stream);\n        }\n    }\n    function ReadableStreamDefaultControllerEnqueue(controller, chunk) {\n        if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(controller)) {\n            return;\n        }\n        var stream = controller._controlledReadableStream;\n        if (IsReadableStreamLocked(stream) && ReadableStreamGetNumReadRequests(stream) > 0) {\n            ReadableStreamFulfillReadRequest(stream, chunk, false);\n        }\n        else {\n            var chunkSize = void 0;\n            try {\n                chunkSize = controller._strategySizeAlgorithm(chunk);\n            }\n            catch (chunkSizeE) {\n                ReadableStreamDefaultControllerError(controller, chunkSizeE);\n                throw chunkSizeE;\n            }\n            try {\n                EnqueueValueWithSize(controller, chunk, chunkSize);\n            }\n            catch (enqueueE) {\n                ReadableStreamDefaultControllerError(controller, enqueueE);\n                throw enqueueE;\n            }\n        }\n        ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n    }\n    function ReadableStreamDefaultControllerError(controller, e) {\n        var stream = controller._controlledReadableStream;\n        if (stream._state !== 'readable') {\n            return;\n        }\n        ResetQueue(controller);\n        ReadableStreamDefaultControllerClearAlgorithms(controller);\n        ReadableStreamError(stream, e);\n    }\n    function ReadableStreamDefaultControllerGetDesiredSize(controller) {\n        var state = controller._controlledReadableStream._state;\n        if (state === 'errored') {\n            return null;\n        }\n        if (state === 'closed') {\n            return 0;\n        }\n        return controller._strategyHWM - controller._queueTotalSize;\n    }\n    // This is used in the implementation of TransformStream.\n    function ReadableStreamDefaultControllerHasBackpressure(controller) {\n        if (ReadableStreamDefaultControllerShouldCallPull(controller)) {\n            return false;\n        }\n        return true;\n    }\n    function ReadableStreamDefaultControllerCanCloseOrEnqueue(controller) {\n        var state = controller._controlledReadableStream._state;\n        if (!controller._closeRequested && state === 'readable') {\n            return true;\n        }\n        return false;\n    }\n    function SetUpReadableStreamDefaultController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, sizeAlgorithm) {\n        controller._controlledReadableStream = stream;\n        controller._queue = undefined;\n        controller._queueTotalSize = undefined;\n        ResetQueue(controller);\n        controller._started = false;\n        controller._closeRequested = false;\n        controller._pullAgain = false;\n        controller._pulling = false;\n        controller._strategySizeAlgorithm = sizeAlgorithm;\n        controller._strategyHWM = highWaterMark;\n        controller._pullAlgorithm = pullAlgorithm;\n        controller._cancelAlgorithm = cancelAlgorithm;\n        stream._readableStreamController = controller;\n        var startResult = startAlgorithm();\n        uponPromise(promiseResolvedWith(startResult), function () {\n            controller._started = true;\n            ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n        }, function (r) {\n            ReadableStreamDefaultControllerError(controller, r);\n        });\n    }\n    function SetUpReadableStreamDefaultControllerFromUnderlyingSource(stream, underlyingSource, highWaterMark, sizeAlgorithm) {\n        var controller = Object.create(ReadableStreamDefaultController.prototype);\n        var startAlgorithm = function () { return undefined; };\n        var pullAlgorithm = function () { return promiseResolvedWith(undefined); };\n        var cancelAlgorithm = function () { return promiseResolvedWith(undefined); };\n        if (underlyingSource.start !== undefined) {\n            startAlgorithm = function () { return underlyingSource.start(controller); };\n        }\n        if (underlyingSource.pull !== undefined) {\n            pullAlgorithm = function () { return underlyingSource.pull(controller); };\n        }\n        if (underlyingSource.cancel !== undefined) {\n            cancelAlgorithm = function (reason) { return underlyingSource.cancel(reason); };\n        }\n        SetUpReadableStreamDefaultController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, sizeAlgorithm);\n    }\n    // Helper functions for the ReadableStreamDefaultController.\n    function defaultControllerBrandCheckException$1(name) {\n        return new TypeError(\"ReadableStreamDefaultController.prototype.\" + name + \" can only be used on a ReadableStreamDefaultController\");\n    }\n\n    function ReadableStreamTee(stream, cloneForBranch2) {\n        if (IsReadableByteStreamController(stream._readableStreamController)) {\n            return ReadableByteStreamTee(stream);\n        }\n        return ReadableStreamDefaultTee(stream);\n    }\n    function ReadableStreamDefaultTee(stream, cloneForBranch2) {\n        var reader = AcquireReadableStreamDefaultReader(stream);\n        var reading = false;\n        var readAgain = false;\n        var canceled1 = false;\n        var canceled2 = false;\n        var reason1;\n        var reason2;\n        var branch1;\n        var branch2;\n        var resolveCancelPromise;\n        var cancelPromise = newPromise(function (resolve) {\n            resolveCancelPromise = resolve;\n        });\n        function pullAlgorithm() {\n            if (reading) {\n                readAgain = true;\n                return promiseResolvedWith(undefined);\n            }\n            reading = true;\n            var readRequest = {\n                _chunkSteps: function (chunk) {\n                    // This needs to be delayed a microtask because it takes at least a microtask to detect errors (using\n                    // reader._closedPromise below), and we want errors in stream to error both branches immediately. We cannot let\n                    // successful synchronously-available reads get ahead of asynchronously-available errors.\n                    queueMicrotask(function () {\n                        readAgain = false;\n                        var chunk1 = chunk;\n                        var chunk2 = chunk;\n                        // There is no way to access the cloning code right now in the reference implementation.\n                        // If we add one then we'll need an implementation for serializable objects.\n                        // if (!canceled2 && cloneForBranch2) {\n                        //   chunk2 = StructuredDeserialize(StructuredSerialize(chunk2));\n                        // }\n                        if (!canceled1) {\n                            ReadableStreamDefaultControllerEnqueue(branch1._readableStreamController, chunk1);\n                        }\n                        if (!canceled2) {\n                            ReadableStreamDefaultControllerEnqueue(branch2._readableStreamController, chunk2);\n                        }\n                        reading = false;\n                        if (readAgain) {\n                            pullAlgorithm();\n                        }\n                    });\n                },\n                _closeSteps: function () {\n                    reading = false;\n                    if (!canceled1) {\n                        ReadableStreamDefaultControllerClose(branch1._readableStreamController);\n                    }\n                    if (!canceled2) {\n                        ReadableStreamDefaultControllerClose(branch2._readableStreamController);\n                    }\n                    if (!canceled1 || !canceled2) {\n                        resolveCancelPromise(undefined);\n                    }\n                },\n                _errorSteps: function () {\n                    reading = false;\n                }\n            };\n            ReadableStreamDefaultReaderRead(reader, readRequest);\n            return promiseResolvedWith(undefined);\n        }\n        function cancel1Algorithm(reason) {\n            canceled1 = true;\n            reason1 = reason;\n            if (canceled2) {\n                var compositeReason = CreateArrayFromList([reason1, reason2]);\n                var cancelResult = ReadableStreamCancel(stream, compositeReason);\n                resolveCancelPromise(cancelResult);\n            }\n            return cancelPromise;\n        }\n        function cancel2Algorithm(reason) {\n            canceled2 = true;\n            reason2 = reason;\n            if (canceled1) {\n                var compositeReason = CreateArrayFromList([reason1, reason2]);\n                var cancelResult = ReadableStreamCancel(stream, compositeReason);\n                resolveCancelPromise(cancelResult);\n            }\n            return cancelPromise;\n        }\n        function startAlgorithm() {\n            // do nothing\n        }\n        branch1 = CreateReadableStream(startAlgorithm, pullAlgorithm, cancel1Algorithm);\n        branch2 = CreateReadableStream(startAlgorithm, pullAlgorithm, cancel2Algorithm);\n        uponRejection(reader._closedPromise, function (r) {\n            ReadableStreamDefaultControllerError(branch1._readableStreamController, r);\n            ReadableStreamDefaultControllerError(branch2._readableStreamController, r);\n            if (!canceled1 || !canceled2) {\n                resolveCancelPromise(undefined);\n            }\n        });\n        return [branch1, branch2];\n    }\n    function ReadableByteStreamTee(stream) {\n        var reader = AcquireReadableStreamDefaultReader(stream);\n        var reading = false;\n        var readAgainForBranch1 = false;\n        var readAgainForBranch2 = false;\n        var canceled1 = false;\n        var canceled2 = false;\n        var reason1;\n        var reason2;\n        var branch1;\n        var branch2;\n        var resolveCancelPromise;\n        var cancelPromise = newPromise(function (resolve) {\n            resolveCancelPromise = resolve;\n        });\n        function forwardReaderError(thisReader) {\n            uponRejection(thisReader._closedPromise, function (r) {\n                if (thisReader !== reader) {\n                    return;\n                }\n                ReadableByteStreamControllerError(branch1._readableStreamController, r);\n                ReadableByteStreamControllerError(branch2._readableStreamController, r);\n                if (!canceled1 || !canceled2) {\n                    resolveCancelPromise(undefined);\n                }\n            });\n        }\n        function pullWithDefaultReader() {\n            if (IsReadableStreamBYOBReader(reader)) {\n                ReadableStreamReaderGenericRelease(reader);\n                reader = AcquireReadableStreamDefaultReader(stream);\n                forwardReaderError(reader);\n            }\n            var readRequest = {\n                _chunkSteps: function (chunk) {\n                    // This needs to be delayed a microtask because it takes at least a microtask to detect errors (using\n                    // reader._closedPromise below), and we want errors in stream to error both branches immediately. We cannot let\n                    // successful synchronously-available reads get ahead of asynchronously-available errors.\n                    queueMicrotask(function () {\n                        readAgainForBranch1 = false;\n                        readAgainForBranch2 = false;\n                        var chunk1 = chunk;\n                        var chunk2 = chunk;\n                        if (!canceled1 && !canceled2) {\n                            try {\n                                chunk2 = CloneAsUint8Array(chunk);\n                            }\n                            catch (cloneE) {\n                                ReadableByteStreamControllerError(branch1._readableStreamController, cloneE);\n                                ReadableByteStreamControllerError(branch2._readableStreamController, cloneE);\n                                resolveCancelPromise(ReadableStreamCancel(stream, cloneE));\n                                return;\n                            }\n                        }\n                        if (!canceled1) {\n                            ReadableByteStreamControllerEnqueue(branch1._readableStreamController, chunk1);\n                        }\n                        if (!canceled2) {\n                            ReadableByteStreamControllerEnqueue(branch2._readableStreamController, chunk2);\n                        }\n                        reading = false;\n                        if (readAgainForBranch1) {\n                            pull1Algorithm();\n                        }\n                        else if (readAgainForBranch2) {\n                            pull2Algorithm();\n                        }\n                    });\n                },\n                _closeSteps: function () {\n                    reading = false;\n                    if (!canceled1) {\n                        ReadableByteStreamControllerClose(branch1._readableStreamController);\n                    }\n                    if (!canceled2) {\n                        ReadableByteStreamControllerClose(branch2._readableStreamController);\n                    }\n                    if (branch1._readableStreamController._pendingPullIntos.length > 0) {\n                        ReadableByteStreamControllerRespond(branch1._readableStreamController, 0);\n                    }\n                    if (branch2._readableStreamController._pendingPullIntos.length > 0) {\n                        ReadableByteStreamControllerRespond(branch2._readableStreamController, 0);\n                    }\n                    if (!canceled1 || !canceled2) {\n                        resolveCancelPromise(undefined);\n                    }\n                },\n                _errorSteps: function () {\n                    reading = false;\n                }\n            };\n            ReadableStreamDefaultReaderRead(reader, readRequest);\n        }\n        function pullWithBYOBReader(view, forBranch2) {\n            if (IsReadableStreamDefaultReader(reader)) {\n                ReadableStreamReaderGenericRelease(reader);\n                reader = AcquireReadableStreamBYOBReader(stream);\n                forwardReaderError(reader);\n            }\n            var byobBranch = forBranch2 ? branch2 : branch1;\n            var otherBranch = forBranch2 ? branch1 : branch2;\n            var readIntoRequest = {\n                _chunkSteps: function (chunk) {\n                    // This needs to be delayed a microtask because it takes at least a microtask to detect errors (using\n                    // reader._closedPromise below), and we want errors in stream to error both branches immediately. We cannot let\n                    // successful synchronously-available reads get ahead of asynchronously-available errors.\n                    queueMicrotask(function () {\n                        readAgainForBranch1 = false;\n                        readAgainForBranch2 = false;\n                        var byobCanceled = forBranch2 ? canceled2 : canceled1;\n                        var otherCanceled = forBranch2 ? canceled1 : canceled2;\n                        if (!otherCanceled) {\n                            var clonedChunk = void 0;\n                            try {\n                                clonedChunk = CloneAsUint8Array(chunk);\n                            }\n                            catch (cloneE) {\n                                ReadableByteStreamControllerError(byobBranch._readableStreamController, cloneE);\n                                ReadableByteStreamControllerError(otherBranch._readableStreamController, cloneE);\n                                resolveCancelPromise(ReadableStreamCancel(stream, cloneE));\n                                return;\n                            }\n                            if (!byobCanceled) {\n                                ReadableByteStreamControllerRespondWithNewView(byobBranch._readableStreamController, chunk);\n                            }\n                            ReadableByteStreamControllerEnqueue(otherBranch._readableStreamController, clonedChunk);\n                        }\n                        else if (!byobCanceled) {\n                            ReadableByteStreamControllerRespondWithNewView(byobBranch._readableStreamController, chunk);\n                        }\n                        reading = false;\n                        if (readAgainForBranch1) {\n                            pull1Algorithm();\n                        }\n                        else if (readAgainForBranch2) {\n                            pull2Algorithm();\n                        }\n                    });\n                },\n                _closeSteps: function (chunk) {\n                    reading = false;\n                    var byobCanceled = forBranch2 ? canceled2 : canceled1;\n                    var otherCanceled = forBranch2 ? canceled1 : canceled2;\n                    if (!byobCanceled) {\n                        ReadableByteStreamControllerClose(byobBranch._readableStreamController);\n                    }\n                    if (!otherCanceled) {\n                        ReadableByteStreamControllerClose(otherBranch._readableStreamController);\n                    }\n                    if (chunk !== undefined) {\n                        if (!byobCanceled) {\n                            ReadableByteStreamControllerRespondWithNewView(byobBranch._readableStreamController, chunk);\n                        }\n                        if (!otherCanceled && otherBranch._readableStreamController._pendingPullIntos.length > 0) {\n                            ReadableByteStreamControllerRespond(otherBranch._readableStreamController, 0);\n                        }\n                    }\n                    if (!byobCanceled || !otherCanceled) {\n                        resolveCancelPromise(undefined);\n                    }\n                },\n                _errorSteps: function () {\n                    reading = false;\n                }\n            };\n            ReadableStreamBYOBReaderRead(reader, view, readIntoRequest);\n        }\n        function pull1Algorithm() {\n            if (reading) {\n                readAgainForBranch1 = true;\n                return promiseResolvedWith(undefined);\n            }\n            reading = true;\n            var byobRequest = ReadableByteStreamControllerGetBYOBRequest(branch1._readableStreamController);\n            if (byobRequest === null) {\n                pullWithDefaultReader();\n            }\n            else {\n                pullWithBYOBReader(byobRequest._view, false);\n            }\n            return promiseResolvedWith(undefined);\n        }\n        function pull2Algorithm() {\n            if (reading) {\n                readAgainForBranch2 = true;\n                return promiseResolvedWith(undefined);\n            }\n            reading = true;\n            var byobRequest = ReadableByteStreamControllerGetBYOBRequest(branch2._readableStreamController);\n            if (byobRequest === null) {\n                pullWithDefaultReader();\n            }\n            else {\n                pullWithBYOBReader(byobRequest._view, true);\n            }\n            return promiseResolvedWith(undefined);\n        }\n        function cancel1Algorithm(reason) {\n            canceled1 = true;\n            reason1 = reason;\n            if (canceled2) {\n                var compositeReason = CreateArrayFromList([reason1, reason2]);\n                var cancelResult = ReadableStreamCancel(stream, compositeReason);\n                resolveCancelPromise(cancelResult);\n            }\n            return cancelPromise;\n        }\n        function cancel2Algorithm(reason) {\n            canceled2 = true;\n            reason2 = reason;\n            if (canceled1) {\n                var compositeReason = CreateArrayFromList([reason1, reason2]);\n                var cancelResult = ReadableStreamCancel(stream, compositeReason);\n                resolveCancelPromise(cancelResult);\n            }\n            return cancelPromise;\n        }\n        function startAlgorithm() {\n            return;\n        }\n        branch1 = CreateReadableByteStream(startAlgorithm, pull1Algorithm, cancel1Algorithm);\n        branch2 = CreateReadableByteStream(startAlgorithm, pull2Algorithm, cancel2Algorithm);\n        forwardReaderError(reader);\n        return [branch1, branch2];\n    }\n\n    function convertUnderlyingDefaultOrByteSource(source, context) {\n        assertDictionary(source, context);\n        var original = source;\n        var autoAllocateChunkSize = original === null || original === void 0 ? void 0 : original.autoAllocateChunkSize;\n        var cancel = original === null || original === void 0 ? void 0 : original.cancel;\n        var pull = original === null || original === void 0 ? void 0 : original.pull;\n        var start = original === null || original === void 0 ? void 0 : original.start;\n        var type = original === null || original === void 0 ? void 0 : original.type;\n        return {\n            autoAllocateChunkSize: autoAllocateChunkSize === undefined ?\n                undefined :\n                convertUnsignedLongLongWithEnforceRange(autoAllocateChunkSize, context + \" has member 'autoAllocateChunkSize' that\"),\n            cancel: cancel === undefined ?\n                undefined :\n                convertUnderlyingSourceCancelCallback(cancel, original, context + \" has member 'cancel' that\"),\n            pull: pull === undefined ?\n                undefined :\n                convertUnderlyingSourcePullCallback(pull, original, context + \" has member 'pull' that\"),\n            start: start === undefined ?\n                undefined :\n                convertUnderlyingSourceStartCallback(start, original, context + \" has member 'start' that\"),\n            type: type === undefined ? undefined : convertReadableStreamType(type, context + \" has member 'type' that\")\n        };\n    }\n    function convertUnderlyingSourceCancelCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return function (reason) { return promiseCall(fn, original, [reason]); };\n    }\n    function convertUnderlyingSourcePullCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return function (controller) { return promiseCall(fn, original, [controller]); };\n    }\n    function convertUnderlyingSourceStartCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return function (controller) { return reflectCall(fn, original, [controller]); };\n    }\n    function convertReadableStreamType(type, context) {\n        type = \"\" + type;\n        if (type !== 'bytes') {\n            throw new TypeError(context + \" '\" + type + \"' is not a valid enumeration value for ReadableStreamType\");\n        }\n        return type;\n    }\n\n    function convertReaderOptions(options, context) {\n        assertDictionary(options, context);\n        var mode = options === null || options === void 0 ? void 0 : options.mode;\n        return {\n            mode: mode === undefined ? undefined : convertReadableStreamReaderMode(mode, context + \" has member 'mode' that\")\n        };\n    }\n    function convertReadableStreamReaderMode(mode, context) {\n        mode = \"\" + mode;\n        if (mode !== 'byob') {\n            throw new TypeError(context + \" '\" + mode + \"' is not a valid enumeration value for ReadableStreamReaderMode\");\n        }\n        return mode;\n    }\n\n    function convertIteratorOptions(options, context) {\n        assertDictionary(options, context);\n        var preventCancel = options === null || options === void 0 ? void 0 : options.preventCancel;\n        return { preventCancel: Boolean(preventCancel) };\n    }\n\n    function convertPipeOptions(options, context) {\n        assertDictionary(options, context);\n        var preventAbort = options === null || options === void 0 ? void 0 : options.preventAbort;\n        var preventCancel = options === null || options === void 0 ? void 0 : options.preventCancel;\n        var preventClose = options === null || options === void 0 ? void 0 : options.preventClose;\n        var signal = options === null || options === void 0 ? void 0 : options.signal;\n        if (signal !== undefined) {\n            assertAbortSignal(signal, context + \" has member 'signal' that\");\n        }\n        return {\n            preventAbort: Boolean(preventAbort),\n            preventCancel: Boolean(preventCancel),\n            preventClose: Boolean(preventClose),\n            signal: signal\n        };\n    }\n    function assertAbortSignal(signal, context) {\n        if (!isAbortSignal(signal)) {\n            throw new TypeError(context + \" is not an AbortSignal.\");\n        }\n    }\n\n    function convertReadableWritablePair(pair, context) {\n        assertDictionary(pair, context);\n        var readable = pair === null || pair === void 0 ? void 0 : pair.readable;\n        assertRequiredField(readable, 'readable', 'ReadableWritablePair');\n        assertReadableStream(readable, context + \" has member 'readable' that\");\n        var writable = pair === null || pair === void 0 ? void 0 : pair.writable;\n        assertRequiredField(writable, 'writable', 'ReadableWritablePair');\n        assertWritableStream(writable, context + \" has member 'writable' that\");\n        return { readable: readable, writable: writable };\n    }\n\n    /**\n     * A readable stream represents a source of data, from which you can read.\n     *\n     * @public\n     */\n    var ReadableStream = /** @class */ (function () {\n        function ReadableStream(rawUnderlyingSource, rawStrategy) {\n            if (rawUnderlyingSource === void 0) { rawUnderlyingSource = {}; }\n            if (rawStrategy === void 0) { rawStrategy = {}; }\n            if (rawUnderlyingSource === undefined) {\n                rawUnderlyingSource = null;\n            }\n            else {\n                assertObject(rawUnderlyingSource, 'First parameter');\n            }\n            var strategy = convertQueuingStrategy(rawStrategy, 'Second parameter');\n            var underlyingSource = convertUnderlyingDefaultOrByteSource(rawUnderlyingSource, 'First parameter');\n            InitializeReadableStream(this);\n            if (underlyingSource.type === 'bytes') {\n                if (strategy.size !== undefined) {\n                    throw new RangeError('The strategy for a byte stream cannot have a size function');\n                }\n                var highWaterMark = ExtractHighWaterMark(strategy, 0);\n                SetUpReadableByteStreamControllerFromUnderlyingSource(this, underlyingSource, highWaterMark);\n            }\n            else {\n                var sizeAlgorithm = ExtractSizeAlgorithm(strategy);\n                var highWaterMark = ExtractHighWaterMark(strategy, 1);\n                SetUpReadableStreamDefaultControllerFromUnderlyingSource(this, underlyingSource, highWaterMark, sizeAlgorithm);\n            }\n        }\n        Object.defineProperty(ReadableStream.prototype, \"locked\", {\n            /**\n             * Whether or not the readable stream is locked to a {@link ReadableStreamDefaultReader | reader}.\n             */\n            get: function () {\n                if (!IsReadableStream(this)) {\n                    throw streamBrandCheckException$1('locked');\n                }\n                return IsReadableStreamLocked(this);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        /**\n         * Cancels the stream, signaling a loss of interest in the stream by a consumer.\n         *\n         * The supplied `reason` argument will be given to the underlying source's {@link UnderlyingSource.cancel | cancel()}\n         * method, which might or might not use it.\n         */\n        ReadableStream.prototype.cancel = function (reason) {\n            if (reason === void 0) { reason = undefined; }\n            if (!IsReadableStream(this)) {\n                return promiseRejectedWith(streamBrandCheckException$1('cancel'));\n            }\n            if (IsReadableStreamLocked(this)) {\n                return promiseRejectedWith(new TypeError('Cannot cancel a stream that already has a reader'));\n            }\n            return ReadableStreamCancel(this, reason);\n        };\n        ReadableStream.prototype.getReader = function (rawOptions) {\n            if (rawOptions === void 0) { rawOptions = undefined; }\n            if (!IsReadableStream(this)) {\n                throw streamBrandCheckException$1('getReader');\n            }\n            var options = convertReaderOptions(rawOptions, 'First parameter');\n            if (options.mode === undefined) {\n                return AcquireReadableStreamDefaultReader(this);\n            }\n            return AcquireReadableStreamBYOBReader(this);\n        };\n        ReadableStream.prototype.pipeThrough = function (rawTransform, rawOptions) {\n            if (rawOptions === void 0) { rawOptions = {}; }\n            if (!IsReadableStream(this)) {\n                throw streamBrandCheckException$1('pipeThrough');\n            }\n            assertRequiredArgument(rawTransform, 1, 'pipeThrough');\n            var transform = convertReadableWritablePair(rawTransform, 'First parameter');\n            var options = convertPipeOptions(rawOptions, 'Second parameter');\n            if (IsReadableStreamLocked(this)) {\n                throw new TypeError('ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream');\n            }\n            if (IsWritableStreamLocked(transform.writable)) {\n                throw new TypeError('ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream');\n            }\n            var promise = ReadableStreamPipeTo(this, transform.writable, options.preventClose, options.preventAbort, options.preventCancel, options.signal);\n            setPromiseIsHandledToTrue(promise);\n            return transform.readable;\n        };\n        ReadableStream.prototype.pipeTo = function (destination, rawOptions) {\n            if (rawOptions === void 0) { rawOptions = {}; }\n            if (!IsReadableStream(this)) {\n                return promiseRejectedWith(streamBrandCheckException$1('pipeTo'));\n            }\n            if (destination === undefined) {\n                return promiseRejectedWith(\"Parameter 1 is required in 'pipeTo'.\");\n            }\n            if (!IsWritableStream(destination)) {\n                return promiseRejectedWith(new TypeError(\"ReadableStream.prototype.pipeTo's first argument must be a WritableStream\"));\n            }\n            var options;\n            try {\n                options = convertPipeOptions(rawOptions, 'Second parameter');\n            }\n            catch (e) {\n                return promiseRejectedWith(e);\n            }\n            if (IsReadableStreamLocked(this)) {\n                return promiseRejectedWith(new TypeError('ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream'));\n            }\n            if (IsWritableStreamLocked(destination)) {\n                return promiseRejectedWith(new TypeError('ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream'));\n            }\n            return ReadableStreamPipeTo(this, destination, options.preventClose, options.preventAbort, options.preventCancel, options.signal);\n        };\n        /**\n         * Tees this readable stream, returning a two-element array containing the two resulting branches as\n         * new {@link ReadableStream} instances.\n         *\n         * Teeing a stream will lock it, preventing any other consumer from acquiring a reader.\n         * To cancel the stream, cancel both of the resulting branches; a composite cancellation reason will then be\n         * propagated to the stream's underlying source.\n         *\n         * Note that the chunks seen in each branch will be the same object. If the chunks are not immutable,\n         * this could allow interference between the two branches.\n         */\n        ReadableStream.prototype.tee = function () {\n            if (!IsReadableStream(this)) {\n                throw streamBrandCheckException$1('tee');\n            }\n            var branches = ReadableStreamTee(this);\n            return CreateArrayFromList(branches);\n        };\n        ReadableStream.prototype.values = function (rawOptions) {\n            if (rawOptions === void 0) { rawOptions = undefined; }\n            if (!IsReadableStream(this)) {\n                throw streamBrandCheckException$1('values');\n            }\n            var options = convertIteratorOptions(rawOptions, 'First parameter');\n            return AcquireReadableStreamAsyncIterator(this, options.preventCancel);\n        };\n        return ReadableStream;\n    }());\n    Object.defineProperties(ReadableStream.prototype, {\n        cancel: { enumerable: true },\n        getReader: { enumerable: true },\n        pipeThrough: { enumerable: true },\n        pipeTo: { enumerable: true },\n        tee: { enumerable: true },\n        values: { enumerable: true },\n        locked: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ReadableStream.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ReadableStream',\n            configurable: true\n        });\n    }\n    if (typeof SymbolPolyfill.asyncIterator === 'symbol') {\n        Object.defineProperty(ReadableStream.prototype, SymbolPolyfill.asyncIterator, {\n            value: ReadableStream.prototype.values,\n            writable: true,\n            configurable: true\n        });\n    }\n    // Abstract operations for the ReadableStream.\n    // Throws if and only if startAlgorithm throws.\n    function CreateReadableStream(startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, sizeAlgorithm) {\n        if (highWaterMark === void 0) { highWaterMark = 1; }\n        if (sizeAlgorithm === void 0) { sizeAlgorithm = function () { return 1; }; }\n        var stream = Object.create(ReadableStream.prototype);\n        InitializeReadableStream(stream);\n        var controller = Object.create(ReadableStreamDefaultController.prototype);\n        SetUpReadableStreamDefaultController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, sizeAlgorithm);\n        return stream;\n    }\n    // Throws if and only if startAlgorithm throws.\n    function CreateReadableByteStream(startAlgorithm, pullAlgorithm, cancelAlgorithm) {\n        var stream = Object.create(ReadableStream.prototype);\n        InitializeReadableStream(stream);\n        var controller = Object.create(ReadableByteStreamController.prototype);\n        SetUpReadableByteStreamController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, 0, undefined);\n        return stream;\n    }\n    function InitializeReadableStream(stream) {\n        stream._state = 'readable';\n        stream._reader = undefined;\n        stream._storedError = undefined;\n        stream._disturbed = false;\n    }\n    function IsReadableStream(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_readableStreamController')) {\n            return false;\n        }\n        return x instanceof ReadableStream;\n    }\n    function IsReadableStreamLocked(stream) {\n        if (stream._reader === undefined) {\n            return false;\n        }\n        return true;\n    }\n    // ReadableStream API exposed for controllers.\n    function ReadableStreamCancel(stream, reason) {\n        stream._disturbed = true;\n        if (stream._state === 'closed') {\n            return promiseResolvedWith(undefined);\n        }\n        if (stream._state === 'errored') {\n            return promiseRejectedWith(stream._storedError);\n        }\n        ReadableStreamClose(stream);\n        var reader = stream._reader;\n        if (reader !== undefined && IsReadableStreamBYOBReader(reader)) {\n            reader._readIntoRequests.forEach(function (readIntoRequest) {\n                readIntoRequest._closeSteps(undefined);\n            });\n            reader._readIntoRequests = new SimpleQueue();\n        }\n        var sourceCancelPromise = stream._readableStreamController[CancelSteps](reason);\n        return transformPromiseWith(sourceCancelPromise, noop);\n    }\n    function ReadableStreamClose(stream) {\n        stream._state = 'closed';\n        var reader = stream._reader;\n        if (reader === undefined) {\n            return;\n        }\n        defaultReaderClosedPromiseResolve(reader);\n        if (IsReadableStreamDefaultReader(reader)) {\n            reader._readRequests.forEach(function (readRequest) {\n                readRequest._closeSteps();\n            });\n            reader._readRequests = new SimpleQueue();\n        }\n    }\n    function ReadableStreamError(stream, e) {\n        stream._state = 'errored';\n        stream._storedError = e;\n        var reader = stream._reader;\n        if (reader === undefined) {\n            return;\n        }\n        defaultReaderClosedPromiseReject(reader, e);\n        if (IsReadableStreamDefaultReader(reader)) {\n            reader._readRequests.forEach(function (readRequest) {\n                readRequest._errorSteps(e);\n            });\n            reader._readRequests = new SimpleQueue();\n        }\n        else {\n            reader._readIntoRequests.forEach(function (readIntoRequest) {\n                readIntoRequest._errorSteps(e);\n            });\n            reader._readIntoRequests = new SimpleQueue();\n        }\n    }\n    // Helper functions for the ReadableStream.\n    function streamBrandCheckException$1(name) {\n        return new TypeError(\"ReadableStream.prototype.\" + name + \" can only be used on a ReadableStream\");\n    }\n\n    function convertQueuingStrategyInit(init, context) {\n        assertDictionary(init, context);\n        var highWaterMark = init === null || init === void 0 ? void 0 : init.highWaterMark;\n        assertRequiredField(highWaterMark, 'highWaterMark', 'QueuingStrategyInit');\n        return {\n            highWaterMark: convertUnrestrictedDouble(highWaterMark)\n        };\n    }\n\n    // The size function must not have a prototype property nor be a constructor\n    var byteLengthSizeFunction = function (chunk) {\n        return chunk.byteLength;\n    };\n    Object.defineProperty(byteLengthSizeFunction, 'name', {\n        value: 'size',\n        configurable: true\n    });\n    /**\n     * A queuing strategy that counts the number of bytes in each chunk.\n     *\n     * @public\n     */\n    var ByteLengthQueuingStrategy = /** @class */ (function () {\n        function ByteLengthQueuingStrategy(options) {\n            assertRequiredArgument(options, 1, 'ByteLengthQueuingStrategy');\n            options = convertQueuingStrategyInit(options, 'First parameter');\n            this._byteLengthQueuingStrategyHighWaterMark = options.highWaterMark;\n        }\n        Object.defineProperty(ByteLengthQueuingStrategy.prototype, \"highWaterMark\", {\n            /**\n             * Returns the high water mark provided to the constructor.\n             */\n            get: function () {\n                if (!IsByteLengthQueuingStrategy(this)) {\n                    throw byteLengthBrandCheckException('highWaterMark');\n                }\n                return this._byteLengthQueuingStrategyHighWaterMark;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ByteLengthQueuingStrategy.prototype, \"size\", {\n            /**\n             * Measures the size of `chunk` by returning the value of its `byteLength` property.\n             */\n            get: function () {\n                if (!IsByteLengthQueuingStrategy(this)) {\n                    throw byteLengthBrandCheckException('size');\n                }\n                return byteLengthSizeFunction;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return ByteLengthQueuingStrategy;\n    }());\n    Object.defineProperties(ByteLengthQueuingStrategy.prototype, {\n        highWaterMark: { enumerable: true },\n        size: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ByteLengthQueuingStrategy.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ByteLengthQueuingStrategy',\n            configurable: true\n        });\n    }\n    // Helper functions for the ByteLengthQueuingStrategy.\n    function byteLengthBrandCheckException(name) {\n        return new TypeError(\"ByteLengthQueuingStrategy.prototype.\" + name + \" can only be used on a ByteLengthQueuingStrategy\");\n    }\n    function IsByteLengthQueuingStrategy(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_byteLengthQueuingStrategyHighWaterMark')) {\n            return false;\n        }\n        return x instanceof ByteLengthQueuingStrategy;\n    }\n\n    // The size function must not have a prototype property nor be a constructor\n    var countSizeFunction = function () {\n        return 1;\n    };\n    Object.defineProperty(countSizeFunction, 'name', {\n        value: 'size',\n        configurable: true\n    });\n    /**\n     * A queuing strategy that counts the number of chunks.\n     *\n     * @public\n     */\n    var CountQueuingStrategy = /** @class */ (function () {\n        function CountQueuingStrategy(options) {\n            assertRequiredArgument(options, 1, 'CountQueuingStrategy');\n            options = convertQueuingStrategyInit(options, 'First parameter');\n            this._countQueuingStrategyHighWaterMark = options.highWaterMark;\n        }\n        Object.defineProperty(CountQueuingStrategy.prototype, \"highWaterMark\", {\n            /**\n             * Returns the high water mark provided to the constructor.\n             */\n            get: function () {\n                if (!IsCountQueuingStrategy(this)) {\n                    throw countBrandCheckException('highWaterMark');\n                }\n                return this._countQueuingStrategyHighWaterMark;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(CountQueuingStrategy.prototype, \"size\", {\n            /**\n             * Measures the size of `chunk` by always returning 1.\n             * This ensures that the total queue size is a count of the number of chunks in the queue.\n             */\n            get: function () {\n                if (!IsCountQueuingStrategy(this)) {\n                    throw countBrandCheckException('size');\n                }\n                return countSizeFunction;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return CountQueuingStrategy;\n    }());\n    Object.defineProperties(CountQueuingStrategy.prototype, {\n        highWaterMark: { enumerable: true },\n        size: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(CountQueuingStrategy.prototype, SymbolPolyfill.toStringTag, {\n            value: 'CountQueuingStrategy',\n            configurable: true\n        });\n    }\n    // Helper functions for the CountQueuingStrategy.\n    function countBrandCheckException(name) {\n        return new TypeError(\"CountQueuingStrategy.prototype.\" + name + \" can only be used on a CountQueuingStrategy\");\n    }\n    function IsCountQueuingStrategy(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_countQueuingStrategyHighWaterMark')) {\n            return false;\n        }\n        return x instanceof CountQueuingStrategy;\n    }\n\n    function convertTransformer(original, context) {\n        assertDictionary(original, context);\n        var flush = original === null || original === void 0 ? void 0 : original.flush;\n        var readableType = original === null || original === void 0 ? void 0 : original.readableType;\n        var start = original === null || original === void 0 ? void 0 : original.start;\n        var transform = original === null || original === void 0 ? void 0 : original.transform;\n        var writableType = original === null || original === void 0 ? void 0 : original.writableType;\n        return {\n            flush: flush === undefined ?\n                undefined :\n                convertTransformerFlushCallback(flush, original, context + \" has member 'flush' that\"),\n            readableType: readableType,\n            start: start === undefined ?\n                undefined :\n                convertTransformerStartCallback(start, original, context + \" has member 'start' that\"),\n            transform: transform === undefined ?\n                undefined :\n                convertTransformerTransformCallback(transform, original, context + \" has member 'transform' that\"),\n            writableType: writableType\n        };\n    }\n    function convertTransformerFlushCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return function (controller) { return promiseCall(fn, original, [controller]); };\n    }\n    function convertTransformerStartCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return function (controller) { return reflectCall(fn, original, [controller]); };\n    }\n    function convertTransformerTransformCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return function (chunk, controller) { return promiseCall(fn, original, [chunk, controller]); };\n    }\n\n    // Class TransformStream\n    /**\n     * A transform stream consists of a pair of streams: a {@link WritableStream | writable stream},\n     * known as its writable side, and a {@link ReadableStream | readable stream}, known as its readable side.\n     * In a manner specific to the transform stream in question, writes to the writable side result in new data being\n     * made available for reading from the readable side.\n     *\n     * @public\n     */\n    var TransformStream = /** @class */ (function () {\n        function TransformStream(rawTransformer, rawWritableStrategy, rawReadableStrategy) {\n            if (rawTransformer === void 0) { rawTransformer = {}; }\n            if (rawWritableStrategy === void 0) { rawWritableStrategy = {}; }\n            if (rawReadableStrategy === void 0) { rawReadableStrategy = {}; }\n            if (rawTransformer === undefined) {\n                rawTransformer = null;\n            }\n            var writableStrategy = convertQueuingStrategy(rawWritableStrategy, 'Second parameter');\n            var readableStrategy = convertQueuingStrategy(rawReadableStrategy, 'Third parameter');\n            var transformer = convertTransformer(rawTransformer, 'First parameter');\n            if (transformer.readableType !== undefined) {\n                throw new RangeError('Invalid readableType specified');\n            }\n            if (transformer.writableType !== undefined) {\n                throw new RangeError('Invalid writableType specified');\n            }\n            var readableHighWaterMark = ExtractHighWaterMark(readableStrategy, 0);\n            var readableSizeAlgorithm = ExtractSizeAlgorithm(readableStrategy);\n            var writableHighWaterMark = ExtractHighWaterMark(writableStrategy, 1);\n            var writableSizeAlgorithm = ExtractSizeAlgorithm(writableStrategy);\n            var startPromise_resolve;\n            var startPromise = newPromise(function (resolve) {\n                startPromise_resolve = resolve;\n            });\n            InitializeTransformStream(this, startPromise, writableHighWaterMark, writableSizeAlgorithm, readableHighWaterMark, readableSizeAlgorithm);\n            SetUpTransformStreamDefaultControllerFromTransformer(this, transformer);\n            if (transformer.start !== undefined) {\n                startPromise_resolve(transformer.start(this._transformStreamController));\n            }\n            else {\n                startPromise_resolve(undefined);\n            }\n        }\n        Object.defineProperty(TransformStream.prototype, \"readable\", {\n            /**\n             * The readable side of the transform stream.\n             */\n            get: function () {\n                if (!IsTransformStream(this)) {\n                    throw streamBrandCheckException('readable');\n                }\n                return this._readable;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(TransformStream.prototype, \"writable\", {\n            /**\n             * The writable side of the transform stream.\n             */\n            get: function () {\n                if (!IsTransformStream(this)) {\n                    throw streamBrandCheckException('writable');\n                }\n                return this._writable;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return TransformStream;\n    }());\n    Object.defineProperties(TransformStream.prototype, {\n        readable: { enumerable: true },\n        writable: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(TransformStream.prototype, SymbolPolyfill.toStringTag, {\n            value: 'TransformStream',\n            configurable: true\n        });\n    }\n    function InitializeTransformStream(stream, startPromise, writableHighWaterMark, writableSizeAlgorithm, readableHighWaterMark, readableSizeAlgorithm) {\n        function startAlgorithm() {\n            return startPromise;\n        }\n        function writeAlgorithm(chunk) {\n            return TransformStreamDefaultSinkWriteAlgorithm(stream, chunk);\n        }\n        function abortAlgorithm(reason) {\n            return TransformStreamDefaultSinkAbortAlgorithm(stream, reason);\n        }\n        function closeAlgorithm() {\n            return TransformStreamDefaultSinkCloseAlgorithm(stream);\n        }\n        stream._writable = CreateWritableStream(startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, writableHighWaterMark, writableSizeAlgorithm);\n        function pullAlgorithm() {\n            return TransformStreamDefaultSourcePullAlgorithm(stream);\n        }\n        function cancelAlgorithm(reason) {\n            TransformStreamErrorWritableAndUnblockWrite(stream, reason);\n            return promiseResolvedWith(undefined);\n        }\n        stream._readable = CreateReadableStream(startAlgorithm, pullAlgorithm, cancelAlgorithm, readableHighWaterMark, readableSizeAlgorithm);\n        // The [[backpressure]] slot is set to undefined so that it can be initialised by TransformStreamSetBackpressure.\n        stream._backpressure = undefined;\n        stream._backpressureChangePromise = undefined;\n        stream._backpressureChangePromise_resolve = undefined;\n        TransformStreamSetBackpressure(stream, true);\n        stream._transformStreamController = undefined;\n    }\n    function IsTransformStream(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_transformStreamController')) {\n            return false;\n        }\n        return x instanceof TransformStream;\n    }\n    // This is a no-op if both sides are already errored.\n    function TransformStreamError(stream, e) {\n        ReadableStreamDefaultControllerError(stream._readable._readableStreamController, e);\n        TransformStreamErrorWritableAndUnblockWrite(stream, e);\n    }\n    function TransformStreamErrorWritableAndUnblockWrite(stream, e) {\n        TransformStreamDefaultControllerClearAlgorithms(stream._transformStreamController);\n        WritableStreamDefaultControllerErrorIfNeeded(stream._writable._writableStreamController, e);\n        if (stream._backpressure) {\n            // Pretend that pull() was called to permit any pending write() calls to complete. TransformStreamSetBackpressure()\n            // cannot be called from enqueue() or pull() once the ReadableStream is errored, so this will will be the final time\n            // _backpressure is set.\n            TransformStreamSetBackpressure(stream, false);\n        }\n    }\n    function TransformStreamSetBackpressure(stream, backpressure) {\n        // Passes also when called during construction.\n        if (stream._backpressureChangePromise !== undefined) {\n            stream._backpressureChangePromise_resolve();\n        }\n        stream._backpressureChangePromise = newPromise(function (resolve) {\n            stream._backpressureChangePromise_resolve = resolve;\n        });\n        stream._backpressure = backpressure;\n    }\n    // Class TransformStreamDefaultController\n    /**\n     * Allows control of the {@link ReadableStream} and {@link WritableStream} of the associated {@link TransformStream}.\n     *\n     * @public\n     */\n    var TransformStreamDefaultController = /** @class */ (function () {\n        function TransformStreamDefaultController() {\n            throw new TypeError('Illegal constructor');\n        }\n        Object.defineProperty(TransformStreamDefaultController.prototype, \"desiredSize\", {\n            /**\n             * Returns the desired size to fill the readable sides internal queue. It can be negative, if the queue is over-full.\n             */\n            get: function () {\n                if (!IsTransformStreamDefaultController(this)) {\n                    throw defaultControllerBrandCheckException('desiredSize');\n                }\n                var readableController = this._controlledTransformStream._readable._readableStreamController;\n                return ReadableStreamDefaultControllerGetDesiredSize(readableController);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        TransformStreamDefaultController.prototype.enqueue = function (chunk) {\n            if (chunk === void 0) { chunk = undefined; }\n            if (!IsTransformStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException('enqueue');\n            }\n            TransformStreamDefaultControllerEnqueue(this, chunk);\n        };\n        /**\n         * Errors both the readable side and the writable side of the controlled transform stream, making all future\n         * interactions with it fail with the given error `e`. Any chunks queued for transformation will be discarded.\n         */\n        TransformStreamDefaultController.prototype.error = function (reason) {\n            if (reason === void 0) { reason = undefined; }\n            if (!IsTransformStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException('error');\n            }\n            TransformStreamDefaultControllerError(this, reason);\n        };\n        /**\n         * Closes the readable side and errors the writable side of the controlled transform stream. This is useful when the\n         * transformer only needs to consume a portion of the chunks written to the writable side.\n         */\n        TransformStreamDefaultController.prototype.terminate = function () {\n            if (!IsTransformStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException('terminate');\n            }\n            TransformStreamDefaultControllerTerminate(this);\n        };\n        return TransformStreamDefaultController;\n    }());\n    Object.defineProperties(TransformStreamDefaultController.prototype, {\n        enqueue: { enumerable: true },\n        error: { enumerable: true },\n        terminate: { enumerable: true },\n        desiredSize: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(TransformStreamDefaultController.prototype, SymbolPolyfill.toStringTag, {\n            value: 'TransformStreamDefaultController',\n            configurable: true\n        });\n    }\n    // Transform Stream Default Controller Abstract Operations\n    function IsTransformStreamDefaultController(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_controlledTransformStream')) {\n            return false;\n        }\n        return x instanceof TransformStreamDefaultController;\n    }\n    function SetUpTransformStreamDefaultController(stream, controller, transformAlgorithm, flushAlgorithm) {\n        controller._controlledTransformStream = stream;\n        stream._transformStreamController = controller;\n        controller._transformAlgorithm = transformAlgorithm;\n        controller._flushAlgorithm = flushAlgorithm;\n    }\n    function SetUpTransformStreamDefaultControllerFromTransformer(stream, transformer) {\n        var controller = Object.create(TransformStreamDefaultController.prototype);\n        var transformAlgorithm = function (chunk) {\n            try {\n                TransformStreamDefaultControllerEnqueue(controller, chunk);\n                return promiseResolvedWith(undefined);\n            }\n            catch (transformResultE) {\n                return promiseRejectedWith(transformResultE);\n            }\n        };\n        var flushAlgorithm = function () { return promiseResolvedWith(undefined); };\n        if (transformer.transform !== undefined) {\n            transformAlgorithm = function (chunk) { return transformer.transform(chunk, controller); };\n        }\n        if (transformer.flush !== undefined) {\n            flushAlgorithm = function () { return transformer.flush(controller); };\n        }\n        SetUpTransformStreamDefaultController(stream, controller, transformAlgorithm, flushAlgorithm);\n    }\n    function TransformStreamDefaultControllerClearAlgorithms(controller) {\n        controller._transformAlgorithm = undefined;\n        controller._flushAlgorithm = undefined;\n    }\n    function TransformStreamDefaultControllerEnqueue(controller, chunk) {\n        var stream = controller._controlledTransformStream;\n        var readableController = stream._readable._readableStreamController;\n        if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(readableController)) {\n            throw new TypeError('Readable side is not in a state that permits enqueue');\n        }\n        // We throttle transform invocations based on the backpressure of the ReadableStream, but we still\n        // accept TransformStreamDefaultControllerEnqueue() calls.\n        try {\n            ReadableStreamDefaultControllerEnqueue(readableController, chunk);\n        }\n        catch (e) {\n            // This happens when readableStrategy.size() throws.\n            TransformStreamErrorWritableAndUnblockWrite(stream, e);\n            throw stream._readable._storedError;\n        }\n        var backpressure = ReadableStreamDefaultControllerHasBackpressure(readableController);\n        if (backpressure !== stream._backpressure) {\n            TransformStreamSetBackpressure(stream, true);\n        }\n    }\n    function TransformStreamDefaultControllerError(controller, e) {\n        TransformStreamError(controller._controlledTransformStream, e);\n    }\n    function TransformStreamDefaultControllerPerformTransform(controller, chunk) {\n        var transformPromise = controller._transformAlgorithm(chunk);\n        return transformPromiseWith(transformPromise, undefined, function (r) {\n            TransformStreamError(controller._controlledTransformStream, r);\n            throw r;\n        });\n    }\n    function TransformStreamDefaultControllerTerminate(controller) {\n        var stream = controller._controlledTransformStream;\n        var readableController = stream._readable._readableStreamController;\n        ReadableStreamDefaultControllerClose(readableController);\n        var error = new TypeError('TransformStream terminated');\n        TransformStreamErrorWritableAndUnblockWrite(stream, error);\n    }\n    // TransformStreamDefaultSink Algorithms\n    function TransformStreamDefaultSinkWriteAlgorithm(stream, chunk) {\n        var controller = stream._transformStreamController;\n        if (stream._backpressure) {\n            var backpressureChangePromise = stream._backpressureChangePromise;\n            return transformPromiseWith(backpressureChangePromise, function () {\n                var writable = stream._writable;\n                var state = writable._state;\n                if (state === 'erroring') {\n                    throw writable._storedError;\n                }\n                return TransformStreamDefaultControllerPerformTransform(controller, chunk);\n            });\n        }\n        return TransformStreamDefaultControllerPerformTransform(controller, chunk);\n    }\n    function TransformStreamDefaultSinkAbortAlgorithm(stream, reason) {\n        // abort() is not called synchronously, so it is possible for abort() to be called when the stream is already\n        // errored.\n        TransformStreamError(stream, reason);\n        return promiseResolvedWith(undefined);\n    }\n    function TransformStreamDefaultSinkCloseAlgorithm(stream) {\n        // stream._readable cannot change after construction, so caching it across a call to user code is safe.\n        var readable = stream._readable;\n        var controller = stream._transformStreamController;\n        var flushPromise = controller._flushAlgorithm();\n        TransformStreamDefaultControllerClearAlgorithms(controller);\n        // Return a promise that is fulfilled with undefined on success.\n        return transformPromiseWith(flushPromise, function () {\n            if (readable._state === 'errored') {\n                throw readable._storedError;\n            }\n            ReadableStreamDefaultControllerClose(readable._readableStreamController);\n        }, function (r) {\n            TransformStreamError(stream, r);\n            throw readable._storedError;\n        });\n    }\n    // TransformStreamDefaultSource Algorithms\n    function TransformStreamDefaultSourcePullAlgorithm(stream) {\n        // Invariant. Enforced by the promises returned by start() and pull().\n        TransformStreamSetBackpressure(stream, false);\n        // Prevent the next pull() call until there is backpressure.\n        return stream._backpressureChangePromise;\n    }\n    // Helper functions for the TransformStreamDefaultController.\n    function defaultControllerBrandCheckException(name) {\n        return new TypeError(\"TransformStreamDefaultController.prototype.\" + name + \" can only be used on a TransformStreamDefaultController\");\n    }\n    // Helper functions for the TransformStream.\n    function streamBrandCheckException(name) {\n        return new TypeError(\"TransformStream.prototype.\" + name + \" can only be used on a TransformStream\");\n    }\n\n    exports.ByteLengthQueuingStrategy = ByteLengthQueuingStrategy;\n    exports.CountQueuingStrategy = CountQueuingStrategy;\n    exports.ReadableByteStreamController = ReadableByteStreamController;\n    exports.ReadableStream = ReadableStream;\n    exports.ReadableStreamBYOBReader = ReadableStreamBYOBReader;\n    exports.ReadableStreamBYOBRequest = ReadableStreamBYOBRequest;\n    exports.ReadableStreamDefaultController = ReadableStreamDefaultController;\n    exports.ReadableStreamDefaultReader = ReadableStreamDefaultReader;\n    exports.TransformStream = TransformStream;\n    exports.TransformStreamDefaultController = TransformStreamDefaultController;\n    exports.WritableStream = WritableStream;\n    exports.WritableStreamDefaultController = WritableStreamDefaultController;\n    exports.WritableStreamDefaultWriter = WritableStreamDefaultWriter;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=ponyfill.js.map\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CMapCompressionType, unreachable } from \"../shared/util.js\";\n\nclass BaseCanvasFactory {\n  constructor() {\n    if (this.constructor === BaseCanvasFactory) {\n      unreachable(\"Cannot initialize BaseCanvasFactory.\");\n    }\n  }\n\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    const canvas = this._createCanvas(width, height);\n    return {\n      canvas,\n      context: canvas.getContext(\"2d\"),\n    };\n  }\n\n  reset(canvasAndContext, width, height) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    canvasAndContext.canvas.width = width;\n    canvasAndContext.canvas.height = height;\n  }\n\n  destroy(canvasAndContext) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    // Zeroing the width and height cause Firefox to release graphics\n    // resources immediately, which can greatly reduce memory consumption.\n    canvasAndContext.canvas.width = 0;\n    canvasAndContext.canvas.height = 0;\n    canvasAndContext.canvas = null;\n    canvasAndContext.context = null;\n  }\n\n  /**\n   * @private\n   */\n  _createCanvas(width, height) {\n    unreachable(\"Abstract method `_createCanvas` called.\");\n  }\n}\n\nclass BaseCMapReaderFactory {\n  constructor({ baseUrl = null, isCompressed = false }) {\n    if (this.constructor === BaseCMapReaderFactory) {\n      unreachable(\"Cannot initialize BaseCMapReaderFactory.\");\n    }\n    this.baseUrl = baseUrl;\n    this.isCompressed = isCompressed;\n  }\n\n  async fetch({ name }) {\n    if (!this.baseUrl) {\n      throw new Error(\n        'The CMap \"baseUrl\" parameter must be specified, ensure that ' +\n          'the \"cMapUrl\" and \"cMapPacked\" API parameters are provided.'\n      );\n    }\n    if (!name) {\n      throw new Error(\"CMap name must be specified.\");\n    }\n    const url = this.baseUrl + name + (this.isCompressed ? \".bcmap\" : \"\");\n    const compressionType = this.isCompressed\n      ? CMapCompressionType.BINARY\n      : CMapCompressionType.NONE;\n\n    return this._fetchData(url, compressionType).catch(reason => {\n      throw new Error(\n        `Unable to load ${this.isCompressed ? \"binary \" : \"\"}CMap at: ${url}`\n      );\n    });\n  }\n\n  /**\n   * @private\n   */\n  _fetchData(url, compressionType) {\n    unreachable(\"Abstract method `_fetchData` called.\");\n  }\n}\n\nclass BaseStandardFontDataFactory {\n  constructor({ baseUrl = null }) {\n    if (this.constructor === BaseStandardFontDataFactory) {\n      unreachable(\"Cannot initialize BaseStandardFontDataFactory.\");\n    }\n    this.baseUrl = baseUrl;\n  }\n\n  async fetch({ filename }) {\n    if (!this.baseUrl) {\n      throw new Error(\n        'The standard font \"baseUrl\" parameter must be specified, ensure that ' +\n          'the \"standardFontDataUrl\" API parameter is provided.'\n      );\n    }\n    if (!filename) {\n      throw new Error(\"Font filename must be specified.\");\n    }\n    const url = `${this.baseUrl}${filename}`;\n\n    return this._fetchData(url).catch(reason => {\n      throw new Error(`Unable to load font data at: ${url}`);\n    });\n  }\n\n  /**\n   * @private\n   */\n  _fetchData(url) {\n    unreachable(\"Abstract method `_fetchData` called.\");\n  }\n}\n\nclass BaseSVGFactory {\n  constructor() {\n    if (this.constructor === BaseSVGFactory) {\n      unreachable(\"Cannot initialize BaseSVGFactory.\");\n    }\n  }\n\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid SVG dimensions\");\n    }\n    const svg = this._createSVG(\"svg:svg\");\n    svg.setAttribute(\"version\", \"1.1\");\n    svg.setAttribute(\"width\", `${width}px`);\n    svg.setAttribute(\"height\", `${height}px`);\n    svg.setAttribute(\"preserveAspectRatio\", \"none\");\n    svg.setAttribute(\"viewBox\", `0 0 ${width} ${height}`);\n\n    return svg;\n  }\n\n  createElement(type) {\n    if (typeof type !== \"string\") {\n      throw new Error(\"Invalid SVG element type\");\n    }\n    return this._createSVG(type);\n  }\n\n  /**\n   * @private\n   */\n  _createSVG(type) {\n    unreachable(\"Abstract method `_createSVG` called.\");\n  }\n}\n\nexport {\n  BaseCanvasFactory,\n  BaseCMapReaderFactory,\n  BaseStandardFontDataFactory,\n  BaseSVGFactory,\n};\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @module pdfjsLib\n */\n\nimport {\n  AbortException,\n  AnnotationMode,\n  assert,\n  createPromiseCapability,\n  getVerbosityLevel,\n  info,\n  InvalidPDFException,\n  isArrayBuffer,\n  isSameOrigin,\n  MissingPDFException,\n  PasswordException,\n  RenderingIntentFlag,\n  setVerbosityLevel,\n  shadow,\n  stringToBytes,\n  UnexpectedResponseException,\n  UnknownErrorException,\n  unreachable,\n  warn,\n} from \"../shared/util.js\";\nimport {\n  deprecated,\n  DOMCanvasFactory,\n  DOMCMapReaderFactory,\n  DOMStandardFontDataFactory,\n  isDataScheme,\n  loadScript,\n  PageViewport,\n  RenderingCancelledException,\n  StatTimer,\n} from \"./display_utils.js\";\nimport { FontFaceObject, FontLoader } from \"./font_loader.js\";\nimport {\n  NodeCanvasFactory,\n  NodeCMapReaderFactory,\n  NodeStandardFontDataFactory,\n} from \"./node_utils.js\";\nimport { AnnotationStorage } from \"./annotation_storage.js\";\nimport { CanvasGraphics } from \"./canvas.js\";\nimport { GlobalWorkerOptions } from \"./worker_options.js\";\nimport { isNodeJS } from \"../shared/is_node.js\";\nimport { MessageHandler } from \"../shared/message_handler.js\";\nimport { Metadata } from \"./metadata.js\";\nimport { OptionalContentConfig } from \"./optional_content_config.js\";\nimport { PDFDataTransportStream } from \"./transport_stream.js\";\nimport { XfaText } from \"./xfa_text.js\";\n\nconst DEFAULT_RANGE_CHUNK_SIZE = 65536; // 2^16 = 65536\nconst RENDERING_CANCELLED_TIMEOUT = 100; // ms\n\nconst DefaultCanvasFactory =\n  (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) && isNodeJS\n    ? NodeCanvasFactory\n    : DOMCanvasFactory;\nconst DefaultCMapReaderFactory =\n  (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) && isNodeJS\n    ? NodeCMapReaderFactory\n    : DOMCMapReaderFactory;\nconst DefaultStandardFontDataFactory =\n  (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) && isNodeJS\n    ? NodeStandardFontDataFactory\n    : DOMStandardFontDataFactory;\n\n/**\n * @typedef {function} IPDFStreamFactory\n * @param {DocumentInitParameters} params - The document initialization\n *   parameters. The \"url\" key is always present.\n * @returns {Promise} A promise, which is resolved with an instance of\n *   {IPDFStream}.\n * @ignore\n */\n\n/**\n * @type IPDFStreamFactory\n * @private\n */\nlet createPDFNetworkStream;\n\n/**\n * Sets the function that instantiates an {IPDFStream} as an alternative PDF\n * data transport.\n *\n * @param {IPDFStreamFactory} pdfNetworkStreamFactory - The factory function\n *   that takes document initialization parameters (including a \"url\") and\n *   returns a promise which is resolved with an instance of {IPDFStream}.\n * @ignore\n */\nfunction setPDFNetworkStreamFactory(pdfNetworkStreamFactory) {\n  createPDFNetworkStream = pdfNetworkStreamFactory;\n}\n\n/**\n * @typedef { Int8Array | Uint8Array | Uint8ClampedArray |\n *            Int16Array | Uint16Array |\n *            Int32Array | Uint32Array | Float32Array |\n *            Float64Array\n * } TypedArray\n */\n\n/**\n * @typedef {Object} RefProxy\n * @property {number} num\n * @property {number} gen\n */\n\n/**\n * Document initialization / loading parameters object.\n *\n * @typedef {Object} DocumentInitParameters\n * @property {string|URL} [url] - The URL of the PDF.\n * @property {TypedArray|Array<number>|string} [data] - Binary PDF data. Use\n *    typed arrays (Uint8Array) to improve the memory usage. If PDF data is\n *    BASE64-encoded, use `atob()` to convert it to a binary string first.\n * @property {Object} [httpHeaders] - Basic authentication headers.\n * @property {boolean} [withCredentials] - Indicates whether or not\n *   cross-site Access-Control requests should be made using credentials such\n *   as cookies or authorization headers. The default is `false`.\n * @property {string} [password] - For decrypting password-protected PDFs.\n * @property {TypedArray} [initialData] - A typed array with the first portion\n *   or all of the pdf data. Used by the extension since some data is already\n *   loaded before the switch to range requests.\n * @property {number} [length] - The PDF file length. It's used for progress\n *   reports and range requests operations.\n * @property {PDFDataRangeTransport} [range] - Allows for using a custom range\n *   transport implementation.\n * @property {number} [rangeChunkSize] - Specify maximum number of bytes fetched\n *   per range request. The default value is {@link DEFAULT_RANGE_CHUNK_SIZE}.\n * @property {PDFWorker} [worker] - The worker that will be used for loading and\n *   parsing the PDF data.\n * @property {number} [verbosity] - Controls the logging level; the constants\n *   from {@link VerbosityLevel} should be used.\n * @property {string} [docBaseUrl] - The base URL of the document, used when\n *   attempting to recover valid absolute URLs for annotations, and outline\n *   items, that (incorrectly) only specify relative URLs.\n * @property {string} [cMapUrl] - The URL where the predefined Adobe CMaps are\n *   located. Include the trailing slash.\n * @property {boolean} [cMapPacked] - Specifies if the Adobe CMaps are binary\n *   packed or not.\n * @property {Object} [CMapReaderFactory] - The factory that will be used when\n *   reading built-in CMap files. Providing a custom factory is useful for\n *   environments without Fetch API or `XMLHttpRequest` support, such as\n *   Node.js. The default value is {DOMCMapReaderFactory}.\n * @property {boolean} [useSystemFonts] - When `true`, fonts that aren't\n *   embedded in the PDF document will fallback to a system font.\n *   The default value is `true` in web environments and `false` in Node.js;\n *   unless `disableFontFace === true` in which case this defaults to `false`\n *   regardless of the environment (to prevent completely broken fonts).\n * @property {string} [standardFontDataUrl] - The URL where the standard font\n *   files are located. Include the trailing slash.\n * @property {Object} [StandardFontDataFactory] - The factory that will be used\n *   when reading the standard font files. Providing a custom factory is useful\n *   for environments without Fetch API or `XMLHttpRequest` support, such as\n *   Node.js. The default value is {DOMStandardFontDataFactory}.\n * @property {boolean} [useWorkerFetch] - Enable using the Fetch API in the\n *   worker-thread when reading CMap and standard font files. When `true`,\n *   the `CMapReaderFactory` and `StandardFontDataFactory` options are ignored.\n *   The default value is `true` in web environments and `false` in Node.js.\n * @property {boolean} [stopAtErrors] - Reject certain promises, e.g.\n *   `getOperatorList`, `getTextContent`, and `RenderTask`, when the associated\n *   PDF data cannot be successfully parsed, instead of attempting to recover\n *   whatever possible of the data. The default value is `false`.\n * @property {number} [maxImageSize] - The maximum allowed image size in total\n *   pixels, i.e. width * height. Images above this value will not be rendered.\n *   Use -1 for no limit, which is also the default value.\n * @property {boolean} [isEvalSupported] - Determines if we can evaluate strings\n *   as JavaScript. Primarily used to improve performance of font rendering, and\n *   when parsing PDF functions. The default value is `true`.\n * @property {boolean} [disableFontFace] - By default fonts are converted to\n *   OpenType fonts and loaded via the Font Loading API or `@font-face` rules.\n *   If disabled, fonts will be rendered using a built-in font renderer that\n *   constructs the glyphs with primitive path commands.\n *   The default value is `false` in web environments and `true` in Node.js.\n * @property {boolean} [fontExtraProperties] - Include additional properties,\n *   which are unused during rendering of PDF documents, when exporting the\n *   parsed font data from the worker-thread. This may be useful for debugging\n *   purposes (and backwards compatibility), but note that it will lead to\n *   increased memory usage. The default value is `false`.\n * @property {boolean} [enableXfa] - Render Xfa forms if any.\n *   The default value is `false`.\n * @property {HTMLDocument} [ownerDocument] - Specify an explicit document\n *   context to create elements with and to load resources, such as fonts,\n *   into. Defaults to the current document.\n * @property {boolean} [disableRange] - Disable range request loading of PDF\n *   files. When enabled, and if the server supports partial content requests,\n *   then the PDF will be fetched in chunks. The default value is `false`.\n * @property {boolean} [disableStream] - Disable streaming of PDF file data.\n *   By default PDF.js attempts to load PDF files in chunks. The default value\n *   is `false`.\n * @property {boolean} [disableAutoFetch] - Disable pre-fetching of PDF file\n *   data. When range requests are enabled PDF.js will automatically keep\n *   fetching more data even if it isn't needed to display the current page.\n *   The default value is `false`.\n *\n *   NOTE: It is also necessary to disable streaming, see above, in order for\n *   disabling of pre-fetching to work correctly.\n * @property {boolean} [pdfBug] - Enables special hooks for debugging PDF.js\n *   (see `web/debugger.js`). The default value is `false`.\n */\n\n/**\n * This is the main entry point for loading a PDF and interacting with it.\n *\n * NOTE: If a URL is used to fetch the PDF data a standard Fetch API call (or\n * XHR as fallback) is used, which means it must follow same origin rules,\n * e.g. no cross-domain requests without CORS.\n *\n * @param {string|URL|TypedArray|PDFDataRangeTransport|DocumentInitParameters}\n *   src - Can be a URL where a PDF file is located, a typed array (Uint8Array)\n *         already populated with data, or a parameter object.\n * @returns {PDFDocumentLoadingTask}\n */\nfunction getDocument(src) {\n  const task = new PDFDocumentLoadingTask();\n\n  let source;\n  if (typeof src === \"string\" || src instanceof URL) {\n    source = { url: src };\n  } else if (isArrayBuffer(src)) {\n    source = { data: src };\n  } else if (src instanceof PDFDataRangeTransport) {\n    source = { range: src };\n  } else {\n    if (typeof src !== \"object\") {\n      throw new Error(\n        \"Invalid parameter in getDocument, \" +\n          \"need either string, URL, Uint8Array, or parameter object.\"\n      );\n    }\n    if (!src.url && !src.data && !src.range) {\n      throw new Error(\n        \"Invalid parameter object: need either .data, .range or .url\"\n      );\n    }\n    source = src;\n  }\n  const params = Object.create(null);\n  let rangeTransport = null,\n    worker = null;\n\n  for (const key in source) {\n    const value = source[key];\n\n    switch (key) {\n      case \"url\":\n        if (typeof window !== \"undefined\") {\n          try {\n            // The full path is required in the 'url' field.\n            params[key] = new URL(value, window.location).href;\n            continue;\n          } catch (ex) {\n            warn(`Cannot create valid URL: \"${ex}\".`);\n          }\n        } else if (typeof value === \"string\" || value instanceof URL) {\n          params[key] = value.toString(); // Support Node.js environments.\n          continue;\n        }\n        throw new Error(\n          \"Invalid PDF url data: \" +\n            \"either string or URL-object is expected in the url property.\"\n        );\n      case \"range\":\n        rangeTransport = value;\n        continue;\n      case \"worker\":\n        worker = value;\n        continue;\n      case \"data\":\n        // Converting string or array-like data to Uint8Array.\n        if (\n          typeof PDFJSDev !== \"undefined\" &&\n          PDFJSDev.test(\"GENERIC\") &&\n          isNodeJS &&\n          typeof Buffer !== \"undefined\" && // eslint-disable-line no-undef\n          value instanceof Buffer // eslint-disable-line no-undef\n        ) {\n          params[key] = new Uint8Array(value);\n        } else if (value instanceof Uint8Array) {\n          break; // Use the data as-is when it's already a Uint8Array.\n        } else if (typeof value === \"string\") {\n          params[key] = stringToBytes(value);\n        } else if (\n          typeof value === \"object\" &&\n          value !== null &&\n          !isNaN(value.length)\n        ) {\n          params[key] = new Uint8Array(value);\n        } else if (isArrayBuffer(value)) {\n          params[key] = new Uint8Array(value);\n        } else {\n          throw new Error(\n            \"Invalid PDF binary data: either typed array, \" +\n              \"string, or array-like object is expected in the data property.\"\n          );\n        }\n        continue;\n    }\n    params[key] = value;\n  }\n\n  params.rangeChunkSize = params.rangeChunkSize || DEFAULT_RANGE_CHUNK_SIZE;\n  params.CMapReaderFactory =\n    params.CMapReaderFactory || DefaultCMapReaderFactory;\n  params.StandardFontDataFactory =\n    params.StandardFontDataFactory || DefaultStandardFontDataFactory;\n  params.ignoreErrors = params.stopAtErrors !== true;\n  params.fontExtraProperties = params.fontExtraProperties === true;\n  params.pdfBug = params.pdfBug === true;\n  params.enableXfa = params.enableXfa === true;\n\n  if (\n    typeof params.docBaseUrl !== \"string\" ||\n    isDataScheme(params.docBaseUrl)\n  ) {\n    // Ignore \"data:\"-URLs, since they can't be used to recover valid absolute\n    // URLs anyway. We want to avoid sending them to the worker-thread, since\n    // they contain the *entire* PDF document and can thus be arbitrarily long.\n    params.docBaseUrl = null;\n  }\n  if (!Number.isInteger(params.maxImageSize)) {\n    params.maxImageSize = -1;\n  }\n  if (typeof params.useWorkerFetch !== \"boolean\") {\n    params.useWorkerFetch =\n      params.CMapReaderFactory === DOMCMapReaderFactory &&\n      params.StandardFontDataFactory === DOMStandardFontDataFactory;\n  }\n  if (typeof params.isEvalSupported !== \"boolean\") {\n    params.isEvalSupported = true;\n  }\n  if (typeof params.disableFontFace !== \"boolean\") {\n    params.disableFontFace =\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) && isNodeJS;\n  }\n  if (typeof params.useSystemFonts !== \"boolean\") {\n    params.useSystemFonts =\n      !(\n        (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) &&\n        isNodeJS\n      ) && !params.disableFontFace;\n  }\n  if (typeof params.ownerDocument === \"undefined\") {\n    params.ownerDocument = globalThis.document;\n  }\n\n  if (typeof params.disableRange !== \"boolean\") {\n    params.disableRange = false;\n  }\n  if (typeof params.disableStream !== \"boolean\") {\n    params.disableStream = false;\n  }\n  if (typeof params.disableAutoFetch !== \"boolean\") {\n    params.disableAutoFetch = false;\n  }\n\n  // Set the main-thread verbosity level.\n  setVerbosityLevel(params.verbosity);\n\n  if (!worker) {\n    const workerParams = {\n      verbosity: params.verbosity,\n      port: GlobalWorkerOptions.workerPort,\n    };\n    // Worker was not provided -- creating and owning our own. If message port\n    // is specified in global worker options, using it.\n    worker = workerParams.port\n      ? PDFWorker.fromPort(workerParams)\n      : new PDFWorker(workerParams);\n    task._worker = worker;\n  }\n  const docId = task.docId;\n  worker.promise\n    .then(function () {\n      if (task.destroyed) {\n        throw new Error(\"Loading aborted\");\n      }\n\n      const workerIdPromise = _fetchDocument(\n        worker,\n        params,\n        rangeTransport,\n        docId\n      );\n      const networkStreamPromise = new Promise(function (resolve) {\n        let networkStream;\n        if (rangeTransport) {\n          networkStream = new PDFDataTransportStream(\n            {\n              length: params.length,\n              initialData: params.initialData,\n              progressiveDone: params.progressiveDone,\n              contentDispositionFilename: params.contentDispositionFilename,\n              disableRange: params.disableRange,\n              disableStream: params.disableStream,\n            },\n            rangeTransport\n          );\n        } else if (!params.data) {\n          networkStream = createPDFNetworkStream({\n            url: params.url,\n            length: params.length,\n            httpHeaders: params.httpHeaders,\n            withCredentials: params.withCredentials,\n            rangeChunkSize: params.rangeChunkSize,\n            disableRange: params.disableRange,\n            disableStream: params.disableStream,\n          });\n        }\n        resolve(networkStream);\n      });\n\n      return Promise.all([workerIdPromise, networkStreamPromise]).then(\n        function ([workerId, networkStream]) {\n          if (task.destroyed) {\n            throw new Error(\"Loading aborted\");\n          }\n\n          const messageHandler = new MessageHandler(\n            docId,\n            workerId,\n            worker.port\n          );\n          const transport = new WorkerTransport(\n            messageHandler,\n            task,\n            networkStream,\n            params\n          );\n          task._transport = transport;\n          messageHandler.send(\"Ready\", null);\n        }\n      );\n    })\n    .catch(task._capability.reject);\n\n  return task;\n}\n\n/**\n * Starts fetching of specified PDF document/data.\n *\n * @param {PDFWorker} worker\n * @param {Object} source\n * @param {PDFDataRangeTransport} pdfDataRangeTransport\n * @param {string} docId - Unique document ID, used in `MessageHandler`.\n * @returns {Promise<string>} A promise that is resolved when the worker ID of\n *   the `MessageHandler` is known.\n * @private\n */\nasync function _fetchDocument(worker, source, pdfDataRangeTransport, docId) {\n  if (worker.destroyed) {\n    throw new Error(\"Worker was destroyed\");\n  }\n\n  if (pdfDataRangeTransport) {\n    source.length = pdfDataRangeTransport.length;\n    source.initialData = pdfDataRangeTransport.initialData;\n    source.progressiveDone = pdfDataRangeTransport.progressiveDone;\n    source.contentDispositionFilename =\n      pdfDataRangeTransport.contentDispositionFilename;\n  }\n  const workerId = await worker.messageHandler.sendWithPromise(\n    \"GetDocRequest\",\n    {\n      docId,\n      apiVersion:\n        typeof PDFJSDev !== \"undefined\" && !PDFJSDev.test(\"TESTING\")\n          ? PDFJSDev.eval(\"BUNDLE_VERSION\")\n          : null,\n      // Only send the required properties, and *not* the entire object.\n      source: {\n        data: source.data,\n        url: source.url,\n        password: source.password,\n        disableAutoFetch: source.disableAutoFetch,\n        rangeChunkSize: source.rangeChunkSize,\n        length: source.length,\n      },\n      maxImageSize: source.maxImageSize,\n      disableFontFace: source.disableFontFace,\n      docBaseUrl: source.docBaseUrl,\n      ignoreErrors: source.ignoreErrors,\n      isEvalSupported: source.isEvalSupported,\n      fontExtraProperties: source.fontExtraProperties,\n      enableXfa: source.enableXfa,\n      useSystemFonts: source.useSystemFonts,\n      cMapUrl: source.useWorkerFetch ? source.cMapUrl : null,\n      standardFontDataUrl: source.useWorkerFetch\n        ? source.standardFontDataUrl\n        : null,\n    }\n  );\n\n  if (worker.destroyed) {\n    throw new Error(\"Worker was destroyed\");\n  }\n  return workerId;\n}\n\n/**\n * @typedef {Object} OnProgressParameters\n * @property {number} loaded - Currently loaded number of bytes.\n * @property {number} total - Total number of bytes in the PDF file.\n */\n\n/**\n * The loading task controls the operations required to load a PDF document\n * (such as network requests) and provides a way to listen for completion,\n * after which individual pages can be rendered.\n */\nclass PDFDocumentLoadingTask {\n  static get idCounters() {\n    return shadow(this, \"idCounters\", { doc: 0 });\n  }\n\n  constructor() {\n    this._capability = createPromiseCapability();\n    this._transport = null;\n    this._worker = null;\n\n    /**\n     * Unique identifier for the document loading task.\n     * @type {string}\n     */\n    this.docId = `d${PDFDocumentLoadingTask.idCounters.doc++}`;\n\n    /**\n     * Whether the loading task is destroyed or not.\n     * @type {boolean}\n     */\n    this.destroyed = false;\n\n    /**\n     * Callback to request a password if a wrong or no password was provided.\n     * The callback receives two parameters: a function that should be called\n     * with the new password, and a reason (see {@link PasswordResponses}).\n     * @type {function}\n     */\n    this.onPassword = null;\n\n    /**\n     * Callback to be able to monitor the loading progress of the PDF file\n     * (necessary to implement e.g. a loading bar).\n     * The callback receives an {@link OnProgressParameters} argument.\n     * @type {function}\n     */\n    this.onProgress = null;\n\n    /**\n     * Callback for when an unsupported feature is used in the PDF document.\n     * The callback receives an {@link UNSUPPORTED_FEATURES} argument.\n     * @type {function}\n     */\n    this.onUnsupportedFeature = null;\n  }\n\n  /**\n   * Promise for document loading task completion.\n   * @type {Promise<PDFDocumentProxy>}\n   */\n  get promise() {\n    return this._capability.promise;\n  }\n\n  /**\n   * Abort all network requests and destroy the worker.\n   * @returns {Promise<void>} A promise that is resolved when destruction is\n   *   completed.\n   */\n  async destroy() {\n    this.destroyed = true;\n    await this._transport?.destroy();\n\n    this._transport = null;\n    if (this._worker) {\n      this._worker.destroy();\n      this._worker = null;\n    }\n  }\n}\n\n/**\n * Abstract class to support range requests file loading.\n */\nclass PDFDataRangeTransport {\n  /**\n   * @param {number} length\n   * @param {Uint8Array} initialData\n   * @param {boolean} [progressiveDone]\n   * @param {string} [contentDispositionFilename]\n   */\n  constructor(\n    length,\n    initialData,\n    progressiveDone = false,\n    contentDispositionFilename = null\n  ) {\n    this.length = length;\n    this.initialData = initialData;\n    this.progressiveDone = progressiveDone;\n    this.contentDispositionFilename = contentDispositionFilename;\n\n    this._rangeListeners = [];\n    this._progressListeners = [];\n    this._progressiveReadListeners = [];\n    this._progressiveDoneListeners = [];\n    this._readyCapability = createPromiseCapability();\n  }\n\n  addRangeListener(listener) {\n    this._rangeListeners.push(listener);\n  }\n\n  addProgressListener(listener) {\n    this._progressListeners.push(listener);\n  }\n\n  addProgressiveReadListener(listener) {\n    this._progressiveReadListeners.push(listener);\n  }\n\n  addProgressiveDoneListener(listener) {\n    this._progressiveDoneListeners.push(listener);\n  }\n\n  onDataRange(begin, chunk) {\n    for (const listener of this._rangeListeners) {\n      listener(begin, chunk);\n    }\n  }\n\n  onDataProgress(loaded, total) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressListeners) {\n        listener(loaded, total);\n      }\n    });\n  }\n\n  onDataProgressiveRead(chunk) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveReadListeners) {\n        listener(chunk);\n      }\n    });\n  }\n\n  onDataProgressiveDone() {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveDoneListeners) {\n        listener();\n      }\n    });\n  }\n\n  transportReady() {\n    this._readyCapability.resolve();\n  }\n\n  requestDataRange(begin, end) {\n    unreachable(\"Abstract method PDFDataRangeTransport.requestDataRange\");\n  }\n\n  abort() {}\n}\n\n/**\n * Proxy to a `PDFDocument` in the worker thread.\n */\nclass PDFDocumentProxy {\n  constructor(pdfInfo, transport) {\n    this._pdfInfo = pdfInfo;\n    this._transport = transport;\n\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) {\n      Object.defineProperty(this, \"fingerprint\", {\n        get() {\n          deprecated(\n            \"`PDFDocumentProxy.fingerprint`, \" +\n              \"please use `PDFDocumentProxy.fingerprints` instead.\"\n          );\n          return this.fingerprints[0];\n        },\n      });\n\n      Object.defineProperty(this, \"getStats\", {\n        value: async () => {\n          deprecated(\n            \"`PDFDocumentProxy.getStats`, \" +\n              \"please use the `PDFDocumentProxy.stats`-getter instead.\"\n          );\n          return this.stats || { streamTypes: {}, fontTypes: {} };\n        },\n      });\n    }\n  }\n\n  /**\n   * @type {AnnotationStorage} Storage for annotation data in forms.\n   */\n  get annotationStorage() {\n    return this._transport.annotationStorage;\n  }\n\n  /**\n   * @type {number} Total number of pages in the PDF file.\n   */\n  get numPages() {\n    return this._pdfInfo.numPages;\n  }\n\n  /**\n   * @type {Array<string, string|null>} A (not guaranteed to be) unique ID to\n   *   identify the PDF document.\n   *   NOTE: The first element will always be defined for all PDF documents,\n   *   whereas the second element is only defined for *modified* PDF documents.\n   */\n  get fingerprints() {\n    return this._pdfInfo.fingerprints;\n  }\n\n  /**\n   * @typedef {Object} PDFDocumentStats\n   * @property {Object<string, boolean>} streamTypes - Used stream types in the\n   *   document (an item is set to true if specific stream ID was used in the\n   *   document).\n   * @property {Object<string, boolean>} fontTypes - Used font types in the\n   *   document (an item is set to true if specific font ID was used in the\n   *   document).\n   */\n\n  /**\n   * @type {PDFDocumentStats | null} The current statistics about document\n   *   structures, or `null` when no statistics exists.\n   */\n  get stats() {\n    return this._transport.stats;\n  }\n\n  /**\n   * @type {boolean} True if only XFA form.\n   */\n  get isPureXfa() {\n    return !!this._transport._htmlForXfa;\n  }\n\n  /**\n   * NOTE: This is (mostly) intended to support printing of XFA forms.\n   *\n   * @type {Object | null} An object representing a HTML tree structure\n   *   to render the XFA, or `null` when no XFA form exists.\n   */\n  get allXfaHtml() {\n    return this._transport._htmlForXfa;\n  }\n\n  /**\n   * @param {number} pageNumber - The page number to get. The first page is 1.\n   * @returns {Promise<PDFPageProxy>} A promise that is resolved with\n   *   a {@link PDFPageProxy} object.\n   */\n  getPage(pageNumber) {\n    return this._transport.getPage(pageNumber);\n  }\n\n  /**\n   * @param {RefProxy} ref - The page reference.\n   * @returns {Promise<number>} A promise that is resolved with the page index,\n   *   starting from zero, that is associated with the reference.\n   */\n  getPageIndex(ref) {\n    return this._transport.getPageIndex(ref);\n  }\n\n  /**\n   * @returns {Promise<Object<string, Array<any>>>} A promise that is resolved\n   *   with a mapping from named destinations to references.\n   *\n   * This can be slow for large documents. Use `getDestination` instead.\n   */\n  getDestinations() {\n    return this._transport.getDestinations();\n  }\n\n  /**\n   * @param {string} id - The named destination to get.\n   * @returns {Promise<Array<any> | null>} A promise that is resolved with all\n   *   information of the given named destination, or `null` when the named\n   *   destination is not present in the PDF file.\n   */\n  getDestination(id) {\n    return this._transport.getDestination(id);\n  }\n\n  /**\n   * @returns {Promise<Array<string> | null>} A promise that is resolved with\n   *   an {Array} containing the page labels that correspond to the page\n   *   indexes, or `null` when no page labels are present in the PDF file.\n   */\n  getPageLabels() {\n    return this._transport.getPageLabels();\n  }\n\n  /**\n   * @returns {Promise<string>} A promise that is resolved with a {string}\n   *   containing the page layout name.\n   */\n  getPageLayout() {\n    return this._transport.getPageLayout();\n  }\n\n  /**\n   * @returns {Promise<string>} A promise that is resolved with a {string}\n   *   containing the page mode name.\n   */\n  getPageMode() {\n    return this._transport.getPageMode();\n  }\n\n  /**\n   * @returns {Promise<Object | null>} A promise that is resolved with an\n   *   {Object} containing the viewer preferences, or `null` when no viewer\n   *   preferences are present in the PDF file.\n   */\n  getViewerPreferences() {\n    return this._transport.getViewerPreferences();\n  }\n\n  /**\n   * @returns {Promise<any | null>} A promise that is resolved with an {Array}\n   *   containing the destination, or `null` when no open action is present\n   *   in the PDF.\n   */\n  getOpenAction() {\n    return this._transport.getOpenAction();\n  }\n\n  /**\n   * @returns {Promise<any>} A promise that is resolved with a lookup table\n   *   for mapping named attachments to their content.\n   */\n  getAttachments() {\n    return this._transport.getAttachments();\n  }\n\n  /**\n   * @returns {Promise<Array<string> | null>} A promise that is resolved with\n   *   an {Array} of all the JavaScript strings in the name tree, or `null`\n   *   if no JavaScript exists.\n   */\n  getJavaScript() {\n    return this._transport.getJavaScript();\n  }\n\n  /**\n   * @returns {Promise<Object | null>} A promise that is resolved with\n   *   an {Object} with the JavaScript actions:\n   *     - from the name tree (like getJavaScript);\n   *     - from A or AA entries in the catalog dictionary.\n   *   , or `null` if no JavaScript exists.\n   */\n  getJSActions() {\n    return this._transport.getDocJSActions();\n  }\n\n  /**\n   * @typedef {Object} OutlineNode\n   * @property {string} title\n   * @property {boolean} bold\n   * @property {boolean} italic\n   * @property {Uint8ClampedArray} color - The color in RGB format to use for\n   *   display purposes.\n   * @property {string | Array<any> | null} dest\n   * @property {string | null} url\n   * @property {string | undefined} unsafeUrl\n   * @property {boolean | undefined} newWindow\n   * @property {number | undefined} count\n   * @property {Array<OutlineNode>} items\n   */\n\n  /**\n   * @returns {Promise<Array<OutlineNode>>} A promise that is resolved with an\n   *   {Array} that is a tree outline (if it has one) of the PDF file.\n   */\n  getOutline() {\n    return this._transport.getOutline();\n  }\n\n  /**\n   * @returns {Promise<OptionalContentConfig>} A promise that is resolved with\n   *   an {@link OptionalContentConfig} that contains all the optional content\n   *   groups (assuming that the document has any).\n   */\n  getOptionalContentConfig() {\n    return this._transport.getOptionalContentConfig();\n  }\n\n  /**\n   * @returns {Promise<Array<number> | null>} A promise that is resolved with\n   *   an {Array} that contains the permission flags for the PDF document, or\n   *   `null` when no permissions are present in the PDF file.\n   */\n  getPermissions() {\n    return this._transport.getPermissions();\n  }\n\n  /**\n   * @returns {Promise<{ info: Object, metadata: Metadata }>} A promise that is\n   *   resolved with an {Object} that has `info` and `metadata` properties.\n   *   `info` is an {Object} filled with anything available in the information\n   *   dictionary and similarly `metadata` is a {Metadata} object with\n   *   information from the metadata section of the PDF.\n   */\n  getMetadata() {\n    return this._transport.getMetadata();\n  }\n\n  /**\n   * @typedef {Object} MarkInfo\n   * Properties correspond to Table 321 of the PDF 32000-1:2008 spec.\n   * @property {boolean} Marked\n   * @property {boolean} UserProperties\n   * @property {boolean} Suspects\n   */\n\n  /**\n   * @returns {Promise<MarkInfo | null>} A promise that is resolved with\n   *   a {MarkInfo} object that contains the MarkInfo flags for the PDF\n   *   document, or `null` when no MarkInfo values are present in the PDF file.\n   */\n  getMarkInfo() {\n    return this._transport.getMarkInfo();\n  }\n\n  /**\n   * @returns {Promise<TypedArray>} A promise that is resolved with a\n   *   {TypedArray} that has the raw data from the PDF.\n   */\n  getData() {\n    return this._transport.getData();\n  }\n\n  /**\n   * @returns {Promise<{ length: number }>} A promise that is resolved when the\n   *   document's data is loaded. It is resolved with an {Object} that contains\n   *   the `length` property that indicates size of the PDF data in bytes.\n   */\n  getDownloadInfo() {\n    return this._transport.downloadInfoCapability.promise;\n  }\n\n  /**\n   * Cleans up resources allocated by the document on both the main and worker\n   * threads.\n   *\n   * NOTE: Do not, under any circumstances, call this method when rendering is\n   * currently ongoing since that may lead to rendering errors.\n   *\n   * @param {boolean} [keepLoadedFonts] - Let fonts remain attached to the DOM.\n   *   NOTE: This will increase persistent memory usage, hence don't use this\n   *   option unless absolutely necessary. The default value is `false`.\n   * @returns {Promise} A promise that is resolved when clean-up has finished.\n   */\n  cleanup(keepLoadedFonts = false) {\n    return this._transport.startCleanup(keepLoadedFonts || this.isPureXfa);\n  }\n\n  /**\n   * Destroys the current document instance and terminates the worker.\n   */\n  destroy() {\n    return this.loadingTask.destroy();\n  }\n\n  /**\n   * @type {DocumentInitParameters} A subset of the current\n   *   {DocumentInitParameters}, which are needed in the viewer.\n   */\n  get loadingParams() {\n    return this._transport.loadingParams;\n  }\n\n  /**\n   * @type {PDFDocumentLoadingTask} The loadingTask for the current document.\n   */\n  get loadingTask() {\n    return this._transport.loadingTask;\n  }\n\n  /**\n   * @returns {Promise<Uint8Array>} A promise that is resolved with a\n   *   {Uint8Array} containing the full data of the saved document.\n   */\n  saveDocument() {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) &&\n      this._transport.annotationStorage.size <= 0\n    ) {\n      deprecated(\n        \"saveDocument called while `annotationStorage` is empty, \" +\n          \"please use the getData-method instead.\"\n      );\n    }\n    return this._transport.saveDocument();\n  }\n\n  /**\n   * @returns {Promise<Object<string, Array<Object>> | null>} A promise that is\n   *   resolved with an {Object} containing /AcroForm field data for the JS\n   *   sandbox, or `null` when no field data is present in the PDF file.\n   */\n  getFieldObjects() {\n    return this._transport.getFieldObjects();\n  }\n\n  /**\n   * @returns {Promise<boolean>} A promise that is resolved with `true`\n   *   if some /AcroForm fields have JavaScript actions.\n   */\n  hasJSActions() {\n    return this._transport.hasJSActions();\n  }\n\n  /**\n   * @returns {Promise<Array<string> | null>} A promise that is resolved with an\n   *   {Array<string>} containing IDs of annotations that have a calculation\n   *   action, or `null` when no such annotations are present in the PDF file.\n   */\n  getCalculationOrderIds() {\n    return this._transport.getCalculationOrderIds();\n  }\n}\n\n/**\n * Page getViewport parameters.\n *\n * @typedef {Object} GetViewportParameters\n * @property {number} scale - The desired scale of the viewport.\n * @property {number} [rotation] - The desired rotation, in degrees, of\n *   the viewport. If omitted it defaults to the page rotation.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset.\n *   The default value is `0`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset.\n *   The default value is `0`.\n * @property {boolean} [dontFlip] - If true, the y-axis will not be\n *   flipped. The default value is `false`.\n */\n\n/**\n * Page getTextContent parameters.\n *\n * @typedef {Object} getTextContentParameters\n * @property {boolean} normalizeWhitespace - Replaces all occurrences of\n *   whitespace with standard spaces (0x20). The default value is `false`.\n * @property {boolean} disableCombineTextItems - Do not attempt to combine\n *   same line {@link TextItem}'s. The default value is `false`.\n * @property {boolean} [includeMarkedContent] - When true include marked\n *   content items in the items array of TextContent. The default is `false`.\n */\n\n/**\n * Page text content.\n *\n * @typedef {Object} TextContent\n * @property {Array<TextItem | TextMarkedContent>} items - Array of\n *   {@link TextItem} and {@link TextMarkedContent} objects. TextMarkedContent\n *   items are included when includeMarkedContent is true.\n * @property {Object<string, TextStyle>} styles - {@link TextStyle} objects,\n *   indexed by font name.\n */\n\n/**\n * Page text content part.\n *\n * @typedef {Object} TextItem\n * @property {string} str - Text content.\n * @property {string} dir - Text direction: 'ttb', 'ltr' or 'rtl'.\n * @property {Array<any>} transform - Transformation matrix.\n * @property {number} width - Width in device space.\n * @property {number} height - Height in device space.\n * @property {string} fontName - Font name used by PDF.js for converted font.\n * @property {boolean} hasEOL - Indicating if the text content is followed by a\n *   line-break.\n */\n\n/**\n * Page text marked content part.\n *\n * @typedef {Object} TextMarkedContent\n * @property {string} type - Either 'beginMarkedContent',\n *   'beginMarkedContentProps', or 'endMarkedContent'.\n * @property {string} id - The marked content identifier. Only used for type\n *   'beginMarkedContentProps'.\n */\n\n/**\n * Text style.\n *\n * @typedef {Object} TextStyle\n * @property {number} ascent - Font ascent.\n * @property {number} descent - Font descent.\n * @property {boolean} vertical - Whether or not the text is in vertical mode.\n * @property {string} fontFamily - The possible font family.\n */\n\n/**\n * Page annotation parameters.\n *\n * @typedef {Object} GetAnnotationsParameters\n * @property {string} [intent] - Determines the annotations that are fetched,\n *   can be 'display' (viewable annotations), 'print' (printable annotations),\n *   or 'any' (all annotations). The default value is 'display'.\n */\n\n/**\n * Page render parameters.\n *\n * @typedef {Object} RenderParameters\n * @property {Object} canvasContext - A 2D context of a DOM Canvas object.\n * @property {PageViewport} viewport - Rendering viewport obtained by calling\n *   the `PDFPageProxy.getViewport` method.\n * @property {string} [intent] - Rendering intent, can be 'display', 'print',\n *   or 'any'. The default value is 'display'.\n * @property {number} [annotationMode] Controls which annotations are rendered\n *   onto the canvas, for annotations with appearance-data; the values from\n *   {@link AnnotationMode} should be used. The following values are supported:\n *    - `AnnotationMode.DISABLE`, which disables all annotations.\n *    - `AnnotationMode.ENABLE`, which includes all possible annotations (thus\n *      it also depends on the `intent`-option, see above).\n *    - `AnnotationMode.ENABLE_FORMS`, which excludes annotations that contain\n *      interactive form elements (those will be rendered in the display layer).\n *    - `AnnotationMode.ENABLE_STORAGE`, which includes all possible annotations\n *      (as above) but where interactive form elements are updated with data\n *      from the {@link AnnotationStorage}-instance; useful e.g. for printing.\n *   The default value is `AnnotationMode.ENABLE`.\n * @property {Array<any>} [transform] - Additional transform, applied just\n *   before viewport transform.\n * @property {Object} [imageLayer] - An object that has `beginLayout`,\n *   `endLayout` and `appendImage` functions.\n * @property {Object} [canvasFactory] - The factory instance that will be used\n *   when creating canvases. The default value is {new DOMCanvasFactory()}.\n * @property {Object | string} [background] - Background to use for the canvas.\n *   Any valid `canvas.fillStyle` can be used: a `DOMString` parsed as CSS\n *   <color> value, a `CanvasGradient` object (a linear or radial gradient) or\n *   a `CanvasPattern` object (a repetitive image). The default value is\n *   'rgb(255,255,255)'.\n * @property {Promise<OptionalContentConfig>} [optionalContentConfigPromise] -\n *   A promise that should resolve with an {@link OptionalContentConfig}\n *   created from `PDFDocumentProxy.getOptionalContentConfig`. If `null`,\n *   the configuration will be fetched automatically with the default visibility\n *   states set.\n * @property {Map<string, HTMLCanvasElement>} [annotationCanvasMap] - Map some\n *   annotation ids with canvases used to render them.\n */\n\n/**\n * Page getOperatorList parameters.\n *\n * @typedef {Object} GetOperatorListParameters\n * @property {string} [intent] - Rendering intent, can be 'display', 'print',\n *   or 'any'. The default value is 'display'.\n * @property {number} [annotationMode] Controls which annotations are included\n *   in the operatorList, for annotations with appearance-data; the values from\n *   {@link AnnotationMode} should be used. The following values are supported:\n *    - `AnnotationMode.DISABLE`, which disables all annotations.\n *    - `AnnotationMode.ENABLE`, which includes all possible annotations (thus\n *      it also depends on the `intent`-option, see above).\n *    - `AnnotationMode.ENABLE_FORMS`, which excludes annotations that contain\n *      interactive form elements (those will be rendered in the display layer).\n *    - `AnnotationMode.ENABLE_STORAGE`, which includes all possible annotations\n *      (as above) but where interactive form elements are updated with data\n *      from the {@link AnnotationStorage}-instance; useful e.g. for printing.\n *   The default value is `AnnotationMode.ENABLE`.\n */\n\n/**\n * Structure tree node. The root node will have a role \"Root\".\n *\n * @typedef {Object} StructTreeNode\n * @property {Array<StructTreeNode | StructTreeContent>} children - Array of\n *   {@link StructTreeNode} and {@link StructTreeContent} objects.\n * @property {string} role - element's role, already mapped if a role map exists\n * in the PDF.\n */\n\n/**\n * Structure tree content.\n *\n * @typedef {Object} StructTreeContent\n * @property {string} type - either \"content\" for page and stream structure\n *   elements or \"object\" for object references.\n * @property {string} id - unique id that will map to the text layer.\n */\n\n/**\n * PDF page operator list.\n *\n * @typedef {Object} PDFOperatorList\n * @property {Array<number>} fnArray - Array containing the operator functions.\n * @property {Array<any>} argsArray - Array containing the arguments of the\n *   functions.\n */\n\n/**\n * Proxy to a `PDFPage` in the worker thread.\n */\nclass PDFPageProxy {\n  constructor(pageIndex, pageInfo, transport, ownerDocument, pdfBug = false) {\n    this._pageIndex = pageIndex;\n    this._pageInfo = pageInfo;\n    this._ownerDocument = ownerDocument;\n    this._transport = transport;\n    this._stats = pdfBug ? new StatTimer() : null;\n    this._pdfBug = pdfBug;\n    this.commonObjs = transport.commonObjs;\n    this.objs = new PDFObjects();\n\n    this.cleanupAfterRender = false;\n    this.pendingCleanup = false;\n    this._intentStates = new Map();\n    this._annotationPromises = new Map();\n    this.destroyed = false;\n  }\n\n  /**\n   * @type {number} Page number of the page. First page is 1.\n   */\n  get pageNumber() {\n    return this._pageIndex + 1;\n  }\n\n  /**\n   * @type {number} The number of degrees the page is rotated clockwise.\n   */\n  get rotate() {\n    return this._pageInfo.rotate;\n  }\n\n  /**\n   * @type {RefProxy | null} The reference that points to this page.\n   */\n  get ref() {\n    return this._pageInfo.ref;\n  }\n\n  /**\n   * @type {number} The default size of units in 1/72nds of an inch.\n   */\n  get userUnit() {\n    return this._pageInfo.userUnit;\n  }\n\n  /**\n   * @type {Array<number>} An array of the visible portion of the PDF page in\n   *   user space units [x1, y1, x2, y2].\n   */\n  get view() {\n    return this._pageInfo.view;\n  }\n\n  /**\n   * @param {GetViewportParameters} params - Viewport parameters.\n   * @returns {PageViewport} Contains 'width' and 'height' properties\n   *   along with transforms required for rendering.\n   */\n  getViewport({\n    scale,\n    rotation = this.rotate,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false,\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.view,\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip,\n    });\n  }\n\n  /**\n   * @param {GetAnnotationsParameters} params - Annotation parameters.\n   * @returns {Promise<Array<any>>} A promise that is resolved with an\n   *   {Array} of the annotation objects.\n   */\n  getAnnotations({ intent = \"display\" } = {}) {\n    const intentArgs = this._transport.getRenderingIntent(intent);\n\n    let promise = this._annotationPromises.get(intentArgs.cacheKey);\n    if (!promise) {\n      promise = this._transport.getAnnotations(\n        this._pageIndex,\n        intentArgs.renderingIntent\n      );\n      this._annotationPromises.set(intentArgs.cacheKey, promise);\n\n      if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) {\n        promise = promise.then(annotations => {\n          for (const annotation of annotations) {\n            if (annotation.titleObj !== undefined) {\n              Object.defineProperty(annotation, \"title\", {\n                get() {\n                  deprecated(\n                    \"`title`-property on annotation, please use `titleObj` instead.\"\n                  );\n                  return annotation.titleObj.str;\n                },\n              });\n            }\n            if (annotation.contentsObj !== undefined) {\n              Object.defineProperty(annotation, \"contents\", {\n                get() {\n                  deprecated(\n                    \"`contents`-property on annotation, please use `contentsObj` instead.\"\n                  );\n                  return annotation.contentsObj.str;\n                },\n              });\n            }\n          }\n          return annotations;\n        });\n      }\n    }\n    return promise;\n  }\n\n  /**\n   * @returns {Promise<Object>} A promise that is resolved with an\n   *   {Object} with JS actions.\n   */\n  getJSActions() {\n    return (this._jsActionsPromise ||= this._transport.getPageJSActions(\n      this._pageIndex\n    ));\n  }\n\n  /**\n   * @returns {Promise<Object | null>} A promise that is resolved with\n   *   an {Object} with a fake DOM object (a tree structure where elements\n   *   are {Object} with a name, attributes (class, style, ...), value and\n   *   children, very similar to a HTML DOM tree), or `null` if no XFA exists.\n   */\n  async getXfa() {\n    return this._transport._htmlForXfa?.children[this._pageIndex] || null;\n  }\n\n  /**\n   * Begins the process of rendering a page to the desired context.\n   *\n   * @param {RenderParameters} params - Page render parameters.\n   * @returns {RenderTask} An object that contains a promise that is\n   *   resolved when the page finishes rendering.\n   */\n  render({\n    canvasContext,\n    viewport,\n    intent = \"display\",\n    annotationMode = AnnotationMode.ENABLE,\n    transform = null,\n    imageLayer = null,\n    canvasFactory = null,\n    background = null,\n    optionalContentConfigPromise = null,\n    annotationCanvasMap = null,\n  }) {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC\")) {\n      if (arguments[0]?.renderInteractiveForms !== undefined) {\n        deprecated(\n          \"render no longer accepts the `renderInteractiveForms`-option, \" +\n            \"please use the `annotationMode`-option instead.\"\n        );\n        if (\n          arguments[0].renderInteractiveForms === true &&\n          annotationMode === AnnotationMode.ENABLE\n        ) {\n          annotationMode = AnnotationMode.ENABLE_FORMS;\n        }\n      }\n      if (arguments[0]?.includeAnnotationStorage !== undefined) {\n        deprecated(\n          \"render no longer accepts the `includeAnnotationStorage`-option, \" +\n            \"please use the `annotationMode`-option instead.\"\n        );\n        if (\n          arguments[0].includeAnnotationStorage === true &&\n          annotationMode === AnnotationMode.ENABLE\n        ) {\n          annotationMode = AnnotationMode.ENABLE_STORAGE;\n        }\n      }\n    }\n\n    if (this._stats) {\n      this._stats.time(\"Overall\");\n    }\n\n    const intentArgs = this._transport.getRenderingIntent(\n      intent,\n      annotationMode\n    );\n    // If there was a pending destroy, cancel it so no cleanup happens during\n    // this call to render.\n    this.pendingCleanup = false;\n\n    if (!optionalContentConfigPromise) {\n      optionalContentConfigPromise = this._transport.getOptionalContentConfig();\n    }\n\n    let intentState = this._intentStates.get(intentArgs.cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(intentArgs.cacheKey, intentState);\n    }\n\n    // Ensure that a pending `streamReader` cancel timeout is always aborted.\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n\n    const canvasFactoryInstance =\n      canvasFactory ||\n      new DefaultCanvasFactory({ ownerDocument: this._ownerDocument });\n    const intentPrint = !!(\n      intentArgs.renderingIntent & RenderingIntentFlag.PRINT\n    );\n\n    // If there's no displayReadyCapability yet, then the operatorList\n    // was never requested before. Make the request and create the promise.\n    if (!intentState.displayReadyCapability) {\n      intentState.displayReadyCapability = createPromiseCapability();\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n      };\n\n      if (this._stats) {\n        this._stats.time(\"Page Request\");\n      }\n      this._pumpOperatorList(intentArgs);\n    }\n\n    const complete = error => {\n      intentState.renderTasks.delete(internalRenderTask);\n\n      // Attempt to reduce memory usage during *printing*, by always running\n      // cleanup once rendering has finished (regardless of cleanupAfterRender).\n      if (this.cleanupAfterRender || intentPrint) {\n        this.pendingCleanup = true;\n      }\n      this._tryCleanup();\n\n      if (error) {\n        internalRenderTask.capability.reject(error);\n\n        this._abortOperatorList({\n          intentState,\n          reason: error instanceof Error ? error : new Error(error),\n        });\n      } else {\n        internalRenderTask.capability.resolve();\n      }\n      if (this._stats) {\n        this._stats.timeEnd(\"Rendering\");\n        this._stats.timeEnd(\"Overall\");\n      }\n    };\n\n    const internalRenderTask = new InternalRenderTask({\n      callback: complete,\n      // Only include the required properties, and *not* the entire object.\n      params: {\n        canvasContext,\n        viewport,\n        transform,\n        imageLayer,\n        background,\n      },\n      objs: this.objs,\n      commonObjs: this.commonObjs,\n      annotationCanvasMap,\n      operatorList: intentState.operatorList,\n      pageIndex: this._pageIndex,\n      canvasFactory: canvasFactoryInstance,\n      useRequestAnimationFrame: !intentPrint,\n      pdfBug: this._pdfBug,\n    });\n\n    (intentState.renderTasks ||= new Set()).add(internalRenderTask);\n    const renderTask = internalRenderTask.task;\n\n    Promise.all([\n      intentState.displayReadyCapability.promise,\n      optionalContentConfigPromise,\n    ])\n      .then(([transparency, optionalContentConfig]) => {\n        if (this.pendingCleanup) {\n          complete();\n          return;\n        }\n        if (this._stats) {\n          this._stats.time(\"Rendering\");\n        }\n        internalRenderTask.initializeGraphics({\n          transparency,\n          optionalContentConfig,\n        });\n        internalRenderTask.operatorListChanged();\n      })\n      .catch(complete);\n\n    return renderTask;\n  }\n\n  /**\n   * @param {GetOperatorListParameters} params - Page getOperatorList\n   *   parameters.\n   * @returns {Promise<PDFOperatorList>} A promise resolved with an\n   *   {@link PDFOperatorList} object that represents the page's operator list.\n   */\n  getOperatorList({\n    intent = \"display\",\n    annotationMode = AnnotationMode.ENABLE,\n  } = {}) {\n    function operatorListChanged() {\n      if (intentState.operatorList.lastChunk) {\n        intentState.opListReadCapability.resolve(intentState.operatorList);\n\n        intentState.renderTasks.delete(opListTask);\n      }\n    }\n\n    const intentArgs = this._transport.getRenderingIntent(\n      intent,\n      annotationMode,\n      /* isOpList = */ true\n    );\n    let intentState = this._intentStates.get(intentArgs.cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(intentArgs.cacheKey, intentState);\n    }\n    let opListTask;\n\n    if (!intentState.opListReadCapability) {\n      opListTask = Object.create(null);\n      opListTask.operatorListChanged = operatorListChanged;\n      intentState.opListReadCapability = createPromiseCapability();\n      (intentState.renderTasks ||= new Set()).add(opListTask);\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n      };\n\n      if (this._stats) {\n        this._stats.time(\"Page Request\");\n      }\n      this._pumpOperatorList(intentArgs);\n    }\n    return intentState.opListReadCapability.promise;\n  }\n\n  /**\n   * @param {getTextContentParameters} params - getTextContent parameters.\n   * @returns {ReadableStream} Stream for reading text content chunks.\n   */\n  streamTextContent({\n    normalizeWhitespace = false,\n    disableCombineTextItems = false,\n    includeMarkedContent = false,\n  } = {}) {\n    const TEXT_CONTENT_CHUNK_SIZE = 100;\n\n    return this._transport.messageHandler.sendWithStream(\n      \"GetTextContent\",\n      {\n        pageIndex: this._pageIndex,\n        normalizeWhitespace: normalizeWhitespace === true,\n        combineTextItems: disableCombineTextItems !== true,\n        includeMarkedContent: includeMarkedContent === true,\n      },\n      {\n        highWaterMark: TEXT_CONTENT_CHUNK_SIZE,\n        size(textContent) {\n          return textContent.items.length;\n        },\n      }\n    );\n  }\n\n  /**\n   * @param {getTextContentParameters} params - getTextContent parameters.\n   * @returns {Promise<TextContent>} A promise that is resolved with a\n   *   {@link TextContent} object that represents the page's text content.\n   */\n  getTextContent(params = {}) {\n    if (this._transport._htmlForXfa) {\n      // TODO: We need to revisit this once the XFA foreground patch lands and\n      // only do this for non-foreground XFA.\n      return this.getXfa().then(xfa => {\n        return XfaText.textContent(xfa);\n      });\n    }\n    const readableStream = this.streamTextContent(params);\n\n    return new Promise(function (resolve, reject) {\n      function pump() {\n        reader.read().then(function ({ value, done }) {\n          if (done) {\n            resolve(textContent);\n            return;\n          }\n          Object.assign(textContent.styles, value.styles);\n          textContent.items.push(...value.items);\n          pump();\n        }, reject);\n      }\n\n      const reader = readableStream.getReader();\n      const textContent = {\n        items: [],\n        styles: Object.create(null),\n      };\n      pump();\n    });\n  }\n\n  /**\n   * @returns {Promise<StructTreeNode>} A promise that is resolved with a\n   *   {@link StructTreeNode} object that represents the page's structure tree,\n   *   or `null` when no structure tree is present for the current page.\n   */\n  getStructTree() {\n    return (this._structTreePromise ||= this._transport.getStructTree(\n      this._pageIndex\n    ));\n  }\n\n  /**\n   * Destroys the page object.\n   * @private\n   */\n  _destroy() {\n    this.destroyed = true;\n\n    const waitOn = [];\n    for (const intentState of this._intentStates.values()) {\n      this._abortOperatorList({\n        intentState,\n        reason: new Error(\"Page was destroyed.\"),\n        force: true,\n      });\n\n      if (intentState.opListReadCapability) {\n        // Avoid errors below, since the renderTasks are just stubs.\n        continue;\n      }\n      for (const internalRenderTask of intentState.renderTasks) {\n        waitOn.push(internalRenderTask.completed);\n        internalRenderTask.cancel();\n      }\n    }\n    this.objs.clear();\n    this._annotationPromises.clear();\n    this._jsActionsPromise = null;\n    this._structTreePromise = null;\n    this.pendingCleanup = false;\n    return Promise.all(waitOn);\n  }\n\n  /**\n   * Cleans up resources allocated by the page.\n   *\n   * @param {boolean} [resetStats] - Reset page stats, if enabled.\n   *   The default value is `false`.\n   * @returns {boolean} Indicates if clean-up was successfully run.\n   */\n  cleanup(resetStats = false) {\n    this.pendingCleanup = true;\n    return this._tryCleanup(resetStats);\n  }\n\n  /**\n   * Attempts to clean up if rendering is in a state where that's possible.\n   * @private\n   */\n  _tryCleanup(resetStats = false) {\n    if (!this.pendingCleanup) {\n      return false;\n    }\n    for (const { renderTasks, operatorList } of this._intentStates.values()) {\n      if (renderTasks.size > 0 || !operatorList.lastChunk) {\n        return false;\n      }\n    }\n\n    this._intentStates.clear();\n    this.objs.clear();\n    this._annotationPromises.clear();\n    this._jsActionsPromise = null;\n    this._structTreePromise = null;\n    if (resetStats && this._stats) {\n      this._stats = new StatTimer();\n    }\n    this.pendingCleanup = false;\n    return true;\n  }\n\n  /**\n   * @private\n   */\n  _startRenderPage(transparency, cacheKey) {\n    const intentState = this._intentStates.get(cacheKey);\n    if (!intentState) {\n      return; // Rendering was cancelled.\n    }\n    if (this._stats) {\n      this._stats.timeEnd(\"Page Request\");\n    }\n    // TODO Refactor RenderPageRequest to separate rendering\n    // and operator list logic\n    if (intentState.displayReadyCapability) {\n      intentState.displayReadyCapability.resolve(transparency);\n    }\n  }\n\n  /**\n   * @private\n   */\n  _renderPageChunk(operatorListChunk, intentState) {\n    // Add the new chunk to the current operator list.\n    for (let i = 0, ii = operatorListChunk.length; i < ii; i++) {\n      intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n      intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);\n    }\n    intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n\n    // Notify all the rendering tasks there are more operators to be consumed.\n    for (const internalRenderTask of intentState.renderTasks) {\n      internalRenderTask.operatorListChanged();\n    }\n\n    if (operatorListChunk.lastChunk) {\n      this._tryCleanup();\n    }\n  }\n\n  /**\n   * @private\n   */\n  _pumpOperatorList({ renderingIntent, cacheKey }) {\n    if (\n      typeof PDFJSDev === \"undefined\" ||\n      PDFJSDev.test(\"!PRODUCTION || TESTING\")\n    ) {\n      assert(\n        Number.isInteger(renderingIntent) && renderingIntent > 0,\n        '_pumpOperatorList: Expected valid \"renderingIntent\" argument.'\n      );\n    }\n\n    const readableStream = this._transport.messageHandler.sendWithStream(\n      \"GetOperatorList\",\n      {\n        pageIndex: this._pageIndex,\n        intent: renderingIntent,\n        cacheKey,\n        annotationStorage:\n          renderingIntent & RenderingIntentFlag.ANNOTATIONS_STORAGE\n            ? this._transport.annotationStorage.serializable\n            : null,\n      }\n    );\n    const reader = readableStream.getReader();\n\n    const intentState = this._intentStates.get(cacheKey);\n    intentState.streamReader = reader;\n\n    const pump = () => {\n      reader.read().then(\n        ({ value, done }) => {\n          if (done) {\n            intentState.streamReader = null;\n            return;\n          }\n          if (this._transport.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          this._renderPageChunk(value, intentState);\n          pump();\n        },\n        reason => {\n          intentState.streamReader = null;\n\n          if (this._transport.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          if (intentState.operatorList) {\n            // Mark operator list as complete.\n            intentState.operatorList.lastChunk = true;\n\n            for (const internalRenderTask of intentState.renderTasks) {\n              internalRenderTask.operatorListChanged();\n            }\n            this._tryCleanup();\n          }\n\n          if (intentState.displayReadyCapability) {\n            intentState.displayReadyCapability.reject(reason);\n          } else if (intentState.opListReadCapability) {\n            intentState.opListReadCapability.reject(reason);\n          } else {\n            throw reason;\n          }\n        }\n      );\n    };\n    pump();\n  }\n\n  /**\n   * @private\n   */\n  _abortOperatorList({ intentState, reason, force = false }) {\n    if (\n      typeof PDFJSDev === \"undefined\" ||\n      PDFJSDev.test(\"!PRODUCTION || TESTING\")\n    ) {\n      assert(\n        reason instanceof Error,\n        '_abortOperatorList: Expected valid \"reason\" argument.'\n      );\n    }\n\n    if (!intentState.streamReader) {\n      return;\n    }\n    if (!force) {\n      // Ensure that an Error occurring in *only* one `InternalRenderTask`, e.g.\n      // multiple render() calls on the same canvas, won't break all rendering.\n      if (intentState.renderTasks.size > 0) {\n        return;\n      }\n      // Don't immediately abort parsing on the worker-thread when rendering is\n      // cancelled, since that will unnecessarily delay re-rendering when (for\n      // partially parsed pages) e.g. zooming/rotation occurs in the viewer.\n      if (reason instanceof RenderingCancelledException) {\n        intentState.streamReaderCancelTimeout = setTimeout(() => {\n          this._abortOperatorList({ intentState, reason, force: true });\n          intentState.streamReaderCancelTimeout = null;\n        }, RENDERING_CANCELLED_TIMEOUT);\n        return;\n      }\n    }\n    intentState.streamReader\n      .cancel(new AbortException(reason.message))\n      .catch(() => {\n        // Avoid \"Uncaught promise\" messages in the console.\n      });\n    intentState.streamReader = null;\n\n    if (this._transport.destroyed) {\n      return; // Ignore any pending requests if the worker was terminated.\n    }\n    // Remove the current `intentState`, since a cancelled `getOperatorList`\n    // call on the worker-thread cannot be re-started...\n    for (const [curCacheKey, curIntentState] of this._intentStates) {\n      if (curIntentState === intentState) {\n        this._intentStates.delete(curCacheKey);\n        break;\n      }\n    }\n    // ... and force clean-up to ensure that any old state is always removed.\n    this.cleanup();\n  }\n\n  /**\n   * @type {Object} Returns page stats, if enabled; returns `null` otherwise.\n   */\n  get stats() {\n    return this._stats;\n  }\n}\n\nclass LoopbackPort {\n  constructor() {\n    this._listeners = [];\n    this._deferred = Promise.resolve();\n  }\n\n  postMessage(obj, transfers) {\n    function cloneValue(object) {\n      if (\n        (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n        globalThis.structuredClone\n      ) {\n        return globalThis.structuredClone(object, transfers);\n      }\n\n      // Trying to perform a structured clone close to the spec, including\n      // transfers.\n      function fallbackCloneValue(value) {\n        if (\n          typeof value === \"function\" ||\n          typeof value === \"symbol\" ||\n          value instanceof URL\n        ) {\n          throw new Error(\n            `LoopbackPort.postMessage - cannot clone: ${value?.toString()}`\n          );\n        }\n\n        if (typeof value !== \"object\" || value === null) {\n          return value;\n        }\n        if (cloned.has(value)) {\n          // already cloned the object\n          return cloned.get(value);\n        }\n        let buffer, result;\n        if ((buffer = value.buffer) && isArrayBuffer(buffer)) {\n          // We found object with ArrayBuffer (typed array).\n          if (transfers?.includes(buffer)) {\n            result = new value.constructor(\n              buffer,\n              value.byteOffset,\n              value.byteLength\n            );\n          } else {\n            result = new value.constructor(value);\n          }\n          cloned.set(value, result);\n          return result;\n        }\n        if (value instanceof Map) {\n          result = new Map();\n          cloned.set(value, result); // Adding to cache now for cyclic references.\n          for (const [key, val] of value) {\n            result.set(key, fallbackCloneValue(val));\n          }\n          return result;\n        }\n        if (value instanceof Set) {\n          result = new Set();\n          cloned.set(value, result); // Adding to cache now for cyclic references.\n          for (const val of value) {\n            result.add(fallbackCloneValue(val));\n          }\n          return result;\n        }\n        result = Array.isArray(value) ? [] : Object.create(null);\n        cloned.set(value, result); // Adding to cache now for cyclic references.\n        // Cloning all value and object properties, however ignoring properties\n        // defined via getter.\n        for (const i in value) {\n          let desc,\n            p = value;\n          while (!(desc = Object.getOwnPropertyDescriptor(p, i))) {\n            p = Object.getPrototypeOf(p);\n          }\n          if (typeof desc.value === \"undefined\") {\n            continue;\n          }\n          if (typeof desc.value === \"function\" && !value.hasOwnProperty?.(i)) {\n            continue;\n          }\n          result[i] = fallbackCloneValue(desc.value);\n        }\n        return result;\n      }\n\n      const cloned = new WeakMap();\n      return fallbackCloneValue(object);\n    }\n\n    const event = { data: cloneValue(obj) };\n\n    this._deferred.then(() => {\n      for (const listener of this._listeners) {\n        listener.call(this, event);\n      }\n    });\n  }\n\n  addEventListener(name, listener) {\n    this._listeners.push(listener);\n  }\n\n  removeEventListener(name, listener) {\n    const i = this._listeners.indexOf(listener);\n    this._listeners.splice(i, 1);\n  }\n\n  terminate() {\n    this._listeners.length = 0;\n  }\n}\n\n/**\n * @typedef {Object} PDFWorkerParameters\n * @property {string} [name] - The name of the worker.\n * @property {Object} [port] - The `workerPort` object.\n * @property {number} [verbosity] - Controls the logging level;\n *   the constants from {@link VerbosityLevel} should be used.\n */\n\nconst PDFWorkerUtil = {\n  isWorkerDisabled: false,\n  fallbackWorkerSrc: null,\n  fakeWorkerId: 0,\n};\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC\")) {\n  // eslint-disable-next-line no-undef\n  if (isNodeJS && typeof __non_webpack_require__ === \"function\") {\n    // Workers aren't supported in Node.js, force-disabling them there.\n    PDFWorkerUtil.isWorkerDisabled = true;\n\n    PDFWorkerUtil.fallbackWorkerSrc = PDFJSDev.test(\"LIB\")\n      ? \"../pdf.worker.js\"\n      : \"./pdf.worker.js\";\n  } else if (typeof document === \"object\") {\n    const pdfjsFilePath = document?.currentScript?.src;\n    if (pdfjsFilePath) {\n      PDFWorkerUtil.fallbackWorkerSrc = pdfjsFilePath.replace(\n        /(\\.(?:min\\.)?js)(\\?.*)?$/i,\n        \".worker$1$2\"\n      );\n    }\n  }\n\n  PDFWorkerUtil.createCDNWrapper = function (url) {\n    // We will rely on blob URL's property to specify origin.\n    // We want this function to fail in case if createObjectURL or Blob do not\n    // exist or fail for some reason -- our Worker creation will fail anyway.\n    const wrapper = `importScripts(\"${url}\");`;\n    return URL.createObjectURL(new Blob([wrapper]));\n  };\n}\n\n/**\n * PDF.js web worker abstraction that controls the instantiation of PDF\n * documents. Message handlers are used to pass information from the main\n * thread to the worker thread and vice versa. If the creation of a web\n * worker is not possible, a \"fake\" worker will be used instead.\n *\n * @param {PDFWorkerParameters} params - The worker initialization parameters.\n */\nclass PDFWorker {\n  static get _workerPorts() {\n    return shadow(this, \"_workerPorts\", new WeakMap());\n  }\n\n  constructor({\n    name = null,\n    port = null,\n    verbosity = getVerbosityLevel(),\n  } = {}) {\n    if (port && PDFWorker._workerPorts.has(port)) {\n      throw new Error(\"Cannot use more than one PDFWorker per port.\");\n    }\n\n    this.name = name;\n    this.destroyed = false;\n    this.verbosity = verbosity;\n\n    this._readyCapability = createPromiseCapability();\n    this._port = null;\n    this._webWorker = null;\n    this._messageHandler = null;\n\n    if (port) {\n      PDFWorker._workerPorts.set(port, this);\n      this._initializeFromPort(port);\n      return;\n    }\n    this._initialize();\n  }\n\n  /**\n   * Promise for worker initialization completion.\n   * @type {Promise<void>}\n   */\n  get promise() {\n    return this._readyCapability.promise;\n  }\n\n  /**\n   * The current `workerPort`, when it exists.\n   * @type {Worker}\n   */\n  get port() {\n    return this._port;\n  }\n\n  /**\n   * The current MessageHandler-instance.\n   * @type {MessageHandler}\n   */\n  get messageHandler() {\n    return this._messageHandler;\n  }\n\n  _initializeFromPort(port) {\n    this._port = port;\n    this._messageHandler = new MessageHandler(\"main\", \"worker\", port);\n    this._messageHandler.on(\"ready\", function () {\n      // Ignoring \"ready\" event -- MessageHandler should already be initialized\n      // and ready to accept messages.\n    });\n    this._readyCapability.resolve();\n  }\n\n  _initialize() {\n    // If worker support isn't disabled explicit and the browser has worker\n    // support, create a new web worker and test if it/the browser fulfills\n    // all requirements to run parts of pdf.js in a web worker.\n    // Right now, the requirement is, that an Uint8Array is still an\n    // Uint8Array as it arrives on the worker. (Chrome added this with v.15.)\n    if (\n      typeof Worker !== \"undefined\" &&\n      !PDFWorkerUtil.isWorkerDisabled &&\n      !PDFWorker._mainThreadWorkerMessageHandler\n    ) {\n      let workerSrc = PDFWorker.workerSrc;\n\n      try {\n        // Wraps workerSrc path into blob URL, if the former does not belong\n        // to the same origin.\n        if (\n          typeof PDFJSDev !== \"undefined\" &&\n          PDFJSDev.test(\"GENERIC\") &&\n          !isSameOrigin(window.location.href, workerSrc)\n        ) {\n          workerSrc = PDFWorkerUtil.createCDNWrapper(\n            new URL(workerSrc, window.location).href\n          );\n        }\n\n        // Some versions of FF can't create a worker on localhost, see:\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=683280\n        const worker = new Worker(workerSrc);\n        const messageHandler = new MessageHandler(\"main\", \"worker\", worker);\n        const terminateEarly = () => {\n          worker.removeEventListener(\"error\", onWorkerError);\n          messageHandler.destroy();\n          worker.terminate();\n          if (this.destroyed) {\n            this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n          } else {\n            // Fall back to fake worker if the termination is caused by an\n            // error (e.g. NetworkError / SecurityError).\n            this._setupFakeWorker();\n          }\n        };\n\n        const onWorkerError = () => {\n          if (!this._webWorker) {\n            // Worker failed to initialize due to an error. Clean up and fall\n            // back to the fake worker.\n            terminateEarly();\n          }\n        };\n        worker.addEventListener(\"error\", onWorkerError);\n\n        messageHandler.on(\"test\", data => {\n          worker.removeEventListener(\"error\", onWorkerError);\n          if (this.destroyed) {\n            terminateEarly();\n            return; // worker was destroyed\n          }\n          if (data) {\n            this._messageHandler = messageHandler;\n            this._port = worker;\n            this._webWorker = worker;\n\n            this._readyCapability.resolve();\n            // Send global setting, e.g. verbosity level.\n            messageHandler.send(\"configure\", {\n              verbosity: this.verbosity,\n            });\n          } else {\n            this._setupFakeWorker();\n            messageHandler.destroy();\n            worker.terminate();\n          }\n        });\n\n        messageHandler.on(\"ready\", data => {\n          worker.removeEventListener(\"error\", onWorkerError);\n          if (this.destroyed) {\n            terminateEarly();\n            return; // worker was destroyed\n          }\n          try {\n            sendTest();\n          } catch (e) {\n            // We need fallback to a faked worker.\n            this._setupFakeWorker();\n          }\n        });\n\n        const sendTest = () => {\n          const testObj = new Uint8Array([255]);\n          // Some versions of Opera throw a DATA_CLONE_ERR on serializing the\n          // typed array. Also, checking if we can use transfers.\n          try {\n            messageHandler.send(\"test\", testObj, [testObj.buffer]);\n          } catch (ex) {\n            warn(\"Cannot use postMessage transfers.\");\n            testObj[0] = 0;\n            messageHandler.send(\"test\", testObj);\n          }\n        };\n\n        // It might take time for the worker to initialize. We will try to send\n        // the \"test\" message immediately, and once the \"ready\" message arrives.\n        // The worker shall process only the first received \"test\" message.\n        sendTest();\n        return;\n      } catch (e) {\n        info(\"The worker has been disabled.\");\n      }\n    }\n    // Either workers are disabled, not supported or have thrown an exception.\n    // Thus, we fallback to a faked worker.\n    this._setupFakeWorker();\n  }\n\n  _setupFakeWorker() {\n    if (!PDFWorkerUtil.isWorkerDisabled) {\n      warn(\"Setting up fake worker.\");\n      PDFWorkerUtil.isWorkerDisabled = true;\n    }\n\n    PDFWorker._setupFakeWorkerGlobal\n      .then(WorkerMessageHandler => {\n        if (this.destroyed) {\n          this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n          return;\n        }\n        const port = new LoopbackPort();\n        this._port = port;\n\n        // All fake workers use the same port, making id unique.\n        const id = `fake${PDFWorkerUtil.fakeWorkerId++}`;\n\n        // If the main thread is our worker, setup the handling for the\n        // messages -- the main thread sends to it self.\n        const workerHandler = new MessageHandler(id + \"_worker\", id, port);\n        WorkerMessageHandler.setup(workerHandler, port);\n\n        const messageHandler = new MessageHandler(id, id + \"_worker\", port);\n        this._messageHandler = messageHandler;\n        this._readyCapability.resolve();\n        // Send global setting, e.g. verbosity level.\n        messageHandler.send(\"configure\", {\n          verbosity: this.verbosity,\n        });\n      })\n      .catch(reason => {\n        this._readyCapability.reject(\n          new Error(`Setting up fake worker failed: \"${reason.message}\".`)\n        );\n      });\n  }\n\n  /**\n   * Destroys the worker instance.\n   */\n  destroy() {\n    this.destroyed = true;\n    if (this._webWorker) {\n      // We need to terminate only web worker created resource.\n      this._webWorker.terminate();\n      this._webWorker = null;\n    }\n    PDFWorker._workerPorts.delete(this._port);\n    this._port = null;\n    if (this._messageHandler) {\n      this._messageHandler.destroy();\n      this._messageHandler = null;\n    }\n  }\n\n  /**\n   * @param {PDFWorkerParameters} params - The worker initialization parameters.\n   */\n  static fromPort(params) {\n    if (!params?.port) {\n      throw new Error(\"PDFWorker.fromPort - invalid method signature.\");\n    }\n    if (this._workerPorts.has(params.port)) {\n      return this._workerPorts.get(params.port);\n    }\n    return new PDFWorker(params);\n  }\n\n  /**\n   * The current `workerSrc`, when it exists.\n   * @type {string}\n   */\n  static get workerSrc() {\n    if (GlobalWorkerOptions.workerSrc) {\n      return GlobalWorkerOptions.workerSrc;\n    }\n    if (PDFWorkerUtil.fallbackWorkerSrc !== null) {\n      if (!isNodeJS) {\n        deprecated('No \"GlobalWorkerOptions.workerSrc\" specified.');\n      }\n      return PDFWorkerUtil.fallbackWorkerSrc;\n    }\n    throw new Error('No \"GlobalWorkerOptions.workerSrc\" specified.');\n  }\n\n  static get _mainThreadWorkerMessageHandler() {\n    try {\n      return globalThis.pdfjsWorker?.WorkerMessageHandler || null;\n    } catch (ex) {\n      return null;\n    }\n  }\n\n  // Loads worker code into the main-thread.\n  static get _setupFakeWorkerGlobal() {\n    const loader = async () => {\n      const mainWorkerMessageHandler = this._mainThreadWorkerMessageHandler;\n\n      if (mainWorkerMessageHandler) {\n        // The worker was already loaded using e.g. a `<script>` tag.\n        return mainWorkerMessageHandler;\n      }\n      if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"PRODUCTION\")) {\n        const worker = await import(\"pdfjs/core/worker.js\");\n        return worker.WorkerMessageHandler;\n      }\n      if (\n        PDFJSDev.test(\"GENERIC\") &&\n        isNodeJS &&\n        // eslint-disable-next-line no-undef\n        typeof __non_webpack_require__ === \"function\"\n      ) {\n        // Since bundlers, such as Webpack, cannot be told to leave `require`\n        // statements alone we are thus forced to jump through hoops in order\n        // to prevent `Critical dependency: ...` warnings in third-party\n        // deployments of the built `pdf.js`/`pdf.worker.js` files; see\n        // https://github.com/webpack/webpack/issues/8826\n        //\n        // The following hack is based on the assumption that code running in\n        // Node.js won't ever be affected by e.g. Content Security Policies that\n        // prevent the use of `eval`. If that ever occurs, we should revert this\n        // to a normal `__non_webpack_require__` statement and simply document\n        // the Webpack warnings instead (telling users to ignore them).\n        //\n        // eslint-disable-next-line no-eval\n        const worker = eval(\"require\")(this.workerSrc);\n        return worker.WorkerMessageHandler;\n      }\n      await loadScript(this.workerSrc);\n      return window.pdfjsWorker.WorkerMessageHandler;\n    };\n\n    return shadow(this, \"_setupFakeWorkerGlobal\", loader());\n  }\n}\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC\")) {\n  PDFWorker.getWorkerSrc = function () {\n    deprecated(\n      \"`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead.\"\n    );\n    return this.workerSrc;\n  };\n}\n\n/**\n * For internal use only.\n * @ignore\n */\nclass WorkerTransport {\n  #docStats = null;\n\n  #pageCache = new Map();\n\n  #pagePromises = new Map();\n\n  #metadataPromise = null;\n\n  constructor(messageHandler, loadingTask, networkStream, params) {\n    this.messageHandler = messageHandler;\n    this.loadingTask = loadingTask;\n    this.commonObjs = new PDFObjects();\n    this.fontLoader = new FontLoader({\n      docId: loadingTask.docId,\n      onUnsupportedFeature: this._onUnsupportedFeature.bind(this),\n      ownerDocument: params.ownerDocument,\n      styleElement: params.styleElement,\n    });\n    this._params = params;\n\n    if (!params.useWorkerFetch) {\n      this.CMapReaderFactory = new params.CMapReaderFactory({\n        baseUrl: params.cMapUrl,\n        isCompressed: params.cMapPacked,\n      });\n      this.StandardFontDataFactory = new params.StandardFontDataFactory({\n        baseUrl: params.standardFontDataUrl,\n      });\n    }\n\n    this.destroyed = false;\n    this.destroyCapability = null;\n    this._passwordCapability = null;\n\n    this._networkStream = networkStream;\n    this._fullReader = null;\n    this._lastProgress = null;\n    this.downloadInfoCapability = createPromiseCapability();\n\n    this.setupMessageHandler();\n  }\n\n  get annotationStorage() {\n    return shadow(this, \"annotationStorage\", new AnnotationStorage());\n  }\n\n  get stats() {\n    return this.#docStats;\n  }\n\n  getRenderingIntent(\n    intent,\n    annotationMode = AnnotationMode.ENABLE,\n    isOpList = false\n  ) {\n    let renderingIntent = RenderingIntentFlag.DISPLAY; // Default value.\n    let lastModified = \"\";\n\n    switch (intent) {\n      case \"any\":\n        renderingIntent = RenderingIntentFlag.ANY;\n        break;\n      case \"display\":\n        break;\n      case \"print\":\n        renderingIntent = RenderingIntentFlag.PRINT;\n        break;\n      default:\n        warn(`getRenderingIntent - invalid intent: ${intent}`);\n    }\n\n    switch (annotationMode) {\n      case AnnotationMode.DISABLE:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_DISABLE;\n        break;\n      case AnnotationMode.ENABLE:\n        break;\n      case AnnotationMode.ENABLE_FORMS:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_FORMS;\n        break;\n      case AnnotationMode.ENABLE_STORAGE:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_STORAGE;\n\n        lastModified = this.annotationStorage.lastModified;\n        break;\n      default:\n        warn(`getRenderingIntent - invalid annotationMode: ${annotationMode}`);\n    }\n\n    if (isOpList) {\n      renderingIntent += RenderingIntentFlag.OPLIST;\n    }\n\n    return {\n      renderingIntent,\n      cacheKey: `${renderingIntent}_${lastModified}`,\n    };\n  }\n\n  destroy() {\n    if (this.destroyCapability) {\n      return this.destroyCapability.promise;\n    }\n\n    this.destroyed = true;\n    this.destroyCapability = createPromiseCapability();\n\n    if (this._passwordCapability) {\n      this._passwordCapability.reject(\n        new Error(\"Worker was destroyed during onPassword callback\")\n      );\n    }\n\n    const waitOn = [];\n    // We need to wait for all renderings to be completed, e.g.\n    // timeout/rAF can take a long time.\n    for (const page of this.#pageCache.values()) {\n      waitOn.push(page._destroy());\n    }\n    this.#pageCache.clear();\n    this.#pagePromises.clear();\n    // Allow `AnnotationStorage`-related clean-up when destroying the document.\n    if (this.hasOwnProperty(\"annotationStorage\")) {\n      this.annotationStorage.resetModified();\n    }\n    // We also need to wait for the worker to finish its long running tasks.\n    const terminated = this.messageHandler.sendWithPromise(\"Terminate\", null);\n    waitOn.push(terminated);\n\n    Promise.all(waitOn).then(() => {\n      this.commonObjs.clear();\n      this.fontLoader.clear();\n      this.#metadataPromise = null;\n      this._getFieldObjectsPromise = null;\n      this._hasJSActionsPromise = null;\n\n      if (this._networkStream) {\n        this._networkStream.cancelAllRequests(\n          new AbortException(\"Worker was terminated.\")\n        );\n      }\n\n      if (this.messageHandler) {\n        this.messageHandler.destroy();\n        this.messageHandler = null;\n      }\n      this.destroyCapability.resolve();\n    }, this.destroyCapability.reject);\n    return this.destroyCapability.promise;\n  }\n\n  setupMessageHandler() {\n    const { messageHandler, loadingTask } = this;\n\n    messageHandler.on(\"GetReader\", (data, sink) => {\n      assert(\n        this._networkStream,\n        \"GetReader - no `IPDFStream` instance available.\"\n      );\n      this._fullReader = this._networkStream.getFullReader();\n      this._fullReader.onProgress = evt => {\n        this._lastProgress = {\n          loaded: evt.loaded,\n          total: evt.total,\n        };\n      };\n      sink.onPull = () => {\n        this._fullReader\n          .read()\n          .then(function ({ value, done }) {\n            if (done) {\n              sink.close();\n              return;\n            }\n            assert(\n              isArrayBuffer(value),\n              \"GetReader - expected an ArrayBuffer.\"\n            );\n            // Enqueue data chunk into sink, and transfer it\n            // to other side as `Transferable` object.\n            sink.enqueue(new Uint8Array(value), 1, [value]);\n          })\n          .catch(reason => {\n            sink.error(reason);\n          });\n      };\n\n      sink.onCancel = reason => {\n        this._fullReader.cancel(reason);\n\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          throw readyReason;\n        });\n      };\n    });\n\n    messageHandler.on(\"ReaderHeadersReady\", data => {\n      const headersCapability = createPromiseCapability();\n      const fullReader = this._fullReader;\n      fullReader.headersReady.then(() => {\n        // If stream or range are disabled, it's our only way to report\n        // loading progress.\n        if (!fullReader.isStreamingSupported || !fullReader.isRangeSupported) {\n          if (this._lastProgress) {\n            loadingTask.onProgress?.(this._lastProgress);\n          }\n          fullReader.onProgress = evt => {\n            loadingTask.onProgress?.({\n              loaded: evt.loaded,\n              total: evt.total,\n            });\n          };\n        }\n\n        headersCapability.resolve({\n          isStreamingSupported: fullReader.isStreamingSupported,\n          isRangeSupported: fullReader.isRangeSupported,\n          contentLength: fullReader.contentLength,\n        });\n      }, headersCapability.reject);\n\n      return headersCapability.promise;\n    });\n\n    messageHandler.on(\"GetRangeReader\", (data, sink) => {\n      assert(\n        this._networkStream,\n        \"GetRangeReader - no `IPDFStream` instance available.\"\n      );\n      const rangeReader = this._networkStream.getRangeReader(\n        data.begin,\n        data.end\n      );\n\n      // When streaming is enabled, it's possible that the data requested here\n      // has already been fetched via the `_fullRequestReader` implementation.\n      // However, given that the PDF data is loaded asynchronously on the\n      // main-thread and then sent via `postMessage` to the worker-thread,\n      // it may not have been available during parsing (hence the attempt to\n      // use range requests here).\n      //\n      // To avoid wasting time and resources here, we'll thus *not* dispatch\n      // range requests if the data was already loaded but has not been sent to\n      // the worker-thread yet (which will happen via the `_fullRequestReader`).\n      if (!rangeReader) {\n        sink.close();\n        return;\n      }\n\n      sink.onPull = () => {\n        rangeReader\n          .read()\n          .then(function ({ value, done }) {\n            if (done) {\n              sink.close();\n              return;\n            }\n            assert(\n              isArrayBuffer(value),\n              \"GetRangeReader - expected an ArrayBuffer.\"\n            );\n            sink.enqueue(new Uint8Array(value), 1, [value]);\n          })\n          .catch(reason => {\n            sink.error(reason);\n          });\n      };\n\n      sink.onCancel = reason => {\n        rangeReader.cancel(reason);\n\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          throw readyReason;\n        });\n      };\n    });\n\n    messageHandler.on(\"GetDoc\", ({ pdfInfo }) => {\n      this._numPages = pdfInfo.numPages;\n      this._htmlForXfa = pdfInfo.htmlForXfa;\n      delete pdfInfo.htmlForXfa;\n      loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo, this));\n    });\n\n    messageHandler.on(\"DocException\", function (ex) {\n      let reason;\n      switch (ex.name) {\n        case \"PasswordException\":\n          reason = new PasswordException(ex.message, ex.code);\n          break;\n        case \"InvalidPDFException\":\n          reason = new InvalidPDFException(ex.message);\n          break;\n        case \"MissingPDFException\":\n          reason = new MissingPDFException(ex.message);\n          break;\n        case \"UnexpectedResponseException\":\n          reason = new UnexpectedResponseException(ex.message, ex.status);\n          break;\n        case \"UnknownErrorException\":\n          reason = new UnknownErrorException(ex.message, ex.details);\n          break;\n        default:\n          unreachable(\"DocException - expected a valid Error.\");\n      }\n      loadingTask._capability.reject(reason);\n    });\n\n    messageHandler.on(\"PasswordRequest\", exception => {\n      this._passwordCapability = createPromiseCapability();\n\n      if (loadingTask.onPassword) {\n        const updatePassword = password => {\n          this._passwordCapability.resolve({\n            password,\n          });\n        };\n        try {\n          loadingTask.onPassword(updatePassword, exception.code);\n        } catch (ex) {\n          this._passwordCapability.reject(ex);\n        }\n      } else {\n        this._passwordCapability.reject(\n          new PasswordException(exception.message, exception.code)\n        );\n      }\n      return this._passwordCapability.promise;\n    });\n\n    messageHandler.on(\"DataLoaded\", data => {\n      // For consistency: Ensure that progress is always reported when the\n      // entire PDF file has been loaded, regardless of how it was fetched.\n      loadingTask.onProgress?.({\n        loaded: data.length,\n        total: data.length,\n      });\n\n      this.downloadInfoCapability.resolve(data);\n    });\n\n    messageHandler.on(\"StartRenderPage\", data => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n\n      const page = this.#pageCache.get(data.pageIndex);\n      page._startRenderPage(data.transparency, data.cacheKey);\n    });\n\n    messageHandler.on(\"commonobj\", ([id, type, exportedData]) => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n\n      if (this.commonObjs.has(id)) {\n        return;\n      }\n\n      switch (type) {\n        case \"Font\":\n          const params = this._params;\n\n          if (\"error\" in exportedData) {\n            const exportedError = exportedData.error;\n            warn(`Error during font loading: ${exportedError}`);\n            this.commonObjs.resolve(id, exportedError);\n            break;\n          }\n\n          let fontRegistry = null;\n          if (params.pdfBug && globalThis.FontInspector?.enabled) {\n            fontRegistry = {\n              registerFont(font, url) {\n                globalThis.FontInspector.fontAdded(font, url);\n              },\n            };\n          }\n          const font = new FontFaceObject(exportedData, {\n            isEvalSupported: params.isEvalSupported,\n            disableFontFace: params.disableFontFace,\n            ignoreErrors: params.ignoreErrors,\n            onUnsupportedFeature: this._onUnsupportedFeature.bind(this),\n            fontRegistry,\n          });\n\n          this.fontLoader\n            .bind(font)\n            .catch(reason => {\n              return messageHandler.sendWithPromise(\"FontFallback\", { id });\n            })\n            .finally(() => {\n              if (!params.fontExtraProperties && font.data) {\n                // Immediately release the `font.data` property once the font\n                // has been attached to the DOM, since it's no longer needed,\n                // rather than waiting for a `PDFDocumentProxy.cleanup` call.\n                // Since `font.data` could be very large, e.g. in some cases\n                // multiple megabytes, this will help reduce memory usage.\n                font.data = null;\n              }\n              this.commonObjs.resolve(id, font);\n            });\n          break;\n        case \"FontPath\":\n        case \"Image\":\n          this.commonObjs.resolve(id, exportedData);\n          break;\n        default:\n          throw new Error(`Got unknown common object type ${type}`);\n      }\n    });\n\n    messageHandler.on(\"obj\", ([id, pageIndex, type, imageData]) => {\n      if (this.destroyed) {\n        // Ignore any pending requests if the worker was terminated.\n        return;\n      }\n\n      const pageProxy = this.#pageCache.get(pageIndex);\n      if (pageProxy.objs.has(id)) {\n        return;\n      }\n\n      switch (type) {\n        case \"Image\":\n          pageProxy.objs.resolve(id, imageData);\n\n          // Heuristic that will allow us not to store large data.\n          const MAX_IMAGE_SIZE_TO_STORE = 8000000;\n          if (imageData?.data?.length > MAX_IMAGE_SIZE_TO_STORE) {\n            pageProxy.cleanupAfterRender = true;\n          }\n          break;\n        case \"Pattern\":\n          pageProxy.objs.resolve(id, imageData);\n          break;\n        default:\n          throw new Error(`Got unknown object type ${type}`);\n      }\n    });\n\n    messageHandler.on(\"DocProgress\", data => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n      loadingTask.onProgress?.({\n        loaded: data.loaded,\n        total: data.total,\n      });\n    });\n\n    messageHandler.on(\"DocStats\", data => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n      // Ensure that a `PDFDocumentProxy.stats` call-site cannot accidentally\n      // modify this internal data.\n      this.#docStats = Object.freeze({\n        streamTypes: Object.freeze(data.streamTypes),\n        fontTypes: Object.freeze(data.fontTypes),\n      });\n    });\n\n    messageHandler.on(\n      \"UnsupportedFeature\",\n      this._onUnsupportedFeature.bind(this)\n    );\n\n    messageHandler.on(\"FetchBuiltInCMap\", data => {\n      if (this.destroyed) {\n        return Promise.reject(new Error(\"Worker was destroyed.\"));\n      }\n      if (!this.CMapReaderFactory) {\n        return Promise.reject(\n          new Error(\n            \"CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.\"\n          )\n        );\n      }\n      return this.CMapReaderFactory.fetch(data);\n    });\n\n    messageHandler.on(\"FetchStandardFontData\", data => {\n      if (this.destroyed) {\n        return Promise.reject(new Error(\"Worker was destroyed.\"));\n      }\n      if (!this.StandardFontDataFactory) {\n        return Promise.reject(\n          new Error(\n            \"StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.\"\n          )\n        );\n      }\n      return this.StandardFontDataFactory.fetch(data);\n    });\n  }\n\n  _onUnsupportedFeature({ featureId }) {\n    if (this.destroyed) {\n      return; // Ignore any pending requests if the worker was terminated.\n    }\n    this.loadingTask.onUnsupportedFeature?.(featureId);\n  }\n\n  getData() {\n    return this.messageHandler.sendWithPromise(\"GetData\", null);\n  }\n\n  getPage(pageNumber) {\n    if (\n      !Number.isInteger(pageNumber) ||\n      pageNumber <= 0 ||\n      pageNumber > this._numPages\n    ) {\n      return Promise.reject(new Error(\"Invalid page request\"));\n    }\n\n    const pageIndex = pageNumber - 1,\n      cachedPromise = this.#pagePromises.get(pageIndex);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler\n      .sendWithPromise(\"GetPage\", {\n        pageIndex,\n      })\n      .then(pageInfo => {\n        if (this.destroyed) {\n          throw new Error(\"Transport destroyed\");\n        }\n        const page = new PDFPageProxy(\n          pageIndex,\n          pageInfo,\n          this,\n          this._params.ownerDocument,\n          this._params.pdfBug\n        );\n        this.#pageCache.set(pageIndex, page);\n        return page;\n      });\n    this.#pagePromises.set(pageIndex, promise);\n    return promise;\n  }\n\n  getPageIndex(ref) {\n    return this.messageHandler.sendWithPromise(\"GetPageIndex\", {\n      ref,\n    });\n  }\n\n  getAnnotations(pageIndex, intent) {\n    return this.messageHandler.sendWithPromise(\"GetAnnotations\", {\n      pageIndex,\n      intent,\n    });\n  }\n\n  saveDocument() {\n    return this.messageHandler\n      .sendWithPromise(\"SaveDocument\", {\n        isPureXfa: !!this._htmlForXfa,\n        numPages: this._numPages,\n        annotationStorage: this.annotationStorage.serializable,\n        filename: this._fullReader?.filename ?? null,\n      })\n      .finally(() => {\n        this.annotationStorage.resetModified();\n      });\n  }\n\n  getFieldObjects() {\n    return (this._getFieldObjectsPromise ||=\n      this.messageHandler.sendWithPromise(\"GetFieldObjects\", null));\n  }\n\n  hasJSActions() {\n    return (this._hasJSActionsPromise ||= this.messageHandler.sendWithPromise(\n      \"HasJSActions\",\n      null\n    ));\n  }\n\n  getCalculationOrderIds() {\n    return this.messageHandler.sendWithPromise(\"GetCalculationOrderIds\", null);\n  }\n\n  getDestinations() {\n    return this.messageHandler.sendWithPromise(\"GetDestinations\", null);\n  }\n\n  getDestination(id) {\n    if (typeof id !== \"string\") {\n      return Promise.reject(new Error(\"Invalid destination request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetDestination\", {\n      id,\n    });\n  }\n\n  getPageLabels() {\n    return this.messageHandler.sendWithPromise(\"GetPageLabels\", null);\n  }\n\n  getPageLayout() {\n    return this.messageHandler.sendWithPromise(\"GetPageLayout\", null);\n  }\n\n  getPageMode() {\n    return this.messageHandler.sendWithPromise(\"GetPageMode\", null);\n  }\n\n  getViewerPreferences() {\n    return this.messageHandler.sendWithPromise(\"GetViewerPreferences\", null);\n  }\n\n  getOpenAction() {\n    return this.messageHandler.sendWithPromise(\"GetOpenAction\", null);\n  }\n\n  getAttachments() {\n    return this.messageHandler.sendWithPromise(\"GetAttachments\", null);\n  }\n\n  getJavaScript() {\n    return this.messageHandler.sendWithPromise(\"GetJavaScript\", null);\n  }\n\n  getDocJSActions() {\n    return this.messageHandler.sendWithPromise(\"GetDocJSActions\", null);\n  }\n\n  getPageJSActions(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetPageJSActions\", {\n      pageIndex,\n    });\n  }\n\n  getStructTree(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetStructTree\", {\n      pageIndex,\n    });\n  }\n\n  getOutline() {\n    return this.messageHandler.sendWithPromise(\"GetOutline\", null);\n  }\n\n  getOptionalContentConfig() {\n    return this.messageHandler\n      .sendWithPromise(\"GetOptionalContentConfig\", null)\n      .then(results => {\n        return new OptionalContentConfig(results);\n      });\n  }\n\n  getPermissions() {\n    return this.messageHandler.sendWithPromise(\"GetPermissions\", null);\n  }\n\n  getMetadata() {\n    return (this.#metadataPromise ||= this.messageHandler\n      .sendWithPromise(\"GetMetadata\", null)\n      .then(results => {\n        return {\n          info: results[0],\n          metadata: results[1] ? new Metadata(results[1]) : null,\n          contentDispositionFilename: this._fullReader?.filename ?? null,\n          contentLength: this._fullReader?.contentLength ?? null,\n        };\n      }));\n  }\n\n  getMarkInfo() {\n    return this.messageHandler.sendWithPromise(\"GetMarkInfo\", null);\n  }\n\n  async startCleanup(keepLoadedFonts = false) {\n    await this.messageHandler.sendWithPromise(\"Cleanup\", null);\n\n    if (this.destroyed) {\n      return; // No need to manually clean-up when destruction has started.\n    }\n    for (const page of this.#pageCache.values()) {\n      const cleanupSuccessful = page.cleanup();\n\n      if (!cleanupSuccessful) {\n        throw new Error(\n          `startCleanup: Page ${page.pageNumber} is currently rendering.`\n        );\n      }\n    }\n    this.commonObjs.clear();\n    if (!keepLoadedFonts) {\n      this.fontLoader.clear();\n    }\n    this.#metadataPromise = null;\n    this._getFieldObjectsPromise = null;\n    this._hasJSActionsPromise = null;\n  }\n\n  get loadingParams() {\n    const params = this._params;\n    return shadow(this, \"loadingParams\", {\n      disableAutoFetch: params.disableAutoFetch,\n      enableXfa: params.enableXfa,\n    });\n  }\n}\n\n/**\n * A PDF document and page is built of many objects. E.g. there are objects for\n * fonts, images, rendering code, etc. These objects may get processed inside of\n * a worker. This class implements some basic methods to manage these objects.\n * @ignore\n */\nclass PDFObjects {\n  constructor() {\n    this._objs = Object.create(null);\n  }\n\n  /**\n   * Ensures there is an object defined for `objId`.\n   * @private\n   */\n  _ensureObj(objId) {\n    if (this._objs[objId]) {\n      return this._objs[objId];\n    }\n    return (this._objs[objId] = {\n      capability: createPromiseCapability(),\n      data: null,\n      resolved: false,\n    });\n  }\n\n  /**\n   * If called *without* callback, this returns the data of `objId` but the\n   * object needs to be resolved. If it isn't, this method throws.\n   *\n   * If called *with* a callback, the callback is called with the data of the\n   * object once the object is resolved. That means, if you call this method\n   * and the object is already resolved, the callback gets called right away.\n   */\n  get(objId, callback = null) {\n    // If there is a callback, then the get can be async and the object is\n    // not required to be resolved right now.\n    if (callback) {\n      this._ensureObj(objId).capability.promise.then(callback);\n      return null;\n    }\n    // If there isn't a callback, the user expects to get the resolved data\n    // directly.\n    const obj = this._objs[objId];\n    // If there isn't an object yet or the object isn't resolved, then the\n    // data isn't ready yet!\n    if (!obj || !obj.resolved) {\n      throw new Error(`Requesting object that isn't resolved yet ${objId}.`);\n    }\n    return obj.data;\n  }\n\n  has(objId) {\n    const obj = this._objs[objId];\n    return obj?.resolved || false;\n  }\n\n  /**\n   * Resolves the object `objId` with optional `data`.\n   */\n  resolve(objId, data) {\n    const obj = this._ensureObj(objId);\n\n    obj.resolved = true;\n    obj.data = data;\n    obj.capability.resolve(data);\n  }\n\n  clear() {\n    this._objs = Object.create(null);\n  }\n}\n\n/**\n * Allows controlling of the rendering tasks.\n */\nclass RenderTask {\n  constructor(internalRenderTask) {\n    this._internalRenderTask = internalRenderTask;\n\n    /**\n     * Callback for incremental rendering -- a function that will be called\n     * each time the rendering is paused.  To continue rendering call the\n     * function that is the first argument to the callback.\n     * @type {function}\n     */\n    this.onContinue = null;\n  }\n\n  /**\n   * Promise for rendering task completion.\n   * @type {Promise<void>}\n   */\n  get promise() {\n    return this._internalRenderTask.capability.promise;\n  }\n\n  /**\n   * Cancels the rendering task. If the task is currently rendering it will\n   * not be cancelled until graphics pauses with a timeout. The promise that\n   * this object extends will be rejected when cancelled.\n   */\n  cancel() {\n    this._internalRenderTask.cancel();\n  }\n}\n\n/**\n * For internal use only.\n * @ignore\n */\nclass InternalRenderTask {\n  static get canvasInUse() {\n    return shadow(this, \"canvasInUse\", new WeakSet());\n  }\n\n  constructor({\n    callback,\n    params,\n    objs,\n    commonObjs,\n    annotationCanvasMap,\n    operatorList,\n    pageIndex,\n    canvasFactory,\n    useRequestAnimationFrame = false,\n    pdfBug = false,\n  }) {\n    this.callback = callback;\n    this.params = params;\n    this.objs = objs;\n    this.commonObjs = commonObjs;\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.operatorListIdx = null;\n    this.operatorList = operatorList;\n    this._pageIndex = pageIndex;\n    this.canvasFactory = canvasFactory;\n    this._pdfBug = pdfBug;\n\n    this.running = false;\n    this.graphicsReadyCallback = null;\n    this.graphicsReady = false;\n    this._useRequestAnimationFrame =\n      useRequestAnimationFrame === true && typeof window !== \"undefined\";\n    this.cancelled = false;\n    this.capability = createPromiseCapability();\n    this.task = new RenderTask(this);\n    // caching this-bound methods\n    this._cancelBound = this.cancel.bind(this);\n    this._continueBound = this._continue.bind(this);\n    this._scheduleNextBound = this._scheduleNext.bind(this);\n    this._nextBound = this._next.bind(this);\n    this._canvas = params.canvasContext.canvas;\n  }\n\n  get completed() {\n    return this.capability.promise.catch(function () {\n      // Ignoring errors, since we only want to know when rendering is\n      // no longer pending.\n    });\n  }\n\n  initializeGraphics({ transparency = false, optionalContentConfig }) {\n    if (this.cancelled) {\n      return;\n    }\n    if (this._canvas) {\n      if (InternalRenderTask.canvasInUse.has(this._canvas)) {\n        throw new Error(\n          \"Cannot use the same canvas during multiple render() operations. \" +\n            \"Use different canvas or ensure previous operations were \" +\n            \"cancelled or completed.\"\n        );\n      }\n      InternalRenderTask.canvasInUse.add(this._canvas);\n    }\n\n    if (this._pdfBug && globalThis.StepperManager?.enabled) {\n      this.stepper = globalThis.StepperManager.create(this._pageIndex);\n      this.stepper.init(this.operatorList);\n      this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n    }\n    const { canvasContext, viewport, transform, imageLayer, background } =\n      this.params;\n\n    this.gfx = new CanvasGraphics(\n      canvasContext,\n      this.commonObjs,\n      this.objs,\n      this.canvasFactory,\n      imageLayer,\n      optionalContentConfig,\n      this.annotationCanvasMap\n    );\n    this.gfx.beginDrawing({\n      transform,\n      viewport,\n      transparency,\n      background,\n    });\n    this.operatorListIdx = 0;\n    this.graphicsReady = true;\n    if (this.graphicsReadyCallback) {\n      this.graphicsReadyCallback();\n    }\n  }\n\n  cancel(error = null) {\n    this.running = false;\n    this.cancelled = true;\n    if (this.gfx) {\n      this.gfx.endDrawing();\n    }\n    if (this._canvas) {\n      InternalRenderTask.canvasInUse.delete(this._canvas);\n    }\n    this.callback(\n      error ||\n        new RenderingCancelledException(\n          `Rendering cancelled, page ${this._pageIndex + 1}`,\n          \"canvas\"\n        )\n    );\n  }\n\n  operatorListChanged() {\n    if (!this.graphicsReady) {\n      if (!this.graphicsReadyCallback) {\n        this.graphicsReadyCallback = this._continueBound;\n      }\n      return;\n    }\n\n    if (this.stepper) {\n      this.stepper.updateOperatorList(this.operatorList);\n    }\n\n    if (this.running) {\n      return;\n    }\n    this._continue();\n  }\n\n  _continue() {\n    this.running = true;\n    if (this.cancelled) {\n      return;\n    }\n    if (this.task.onContinue) {\n      this.task.onContinue(this._scheduleNextBound);\n    } else {\n      this._scheduleNext();\n    }\n  }\n\n  _scheduleNext() {\n    if (this._useRequestAnimationFrame) {\n      window.requestAnimationFrame(() => {\n        this._nextBound().catch(this._cancelBound);\n      });\n    } else {\n      Promise.resolve().then(this._nextBound).catch(this._cancelBound);\n    }\n  }\n\n  async _next() {\n    if (this.cancelled) {\n      return;\n    }\n    this.operatorListIdx = this.gfx.executeOperatorList(\n      this.operatorList,\n      this.operatorListIdx,\n      this._continueBound,\n      this.stepper\n    );\n    if (this.operatorListIdx === this.operatorList.argsArray.length) {\n      this.running = false;\n      if (this.operatorList.lastChunk) {\n        this.gfx.endDrawing();\n        if (this._canvas) {\n          InternalRenderTask.canvasInUse.delete(this._canvas);\n        }\n        this.callback();\n      }\n    }\n  }\n}\n\n/** @type {string} */\nconst version =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_VERSION\") : null;\n/** @type {string} */\nconst build =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_BUILD\") : null;\n\nexport {\n  build,\n  DefaultCanvasFactory,\n  DefaultCMapReaderFactory,\n  DefaultStandardFontDataFactory,\n  getDocument,\n  LoopbackPort,\n  PDFDataRangeTransport,\n  PDFDocumentLoadingTask,\n  PDFDocumentProxy,\n  PDFPageProxy,\n  PDFWorker,\n  RenderTask,\n  setPDFNetworkStreamFactory,\n  version,\n};\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert,\n  bytesToString,\n  IsEvalSupportedCached,\n  shadow,\n  string32,\n  unreachable,\n  UNSUPPORTED_FEATURES,\n  warn,\n} from \"../shared/util.js\";\n\nclass BaseFontLoader {\n  constructor({\n    docId,\n    onUnsupportedFeature,\n    ownerDocument = globalThis.document,\n    // For testing only.\n    styleElement = null,\n  }) {\n    if (this.constructor === BaseFontLoader) {\n      unreachable(\"Cannot initialize BaseFontLoader.\");\n    }\n    this.docId = docId;\n    this._onUnsupportedFeature = onUnsupportedFeature;\n    this._document = ownerDocument;\n\n    this.nativeFontFaces = [];\n    this.styleElement =\n      typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"!PRODUCTION || TESTING\")\n        ? styleElement\n        : null;\n  }\n\n  addNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.push(nativeFontFace);\n    this._document.fonts.add(nativeFontFace);\n  }\n\n  insertRule(rule) {\n    let styleElement = this.styleElement;\n    if (!styleElement) {\n      styleElement = this.styleElement = this._document.createElement(\"style\");\n      styleElement.id = `PDFJS_FONT_STYLE_TAG_${this.docId}`;\n      this._document.documentElement\n        .getElementsByTagName(\"head\")[0]\n        .appendChild(styleElement);\n    }\n    const styleSheet = styleElement.sheet;\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  }\n\n  clear() {\n    for (const nativeFontFace of this.nativeFontFaces) {\n      this._document.fonts.delete(nativeFontFace);\n    }\n    this.nativeFontFaces.length = 0;\n\n    if (this.styleElement) {\n      // Note: ChildNode.remove doesn't throw if the parentNode is undefined.\n      this.styleElement.remove();\n      this.styleElement = null;\n    }\n  }\n\n  async bind(font) {\n    // Add the font to the DOM only once; skip if the font is already loaded.\n    if (font.attached || font.missingFile) {\n      return;\n    }\n    font.attached = true;\n\n    if (this.isFontLoadingAPISupported) {\n      const nativeFontFace = font.createNativeFontFace();\n      if (nativeFontFace) {\n        this.addNativeFontFace(nativeFontFace);\n        try {\n          await nativeFontFace.loaded;\n        } catch (ex) {\n          this._onUnsupportedFeature({\n            featureId: UNSUPPORTED_FEATURES.errorFontLoadNative,\n          });\n          warn(`Failed to load font '${nativeFontFace.family}': '${ex}'.`);\n\n          // When font loading failed, fall back to the built-in font renderer.\n          font.disableFontFace = true;\n          throw ex;\n        }\n      }\n      return; // The font was, asynchronously, loaded.\n    }\n\n    // !this.isFontLoadingAPISupported\n    const rule = font.createFontFaceRule();\n    if (rule) {\n      this.insertRule(rule);\n\n      if (this.isSyncFontLoadingSupported) {\n        return; // The font was, synchronously, loaded.\n      }\n      await new Promise(resolve => {\n        const request = this._queueLoadingCallback(resolve);\n        this._prepareFontLoadEvent([rule], [font], request);\n      });\n      // The font was, asynchronously, loaded.\n    }\n  }\n\n  _queueLoadingCallback(callback) {\n    unreachable(\"Abstract method `_queueLoadingCallback`.\");\n  }\n\n  get isFontLoadingAPISupported() {\n    const hasFonts = !!this._document?.fonts;\n    if (\n      typeof PDFJSDev === \"undefined\" ||\n      PDFJSDev.test(\"!PRODUCTION || TESTING\")\n    ) {\n      return shadow(\n        this,\n        \"isFontLoadingAPISupported\",\n        hasFonts && !this.styleElement\n      );\n    }\n    return shadow(this, \"isFontLoadingAPISupported\", hasFonts);\n  }\n\n  // eslint-disable-next-line getter-return\n  get isSyncFontLoadingSupported() {\n    unreachable(\"Abstract method `isSyncFontLoadingSupported`.\");\n  }\n\n  // eslint-disable-next-line getter-return\n  get _loadTestFont() {\n    unreachable(\"Abstract method `_loadTestFont`.\");\n  }\n\n  _prepareFontLoadEvent(rules, fontsToLoad, request) {\n    unreachable(\"Abstract method `_prepareFontLoadEvent`.\");\n  }\n}\n\nlet FontLoader;\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  FontLoader = class MozcentralFontLoader extends BaseFontLoader {\n    get isSyncFontLoadingSupported() {\n      return shadow(this, \"isSyncFontLoadingSupported\", true);\n    }\n  };\n} else {\n  // PDFJSDev.test('CHROME || GENERIC')\n\n  FontLoader = class GenericFontLoader extends BaseFontLoader {\n    constructor(params) {\n      super(params);\n      this.loadingContext = {\n        requests: [],\n        nextRequestId: 0,\n      };\n      this.loadTestFontId = 0;\n    }\n\n    get isSyncFontLoadingSupported() {\n      let supported = false;\n      if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"CHROME\")) {\n        if (typeof navigator === \"undefined\") {\n          // Node.js - we can pretend that sync font loading is supported.\n          supported = true;\n        } else {\n          // User agent string sniffing is bad, but there is no reliable way to\n          // tell if the font is fully loaded and ready to be used with canvas.\n          const m = /Mozilla\\/5.0.*?rv:(\\d+).*? Gecko/.exec(\n            navigator.userAgent\n          );\n          if (m?.[1] >= 14) {\n            supported = true;\n          }\n          // TODO - other browsers...\n        }\n      }\n      return shadow(this, \"isSyncFontLoadingSupported\", supported);\n    }\n\n    _queueLoadingCallback(callback) {\n      function completeRequest() {\n        assert(!request.done, \"completeRequest() cannot be called twice.\");\n        request.done = true;\n\n        // Sending all completed requests in order of how they were queued.\n        while (context.requests.length > 0 && context.requests[0].done) {\n          const otherRequest = context.requests.shift();\n          setTimeout(otherRequest.callback, 0);\n        }\n      }\n\n      const context = this.loadingContext;\n      const request = {\n        id: `pdfjs-font-loading-${context.nextRequestId++}`,\n        done: false,\n        complete: completeRequest,\n        callback,\n      };\n      context.requests.push(request);\n      return request;\n    }\n\n    get _loadTestFont() {\n      const getLoadTestFont = function () {\n        // This is a CFF font with 1 glyph for '.' that fills its entire width\n        // and height.\n        return atob(\n          \"T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQA\" +\n            \"FQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAA\" +\n            \"ALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgA\" +\n            \"AAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1\" +\n            \"AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD\" +\n            \"6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACM\" +\n            \"AooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4D\" +\n            \"IP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAA\" +\n            \"AAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUA\" +\n            \"AQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgAB\" +\n            \"AAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABY\" +\n            \"AAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAA\" +\n            \"AC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n            \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAA\" +\n            \"AAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQAC\" +\n            \"AQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3\" +\n            \"Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTj\" +\n            \"FQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==\"\n        );\n      };\n      return shadow(this, \"_loadTestFont\", getLoadTestFont());\n    }\n\n    _prepareFontLoadEvent(rules, fonts, request) {\n      /** Hack begin */\n      // There's currently no event when a font has finished downloading so the\n      // following code is a dirty hack to 'guess' when a font is ready.\n      // It's assumed fonts are loaded in order, so add a known test font after\n      // the desired fonts and then test for the loading of that test font.\n\n      function int32(data, offset) {\n        return (\n          (data.charCodeAt(offset) << 24) |\n          (data.charCodeAt(offset + 1) << 16) |\n          (data.charCodeAt(offset + 2) << 8) |\n          (data.charCodeAt(offset + 3) & 0xff)\n        );\n      }\n      function spliceString(s, offset, remove, insert) {\n        const chunk1 = s.substring(0, offset);\n        const chunk2 = s.substring(offset + remove);\n        return chunk1 + insert + chunk2;\n      }\n      let i, ii;\n\n      // The temporary canvas is used to determine if fonts are loaded.\n      const canvas = this._document.createElement(\"canvas\");\n      canvas.width = 1;\n      canvas.height = 1;\n      const ctx = canvas.getContext(\"2d\");\n\n      let called = 0;\n      function isFontReady(name, callback) {\n        called++;\n        // With setTimeout clamping this gives the font ~100ms to load.\n        if (called > 30) {\n          warn(\"Load test font never loaded.\");\n          callback();\n          return;\n        }\n        ctx.font = \"30px \" + name;\n        ctx.fillText(\".\", 0, 20);\n        const imageData = ctx.getImageData(0, 0, 1, 1);\n        if (imageData.data[3] > 0) {\n          callback();\n          return;\n        }\n        setTimeout(isFontReady.bind(null, name, callback));\n      }\n\n      const loadTestFontId = `lt${Date.now()}${this.loadTestFontId++}`;\n      // Chromium seems to cache fonts based on a hash of the actual font data,\n      // so the font must be modified for each load test else it will appear to\n      // be loaded already.\n      // TODO: This could maybe be made faster by avoiding the btoa of the full\n      // font by splitting it in chunks before hand and padding the font id.\n      let data = this._loadTestFont;\n      const COMMENT_OFFSET = 976; // has to be on 4 byte boundary (for checksum)\n      data = spliceString(\n        data,\n        COMMENT_OFFSET,\n        loadTestFontId.length,\n        loadTestFontId\n      );\n      // CFF checksum is important for IE, adjusting it\n      const CFF_CHECKSUM_OFFSET = 16;\n      const XXXX_VALUE = 0x58585858; // the \"comment\" filled with 'X'\n      let checksum = int32(data, CFF_CHECKSUM_OFFSET);\n      for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n        checksum = (checksum - XXXX_VALUE + int32(loadTestFontId, i)) | 0;\n      }\n      if (i < loadTestFontId.length) {\n        // align to 4 bytes boundary\n        checksum =\n          (checksum - XXXX_VALUE + int32(loadTestFontId + \"XXX\", i)) | 0;\n      }\n      data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, string32(checksum));\n\n      const url = `url(data:font/opentype;base64,${btoa(data)});`;\n      const rule = `@font-face {font-family:\"${loadTestFontId}\";src:${url}}`;\n      this.insertRule(rule);\n\n      const names = [];\n      for (const font of fonts) {\n        names.push(font.loadedName);\n      }\n      names.push(loadTestFontId);\n\n      const div = this._document.createElement(\"div\");\n      div.style.visibility = \"hidden\";\n      div.style.width = div.style.height = \"10px\";\n      div.style.position = \"absolute\";\n      div.style.top = div.style.left = \"0px\";\n\n      for (const name of names) {\n        const span = this._document.createElement(\"span\");\n        span.textContent = \"Hi\";\n        span.style.fontFamily = name;\n        div.appendChild(span);\n      }\n      this._document.body.appendChild(div);\n\n      isFontReady(loadTestFontId, () => {\n        div.remove();\n        request.complete();\n      });\n      /** Hack end */\n    }\n  };\n} // End of PDFJSDev.test('CHROME || GENERIC')\n\nclass FontFaceObject {\n  constructor(\n    translatedData,\n    {\n      isEvalSupported = true,\n      disableFontFace = false,\n      ignoreErrors = false,\n      onUnsupportedFeature,\n      fontRegistry = null,\n    }\n  ) {\n    this.compiledGlyphs = Object.create(null);\n    // importing translated data\n    for (const i in translatedData) {\n      this[i] = translatedData[i];\n    }\n    this.isEvalSupported = isEvalSupported !== false;\n    this.disableFontFace = disableFontFace === true;\n    this.ignoreErrors = ignoreErrors === true;\n    this._onUnsupportedFeature = onUnsupportedFeature;\n    this.fontRegistry = fontRegistry;\n  }\n\n  createNativeFontFace() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    let nativeFontFace;\n    if (!this.cssFontInfo) {\n      nativeFontFace = new FontFace(this.loadedName, this.data, {});\n    } else {\n      const css = {\n        weight: this.cssFontInfo.fontWeight,\n      };\n      if (this.cssFontInfo.italicAngle) {\n        css.style = `oblique ${this.cssFontInfo.italicAngle}deg`;\n      }\n      nativeFontFace = new FontFace(\n        this.cssFontInfo.fontFamily,\n        this.data,\n        css\n      );\n    }\n\n    if (this.fontRegistry) {\n      this.fontRegistry.registerFont(this);\n    }\n    return nativeFontFace;\n  }\n\n  createFontFaceRule() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    const data = bytesToString(this.data);\n    // Add the @font-face rule to the document.\n    const url = `url(data:${this.mimetype};base64,${btoa(data)});`;\n    let rule;\n    if (!this.cssFontInfo) {\n      rule = `@font-face {font-family:\"${this.loadedName}\";src:${url}}`;\n    } else {\n      let css = `font-weight: ${this.cssFontInfo.fontWeight};`;\n      if (this.cssFontInfo.italicAngle) {\n        css += `font-style: oblique ${this.cssFontInfo.italicAngle}deg;`;\n      }\n      rule = `@font-face {font-family:\"${this.cssFontInfo.fontFamily}\";${css}src:${url}}`;\n    }\n\n    if (this.fontRegistry) {\n      this.fontRegistry.registerFont(this, url);\n    }\n    return rule;\n  }\n\n  getPathGenerator(objs, character) {\n    if (this.compiledGlyphs[character] !== undefined) {\n      return this.compiledGlyphs[character];\n    }\n\n    let cmds;\n    try {\n      cmds = objs.get(this.loadedName + \"_path_\" + character);\n    } catch (ex) {\n      if (!this.ignoreErrors) {\n        throw ex;\n      }\n      this._onUnsupportedFeature({\n        featureId: UNSUPPORTED_FEATURES.errorFontGetPath,\n      });\n      warn(`getPathGenerator - ignoring character: \"${ex}\".`);\n\n      return (this.compiledGlyphs[character] = function (c, size) {\n        // No-op function, to allow rendering to continue.\n      });\n    }\n\n    // If we can, compile cmds into JS for MAXIMUM SPEED...\n    if (this.isEvalSupported && IsEvalSupportedCached.value) {\n      const jsBuf = [];\n      for (const current of cmds) {\n        const args = current.args !== undefined ? current.args.join(\",\") : \"\";\n        jsBuf.push(\"c.\", current.cmd, \"(\", args, \");\\n\");\n      }\n      // eslint-disable-next-line no-new-func\n      return (this.compiledGlyphs[character] = new Function(\n        \"c\",\n        \"size\",\n        jsBuf.join(\"\")\n      ));\n    }\n    // ... but fall back on using Function.prototype.apply() if we're\n    // blocked from using eval() for whatever reason (like CSP policies).\n    return (this.compiledGlyphs[character] = function (c, size) {\n      for (const current of cmds) {\n        if (current.cmd === \"scale\") {\n          current.args = [size, -size];\n        }\n        c[current.cmd].apply(c, current.args);\n      }\n    });\n  }\n}\n\nexport { FontFaceObject, FontLoader };\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals __non_webpack_require__ */\n\nimport {\n  BaseCanvasFactory,\n  BaseCMapReaderFactory,\n  BaseStandardFontDataFactory,\n} from \"./base_factory.js\";\nimport { isNodeJS } from \"../shared/is_node.js\";\nimport { unreachable } from \"../shared/util.js\";\n\nlet NodeCanvasFactory = class {\n  constructor() {\n    unreachable(\"Not implemented: NodeCanvasFactory\");\n  }\n};\n\nlet NodeCMapReaderFactory = class {\n  constructor() {\n    unreachable(\"Not implemented: NodeCMapReaderFactory\");\n  }\n};\n\nlet NodeStandardFontDataFactory = class {\n  constructor() {\n    unreachable(\"Not implemented: NodeStandardFontDataFactory\");\n  }\n};\n\nif ((typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) && isNodeJS) {\n  const fetchData = function (url) {\n    return new Promise((resolve, reject) => {\n      const fs = __non_webpack_require__(\"fs\");\n      fs.readFile(url, (error, data) => {\n        if (error || !data) {\n          reject(new Error(error));\n          return;\n        }\n        resolve(new Uint8Array(data));\n      });\n    });\n  };\n\n  NodeCanvasFactory = class extends BaseCanvasFactory {\n    _createCanvas(width, height) {\n      const Canvas = __non_webpack_require__(\"canvas\");\n      return Canvas.createCanvas(width, height);\n    }\n  };\n\n  NodeCMapReaderFactory = class extends BaseCMapReaderFactory {\n    _fetchData(url, compressionType) {\n      return fetchData(url).then(data => {\n        return { cMapData: data, compressionType };\n      });\n    }\n  };\n\n  NodeStandardFontDataFactory = class extends BaseStandardFontDataFactory {\n    _fetchData(url) {\n      return fetchData(url);\n    }\n  };\n}\n\nexport {\n  NodeCanvasFactory,\n  NodeCMapReaderFactory,\n  NodeStandardFontDataFactory,\n};\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { objectFromMap } from \"../shared/util.js\";\n\n/**\n * Key/value storage for annotation data in forms.\n */\nclass AnnotationStorage {\n  constructor() {\n    this._storage = new Map();\n    this._timeStamp = Date.now();\n    this._modified = false;\n\n    // Callbacks to signal when the modification state is set or reset.\n    // This is used by the viewer to only bind on `beforeunload` if forms\n    // are actually edited to prevent doing so unconditionally since that\n    // can have undesirable effects.\n    this.onSetModified = null;\n    this.onResetModified = null;\n  }\n\n  /**\n   * Get the value for a given key if it exists, or return the default value.\n   *\n   * @public\n   * @memberof AnnotationStorage\n   * @param {string} key\n   * @param {Object} defaultValue\n   * @returns {Object}\n   */\n  getValue(key, defaultValue) {\n    const value = this._storage.get(key);\n    if (value === undefined) {\n      return defaultValue;\n    }\n\n    return Object.assign(defaultValue, value);\n  }\n\n  /**\n   * Set the value for a given key\n   *\n   * @public\n   * @memberof AnnotationStorage\n   * @param {string} key\n   * @param {Object} value\n   */\n  setValue(key, value) {\n    const obj = this._storage.get(key);\n    let modified = false;\n    if (obj !== undefined) {\n      for (const [entry, val] of Object.entries(value)) {\n        if (obj[entry] !== val) {\n          modified = true;\n          obj[entry] = val;\n        }\n      }\n    } else {\n      modified = true;\n      this._storage.set(key, value);\n    }\n    if (modified) {\n      this._timeStamp = Date.now();\n      this._setModified();\n    }\n  }\n\n  getAll() {\n    return this._storage.size > 0 ? objectFromMap(this._storage) : null;\n  }\n\n  get size() {\n    return this._storage.size;\n  }\n\n  /**\n   * @private\n   */\n  _setModified() {\n    if (!this._modified) {\n      this._modified = true;\n      if (typeof this.onSetModified === \"function\") {\n        this.onSetModified();\n      }\n    }\n  }\n\n  resetModified() {\n    if (this._modified) {\n      this._modified = false;\n      if (typeof this.onResetModified === \"function\") {\n        this.onResetModified();\n      }\n    }\n  }\n\n  /**\n   * PLEASE NOTE: Only intended for usage within the API itself.\n   * @ignore\n   */\n  get serializable() {\n    return this._storage.size > 0 ? this._storage : null;\n  }\n\n  /**\n   * PLEASE NOTE: Only intended for usage within the API itself.\n   * @ignore\n   */\n  get lastModified() {\n    return this._timeStamp.toString();\n  }\n}\n\nexport { AnnotationStorage };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  FONT_IDENTITY_MATRIX,\n  IDENTITY_MATRIX,\n  ImageKind,\n  info,\n  IsLittleEndianCached,\n  isNum,\n  OPS,\n  shadow,\n  TextRenderingMode,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport {\n  getShadingPattern,\n  PathType,\n  TilingPattern,\n} from \"./pattern_helper.js\";\nimport { PixelsPerInch } from \"./display_utils.js\";\n\n// <canvas> contexts store most of the state we need natively.\n// However, PDF needs a bit more state, which we store here.\n// Minimal font size that would be used during canvas fillText operations.\nconst MIN_FONT_SIZE = 16;\n// Maximum font size that would be used during canvas fillText operations.\nconst MAX_FONT_SIZE = 100;\nconst MAX_GROUP_SIZE = 4096;\n\n// Defines the time the `executeOperatorList`-method is going to be executing\n// before it stops and shedules a continue of execution.\nconst EXECUTION_TIME = 15; // ms\n// Defines the number of steps before checking the execution time.\nconst EXECUTION_STEPS = 10;\n\nconst COMPILE_TYPE3_GLYPHS = true;\nconst MAX_SIZE_TO_COMPILE = 1000;\n\nconst FULL_CHUNK_HEIGHT = 16;\n\n// Because of https://bugs.chromium.org/p/chromium/issues/detail?id=1170396\n// some curves aren't rendered correctly.\n// Multiplying lineWidth by this factor should help to have \"correct\"\n// rendering with no artifacts.\n// Once the bug is fixed upstream, we can remove this constant and its use.\nconst LINEWIDTH_SCALE_FACTOR = 1.000001;\n\n/**\n * Overrides certain methods on a 2d ctx so that when they are called they\n * will also call the same method on the destCtx. The methods that are\n * overridden are all the transformation state modifiers, path creation, and\n * save/restore. We only forward these specific methods because they are the\n * only state modifiers that we cannot copy over when we switch contexts.\n *\n * To remove mirroring call `ctx._removeMirroring()`.\n *\n * @param {Object} ctx - The 2d canvas context that will duplicate its calls on\n *   the destCtx.\n * @param {Object} destCtx - The 2d canvas context that will receive the\n *   forwarded calls.\n */\nfunction mirrorContextOperations(ctx, destCtx) {\n  if (ctx._removeMirroring) {\n    throw new Error(\"Context is already forwarding operations.\");\n  }\n  ctx.__originalSave = ctx.save;\n  ctx.__originalRestore = ctx.restore;\n  ctx.__originalRotate = ctx.rotate;\n  ctx.__originalScale = ctx.scale;\n  ctx.__originalTranslate = ctx.translate;\n  ctx.__originalTransform = ctx.transform;\n  ctx.__originalSetTransform = ctx.setTransform;\n  ctx.__originalResetTransform = ctx.resetTransform;\n  ctx.__originalClip = ctx.clip;\n  ctx.__originalMoveTo = ctx.moveTo;\n  ctx.__originalLineTo = ctx.lineTo;\n  ctx.__originalBezierCurveTo = ctx.bezierCurveTo;\n  ctx.__originalRect = ctx.rect;\n  ctx.__originalClosePath = ctx.closePath;\n  ctx.__originalBeginPath = ctx.beginPath;\n\n  ctx._removeMirroring = () => {\n    ctx.save = ctx.__originalSave;\n    ctx.restore = ctx.__originalRestore;\n    ctx.rotate = ctx.__originalRotate;\n    ctx.scale = ctx.__originalScale;\n    ctx.translate = ctx.__originalTranslate;\n    ctx.transform = ctx.__originalTransform;\n    ctx.setTransform = ctx.__originalSetTransform;\n    ctx.resetTransform = ctx.__originalResetTransform;\n\n    ctx.clip = ctx.__originalClip;\n    ctx.moveTo = ctx.__originalMoveTo;\n    ctx.lineTo = ctx.__originalLineTo;\n    ctx.bezierCurveTo = ctx.__originalBezierCurveTo;\n    ctx.rect = ctx.__originalRect;\n    ctx.closePath = ctx.__originalClosePath;\n    ctx.beginPath = ctx.__originalBeginPath;\n    delete ctx._removeMirroring;\n  };\n\n  ctx.save = function ctxSave() {\n    destCtx.save();\n    this.__originalSave();\n  };\n\n  ctx.restore = function ctxRestore() {\n    destCtx.restore();\n    this.__originalRestore();\n  };\n\n  ctx.translate = function ctxTranslate(x, y) {\n    destCtx.translate(x, y);\n    this.__originalTranslate(x, y);\n  };\n\n  ctx.scale = function ctxScale(x, y) {\n    destCtx.scale(x, y);\n    this.__originalScale(x, y);\n  };\n\n  ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n    destCtx.transform(a, b, c, d, e, f);\n    this.__originalTransform(a, b, c, d, e, f);\n  };\n\n  ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n    destCtx.setTransform(a, b, c, d, e, f);\n    this.__originalSetTransform(a, b, c, d, e, f);\n  };\n\n  ctx.resetTransform = function ctxResetTransform() {\n    destCtx.resetTransform();\n    this.__originalResetTransform();\n  };\n\n  ctx.rotate = function ctxRotate(angle) {\n    destCtx.rotate(angle);\n    this.__originalRotate(angle);\n  };\n\n  ctx.clip = function ctxRotate(rule) {\n    destCtx.clip(rule);\n    this.__originalClip(rule);\n  };\n\n  ctx.moveTo = function (x, y) {\n    destCtx.moveTo(x, y);\n    this.__originalMoveTo(x, y);\n  };\n\n  ctx.lineTo = function (x, y) {\n    destCtx.lineTo(x, y);\n    this.__originalLineTo(x, y);\n  };\n\n  ctx.bezierCurveTo = function (cp1x, cp1y, cp2x, cp2y, x, y) {\n    destCtx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n    this.__originalBezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n  };\n\n  ctx.rect = function (x, y, width, height) {\n    destCtx.rect(x, y, width, height);\n    this.__originalRect(x, y, width, height);\n  };\n\n  ctx.closePath = function () {\n    destCtx.closePath();\n    this.__originalClosePath();\n  };\n\n  ctx.beginPath = function () {\n    destCtx.beginPath();\n    this.__originalBeginPath();\n  };\n}\n\nfunction addContextCurrentTransform(ctx) {\n  // If the context doesn't expose a `mozCurrentTransform`, add a JS based one.\n  if (ctx.mozCurrentTransform) {\n    return;\n  }\n  ctx._originalSave = ctx.save;\n  ctx._originalRestore = ctx.restore;\n  ctx._originalRotate = ctx.rotate;\n  ctx._originalScale = ctx.scale;\n  ctx._originalTranslate = ctx.translate;\n  ctx._originalTransform = ctx.transform;\n  ctx._originalSetTransform = ctx.setTransform;\n  ctx._originalResetTransform = ctx.resetTransform;\n\n  ctx._transformMatrix = ctx._transformMatrix || [1, 0, 0, 1, 0, 0];\n  ctx._transformStack = [];\n\n  try {\n    // The call to getOwnPropertyDescriptor throws an exception in Node.js:\n    // \"TypeError: Method lineWidth called on incompatible receiver\n    //  #<CanvasRenderingContext2D>\".\n    const desc = Object.getOwnPropertyDescriptor(\n      Object.getPrototypeOf(ctx),\n      \"lineWidth\"\n    );\n\n    ctx._setLineWidth = desc.set;\n    ctx._getLineWidth = desc.get;\n\n    Object.defineProperty(ctx, \"lineWidth\", {\n      set: function setLineWidth(width) {\n        this._setLineWidth(width * LINEWIDTH_SCALE_FACTOR);\n      },\n      get: function getLineWidth() {\n        return this._getLineWidth();\n      },\n    });\n  } catch (_) {}\n\n  Object.defineProperty(ctx, \"mozCurrentTransform\", {\n    get: function getCurrentTransform() {\n      return this._transformMatrix;\n    },\n  });\n\n  Object.defineProperty(ctx, \"mozCurrentTransformInverse\", {\n    get: function getCurrentTransformInverse() {\n      // Calculation done using WolframAlpha:\n      // http://www.wolframalpha.com/input/?\n      //   i=Inverse+{{a%2C+c%2C+e}%2C+{b%2C+d%2C+f}%2C+{0%2C+0%2C+1}}\n\n      const [a, b, c, d, e, f] = this._transformMatrix;\n      const ad_bc = a * d - b * c;\n      const bc_ad = b * c - a * d;\n\n      return [\n        d / ad_bc,\n        b / bc_ad,\n        c / bc_ad,\n        a / ad_bc,\n        (d * e - c * f) / bc_ad,\n        (b * e - a * f) / ad_bc,\n      ];\n    },\n  });\n\n  ctx.save = function ctxSave() {\n    const old = this._transformMatrix;\n    this._transformStack.push(old);\n    this._transformMatrix = old.slice(0, 6);\n\n    this._originalSave();\n  };\n\n  ctx.restore = function ctxRestore() {\n    const prev = this._transformStack.pop();\n    if (prev) {\n      this._transformMatrix = prev;\n      this._originalRestore();\n    }\n  };\n\n  ctx.translate = function ctxTranslate(x, y) {\n    const m = this._transformMatrix;\n    m[4] = m[0] * x + m[2] * y + m[4];\n    m[5] = m[1] * x + m[3] * y + m[5];\n\n    this._originalTranslate(x, y);\n  };\n\n  ctx.scale = function ctxScale(x, y) {\n    const m = this._transformMatrix;\n    m[0] *= x;\n    m[1] *= x;\n    m[2] *= y;\n    m[3] *= y;\n\n    this._originalScale(x, y);\n  };\n\n  ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n    const m = this._transformMatrix;\n    this._transformMatrix = [\n      m[0] * a + m[2] * b,\n      m[1] * a + m[3] * b,\n      m[0] * c + m[2] * d,\n      m[1] * c + m[3] * d,\n      m[0] * e + m[2] * f + m[4],\n      m[1] * e + m[3] * f + m[5],\n    ];\n\n    ctx._originalTransform(a, b, c, d, e, f);\n  };\n\n  ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n    this._transformMatrix = [a, b, c, d, e, f];\n\n    ctx._originalSetTransform(a, b, c, d, e, f);\n  };\n\n  ctx.resetTransform = function ctxResetTransform() {\n    this._transformMatrix = [1, 0, 0, 1, 0, 0];\n\n    ctx._originalResetTransform();\n  };\n\n  ctx.rotate = function ctxRotate(angle) {\n    const cosValue = Math.cos(angle);\n    const sinValue = Math.sin(angle);\n\n    const m = this._transformMatrix;\n    this._transformMatrix = [\n      m[0] * cosValue + m[2] * sinValue,\n      m[1] * cosValue + m[3] * sinValue,\n      m[0] * -sinValue + m[2] * cosValue,\n      m[1] * -sinValue + m[3] * cosValue,\n      m[4],\n      m[5],\n    ];\n\n    this._originalRotate(angle);\n  };\n}\n\nclass CachedCanvases {\n  constructor(canvasFactory) {\n    this.canvasFactory = canvasFactory;\n    this.cache = Object.create(null);\n  }\n\n  getCanvas(id, width, height, trackTransform) {\n    let canvasEntry;\n    if (this.cache[id] !== undefined) {\n      canvasEntry = this.cache[id];\n      this.canvasFactory.reset(canvasEntry, width, height);\n      // reset canvas transform for emulated mozCurrentTransform, if needed\n      canvasEntry.context.setTransform(1, 0, 0, 1, 0, 0);\n    } else {\n      canvasEntry = this.canvasFactory.create(width, height);\n      this.cache[id] = canvasEntry;\n    }\n    if (trackTransform) {\n      addContextCurrentTransform(canvasEntry.context);\n    }\n    return canvasEntry;\n  }\n\n  clear() {\n    for (const id in this.cache) {\n      const canvasEntry = this.cache[id];\n      this.canvasFactory.destroy(canvasEntry);\n      delete this.cache[id];\n    }\n  }\n}\n\nfunction compileType3Glyph(imgData) {\n  const POINT_TO_PROCESS_LIMIT = 1000;\n  const POINT_TYPES = new Uint8Array([\n    0, 2, 4, 0, 1, 0, 5, 4, 8, 10, 0, 8, 0, 2, 1, 0,\n  ]);\n\n  const width = imgData.width,\n    height = imgData.height,\n    width1 = width + 1;\n  let i, ii, j, j0;\n  const points = new Uint8Array(width1 * (height + 1));\n\n  // decodes bit-packed mask data\n  const lineSize = (width + 7) & ~7,\n    data0 = imgData.data;\n  const data = new Uint8Array(lineSize * height);\n  let pos = 0;\n  for (i = 0, ii = data0.length; i < ii; i++) {\n    const elem = data0[i];\n    let mask = 128;\n    while (mask > 0) {\n      data[pos++] = elem & mask ? 0 : 255;\n      mask >>= 1;\n    }\n  }\n\n  // finding interesting points: every point is located between mask pixels,\n  // so there will be points of the (width + 1)x(height + 1) grid. Every point\n  // will have flags assigned based on neighboring mask pixels:\n  //   4 | 8\n  //   --P--\n  //   2 | 1\n  // We are interested only in points with the flags:\n  //   - outside corners: 1, 2, 4, 8;\n  //   - inside corners: 7, 11, 13, 14;\n  //   - and, intersections: 5, 10.\n  let count = 0;\n  pos = 0;\n  if (data[pos] !== 0) {\n    points[0] = 1;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j] = data[pos] ? 2 : 1;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j] = 2;\n    ++count;\n  }\n  for (i = 1; i < height; i++) {\n    pos = i * lineSize;\n    j0 = i * width1;\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0] = data[pos] ? 1 : 8;\n      ++count;\n    }\n    // 'sum' is the position of the current pixel configuration in the 'TYPES'\n    // array (in order 8-1-2-4, so we can use '>>2' to shift the column).\n    let sum = (data[pos] ? 4 : 0) + (data[pos - lineSize] ? 8 : 0);\n    for (j = 1; j < width; j++) {\n      sum =\n        (sum >> 2) +\n        (data[pos + 1] ? 4 : 0) +\n        (data[pos - lineSize + 1] ? 8 : 0);\n      if (POINT_TYPES[sum]) {\n        points[j0 + j] = POINT_TYPES[sum];\n        ++count;\n      }\n      pos++;\n    }\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0 + j] = data[pos] ? 2 : 4;\n      ++count;\n    }\n\n    if (count > POINT_TO_PROCESS_LIMIT) {\n      return null;\n    }\n  }\n\n  pos = lineSize * (height - 1);\n  j0 = i * width1;\n  if (data[pos] !== 0) {\n    points[j0] = 8;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j0 + j] = data[pos] ? 4 : 8;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j0 + j] = 4;\n    ++count;\n  }\n  if (count > POINT_TO_PROCESS_LIMIT) {\n    return null;\n  }\n\n  // building outlines\n  const steps = new Int32Array([0, width1, -1, 0, -width1, 0, 0, 0, 1]);\n  const outlines = [];\n  for (i = 0; count && i <= height; i++) {\n    let p = i * width1;\n    const end = p + width;\n    while (p < end && !points[p]) {\n      p++;\n    }\n    if (p === end) {\n      continue;\n    }\n    const coords = [p % width1, i];\n\n    const p0 = p;\n    let type = points[p];\n    do {\n      const step = steps[type];\n      do {\n        p += step;\n      } while (!points[p]);\n\n      const pp = points[p];\n      if (pp !== 5 && pp !== 10) {\n        // set new direction\n        type = pp;\n        // delete mark\n        points[p] = 0;\n      } else {\n        // type is 5 or 10, ie, a crossing\n        // set new direction\n        type = pp & ((0x33 * type) >> 4);\n        // set new type for \"future hit\"\n        points[p] &= (type >> 2) | (type << 2);\n      }\n\n      coords.push(p % width1, (p / width1) | 0);\n\n      if (!points[p]) {\n        --count;\n      }\n    } while (p0 !== p);\n    outlines.push(coords);\n    --i;\n  }\n\n  const drawOutline = function (c) {\n    c.save();\n    // the path shall be painted in [0..1]x[0..1] space\n    c.scale(1 / width, -1 / height);\n    c.translate(0, -height);\n    c.beginPath();\n    for (let k = 0, kk = outlines.length; k < kk; k++) {\n      const o = outlines[k];\n      c.moveTo(o[0], o[1]);\n      for (let l = 2, ll = o.length; l < ll; l += 2) {\n        c.lineTo(o[l], o[l + 1]);\n      }\n    }\n    c.fill();\n    c.beginPath();\n    c.restore();\n  };\n\n  return drawOutline;\n}\n\nclass CanvasExtraState {\n  constructor(width, height) {\n    // Are soft masks and alpha values shapes or opacities?\n    this.alphaIsShape = false;\n    this.fontSize = 0;\n    this.fontSizeScale = 1;\n    this.textMatrix = IDENTITY_MATRIX;\n    this.textMatrixScale = 1;\n    this.fontMatrix = FONT_IDENTITY_MATRIX;\n    this.leading = 0;\n    // Current point (in user coordinates)\n    this.x = 0;\n    this.y = 0;\n    // Start of text line (in text coordinates)\n    this.lineX = 0;\n    this.lineY = 0;\n    // Character and word spacing\n    this.charSpacing = 0;\n    this.wordSpacing = 0;\n    this.textHScale = 1;\n    this.textRenderingMode = TextRenderingMode.FILL;\n    this.textRise = 0;\n    // Default fore and background colors\n    this.fillColor = \"#000000\";\n    this.strokeColor = \"#000000\";\n    this.patternFill = false;\n    // Note: fill alpha applies to all non-stroking operations\n    this.fillAlpha = 1;\n    this.strokeAlpha = 1;\n    this.lineWidth = 1;\n    this.activeSMask = null;\n    this.transferMaps = null;\n\n    this.startNewPathAndClipBox([0, 0, width, height]);\n  }\n\n  clone() {\n    const clone = Object.create(this);\n    clone.clipBox = this.clipBox.slice();\n    return clone;\n  }\n\n  setCurrentPoint(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  updatePathMinMax(transform, x, y) {\n    [x, y] = Util.applyTransform([x, y], transform);\n    this.minX = Math.min(this.minX, x);\n    this.minY = Math.min(this.minY, y);\n    this.maxX = Math.max(this.maxX, x);\n    this.maxY = Math.max(this.maxY, y);\n  }\n\n  updateCurvePathMinMax(transform, x0, y0, x1, y1, x2, y2, x3, y3) {\n    const box = Util.bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3);\n    this.updatePathMinMax(transform, box[0], box[1]);\n    this.updatePathMinMax(transform, box[2], box[3]);\n  }\n\n  getPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    const box = [this.minX, this.minY, this.maxX, this.maxY];\n    if (pathType === PathType.STROKE) {\n      if (!transform) {\n        unreachable(\"Stroke bounding box must include transform.\");\n      }\n      // Stroked paths can be outside of the path bounding box by 1/2 the line\n      // width.\n      const scale = Util.singularValueDecompose2dScale(transform);\n      const xStrokePad = (scale[0] * this.lineWidth) / 2;\n      const yStrokePad = (scale[1] * this.lineWidth) / 2;\n      box[0] -= xStrokePad;\n      box[1] -= yStrokePad;\n      box[2] += xStrokePad;\n      box[3] += yStrokePad;\n    }\n    return box;\n  }\n\n  updateClipFromPath() {\n    const intersect = Util.intersect(this.clipBox, this.getPathBoundingBox());\n    this.startNewPathAndClipBox(intersect || [0, 0, 0, 0]);\n  }\n\n  startNewPathAndClipBox(box) {\n    this.clipBox = box;\n    this.minX = Infinity;\n    this.minY = Infinity;\n    this.maxX = 0;\n    this.maxY = 0;\n  }\n\n  getClippedPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    return Util.intersect(\n      this.clipBox,\n      this.getPathBoundingBox(pathType, transform)\n    );\n  }\n}\n\nfunction putBinaryImageData(ctx, imgData, transferMaps = null) {\n  if (typeof ImageData !== \"undefined\" && imgData instanceof ImageData) {\n    ctx.putImageData(imgData, 0, 0);\n    return;\n  }\n\n  // Put the image data to the canvas in chunks, rather than putting the\n  // whole image at once.  This saves JS memory, because the ImageData object\n  // is smaller. It also possibly saves C++ memory within the implementation\n  // of putImageData(). (E.g. in Firefox we make two short-lived copies of\n  // the data passed to putImageData()). |n| shouldn't be too small, however,\n  // because too many putImageData() calls will slow things down.\n  //\n  // Note: as written, if the last chunk is partial, the putImageData() call\n  // will (conceptually) put pixels past the bounds of the canvas.  But\n  // that's ok; any such pixels are ignored.\n\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0,\n    destPos;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n  let i, j, thisChunkHeight, elemsInThisChunk;\n\n  let transferMapRed, transferMapGreen, transferMapBlue, transferMapGray;\n  if (transferMaps) {\n    switch (transferMaps.length) {\n      case 1:\n        transferMapRed = transferMaps[0];\n        transferMapGreen = transferMaps[0];\n        transferMapBlue = transferMaps[0];\n        transferMapGray = transferMaps[0];\n        break;\n      case 4:\n        transferMapRed = transferMaps[0];\n        transferMapGreen = transferMaps[1];\n        transferMapBlue = transferMaps[2];\n        transferMapGray = transferMaps[3];\n        break;\n    }\n  }\n\n  // There are multiple forms in which the pixel data can be passed, and\n  // imgData.kind tells us which one this is.\n  if (imgData.kind === ImageKind.GRAYSCALE_1BPP) {\n    // Grayscale, 1 bit per pixel (i.e. black-and-white).\n    const srcLength = src.byteLength;\n    const dest32 = new Uint32Array(dest.buffer, 0, dest.byteLength >> 2);\n    const dest32DataLength = dest32.length;\n    const fullSrcDiff = (width + 7) >> 3;\n    let white = 0xffffffff;\n    let black = IsLittleEndianCached.value ? 0xff000000 : 0x000000ff;\n\n    if (transferMapGray) {\n      if (transferMapGray[0] === 0xff && transferMapGray[0xff] === 0) {\n        [white, black] = [black, white];\n      }\n    }\n\n    for (i = 0; i < totalChunks; i++) {\n      thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n      destPos = 0;\n      for (j = 0; j < thisChunkHeight; j++) {\n        const srcDiff = srcLength - srcPos;\n        let k = 0;\n        const kEnd = srcDiff > fullSrcDiff ? width : srcDiff * 8 - 7;\n        const kEndUnrolled = kEnd & ~7;\n        let mask = 0;\n        let srcByte = 0;\n        for (; k < kEndUnrolled; k += 8) {\n          srcByte = src[srcPos++];\n          dest32[destPos++] = srcByte & 128 ? white : black;\n          dest32[destPos++] = srcByte & 64 ? white : black;\n          dest32[destPos++] = srcByte & 32 ? white : black;\n          dest32[destPos++] = srcByte & 16 ? white : black;\n          dest32[destPos++] = srcByte & 8 ? white : black;\n          dest32[destPos++] = srcByte & 4 ? white : black;\n          dest32[destPos++] = srcByte & 2 ? white : black;\n          dest32[destPos++] = srcByte & 1 ? white : black;\n        }\n        for (; k < kEnd; k++) {\n          if (mask === 0) {\n            srcByte = src[srcPos++];\n            mask = 128;\n          }\n\n          dest32[destPos++] = srcByte & mask ? white : black;\n          mask >>= 1;\n        }\n      }\n      // We ran out of input. Make all remaining pixels transparent.\n      while (destPos < dest32DataLength) {\n        dest32[destPos++] = 0;\n      }\n\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else if (imgData.kind === ImageKind.RGBA_32BPP) {\n    // RGBA, 32-bits per pixel.\n    const hasTransferMaps = !!(\n      transferMapRed ||\n      transferMapGreen ||\n      transferMapBlue\n    );\n\n    j = 0;\n    elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n    for (i = 0; i < fullChunks; i++) {\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n      srcPos += elemsInThisChunk;\n\n      if (hasTransferMaps) {\n        for (let k = 0; k < elemsInThisChunk; k += 4) {\n          if (transferMapRed) {\n            dest[k + 0] = transferMapRed[dest[k + 0]];\n          }\n          if (transferMapGreen) {\n            dest[k + 1] = transferMapGreen[dest[k + 1]];\n          }\n          if (transferMapBlue) {\n            dest[k + 2] = transferMapBlue[dest[k + 2]];\n          }\n        }\n      }\n\n      ctx.putImageData(chunkImgData, 0, j);\n      j += FULL_CHUNK_HEIGHT;\n    }\n    if (i < totalChunks) {\n      elemsInThisChunk = width * partialChunkHeight * 4;\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n\n      if (hasTransferMaps) {\n        for (let k = 0; k < elemsInThisChunk; k += 4) {\n          if (transferMapRed) {\n            dest[k + 0] = transferMapRed[dest[k + 0]];\n          }\n          if (transferMapGreen) {\n            dest[k + 1] = transferMapGreen[dest[k + 1]];\n          }\n          if (transferMapBlue) {\n            dest[k + 2] = transferMapBlue[dest[k + 2]];\n          }\n        }\n      }\n\n      ctx.putImageData(chunkImgData, 0, j);\n    }\n  } else if (imgData.kind === ImageKind.RGB_24BPP) {\n    // RGB, 24-bits per pixel.\n    const hasTransferMaps = !!(\n      transferMapRed ||\n      transferMapGreen ||\n      transferMapBlue\n    );\n\n    thisChunkHeight = FULL_CHUNK_HEIGHT;\n    elemsInThisChunk = width * thisChunkHeight;\n    for (i = 0; i < totalChunks; i++) {\n      if (i >= fullChunks) {\n        thisChunkHeight = partialChunkHeight;\n        elemsInThisChunk = width * thisChunkHeight;\n      }\n\n      destPos = 0;\n      for (j = elemsInThisChunk; j--; ) {\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = 255;\n      }\n\n      if (hasTransferMaps) {\n        for (let k = 0; k < destPos; k += 4) {\n          if (transferMapRed) {\n            dest[k + 0] = transferMapRed[dest[k + 0]];\n          }\n          if (transferMapGreen) {\n            dest[k + 1] = transferMapGreen[dest[k + 1]];\n          }\n          if (transferMapBlue) {\n            dest[k + 2] = transferMapBlue[dest[k + 2]];\n          }\n        }\n      }\n\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else {\n    throw new Error(`bad image kind: ${imgData.kind}`);\n  }\n}\n\nfunction putBinaryImageMask(ctx, imgData) {\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n\n  for (let i = 0; i < totalChunks; i++) {\n    const thisChunkHeight =\n      i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n\n    // Expand the mask so it can be used by the canvas.  Any required\n    // inversion has already been handled.\n    let destPos = 3; // alpha component offset\n    for (let j = 0; j < thisChunkHeight; j++) {\n      let elem,\n        mask = 0;\n      for (let k = 0; k < width; k++) {\n        if (!mask) {\n          elem = src[srcPos++];\n          mask = 128;\n        }\n        dest[destPos] = elem & mask ? 0 : 255;\n        destPos += 4;\n        mask >>= 1;\n      }\n    }\n    ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n  }\n}\n\nfunction copyCtxState(sourceCtx, destCtx) {\n  const properties = [\n    \"strokeStyle\",\n    \"fillStyle\",\n    \"fillRule\",\n    \"globalAlpha\",\n    \"lineWidth\",\n    \"lineCap\",\n    \"lineJoin\",\n    \"miterLimit\",\n    \"globalCompositeOperation\",\n    \"font\",\n  ];\n  for (let i = 0, ii = properties.length; i < ii; i++) {\n    const property = properties[i];\n    if (sourceCtx[property] !== undefined) {\n      destCtx[property] = sourceCtx[property];\n    }\n  }\n  if (sourceCtx.setLineDash !== undefined) {\n    destCtx.setLineDash(sourceCtx.getLineDash());\n    destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n  }\n}\n\nfunction resetCtxToDefault(ctx) {\n  ctx.strokeStyle = \"#000000\";\n  ctx.fillStyle = \"#000000\";\n  ctx.fillRule = \"nonzero\";\n  ctx.globalAlpha = 1;\n  ctx.lineWidth = 1;\n  ctx.lineCap = \"butt\";\n  ctx.lineJoin = \"miter\";\n  ctx.miterLimit = 10;\n  ctx.globalCompositeOperation = \"source-over\";\n  ctx.font = \"10px sans-serif\";\n  if (ctx.setLineDash !== undefined) {\n    ctx.setLineDash([]);\n    ctx.lineDashOffset = 0;\n  }\n}\n\nfunction composeSMaskBackdrop(bytes, r0, g0, b0) {\n  const length = bytes.length;\n  for (let i = 3; i < length; i += 4) {\n    const alpha = bytes[i];\n    if (alpha === 0) {\n      bytes[i - 3] = r0;\n      bytes[i - 2] = g0;\n      bytes[i - 1] = b0;\n    } else if (alpha < 255) {\n      const alpha_ = 255 - alpha;\n      bytes[i - 3] = (bytes[i - 3] * alpha + r0 * alpha_) >> 8;\n      bytes[i - 2] = (bytes[i - 2] * alpha + g0 * alpha_) >> 8;\n      bytes[i - 1] = (bytes[i - 1] * alpha + b0 * alpha_) >> 8;\n    }\n  }\n}\n\nfunction composeSMaskAlpha(maskData, layerData, transferMap) {\n  const length = maskData.length;\n  const scale = 1 / 255;\n  for (let i = 3; i < length; i += 4) {\n    const alpha = transferMap ? transferMap[maskData[i]] : maskData[i];\n    layerData[i] = (layerData[i] * alpha * scale) | 0;\n  }\n}\n\nfunction composeSMaskLuminosity(maskData, layerData, transferMap) {\n  const length = maskData.length;\n  for (let i = 3; i < length; i += 4) {\n    const y =\n      maskData[i - 3] * 77 + // * 0.3 / 255 * 0x10000\n      maskData[i - 2] * 152 + // * 0.59 ....\n      maskData[i - 1] * 28; // * 0.11 ....\n    layerData[i] = transferMap\n      ? (layerData[i] * transferMap[y >> 8]) >> 8\n      : (layerData[i] * y) >> 16;\n  }\n}\n\nfunction genericComposeSMask(\n  maskCtx,\n  layerCtx,\n  width,\n  height,\n  subtype,\n  backdrop,\n  transferMap,\n  layerOffsetX,\n  layerOffsetY,\n  maskOffsetX,\n  maskOffsetY\n) {\n  const hasBackdrop = !!backdrop;\n  const r0 = hasBackdrop ? backdrop[0] : 0;\n  const g0 = hasBackdrop ? backdrop[1] : 0;\n  const b0 = hasBackdrop ? backdrop[2] : 0;\n\n  let composeFn;\n  if (subtype === \"Luminosity\") {\n    composeFn = composeSMaskLuminosity;\n  } else {\n    composeFn = composeSMaskAlpha;\n  }\n\n  // processing image in chunks to save memory\n  const PIXELS_TO_PROCESS = 1048576;\n  const chunkSize = Math.min(height, Math.ceil(PIXELS_TO_PROCESS / width));\n  for (let row = 0; row < height; row += chunkSize) {\n    const chunkHeight = Math.min(chunkSize, height - row);\n    const maskData = maskCtx.getImageData(\n      layerOffsetX - maskOffsetX,\n      row + (layerOffsetY - maskOffsetY),\n      width,\n      chunkHeight\n    );\n    const layerData = layerCtx.getImageData(\n      layerOffsetX,\n      row + layerOffsetY,\n      width,\n      chunkHeight\n    );\n\n    if (hasBackdrop) {\n      composeSMaskBackdrop(maskData.data, r0, g0, b0);\n    }\n    composeFn(maskData.data, layerData.data, transferMap);\n\n    layerCtx.putImageData(layerData, layerOffsetX, row + layerOffsetY);\n  }\n}\n\nfunction composeSMask(ctx, smask, layerCtx, layerBox) {\n  const layerOffsetX = layerBox[0];\n  const layerOffsetY = layerBox[1];\n  const layerWidth = layerBox[2] - layerOffsetX;\n  const layerHeight = layerBox[3] - layerOffsetY;\n  if (layerWidth === 0 || layerHeight === 0) {\n    return;\n  }\n  genericComposeSMask(\n    smask.context,\n    layerCtx,\n    layerWidth,\n    layerHeight,\n    smask.subtype,\n    smask.backdrop,\n    smask.transferMap,\n    layerOffsetX,\n    layerOffsetY,\n    smask.offsetX,\n    smask.offsetY\n  );\n  ctx.save();\n  ctx.globalAlpha = 1;\n  ctx.globalCompositeOperation = \"source-over\";\n  ctx.setTransform(1, 0, 0, 1, 0, 0);\n  ctx.drawImage(layerCtx.canvas, 0, 0);\n  ctx.restore();\n}\n\nfunction getImageSmoothingEnabled(transform, interpolate) {\n  const scale = Util.singularValueDecompose2dScale(transform);\n  // Round to a 32bit float so that `<=` check below will pass for numbers that\n  // are very close, but not exactly the same 64bit floats.\n  scale[0] = Math.fround(scale[0]);\n  scale[1] = Math.fround(scale[1]);\n  const actualScale = Math.fround(\n    (globalThis.devicePixelRatio || 1) * PixelsPerInch.PDF_TO_CSS_UNITS\n  );\n  if (interpolate !== undefined) {\n    // If the value is explicitly set use it.\n    return interpolate;\n  } else if (scale[0] <= actualScale || scale[1] <= actualScale) {\n    // Smooth when downscaling.\n    return true;\n  }\n  // Don't smooth when upscaling.\n  return false;\n}\n\nconst LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\nconst LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\nconst NORMAL_CLIP = {};\nconst EO_CLIP = {};\n\nclass CanvasGraphics {\n  constructor(\n    canvasCtx,\n    commonObjs,\n    objs,\n    canvasFactory,\n    imageLayer,\n    optionalContentConfig,\n    annotationCanvasMap\n  ) {\n    this.ctx = canvasCtx;\n    this.current = new CanvasExtraState(\n      this.ctx.canvas.width,\n      this.ctx.canvas.height\n    );\n    this.stateStack = [];\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n    this.res = null;\n    this.xobjs = null;\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.canvasFactory = canvasFactory;\n    this.imageLayer = imageLayer;\n    this.groupStack = [];\n    this.processingType3 = null;\n    // Patterns are painted relative to the initial page/form transform, see\n    // PDF spec 8.7.2 NOTE 1.\n    this.baseTransform = null;\n    this.baseTransformStack = [];\n    this.groupLevel = 0;\n    this.smaskStack = [];\n    this.smaskCounter = 0;\n    this.tempSMask = null;\n    this.suspendedCtx = null;\n    this.contentVisible = true;\n    this.markedContentStack = [];\n    this.optionalContentConfig = optionalContentConfig;\n    this.cachedCanvases = new CachedCanvases(this.canvasFactory);\n    this.cachedPatterns = new Map();\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.viewportScale = 1;\n    this.outputScaleX = 1;\n    this.outputScaleY = 1;\n    if (canvasCtx) {\n      // NOTE: if mozCurrentTransform is polyfilled, then the current state of\n      // the transformation must already be set in canvasCtx._transformMatrix.\n      addContextCurrentTransform(canvasCtx);\n    }\n    this._cachedGetSinglePixelWidth = null;\n  }\n\n  beginDrawing({\n    transform,\n    viewport,\n    transparency = false,\n    background = null,\n  }) {\n    // For pdfs that use blend modes we have to clear the canvas else certain\n    // blend modes can look wrong since we'd be blending with a white\n    // backdrop. The problem with a transparent backdrop though is we then\n    // don't get sub pixel anti aliasing on text, creating temporary\n    // transparent canvas when we have blend modes.\n    const width = this.ctx.canvas.width;\n    const height = this.ctx.canvas.height;\n\n    this.ctx.save();\n    this.ctx.fillStyle = background || \"rgb(255, 255, 255)\";\n    this.ctx.fillRect(0, 0, width, height);\n    this.ctx.restore();\n\n    if (transparency) {\n      const transparentCanvas = this.cachedCanvases.getCanvas(\n        \"transparent\",\n        width,\n        height,\n        true\n      );\n      this.compositeCtx = this.ctx;\n      this.transparentCanvas = transparentCanvas.canvas;\n      this.ctx = transparentCanvas.context;\n      this.ctx.save();\n      // The transform can be applied before rendering, transferring it to\n      // the new canvas.\n      this.ctx.transform.apply(this.ctx, this.compositeCtx.mozCurrentTransform);\n    }\n\n    this.ctx.save();\n    resetCtxToDefault(this.ctx);\n    if (transform) {\n      this.ctx.transform.apply(this.ctx, transform);\n      this.outputScaleX = transform[0];\n      this.outputScaleY = transform[0];\n    }\n    this.ctx.transform.apply(this.ctx, viewport.transform);\n    this.viewportScale = viewport.scale;\n\n    this.baseTransform = this.ctx.mozCurrentTransform.slice();\n    this._combinedScaleFactor = Math.hypot(\n      this.baseTransform[0],\n      this.baseTransform[2]\n    );\n\n    if (this.imageLayer) {\n      this.imageLayer.beginLayout();\n    }\n  }\n\n  executeOperatorList(\n    operatorList,\n    executionStartIdx,\n    continueCallback,\n    stepper\n  ) {\n    const argsArray = operatorList.argsArray;\n    const fnArray = operatorList.fnArray;\n    let i = executionStartIdx || 0;\n    const argsArrayLen = argsArray.length;\n\n    // Sometimes the OperatorList to execute is empty.\n    if (argsArrayLen === i) {\n      return i;\n    }\n\n    const chunkOperations =\n      argsArrayLen - i > EXECUTION_STEPS &&\n      typeof continueCallback === \"function\";\n    const endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n    let steps = 0;\n\n    const commonObjs = this.commonObjs;\n    const objs = this.objs;\n    let fnId;\n\n    while (true) {\n      if (stepper !== undefined && i === stepper.nextBreakPoint) {\n        stepper.breakIt(i, continueCallback);\n        return i;\n      }\n\n      fnId = fnArray[i];\n\n      if (fnId !== OPS.dependency) {\n        this[fnId].apply(this, argsArray[i]);\n      } else {\n        for (const depObjId of argsArray[i]) {\n          const objsPool = depObjId.startsWith(\"g_\") ? commonObjs : objs;\n\n          // If the promise isn't resolved yet, add the continueCallback\n          // to the promise and bail out.\n          if (!objsPool.has(depObjId)) {\n            objsPool.get(depObjId, continueCallback);\n            return i;\n          }\n        }\n      }\n\n      i++;\n\n      // If the entire operatorList was executed, stop as were done.\n      if (i === argsArrayLen) {\n        return i;\n      }\n\n      // If the execution took longer then a certain amount of time and\n      // `continueCallback` is specified, interrupt the execution.\n      if (chunkOperations && ++steps > EXECUTION_STEPS) {\n        if (Date.now() > endTime) {\n          continueCallback();\n          return i;\n        }\n        steps = 0;\n      }\n\n      // If the operatorList isn't executed completely yet OR the execution\n      // time was short enough, do another execution round.\n    }\n  }\n\n  endDrawing() {\n    // Finishing all opened operations such as SMask group painting.\n    while (this.stateStack.length || this.current.activeSMask !== null) {\n      this.restore();\n    }\n\n    this.ctx.restore();\n\n    if (this.transparentCanvas) {\n      this.ctx = this.compositeCtx;\n      this.ctx.save();\n      this.ctx.setTransform(1, 0, 0, 1, 0, 0); // Avoid apply transform twice\n      this.ctx.drawImage(this.transparentCanvas, 0, 0);\n      this.ctx.restore();\n      this.transparentCanvas = null;\n    }\n\n    this.cachedCanvases.clear();\n    this.cachedPatterns.clear();\n\n    if (this.imageLayer) {\n      this.imageLayer.endLayout();\n    }\n  }\n\n  _scaleImage(img, inverseTransform) {\n    // Vertical or horizontal scaling shall not be more than 2 to not lose the\n    // pixels during drawImage operation, painting on the temporary canvas(es)\n    // that are twice smaller in size.\n    const width = img.width;\n    const height = img.height;\n    let widthScale = Math.max(\n      Math.hypot(inverseTransform[0], inverseTransform[1]),\n      1\n    );\n    let heightScale = Math.max(\n      Math.hypot(inverseTransform[2], inverseTransform[3]),\n      1\n    );\n\n    let paintWidth = width,\n      paintHeight = height;\n    let tmpCanvasId = \"prescale1\";\n    let tmpCanvas, tmpCtx;\n    while (\n      (widthScale > 2 && paintWidth > 1) ||\n      (heightScale > 2 && paintHeight > 1)\n    ) {\n      let newWidth = paintWidth,\n        newHeight = paintHeight;\n      if (widthScale > 2 && paintWidth > 1) {\n        newWidth = Math.ceil(paintWidth / 2);\n        widthScale /= paintWidth / newWidth;\n      }\n      if (heightScale > 2 && paintHeight > 1) {\n        newHeight = Math.ceil(paintHeight / 2);\n        heightScale /= paintHeight / newHeight;\n      }\n      tmpCanvas = this.cachedCanvases.getCanvas(\n        tmpCanvasId,\n        newWidth,\n        newHeight\n      );\n      tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, newWidth, newHeight);\n      tmpCtx.drawImage(\n        img,\n        0,\n        0,\n        paintWidth,\n        paintHeight,\n        0,\n        0,\n        newWidth,\n        newHeight\n      );\n      img = tmpCanvas.canvas;\n      paintWidth = newWidth;\n      paintHeight = newHeight;\n      tmpCanvasId = tmpCanvasId === \"prescale1\" ? \"prescale2\" : \"prescale1\";\n    }\n    return {\n      img,\n      paintWidth,\n      paintHeight,\n    };\n  }\n\n  _createMaskCanvas(img) {\n    const ctx = this.ctx;\n    const width = img.width,\n      height = img.height;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    const maskCanvas = this.cachedCanvases.getCanvas(\n      \"maskCanvas\",\n      width,\n      height\n    );\n    const maskCtx = maskCanvas.context;\n    putBinaryImageMask(maskCtx, img);\n\n    // Create the mask canvas at the size it will be drawn at and also set\n    // its transform to match the current transform so if there are any\n    // patterns applied they will be applied relative to the correct\n    // transform.\n    const objToCanvas = ctx.mozCurrentTransform;\n    let maskToCanvas = Util.transform(objToCanvas, [\n      1 / width,\n      0,\n      0,\n      -1 / height,\n      0,\n      0,\n    ]);\n    maskToCanvas = Util.transform(maskToCanvas, [1, 0, 0, 1, 0, -height]);\n    const cord1 = Util.applyTransform([0, 0], maskToCanvas);\n    const cord2 = Util.applyTransform([width, height], maskToCanvas);\n    const rect = Util.normalizeRect([cord1[0], cord1[1], cord2[0], cord2[1]]);\n    const drawnWidth = Math.ceil(rect[2] - rect[0]);\n    const drawnHeight = Math.ceil(rect[3] - rect[1]);\n    const fillCanvas = this.cachedCanvases.getCanvas(\n      \"fillCanvas\",\n      drawnWidth,\n      drawnHeight,\n      true\n    );\n    const fillCtx = fillCanvas.context;\n    // The offset will be the top-left cordinate mask.\n    const offsetX = Math.min(cord1[0], cord2[0]);\n    const offsetY = Math.min(cord1[1], cord2[1]);\n    fillCtx.translate(-offsetX, -offsetY);\n    fillCtx.transform.apply(fillCtx, maskToCanvas);\n    // Pre-scale if needed to improve image smoothing.\n    const scaled = this._scaleImage(\n      maskCanvas.canvas,\n      fillCtx.mozCurrentTransformInverse\n    );\n    fillCtx.imageSmoothingEnabled = getImageSmoothingEnabled(\n      fillCtx.mozCurrentTransform,\n      img.interpolate\n    );\n    fillCtx.drawImage(\n      scaled.img,\n      0,\n      0,\n      scaled.img.width,\n      scaled.img.height,\n      0,\n      0,\n      width,\n      height\n    );\n    fillCtx.globalCompositeOperation = \"source-in\";\n\n    const inverse = Util.transform(fillCtx.mozCurrentTransformInverse, [\n      1,\n      0,\n      0,\n      1,\n      -offsetX,\n      -offsetY,\n    ]);\n    fillCtx.fillStyle = isPatternFill\n      ? fillColor.getPattern(ctx, this, inverse, PathType.FILL)\n      : fillColor;\n\n    fillCtx.fillRect(0, 0, width, height);\n\n    // Round the offsets to avoid drawing fractional pixels.\n    return {\n      canvas: fillCanvas.canvas,\n      offsetX: Math.round(offsetX),\n      offsetY: Math.round(offsetY),\n    };\n  }\n\n  // Graphics state\n  setLineWidth(width) {\n    this.current.lineWidth = width;\n    this.ctx.lineWidth = width;\n  }\n\n  setLineCap(style) {\n    this.ctx.lineCap = LINE_CAP_STYLES[style];\n  }\n\n  setLineJoin(style) {\n    this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n  }\n\n  setMiterLimit(limit) {\n    this.ctx.miterLimit = limit;\n  }\n\n  setDash(dashArray, dashPhase) {\n    const ctx = this.ctx;\n    if (ctx.setLineDash !== undefined) {\n      ctx.setLineDash(dashArray);\n      ctx.lineDashOffset = dashPhase;\n    }\n  }\n\n  setRenderingIntent(intent) {\n    // This operation is ignored since we haven't found a use case for it yet.\n  }\n\n  setFlatness(flatness) {\n    // This operation is ignored since we haven't found a use case for it yet.\n  }\n\n  setGState(states) {\n    for (let i = 0, ii = states.length; i < ii; i++) {\n      const state = states[i];\n      const key = state[0];\n      const value = state[1];\n\n      switch (key) {\n        case \"LW\":\n          this.setLineWidth(value);\n          break;\n        case \"LC\":\n          this.setLineCap(value);\n          break;\n        case \"LJ\":\n          this.setLineJoin(value);\n          break;\n        case \"ML\":\n          this.setMiterLimit(value);\n          break;\n        case \"D\":\n          this.setDash(value[0], value[1]);\n          break;\n        case \"RI\":\n          this.setRenderingIntent(value);\n          break;\n        case \"FL\":\n          this.setFlatness(value);\n          break;\n        case \"Font\":\n          this.setFont(value[0], value[1]);\n          break;\n        case \"CA\":\n          this.current.strokeAlpha = state[1];\n          break;\n        case \"ca\":\n          this.current.fillAlpha = state[1];\n          this.ctx.globalAlpha = state[1];\n          break;\n        case \"BM\":\n          this.ctx.globalCompositeOperation = value;\n          break;\n        case \"SMask\":\n          this.current.activeSMask = value ? this.tempSMask : null;\n          this.tempSMask = null;\n          this.checkSMaskState();\n          break;\n        case \"TR\":\n          this.current.transferMaps = value;\n      }\n    }\n  }\n\n  checkSMaskState() {\n    const inSMaskMode = !!this.suspendedCtx;\n    if (this.current.activeSMask && !inSMaskMode) {\n      this.beginSMaskMode();\n    } else if (!this.current.activeSMask && inSMaskMode) {\n      this.endSMaskMode();\n    }\n    // Else, the state is okay and nothing needs to be done.\n  }\n\n  /**\n   * Soft mask mode takes the current main drawing canvas and replaces it with\n   * a temporary canvas. Any drawing operations that happen on the temporary\n   * canvas need to be composed with the main canvas that was suspended (see\n   * `compose()`). The temporary canvas also duplicates many of its operations\n   * on the suspended canvas to keep them in sync, so that when the soft mask\n   * mode ends any clipping paths or transformations will still be active and in\n   * the right order on the canvas' graphics state stack.\n   */\n  beginSMaskMode() {\n    if (this.suspendedCtx) {\n      throw new Error(\"beginSMaskMode called while already in smask mode\");\n    }\n    const drawnWidth = this.ctx.canvas.width;\n    const drawnHeight = this.ctx.canvas.height;\n    const cacheId = \"smaskGroupAt\" + this.groupLevel;\n    const scratchCanvas = this.cachedCanvases.getCanvas(\n      cacheId,\n      drawnWidth,\n      drawnHeight,\n      true\n    );\n    this.suspendedCtx = this.ctx;\n    this.ctx = scratchCanvas.context;\n    const ctx = this.ctx;\n    ctx.setTransform.apply(ctx, this.suspendedCtx.mozCurrentTransform);\n    copyCtxState(this.suspendedCtx, ctx);\n    mirrorContextOperations(ctx, this.suspendedCtx);\n\n    this.setGState([\n      [\"BM\", \"source-over\"],\n      [\"ca\", 1],\n      [\"CA\", 1],\n    ]);\n  }\n\n  endSMaskMode() {\n    if (!this.suspendedCtx) {\n      throw new Error(\"endSMaskMode called while not in smask mode\");\n    }\n    // The soft mask is done, now restore the suspended canvas as the main\n    // drawing canvas.\n    this.ctx._removeMirroring();\n    copyCtxState(this.ctx, this.suspendedCtx);\n    this.ctx = this.suspendedCtx;\n\n    this.current.activeSMask = null;\n    this.suspendedCtx = null;\n  }\n\n  compose(dirtyBox) {\n    if (!this.current.activeSMask) {\n      return;\n    }\n\n    if (!dirtyBox) {\n      dirtyBox = [0, 0, this.ctx.canvas.width, this.ctx.canvas.height];\n    } else {\n      dirtyBox[0] = Math.floor(dirtyBox[0]);\n      dirtyBox[1] = Math.floor(dirtyBox[1]);\n      dirtyBox[2] = Math.ceil(dirtyBox[2]);\n      dirtyBox[3] = Math.ceil(dirtyBox[3]);\n    }\n    const smask = this.current.activeSMask;\n    const suspendedCtx = this.suspendedCtx;\n\n    composeSMask(suspendedCtx, smask, this.ctx, dirtyBox);\n    // Whatever was drawn has been moved to the suspended canvas, now clear it\n    // out of the current canvas.\n    this.ctx.save();\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n    this.ctx.restore();\n  }\n\n  save() {\n    this.ctx.save();\n    const old = this.current;\n    this.stateStack.push(old);\n    this.current = old.clone();\n  }\n\n  restore() {\n    if (this.stateStack.length === 0 && this.current.activeSMask) {\n      this.endSMaskMode();\n    }\n\n    if (this.stateStack.length !== 0) {\n      this.current = this.stateStack.pop();\n      this.ctx.restore();\n      this.checkSMaskState();\n\n      // Ensure that the clipping path is reset (fixes issue6413.pdf).\n      this.pendingClip = null;\n\n      this._cachedGetSinglePixelWidth = null;\n    }\n  }\n\n  transform(a, b, c, d, e, f) {\n    this.ctx.transform(a, b, c, d, e, f);\n\n    this._cachedGetSinglePixelWidth = null;\n  }\n\n  // Path\n  constructPath(ops, args) {\n    const ctx = this.ctx;\n    const current = this.current;\n    let x = current.x,\n      y = current.y;\n    let startX, startY;\n    for (let i = 0, j = 0, ii = ops.length; i < ii; i++) {\n      switch (ops[i] | 0) {\n        case OPS.rectangle:\n          x = args[j++];\n          y = args[j++];\n          const width = args[j++];\n          const height = args[j++];\n\n          const xw = x + width;\n          const yh = y + height;\n          ctx.moveTo(x, y);\n          if (width === 0 || height === 0) {\n            ctx.lineTo(xw, yh);\n          } else {\n            ctx.lineTo(xw, y);\n            ctx.lineTo(xw, yh);\n            ctx.lineTo(x, yh);\n          }\n          current.updatePathMinMax(ctx.mozCurrentTransform, x, y);\n          current.updatePathMinMax(ctx.mozCurrentTransform, xw, yh);\n          ctx.closePath();\n          break;\n        case OPS.moveTo:\n          x = args[j++];\n          y = args[j++];\n          ctx.moveTo(x, y);\n          current.updatePathMinMax(ctx.mozCurrentTransform, x, y);\n          break;\n        case OPS.lineTo:\n          x = args[j++];\n          y = args[j++];\n          ctx.lineTo(x, y);\n          current.updatePathMinMax(ctx.mozCurrentTransform, x, y);\n          break;\n        case OPS.curveTo:\n          startX = x;\n          startY = y;\n          x = args[j + 4];\n          y = args[j + 5];\n          ctx.bezierCurveTo(\n            args[j],\n            args[j + 1],\n            args[j + 2],\n            args[j + 3],\n            x,\n            y\n          );\n          current.updateCurvePathMinMax(\n            ctx.mozCurrentTransform,\n            startX,\n            startY,\n            args[j],\n            args[j + 1],\n            args[j + 2],\n            args[j + 3],\n            x,\n            y\n          );\n          j += 6;\n          break;\n        case OPS.curveTo2:\n          startX = x;\n          startY = y;\n          ctx.bezierCurveTo(\n            x,\n            y,\n            args[j],\n            args[j + 1],\n            args[j + 2],\n            args[j + 3]\n          );\n          current.updateCurvePathMinMax(\n            ctx.mozCurrentTransform,\n            startX,\n            startY,\n            x,\n            y,\n            args[j],\n            args[j + 1],\n            args[j + 2],\n            args[j + 3]\n          );\n          x = args[j + 2];\n          y = args[j + 3];\n          j += 4;\n          break;\n        case OPS.curveTo3:\n          startX = x;\n          startY = y;\n          x = args[j + 2];\n          y = args[j + 3];\n          ctx.bezierCurveTo(args[j], args[j + 1], x, y, x, y);\n          current.updateCurvePathMinMax(\n            ctx.mozCurrentTransform,\n            startX,\n            startY,\n            args[j],\n            args[j + 1],\n            x,\n            y,\n            x,\n            y\n          );\n          j += 4;\n          break;\n        case OPS.closePath:\n          ctx.closePath();\n          break;\n      }\n    }\n    current.setCurrentPoint(x, y);\n  }\n\n  closePath() {\n    this.ctx.closePath();\n  }\n\n  stroke(consumePath) {\n    consumePath = typeof consumePath !== \"undefined\" ? consumePath : true;\n    const ctx = this.ctx;\n    const strokeColor = this.current.strokeColor;\n    // For stroke we want to temporarily change the global alpha to the\n    // stroking alpha.\n    ctx.globalAlpha = this.current.strokeAlpha;\n    if (this.contentVisible) {\n      if (typeof strokeColor === \"object\" && strokeColor?.getPattern) {\n        const lineWidth = this.getSinglePixelWidth();\n        ctx.save();\n        ctx.strokeStyle = strokeColor.getPattern(\n          ctx,\n          this,\n          ctx.mozCurrentTransformInverse,\n          PathType.STROKE\n        );\n        // Prevent drawing too thin lines by enforcing a minimum line width.\n        ctx.lineWidth = Math.max(lineWidth, this.current.lineWidth);\n        ctx.stroke();\n        ctx.restore();\n      } else {\n        const lineWidth = this.getSinglePixelWidth();\n        if (lineWidth < 0 && -lineWidth >= this.current.lineWidth) {\n          // The current transform will transform a square pixel into a\n          // parallelogram where both heights are lower than 1 and not equal.\n          ctx.save();\n          ctx.resetTransform();\n          ctx.lineWidth = Math.round(this._combinedScaleFactor);\n          ctx.stroke();\n          ctx.restore();\n        } else {\n          // Prevent drawing too thin lines by enforcing a minimum line width.\n          ctx.lineWidth = Math.max(lineWidth, this.current.lineWidth);\n          ctx.stroke();\n        }\n      }\n    }\n    if (consumePath) {\n      this.consumePath(this.current.getClippedPathBoundingBox());\n    }\n    // Restore the global alpha to the fill alpha\n    ctx.globalAlpha = this.current.fillAlpha;\n  }\n\n  closeStroke() {\n    this.closePath();\n    this.stroke();\n  }\n\n  fill(consumePath) {\n    consumePath = typeof consumePath !== \"undefined\" ? consumePath : true;\n    const ctx = this.ctx;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    let needRestore = false;\n\n    if (isPatternFill) {\n      ctx.save();\n      ctx.fillStyle = fillColor.getPattern(\n        ctx,\n        this,\n        ctx.mozCurrentTransformInverse,\n        PathType.FILL\n      );\n      needRestore = true;\n    }\n\n    const intersect = this.current.getClippedPathBoundingBox();\n    if (this.contentVisible && intersect !== null) {\n      if (this.pendingEOFill) {\n        ctx.fill(\"evenodd\");\n        this.pendingEOFill = false;\n      } else {\n        ctx.fill();\n      }\n    }\n\n    if (needRestore) {\n      ctx.restore();\n    }\n    if (consumePath) {\n      this.consumePath(intersect);\n    }\n  }\n\n  eoFill() {\n    this.pendingEOFill = true;\n    this.fill();\n  }\n\n  fillStroke() {\n    this.fill(false);\n    this.stroke(false);\n\n    this.consumePath();\n  }\n\n  eoFillStroke() {\n    this.pendingEOFill = true;\n    this.fillStroke();\n  }\n\n  closeFillStroke() {\n    this.closePath();\n    this.fillStroke();\n  }\n\n  closeEOFillStroke() {\n    this.pendingEOFill = true;\n    this.closePath();\n    this.fillStroke();\n  }\n\n  endPath() {\n    this.consumePath();\n  }\n\n  // Clipping\n  clip() {\n    this.pendingClip = NORMAL_CLIP;\n  }\n\n  eoClip() {\n    this.pendingClip = EO_CLIP;\n  }\n\n  // Text\n  beginText() {\n    this.current.textMatrix = IDENTITY_MATRIX;\n    this.current.textMatrixScale = 1;\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n  }\n\n  endText() {\n    const paths = this.pendingTextPaths;\n    const ctx = this.ctx;\n    if (paths === undefined) {\n      ctx.beginPath();\n      return;\n    }\n\n    ctx.save();\n    ctx.beginPath();\n    for (let i = 0; i < paths.length; i++) {\n      const path = paths[i];\n      ctx.setTransform.apply(ctx, path.transform);\n      ctx.translate(path.x, path.y);\n      path.addToPath(ctx, path.fontSize);\n    }\n    ctx.restore();\n    ctx.clip();\n    ctx.beginPath();\n    delete this.pendingTextPaths;\n  }\n\n  setCharSpacing(spacing) {\n    this.current.charSpacing = spacing;\n  }\n\n  setWordSpacing(spacing) {\n    this.current.wordSpacing = spacing;\n  }\n\n  setHScale(scale) {\n    this.current.textHScale = scale / 100;\n  }\n\n  setLeading(leading) {\n    this.current.leading = -leading;\n  }\n\n  setFont(fontRefName, size) {\n    const fontObj = this.commonObjs.get(fontRefName);\n    const current = this.current;\n\n    if (!fontObj) {\n      throw new Error(`Can't find font for ${fontRefName}`);\n    }\n    current.fontMatrix = fontObj.fontMatrix || FONT_IDENTITY_MATRIX;\n\n    // A valid matrix needs all main diagonal elements to be non-zero\n    // This also ensures we bypass FF bugzilla bug #719844.\n    if (current.fontMatrix[0] === 0 || current.fontMatrix[3] === 0) {\n      warn(\"Invalid font matrix for font \" + fontRefName);\n    }\n\n    // The spec for Tf (setFont) says that 'size' specifies the font 'scale',\n    // and in some docs this can be negative (inverted x-y axes).\n    if (size < 0) {\n      size = -size;\n      current.fontDirection = -1;\n    } else {\n      current.fontDirection = 1;\n    }\n\n    this.current.font = fontObj;\n    this.current.fontSize = size;\n\n    if (fontObj.isType3Font) {\n      return; // we don't need ctx.font for Type3 fonts\n    }\n\n    const name = fontObj.loadedName || \"sans-serif\";\n\n    let bold = \"normal\";\n    if (fontObj.black) {\n      bold = \"900\";\n    } else if (fontObj.bold) {\n      bold = \"bold\";\n    }\n    const italic = fontObj.italic ? \"italic\" : \"normal\";\n    const typeface = `\"${name}\", ${fontObj.fallbackName}`;\n\n    // Some font backends cannot handle fonts below certain size.\n    // Keeping the font at minimal size and using the fontSizeScale to change\n    // the current transformation matrix before the fillText/strokeText.\n    // See https://bugzilla.mozilla.org/show_bug.cgi?id=726227\n    let browserFontSize = size;\n    if (size < MIN_FONT_SIZE) {\n      browserFontSize = MIN_FONT_SIZE;\n    } else if (size > MAX_FONT_SIZE) {\n      browserFontSize = MAX_FONT_SIZE;\n    }\n    this.current.fontSizeScale = size / browserFontSize;\n\n    this.ctx.font = `${italic} ${bold} ${browserFontSize}px ${typeface}`;\n  }\n\n  setTextRenderingMode(mode) {\n    this.current.textRenderingMode = mode;\n  }\n\n  setTextRise(rise) {\n    this.current.textRise = rise;\n  }\n\n  moveText(x, y) {\n    this.current.x = this.current.lineX += x;\n    this.current.y = this.current.lineY += y;\n  }\n\n  setLeadingMoveText(x, y) {\n    this.setLeading(-y);\n    this.moveText(x, y);\n  }\n\n  setTextMatrix(a, b, c, d, e, f) {\n    this.current.textMatrix = [a, b, c, d, e, f];\n    this.current.textMatrixScale = Math.hypot(a, b);\n\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n  }\n\n  nextLine() {\n    this.moveText(0, this.current.leading);\n  }\n\n  paintChar(character, x, y, patternTransform, resetLineWidthToOne) {\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const textRenderingMode = current.textRenderingMode;\n    const fontSize = current.fontSize / current.fontSizeScale;\n    const fillStrokeMode =\n      textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n    const isAddToPathSet = !!(\n      textRenderingMode & TextRenderingMode.ADD_TO_PATH_FLAG\n    );\n    const patternFill = current.patternFill && !font.missingFile;\n\n    let addToPath;\n    if (font.disableFontFace || isAddToPathSet || patternFill) {\n      addToPath = font.getPathGenerator(this.commonObjs, character);\n    }\n\n    if (font.disableFontFace || patternFill) {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.beginPath();\n      addToPath(ctx, fontSize);\n      if (patternTransform) {\n        ctx.setTransform.apply(ctx, patternTransform);\n      }\n      if (\n        fillStrokeMode === TextRenderingMode.FILL ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        ctx.fill();\n      }\n      if (\n        fillStrokeMode === TextRenderingMode.STROKE ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        if (resetLineWidthToOne) {\n          ctx.resetTransform();\n          ctx.lineWidth = Math.round(this._combinedScaleFactor);\n        }\n        ctx.stroke();\n      }\n      ctx.restore();\n    } else {\n      if (\n        fillStrokeMode === TextRenderingMode.FILL ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        ctx.fillText(character, x, y);\n      }\n      if (\n        fillStrokeMode === TextRenderingMode.STROKE ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        if (resetLineWidthToOne) {\n          ctx.save();\n          ctx.moveTo(x, y);\n          ctx.resetTransform();\n          ctx.lineWidth = Math.round(this._combinedScaleFactor);\n          ctx.strokeText(character, 0, 0);\n          ctx.restore();\n        } else {\n          ctx.strokeText(character, x, y);\n        }\n      }\n    }\n\n    if (isAddToPathSet) {\n      const paths = this.pendingTextPaths || (this.pendingTextPaths = []);\n      paths.push({\n        transform: ctx.mozCurrentTransform,\n        x,\n        y,\n        fontSize,\n        addToPath,\n      });\n    }\n  }\n\n  get isFontSubpixelAAEnabled() {\n    // Checks if anti-aliasing is enabled when scaled text is painted.\n    // On Windows GDI scaled fonts looks bad.\n    const { context: ctx } = this.cachedCanvases.getCanvas(\n      \"isFontSubpixelAAEnabled\",\n      10,\n      10\n    );\n    ctx.scale(1.5, 1);\n    ctx.fillText(\"I\", 0, 10);\n    const data = ctx.getImageData(0, 0, 10, 10).data;\n    let enabled = false;\n    for (let i = 3; i < data.length; i += 4) {\n      if (data[i] > 0 && data[i] < 255) {\n        enabled = true;\n        break;\n      }\n    }\n    return shadow(this, \"isFontSubpixelAAEnabled\", enabled);\n  }\n\n  showText(glyphs) {\n    const current = this.current;\n    const font = current.font;\n    if (font.isType3Font) {\n      return this.showType3Text(glyphs);\n    }\n\n    const fontSize = current.fontSize;\n    if (fontSize === 0) {\n      return undefined;\n    }\n\n    const ctx = this.ctx;\n    const fontSizeScale = current.fontSizeScale;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const fontDirection = current.fontDirection;\n    const textHScale = current.textHScale * fontDirection;\n    const glyphsLength = glyphs.length;\n    const vertical = font.vertical;\n    const spacingDir = vertical ? 1 : -1;\n    const defaultVMetrics = font.defaultVMetrics;\n    const widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n    const simpleFillText =\n      current.textRenderingMode === TextRenderingMode.FILL &&\n      !font.disableFontFace &&\n      !current.patternFill;\n\n    ctx.save();\n    ctx.transform.apply(ctx, current.textMatrix);\n    ctx.translate(current.x, current.y + current.textRise);\n\n    if (fontDirection > 0) {\n      ctx.scale(textHScale, -1);\n    } else {\n      ctx.scale(textHScale, 1);\n    }\n\n    let patternTransform;\n    if (current.patternFill) {\n      ctx.save();\n      const pattern = current.fillColor.getPattern(\n        ctx,\n        this,\n        ctx.mozCurrentTransformInverse,\n        PathType.FILL\n      );\n      patternTransform = ctx.mozCurrentTransform;\n      ctx.restore();\n      ctx.fillStyle = pattern;\n    }\n\n    let lineWidth = current.lineWidth;\n    let resetLineWidthToOne = false;\n    const scale = current.textMatrixScale;\n    if (scale === 0 || lineWidth === 0) {\n      const fillStrokeMode =\n        current.textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n      if (\n        fillStrokeMode === TextRenderingMode.STROKE ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        this._cachedGetSinglePixelWidth = null;\n        lineWidth = this.getSinglePixelWidth();\n        resetLineWidthToOne = lineWidth < 0;\n      }\n    } else {\n      lineWidth /= scale;\n    }\n\n    if (fontSizeScale !== 1.0) {\n      ctx.scale(fontSizeScale, fontSizeScale);\n      lineWidth /= fontSizeScale;\n    }\n\n    ctx.lineWidth = lineWidth;\n\n    let x = 0,\n      i;\n    for (i = 0; i < glyphsLength; ++i) {\n      const glyph = glyphs[i];\n      if (isNum(glyph)) {\n        x += (spacingDir * glyph * fontSize) / 1000;\n        continue;\n      }\n\n      let restoreNeeded = false;\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const character = glyph.fontChar;\n      const accent = glyph.accent;\n      let scaledX, scaledY;\n      let width = glyph.width;\n      if (vertical) {\n        const vmetric = glyph.vmetric || defaultVMetrics;\n        const vx =\n          -(glyph.vmetric ? vmetric[1] : width * 0.5) * widthAdvanceScale;\n        const vy = vmetric[2] * widthAdvanceScale;\n\n        width = vmetric ? -vmetric[0] : width;\n        scaledX = vx / fontSizeScale;\n        scaledY = (x + vy) / fontSizeScale;\n      } else {\n        scaledX = x / fontSizeScale;\n        scaledY = 0;\n      }\n\n      if (font.remeasure && width > 0) {\n        // Some standard fonts may not have the exact width: rescale per\n        // character if measured width is greater than expected glyph width\n        // and subpixel-aa is enabled, otherwise just center the glyph.\n        const measuredWidth =\n          ((ctx.measureText(character).width * 1000) / fontSize) *\n          fontSizeScale;\n        if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n          const characterScaleX = width / measuredWidth;\n          restoreNeeded = true;\n          ctx.save();\n          ctx.scale(characterScaleX, 1);\n          scaledX /= characterScaleX;\n        } else if (width !== measuredWidth) {\n          scaledX +=\n            (((width - measuredWidth) / 2000) * fontSize) / fontSizeScale;\n        }\n      }\n\n      // Only attempt to draw the glyph if it is actually in the embedded font\n      // file or if there isn't a font file so the fallback font is shown.\n      if (this.contentVisible && (glyph.isInFont || font.missingFile)) {\n        if (simpleFillText && !accent) {\n          // common case\n          ctx.fillText(character, scaledX, scaledY);\n        } else {\n          this.paintChar(\n            character,\n            scaledX,\n            scaledY,\n            patternTransform,\n            resetLineWidthToOne\n          );\n          if (accent) {\n            const scaledAccentX =\n              scaledX + (fontSize * accent.offset.x) / fontSizeScale;\n            const scaledAccentY =\n              scaledY - (fontSize * accent.offset.y) / fontSizeScale;\n            this.paintChar(\n              accent.fontChar,\n              scaledAccentX,\n              scaledAccentY,\n              patternTransform,\n              resetLineWidthToOne\n            );\n          }\n        }\n      }\n\n      let charWidth;\n      if (vertical) {\n        charWidth = width * widthAdvanceScale - spacing * fontDirection;\n      } else {\n        charWidth = width * widthAdvanceScale + spacing * fontDirection;\n      }\n      x += charWidth;\n\n      if (restoreNeeded) {\n        ctx.restore();\n      }\n    }\n    if (vertical) {\n      current.y -= x;\n    } else {\n      current.x += x * textHScale;\n    }\n    ctx.restore();\n    this.compose();\n    return undefined;\n  }\n\n  showType3Text(glyphs) {\n    // Type3 fonts - each glyph is a \"mini-PDF\"\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const fontSize = current.fontSize;\n    const fontDirection = current.fontDirection;\n    const spacingDir = font.vertical ? 1 : -1;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const textHScale = current.textHScale * fontDirection;\n    const fontMatrix = current.fontMatrix || FONT_IDENTITY_MATRIX;\n    const glyphsLength = glyphs.length;\n    const isTextInvisible =\n      current.textRenderingMode === TextRenderingMode.INVISIBLE;\n    let i, glyph, width, spacingLength;\n\n    if (isTextInvisible || fontSize === 0) {\n      return;\n    }\n    this._cachedGetSinglePixelWidth = null;\n\n    ctx.save();\n    ctx.transform.apply(ctx, current.textMatrix);\n    ctx.translate(current.x, current.y);\n\n    ctx.scale(textHScale, fontDirection);\n\n    for (i = 0; i < glyphsLength; ++i) {\n      glyph = glyphs[i];\n      if (isNum(glyph)) {\n        spacingLength = (spacingDir * glyph * fontSize) / 1000;\n        this.ctx.translate(spacingLength, 0);\n        current.x += spacingLength * textHScale;\n        continue;\n      }\n\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const operatorList = font.charProcOperatorList[glyph.operatorListId];\n      if (!operatorList) {\n        warn(`Type3 character \"${glyph.operatorListId}\" is not available.`);\n        continue;\n      }\n      if (this.contentVisible) {\n        this.processingType3 = glyph;\n        this.save();\n        ctx.scale(fontSize, fontSize);\n        ctx.transform.apply(ctx, fontMatrix);\n        this.executeOperatorList(operatorList);\n        this.restore();\n      }\n\n      const transformed = Util.applyTransform([glyph.width, 0], fontMatrix);\n      width = transformed[0] * fontSize + spacing;\n\n      ctx.translate(width, 0);\n      current.x += width * textHScale;\n    }\n    ctx.restore();\n    this.processingType3 = null;\n  }\n\n  // Type3 fonts\n  setCharWidth(xWidth, yWidth) {\n    // We can safely ignore this since the width should be the same\n    // as the width in the Widths array.\n  }\n\n  setCharWidthAndBounds(xWidth, yWidth, llx, lly, urx, ury) {\n    // TODO According to the spec we're also suppose to ignore any operators\n    // that set color or include images while processing this type3 font.\n    this.ctx.rect(llx, lly, urx - llx, ury - lly);\n    this.clip();\n    this.endPath();\n  }\n\n  // Color\n  getColorN_Pattern(IR) {\n    let pattern;\n    if (IR[0] === \"TilingPattern\") {\n      const color = IR[1];\n      const baseTransform =\n        this.baseTransform || this.ctx.mozCurrentTransform.slice();\n      const canvasGraphicsFactory = {\n        createCanvasGraphics: ctx => {\n          return new CanvasGraphics(\n            ctx,\n            this.commonObjs,\n            this.objs,\n            this.canvasFactory\n          );\n        },\n      };\n      pattern = new TilingPattern(\n        IR,\n        color,\n        this.ctx,\n        canvasGraphicsFactory,\n        baseTransform\n      );\n    } else {\n      pattern = this._getPattern(IR[1], IR[2]);\n    }\n    return pattern;\n  }\n\n  setStrokeColorN() {\n    this.current.strokeColor = this.getColorN_Pattern(arguments);\n  }\n\n  setFillColorN() {\n    this.current.fillColor = this.getColorN_Pattern(arguments);\n    this.current.patternFill = true;\n  }\n\n  setStrokeRGBColor(r, g, b) {\n    const color = Util.makeHexColor(r, g, b);\n    this.ctx.strokeStyle = color;\n    this.current.strokeColor = color;\n  }\n\n  setFillRGBColor(r, g, b) {\n    const color = Util.makeHexColor(r, g, b);\n    this.ctx.fillStyle = color;\n    this.current.fillColor = color;\n    this.current.patternFill = false;\n  }\n\n  _getPattern(objId, matrix = null) {\n    let pattern;\n    if (this.cachedPatterns.has(objId)) {\n      pattern = this.cachedPatterns.get(objId);\n    } else {\n      pattern = getShadingPattern(this.objs.get(objId));\n      this.cachedPatterns.set(objId, pattern);\n    }\n    if (matrix) {\n      pattern.matrix = matrix;\n    }\n    return pattern;\n  }\n\n  shadingFill(objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n\n    this.save();\n    const pattern = this._getPattern(objId);\n    ctx.fillStyle = pattern.getPattern(\n      ctx,\n      this,\n      ctx.mozCurrentTransformInverse,\n      PathType.SHADING\n    );\n\n    const inv = ctx.mozCurrentTransformInverse;\n    if (inv) {\n      const canvas = ctx.canvas;\n      const width = canvas.width;\n      const height = canvas.height;\n\n      const bl = Util.applyTransform([0, 0], inv);\n      const br = Util.applyTransform([0, height], inv);\n      const ul = Util.applyTransform([width, 0], inv);\n      const ur = Util.applyTransform([width, height], inv);\n\n      const x0 = Math.min(bl[0], br[0], ul[0], ur[0]);\n      const y0 = Math.min(bl[1], br[1], ul[1], ur[1]);\n      const x1 = Math.max(bl[0], br[0], ul[0], ur[0]);\n      const y1 = Math.max(bl[1], br[1], ul[1], ur[1]);\n\n      this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n    } else {\n      // HACK to draw the gradient onto an infinite rectangle.\n      // PDF gradients are drawn across the entire image while\n      // Canvas only allows gradients to be drawn in a rectangle\n      // The following bug should allow us to remove this.\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=664884\n\n      this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n    }\n\n    this.compose(this.current.getClippedPathBoundingBox());\n    this.restore();\n  }\n\n  // Images\n  beginInlineImage() {\n    unreachable(\"Should not call beginInlineImage\");\n  }\n\n  beginImageData() {\n    unreachable(\"Should not call beginImageData\");\n  }\n\n  paintFormXObjectBegin(matrix, bbox) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.save();\n    this.baseTransformStack.push(this.baseTransform);\n\n    if (Array.isArray(matrix) && matrix.length === 6) {\n      this.transform.apply(this, matrix);\n    }\n\n    this.baseTransform = this.ctx.mozCurrentTransform;\n\n    if (bbox) {\n      const width = bbox[2] - bbox[0];\n      const height = bbox[3] - bbox[1];\n      this.ctx.rect(bbox[0], bbox[1], width, height);\n      this.current.updatePathMinMax(\n        this.ctx.mozCurrentTransform,\n        bbox[0],\n        bbox[1]\n      );\n      this.current.updatePathMinMax(\n        this.ctx.mozCurrentTransform,\n        bbox[2],\n        bbox[3]\n      );\n      this.clip();\n      this.endPath();\n    }\n  }\n\n  paintFormXObjectEnd() {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.restore();\n    this.baseTransform = this.baseTransformStack.pop();\n  }\n\n  beginGroup(group) {\n    if (!this.contentVisible) {\n      return;\n    }\n\n    this.save();\n    // If there's an active soft mask we don't want it enabled for the group, so\n    // clear it out. The mask and suspended canvas will be restored in endGroup.\n    const suspendedCtx = this.suspendedCtx;\n    if (this.current.activeSMask) {\n      this.suspendedCtx = null;\n      this.current.activeSMask = null;\n    }\n\n    const currentCtx = this.ctx;\n    // TODO non-isolated groups - according to Rik at adobe non-isolated\n    // group results aren't usually that different and they even have tools\n    // that ignore this setting. Notes from Rik on implementing:\n    // - When you encounter an transparency group, create a new canvas with\n    // the dimensions of the bbox\n    // - copy the content from the previous canvas to the new canvas\n    // - draw as usual\n    // - remove the backdrop alpha:\n    // alphaNew = 1 - (1 - alpha)/(1 - alphaBackdrop) with 'alpha' the alpha\n    // value of your transparency group and 'alphaBackdrop' the alpha of the\n    // backdrop\n    // - remove background color:\n    // colorNew = color - alphaNew *colorBackdrop /(1 - alphaNew)\n    if (!group.isolated) {\n      info(\"TODO: Support non-isolated groups.\");\n    }\n\n    // TODO knockout - supposedly possible with the clever use of compositing\n    // modes.\n    if (group.knockout) {\n      warn(\"Knockout groups not supported.\");\n    }\n\n    const currentTransform = currentCtx.mozCurrentTransform;\n    if (group.matrix) {\n      currentCtx.transform.apply(currentCtx, group.matrix);\n    }\n    if (!group.bbox) {\n      throw new Error(\"Bounding box is required.\");\n    }\n\n    // Based on the current transform figure out how big the bounding box\n    // will actually be.\n    let bounds = Util.getAxialAlignedBoundingBox(\n      group.bbox,\n      currentCtx.mozCurrentTransform\n    );\n    // Clip the bounding box to the current canvas.\n    const canvasBounds = [\n      0,\n      0,\n      currentCtx.canvas.width,\n      currentCtx.canvas.height,\n    ];\n    bounds = Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n    // Use ceil in case we're between sizes so we don't create canvas that is\n    // too small and make the canvas at least 1x1 pixels.\n    const offsetX = Math.floor(bounds[0]);\n    const offsetY = Math.floor(bounds[1]);\n    let drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n    let drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n    let scaleX = 1,\n      scaleY = 1;\n    if (drawnWidth > MAX_GROUP_SIZE) {\n      scaleX = drawnWidth / MAX_GROUP_SIZE;\n      drawnWidth = MAX_GROUP_SIZE;\n    }\n    if (drawnHeight > MAX_GROUP_SIZE) {\n      scaleY = drawnHeight / MAX_GROUP_SIZE;\n      drawnHeight = MAX_GROUP_SIZE;\n    }\n\n    this.current.startNewPathAndClipBox([0, 0, drawnWidth, drawnHeight]);\n\n    let cacheId = \"groupAt\" + this.groupLevel;\n    if (group.smask) {\n      // Using two cache entries is case if masks are used one after another.\n      cacheId += \"_smask_\" + (this.smaskCounter++ % 2);\n    }\n    const scratchCanvas = this.cachedCanvases.getCanvas(\n      cacheId,\n      drawnWidth,\n      drawnHeight,\n      true\n    );\n    const groupCtx = scratchCanvas.context;\n\n    // Since we created a new canvas that is just the size of the bounding box\n    // we have to translate the group ctx.\n    groupCtx.scale(1 / scaleX, 1 / scaleY);\n    groupCtx.translate(-offsetX, -offsetY);\n    groupCtx.transform.apply(groupCtx, currentTransform);\n\n    if (group.smask) {\n      // Saving state and cached mask to be used in setGState.\n      this.smaskStack.push({\n        canvas: scratchCanvas.canvas,\n        context: groupCtx,\n        offsetX,\n        offsetY,\n        scaleX,\n        scaleY,\n        subtype: group.smask.subtype,\n        backdrop: group.smask.backdrop,\n        transferMap: group.smask.transferMap || null,\n        startTransformInverse: null, // used during suspend operation\n      });\n    } else {\n      // Setup the current ctx so when the group is popped we draw it at the\n      // right location.\n      currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n      currentCtx.translate(offsetX, offsetY);\n      currentCtx.scale(scaleX, scaleY);\n      currentCtx.save();\n    }\n    // The transparency group inherits all off the current graphics state\n    // except the blend mode, soft mask, and alpha constants.\n    copyCtxState(currentCtx, groupCtx);\n    this.ctx = groupCtx;\n    this.setGState([\n      [\"BM\", \"source-over\"],\n      [\"ca\", 1],\n      [\"CA\", 1],\n    ]);\n    this.groupStack.push({\n      ctx: currentCtx,\n      suspendedCtx,\n    });\n    this.groupLevel++;\n  }\n\n  endGroup(group) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.groupLevel--;\n    const groupCtx = this.ctx;\n    const { ctx, suspendedCtx } = this.groupStack.pop();\n    this.ctx = ctx;\n    // Turn off image smoothing to avoid sub pixel interpolation which can\n    // look kind of blurry for some pdfs.\n    this.ctx.imageSmoothingEnabled = false;\n\n    if (suspendedCtx) {\n      this.suspendedCtx = suspendedCtx;\n    }\n\n    if (group.smask) {\n      this.tempSMask = this.smaskStack.pop();\n      this.restore();\n    } else {\n      this.ctx.restore();\n      const currentMtx = this.ctx.mozCurrentTransform;\n      this.restore();\n      this.ctx.save();\n      this.ctx.setTransform.apply(this.ctx, currentMtx);\n      const dirtyBox = Util.getAxialAlignedBoundingBox(\n        [0, 0, groupCtx.canvas.width, groupCtx.canvas.height],\n        currentMtx\n      );\n      this.ctx.drawImage(groupCtx.canvas, 0, 0);\n      this.ctx.restore();\n      this.compose(dirtyBox);\n    }\n  }\n\n  beginAnnotations() {\n    this.save();\n    if (this.baseTransform) {\n      this.ctx.setTransform.apply(this.ctx, this.baseTransform);\n    }\n  }\n\n  endAnnotations() {\n    this.restore();\n  }\n\n  beginAnnotation(id, rect, transform, matrix, hasOwnCanvas) {\n    this.save();\n\n    if (Array.isArray(rect) && rect.length === 4) {\n      const width = rect[2] - rect[0];\n      const height = rect[3] - rect[1];\n\n      if (hasOwnCanvas && this.annotationCanvasMap) {\n        transform = transform.slice();\n        transform[4] -= rect[0];\n        transform[5] -= rect[1];\n\n        rect = rect.slice();\n        rect[0] = rect[1] = 0;\n        rect[2] = width;\n        rect[3] = height;\n\n        const [scaleX, scaleY] = Util.singularValueDecompose2dScale(\n          this.ctx.mozCurrentTransform\n        );\n        const { viewportScale } = this;\n        const canvasWidth = Math.ceil(\n          width * this.outputScaleX * viewportScale\n        );\n        const canvasHeight = Math.ceil(\n          height * this.outputScaleY * viewportScale\n        );\n\n        this.annotationCanvas = this.canvasFactory.create(\n          canvasWidth,\n          canvasHeight\n        );\n        const { canvas, context } = this.annotationCanvas;\n        canvas.style.width = `calc(${width}px * var(--viewport-scale-factor))`;\n        canvas.style.height = `calc(${height}px * var(--viewport-scale-factor))`;\n        this.annotationCanvasMap.set(id, canvas);\n        this.annotationCanvas.savedCtx = this.ctx;\n        this.ctx = context;\n        this.ctx.setTransform(scaleX, 0, 0, -scaleY, 0, height * scaleY);\n        addContextCurrentTransform(this.ctx);\n\n        resetCtxToDefault(this.ctx);\n      } else {\n        resetCtxToDefault(this.ctx);\n\n        this.ctx.rect(rect[0], rect[1], width, height);\n        this.clip();\n        this.endPath();\n      }\n    }\n\n    this.current = new CanvasExtraState(\n      this.ctx.canvas.width,\n      this.ctx.canvas.height\n    );\n\n    this.transform.apply(this, transform);\n    this.transform.apply(this, matrix);\n  }\n\n  endAnnotation() {\n    if (this.annotationCanvas) {\n      this.ctx = this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas;\n    }\n    this.restore();\n  }\n\n  paintImageMaskXObject(img) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    const width = img.width,\n      height = img.height;\n\n    const glyph = this.processingType3;\n\n    if (COMPILE_TYPE3_GLYPHS && glyph && glyph.compiled === undefined) {\n      if (width <= MAX_SIZE_TO_COMPILE && height <= MAX_SIZE_TO_COMPILE) {\n        glyph.compiled = compileType3Glyph({ data: img.data, width, height });\n      } else {\n        glyph.compiled = null;\n      }\n    }\n\n    if (glyph?.compiled) {\n      glyph.compiled(ctx);\n      return;\n    }\n    const mask = this._createMaskCanvas(img);\n    const maskCanvas = mask.canvas;\n\n    ctx.save();\n    // The mask is drawn with the transform applied. Reset the current\n    // transform to draw to the identity.\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.drawImage(maskCanvas, mask.offsetX, mask.offsetY);\n    ctx.restore();\n    this.compose();\n  }\n\n  paintImageMaskXObjectRepeat(\n    imgData,\n    scaleX,\n    skewX = 0,\n    skewY = 0,\n    scaleY,\n    positions\n  ) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    ctx.save();\n    const currentTransform = ctx.mozCurrentTransform;\n    ctx.transform(scaleX, skewX, skewY, scaleY, 0, 0);\n    const mask = this._createMaskCanvas(imgData);\n\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      const trans = Util.transform(currentTransform, [\n        scaleX,\n        skewX,\n        skewY,\n        scaleY,\n        positions[i],\n        positions[i + 1],\n      ]);\n\n      const [x, y] = Util.applyTransform([0, 0], trans);\n      ctx.drawImage(mask.canvas, x, y);\n    }\n    ctx.restore();\n    this.compose();\n  }\n\n  paintImageMaskXObjectGroup(images) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    for (let i = 0, ii = images.length; i < ii; i++) {\n      const image = images[i];\n      const width = image.width,\n        height = image.height;\n\n      const maskCanvas = this.cachedCanvases.getCanvas(\n        \"maskCanvas\",\n        width,\n        height\n      );\n      const maskCtx = maskCanvas.context;\n      maskCtx.save();\n\n      putBinaryImageMask(maskCtx, image);\n\n      maskCtx.globalCompositeOperation = \"source-in\";\n\n      maskCtx.fillStyle = isPatternFill\n        ? fillColor.getPattern(\n            maskCtx,\n            this,\n            ctx.mozCurrentTransformInverse,\n            PathType.FILL\n          )\n        : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n\n      maskCtx.restore();\n\n      ctx.save();\n      ctx.transform.apply(ctx, image.transform);\n      ctx.scale(1, -1);\n      ctx.drawImage(maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n      ctx.restore();\n    }\n    this.compose();\n  }\n\n  paintImageXObject(objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = objId.startsWith(\"g_\")\n      ? this.commonObjs.get(objId)\n      : this.objs.get(objId);\n    if (!imgData) {\n      warn(\"Dependent image isn't ready yet\");\n      return;\n    }\n\n    this.paintInlineImageXObject(imgData);\n  }\n\n  paintImageXObjectRepeat(objId, scaleX, scaleY, positions) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = objId.startsWith(\"g_\")\n      ? this.commonObjs.get(objId)\n      : this.objs.get(objId);\n    if (!imgData) {\n      warn(\"Dependent image isn't ready yet\");\n      return;\n    }\n\n    const width = imgData.width;\n    const height = imgData.height;\n    const map = [];\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      map.push({\n        transform: [scaleX, 0, 0, scaleY, positions[i], positions[i + 1]],\n        x: 0,\n        y: 0,\n        w: width,\n        h: height,\n      });\n    }\n    this.paintInlineImageXObjectGroup(imgData, map);\n  }\n\n  paintInlineImageXObject(imgData) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const width = imgData.width;\n    const height = imgData.height;\n    const ctx = this.ctx;\n\n    this.save();\n    // scale the image to the unit square\n    ctx.scale(1 / width, -1 / height);\n\n    let imgToPaint;\n    // typeof check is needed due to node.js support, see issue #8489\n    if (\n      (typeof HTMLElement === \"function\" && imgData instanceof HTMLElement) ||\n      !imgData.data\n    ) {\n      imgToPaint = imgData;\n    } else {\n      const tmpCanvas = this.cachedCanvases.getCanvas(\n        \"inlineImage\",\n        width,\n        height\n      );\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData, this.current.transferMaps);\n      imgToPaint = tmpCanvas.canvas;\n    }\n\n    const scaled = this._scaleImage(imgToPaint, ctx.mozCurrentTransformInverse);\n    ctx.imageSmoothingEnabled = getImageSmoothingEnabled(\n      ctx.mozCurrentTransform,\n      imgData.interpolate\n    );\n    ctx.drawImage(\n      scaled.img,\n      0,\n      0,\n      scaled.paintWidth,\n      scaled.paintHeight,\n      0,\n      -height,\n      width,\n      height\n    );\n\n    if (this.imageLayer) {\n      const position = this.getCanvasPosition(0, -height);\n      this.imageLayer.appendImage({\n        imgData,\n        left: position[0],\n        top: position[1],\n        width: width / ctx.mozCurrentTransformInverse[0],\n        height: height / ctx.mozCurrentTransformInverse[3],\n      });\n    }\n    this.compose();\n    this.restore();\n  }\n\n  paintInlineImageXObjectGroup(imgData, map) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    const w = imgData.width;\n    const h = imgData.height;\n\n    const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", w, h);\n    const tmpCtx = tmpCanvas.context;\n    putBinaryImageData(tmpCtx, imgData, this.current.transferMaps);\n\n    for (let i = 0, ii = map.length; i < ii; i++) {\n      const entry = map[i];\n      ctx.save();\n      ctx.transform.apply(ctx, entry.transform);\n      ctx.scale(1, -1);\n      ctx.drawImage(\n        tmpCanvas.canvas,\n        entry.x,\n        entry.y,\n        entry.w,\n        entry.h,\n        0,\n        -1,\n        1,\n        1\n      );\n      if (this.imageLayer) {\n        const position = this.getCanvasPosition(entry.x, entry.y);\n        this.imageLayer.appendImage({\n          imgData,\n          left: position[0],\n          top: position[1],\n          width: w,\n          height: h,\n        });\n      }\n      ctx.restore();\n    }\n    this.compose();\n  }\n\n  paintSolidColorImageMask() {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.ctx.fillRect(0, 0, 1, 1);\n    this.compose();\n  }\n\n  // Marked content\n\n  markPoint(tag) {\n    // TODO Marked content.\n  }\n\n  markPointProps(tag, properties) {\n    // TODO Marked content.\n  }\n\n  beginMarkedContent(tag) {\n    this.markedContentStack.push({\n      visible: true,\n    });\n  }\n\n  beginMarkedContentProps(tag, properties) {\n    if (tag === \"OC\") {\n      this.markedContentStack.push({\n        visible: this.optionalContentConfig.isVisible(properties),\n      });\n    } else {\n      this.markedContentStack.push({\n        visible: true,\n      });\n    }\n    this.contentVisible = this.isContentVisible();\n  }\n\n  endMarkedContent() {\n    this.markedContentStack.pop();\n    this.contentVisible = this.isContentVisible();\n  }\n\n  // Compatibility\n\n  beginCompat() {\n    // TODO ignore undefined operators (should we do that anyway?)\n  }\n\n  endCompat() {\n    // TODO stop ignoring undefined operators\n  }\n\n  // Helper functions\n\n  consumePath(clipBox) {\n    if (this.pendingClip) {\n      this.current.updateClipFromPath();\n    }\n    if (!this.pendingClip) {\n      this.compose(clipBox);\n    }\n    const ctx = this.ctx;\n    if (this.pendingClip) {\n      if (this.pendingClip === EO_CLIP) {\n        ctx.clip(\"evenodd\");\n      } else {\n        ctx.clip();\n      }\n      this.pendingClip = null;\n    }\n    this.current.startNewPathAndClipBox(this.current.clipBox);\n    ctx.beginPath();\n  }\n\n  getSinglePixelWidth() {\n    if (this._cachedGetSinglePixelWidth === null) {\n      // If transform is [a b] then a pixel (square) is transformed\n      //                 [c d]\n      // into a parallelogram: its area is the abs value of the determinant.\n      // This parallelogram has 2 heights:\n      //  - Area / |col_1|;\n      //  - Area / |col_2|.\n      // so in order to get a height of at least 1, pixel height\n      // must be computed as followed:\n      //  h = max(sqrt(a + c) / |det(M)|, sqrt(b + d) / |det(M)|).\n      // This is equivalent to:\n      //  h = max(|line_1_inv(M)|, |line_2_inv(M)|)\n      const m = this.ctx.mozCurrentTransform;\n\n      const absDet = Math.abs(m[0] * m[3] - m[2] * m[1]);\n      const sqNorm1 = m[0] ** 2 + m[2] ** 2;\n      const sqNorm2 = m[1] ** 2 + m[3] ** 2;\n      const pixelHeight = Math.sqrt(Math.max(sqNorm1, sqNorm2)) / absDet;\n      if (sqNorm1 !== sqNorm2 && this._combinedScaleFactor * pixelHeight > 1) {\n        // The parallelogram isn't a square and at least one height\n        // is lower than 1 so the resulting line width must be 1\n        // but it cannot be achieved with one scale: when scaling a pixel\n        // we'll get a rectangle (see issue #12295).\n        // For example with matrix [0.001 0, 0, 100], a pixel is transformed\n        // in a rectangle 0.001x100. If we just scale by 1000 (to have a 1)\n        // then we'll get a rectangle 1x1e5 which is wrong.\n        // In this case, we must reset the transform, set linewidth to 1\n        // and then stroke.\n        this._cachedGetSinglePixelWidth = -(\n          this._combinedScaleFactor * pixelHeight\n        );\n      } else if (absDet > Number.EPSILON) {\n        this._cachedGetSinglePixelWidth = pixelHeight;\n      } else {\n        // Matrix is non-invertible.\n        this._cachedGetSinglePixelWidth = 1;\n      }\n    }\n\n    return this._cachedGetSinglePixelWidth;\n  }\n\n  getCanvasPosition(x, y) {\n    const transform = this.ctx.mozCurrentTransform;\n    return [\n      transform[0] * x + transform[2] * y + transform[4],\n      transform[1] * x + transform[3] * y + transform[5],\n    ];\n  }\n\n  isContentVisible() {\n    for (let i = this.markedContentStack.length - 1; i >= 0; i--) {\n      if (!this.markedContentStack[i].visible) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n\nfor (const op in OPS) {\n  if (CanvasGraphics.prototype[op] !== undefined) {\n    CanvasGraphics.prototype[OPS[op]] = CanvasGraphics.prototype[op];\n  }\n}\n\nexport { CanvasGraphics };\n","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  FormatError,\n  info,\n  shadow,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\n\nconst PathType = {\n  FILL: \"Fill\",\n  STROKE: \"Stroke\",\n  SHADING: \"Shading\",\n};\n\nfunction applyBoundingBox(ctx, bbox) {\n  if (!bbox || typeof Path2D === \"undefined\") {\n    return;\n  }\n  const width = bbox[2] - bbox[0];\n  const height = bbox[3] - bbox[1];\n  const region = new Path2D();\n  region.rect(bbox[0], bbox[1], width, height);\n  ctx.clip(region);\n}\n\nclass BaseShadingPattern {\n  constructor() {\n    if (this.constructor === BaseShadingPattern) {\n      unreachable(\"Cannot initialize BaseShadingPattern.\");\n    }\n  }\n\n  getPattern() {\n    unreachable(\"Abstract method `getPattern` called.\");\n  }\n}\n\nclass RadialAxialShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._type = IR[1];\n    this._bbox = IR[2];\n    this._colorStops = IR[3];\n    this._p0 = IR[4];\n    this._p1 = IR[5];\n    this._r0 = IR[6];\n    this._r1 = IR[7];\n    this.matrix = null;\n  }\n\n  _createGradient(ctx) {\n    let grad;\n    if (this._type === \"axial\") {\n      grad = ctx.createLinearGradient(\n        this._p0[0],\n        this._p0[1],\n        this._p1[0],\n        this._p1[1]\n      );\n    } else if (this._type === \"radial\") {\n      grad = ctx.createRadialGradient(\n        this._p0[0],\n        this._p0[1],\n        this._r0,\n        this._p1[0],\n        this._p1[1],\n        this._r1\n      );\n    }\n\n    for (const colorStop of this._colorStops) {\n      grad.addColorStop(colorStop[0], colorStop[1]);\n    }\n    return grad;\n  }\n\n  getPattern(ctx, owner, inverse, pathType) {\n    let pattern;\n    if (pathType === PathType.STROKE || pathType === PathType.FILL) {\n      const ownerBBox = owner.current.getClippedPathBoundingBox(\n        pathType,\n        ctx.mozCurrentTransform\n      ) || [0, 0, 0, 0];\n      // Create a canvas that is only as big as the current path. This doesn't\n      // allow us to cache the pattern, but it generally creates much smaller\n      // canvases and saves memory use. See bug 1722807 for an example.\n      const width = Math.ceil(ownerBBox[2] - ownerBBox[0]) || 1;\n      const height = Math.ceil(ownerBBox[3] - ownerBBox[1]) || 1;\n\n      const tmpCanvas = owner.cachedCanvases.getCanvas(\n        \"pattern\",\n        width,\n        height,\n        true\n      );\n\n      const tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      tmpCtx.beginPath();\n      tmpCtx.rect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      // Non shading fill patterns are positioned relative to the base transform\n      // (usually the page's initial transform), but we may have created a\n      // smaller canvas based on the path, so we must account for the shift.\n      tmpCtx.translate(-ownerBBox[0], -ownerBBox[1]);\n      inverse = Util.transform(inverse, [\n        1,\n        0,\n        0,\n        1,\n        ownerBBox[0],\n        ownerBBox[1],\n      ]);\n\n      tmpCtx.transform.apply(tmpCtx, owner.baseTransform);\n      if (this.matrix) {\n        tmpCtx.transform.apply(tmpCtx, this.matrix);\n      }\n      applyBoundingBox(tmpCtx, this._bbox);\n\n      tmpCtx.fillStyle = this._createGradient(tmpCtx);\n      tmpCtx.fill();\n\n      pattern = ctx.createPattern(tmpCanvas.canvas, \"no-repeat\");\n      const domMatrix = new DOMMatrix(inverse);\n      try {\n        pattern.setTransform(domMatrix);\n      } catch (ex) {\n        // Avoid rendering breaking completely in Firefox 78 ESR,\n        // and in Node.js (see issue 13724).\n        warn(`RadialAxialShadingPattern.getPattern: \"${ex?.message}\".`);\n      }\n    } else {\n      // Shading fills are applied relative to the current matrix which is also\n      // how canvas gradients work, so there's no need to do anything special\n      // here.\n      applyBoundingBox(ctx, this._bbox);\n      pattern = this._createGradient(ctx);\n    }\n    return pattern;\n  }\n}\n\nfunction drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n  // Very basic Gouraud-shaded triangle rasterization algorithm.\n  const coords = context.coords,\n    colors = context.colors;\n  const bytes = data.data,\n    rowSize = data.width * 4;\n  let tmp;\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  if (coords[p2 + 1] > coords[p3 + 1]) {\n    tmp = p2;\n    p2 = p3;\n    p3 = tmp;\n    tmp = c2;\n    c2 = c3;\n    c3 = tmp;\n  }\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  const x1 = (coords[p1] + context.offsetX) * context.scaleX;\n  const y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n  const x2 = (coords[p2] + context.offsetX) * context.scaleX;\n  const y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n  const x3 = (coords[p3] + context.offsetX) * context.scaleX;\n  const y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n  if (y1 >= y3) {\n    return;\n  }\n  const c1r = colors[c1],\n    c1g = colors[c1 + 1],\n    c1b = colors[c1 + 2];\n  const c2r = colors[c2],\n    c2g = colors[c2 + 1],\n    c2b = colors[c2 + 2];\n  const c3r = colors[c3],\n    c3g = colors[c3 + 1],\n    c3b = colors[c3 + 2];\n\n  const minY = Math.round(y1),\n    maxY = Math.round(y3);\n  let xa, car, cag, cab;\n  let xb, cbr, cbg, cbb;\n  for (let y = minY; y <= maxY; y++) {\n    if (y < y2) {\n      let k;\n      if (y < y1) {\n        k = 0;\n      } else {\n        k = (y1 - y) / (y1 - y2);\n      }\n      xa = x1 - (x1 - x2) * k;\n      car = c1r - (c1r - c2r) * k;\n      cag = c1g - (c1g - c2g) * k;\n      cab = c1b - (c1b - c2b) * k;\n    } else {\n      let k;\n      if (y > y3) {\n        k = 1;\n      } else if (y2 === y3) {\n        k = 0;\n      } else {\n        k = (y2 - y) / (y2 - y3);\n      }\n      xa = x2 - (x2 - x3) * k;\n      car = c2r - (c2r - c3r) * k;\n      cag = c2g - (c2g - c3g) * k;\n      cab = c2b - (c2b - c3b) * k;\n    }\n\n    let k;\n    if (y < y1) {\n      k = 0;\n    } else if (y > y3) {\n      k = 1;\n    } else {\n      k = (y1 - y) / (y1 - y3);\n    }\n    xb = x1 - (x1 - x3) * k;\n    cbr = c1r - (c1r - c3r) * k;\n    cbg = c1g - (c1g - c3g) * k;\n    cbb = c1b - (c1b - c3b) * k;\n    const x1_ = Math.round(Math.min(xa, xb));\n    const x2_ = Math.round(Math.max(xa, xb));\n    let j = rowSize * y + x1_ * 4;\n    for (let x = x1_; x <= x2_; x++) {\n      k = (xa - x) / (xa - xb);\n      if (k < 0) {\n        k = 0;\n      } else if (k > 1) {\n        k = 1;\n      }\n      bytes[j++] = (car - (car - cbr) * k) | 0;\n      bytes[j++] = (cag - (cag - cbg) * k) | 0;\n      bytes[j++] = (cab - (cab - cbb) * k) | 0;\n      bytes[j++] = 255;\n    }\n  }\n}\n\nfunction drawFigure(data, figure, context) {\n  const ps = figure.coords;\n  const cs = figure.colors;\n  let i, ii;\n  switch (figure.type) {\n    case \"lattice\":\n      const verticesPerRow = figure.verticesPerRow;\n      const rows = Math.floor(ps.length / verticesPerRow) - 1;\n      const cols = verticesPerRow - 1;\n      for (i = 0; i < rows; i++) {\n        let q = i * verticesPerRow;\n        for (let j = 0; j < cols; j++, q++) {\n          drawTriangle(\n            data,\n            context,\n            ps[q],\n            ps[q + 1],\n            ps[q + verticesPerRow],\n            cs[q],\n            cs[q + 1],\n            cs[q + verticesPerRow]\n          );\n          drawTriangle(\n            data,\n            context,\n            ps[q + verticesPerRow + 1],\n            ps[q + 1],\n            ps[q + verticesPerRow],\n            cs[q + verticesPerRow + 1],\n            cs[q + 1],\n            cs[q + verticesPerRow]\n          );\n        }\n      }\n      break;\n    case \"triangles\":\n      for (i = 0, ii = ps.length; i < ii; i += 3) {\n        drawTriangle(\n          data,\n          context,\n          ps[i],\n          ps[i + 1],\n          ps[i + 2],\n          cs[i],\n          cs[i + 1],\n          cs[i + 2]\n        );\n      }\n      break;\n    default:\n      throw new Error(\"illegal figure\");\n  }\n}\n\nclass MeshShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._coords = IR[2];\n    this._colors = IR[3];\n    this._figures = IR[4];\n    this._bounds = IR[5];\n    this._bbox = IR[7];\n    this._background = IR[8];\n    this.matrix = null;\n  }\n\n  _createMeshCanvas(combinedScale, backgroundColor, cachedCanvases) {\n    // we will increase scale on some weird factor to let antialiasing take\n    // care of \"rough\" edges\n    const EXPECTED_SCALE = 1.1;\n    // MAX_PATTERN_SIZE is used to avoid OOM situation.\n    const MAX_PATTERN_SIZE = 3000; // 10in @ 300dpi shall be enough\n    // We need to keep transparent border around our pattern for fill():\n    // createPattern with 'no-repeat' will bleed edges across entire area.\n    const BORDER_SIZE = 2;\n\n    const offsetX = Math.floor(this._bounds[0]);\n    const offsetY = Math.floor(this._bounds[1]);\n    const boundsWidth = Math.ceil(this._bounds[2]) - offsetX;\n    const boundsHeight = Math.ceil(this._bounds[3]) - offsetY;\n\n    const width = Math.min(\n      Math.ceil(Math.abs(boundsWidth * combinedScale[0] * EXPECTED_SCALE)),\n      MAX_PATTERN_SIZE\n    );\n    const height = Math.min(\n      Math.ceil(Math.abs(boundsHeight * combinedScale[1] * EXPECTED_SCALE)),\n      MAX_PATTERN_SIZE\n    );\n    const scaleX = boundsWidth / width;\n    const scaleY = boundsHeight / height;\n\n    const context = {\n      coords: this._coords,\n      colors: this._colors,\n      offsetX: -offsetX,\n      offsetY: -offsetY,\n      scaleX: 1 / scaleX,\n      scaleY: 1 / scaleY,\n    };\n\n    const paddedWidth = width + BORDER_SIZE * 2;\n    const paddedHeight = height + BORDER_SIZE * 2;\n\n    const tmpCanvas = cachedCanvases.getCanvas(\n      \"mesh\",\n      paddedWidth,\n      paddedHeight,\n      false\n    );\n    const tmpCtx = tmpCanvas.context;\n\n    const data = tmpCtx.createImageData(width, height);\n    if (backgroundColor) {\n      const bytes = data.data;\n      for (let i = 0, ii = bytes.length; i < ii; i += 4) {\n        bytes[i] = backgroundColor[0];\n        bytes[i + 1] = backgroundColor[1];\n        bytes[i + 2] = backgroundColor[2];\n        bytes[i + 3] = 255;\n      }\n    }\n    for (const figure of this._figures) {\n      drawFigure(data, figure, context);\n    }\n    tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n    const canvas = tmpCanvas.canvas;\n\n    return {\n      canvas,\n      offsetX: offsetX - BORDER_SIZE * scaleX,\n      offsetY: offsetY - BORDER_SIZE * scaleY,\n      scaleX,\n      scaleY,\n    };\n  }\n\n  getPattern(ctx, owner, inverse, pathType) {\n    applyBoundingBox(ctx, this._bbox);\n    let scale;\n    if (pathType === PathType.SHADING) {\n      scale = Util.singularValueDecompose2dScale(ctx.mozCurrentTransform);\n    } else {\n      // Obtain scale from matrix and current transformation matrix.\n      scale = Util.singularValueDecompose2dScale(owner.baseTransform);\n      if (this.matrix) {\n        const matrixScale = Util.singularValueDecompose2dScale(this.matrix);\n        scale = [scale[0] * matrixScale[0], scale[1] * matrixScale[1]];\n      }\n    }\n\n    // Rasterizing on the main thread since sending/queue large canvases\n    // might cause OOM.\n    const temporaryPatternCanvas = this._createMeshCanvas(\n      scale,\n      pathType === PathType.SHADING ? null : this._background,\n      owner.cachedCanvases\n    );\n\n    if (pathType !== PathType.SHADING) {\n      ctx.setTransform.apply(ctx, owner.baseTransform);\n      if (this.matrix) {\n        ctx.transform.apply(ctx, this.matrix);\n      }\n    }\n\n    ctx.translate(\n      temporaryPatternCanvas.offsetX,\n      temporaryPatternCanvas.offsetY\n    );\n    ctx.scale(temporaryPatternCanvas.scaleX, temporaryPatternCanvas.scaleY);\n\n    return ctx.createPattern(temporaryPatternCanvas.canvas, \"no-repeat\");\n  }\n}\n\nclass DummyShadingPattern extends BaseShadingPattern {\n  getPattern() {\n    return \"hotpink\";\n  }\n}\n\nfunction getShadingPattern(IR) {\n  switch (IR[0]) {\n    case \"RadialAxial\":\n      return new RadialAxialShadingPattern(IR);\n    case \"Mesh\":\n      return new MeshShadingPattern(IR);\n    case \"Dummy\":\n      return new DummyShadingPattern();\n  }\n  throw new Error(`Unknown IR type: ${IR[0]}`);\n}\n\nconst PaintType = {\n  COLORED: 1,\n  UNCOLORED: 2,\n};\n\nclass TilingPattern {\n  // 10in @ 300dpi shall be enough.\n  static get MAX_PATTERN_SIZE() {\n    return shadow(this, \"MAX_PATTERN_SIZE\", 3000);\n  }\n\n  constructor(IR, color, ctx, canvasGraphicsFactory, baseTransform) {\n    this.operatorList = IR[2];\n    this.matrix = IR[3] || [1, 0, 0, 1, 0, 0];\n    this.bbox = IR[4];\n    this.xstep = IR[5];\n    this.ystep = IR[6];\n    this.paintType = IR[7];\n    this.tilingType = IR[8];\n    this.color = color;\n    this.ctx = ctx;\n    this.canvasGraphicsFactory = canvasGraphicsFactory;\n    this.baseTransform = baseTransform;\n  }\n\n  createPatternCanvas(owner) {\n    const operatorList = this.operatorList;\n    const bbox = this.bbox;\n    const xstep = this.xstep;\n    const ystep = this.ystep;\n    const paintType = this.paintType;\n    const tilingType = this.tilingType;\n    const color = this.color;\n    const canvasGraphicsFactory = this.canvasGraphicsFactory;\n\n    info(\"TilingType: \" + tilingType);\n\n    // A tiling pattern as defined by PDF spec 8.7.2 is a cell whose size is\n    // described by bbox, and may repeat regularly by shifting the cell by\n    // xstep and ystep.\n    // Because the HTML5 canvas API does not support pattern repetition with\n    // gaps in between, we use the xstep/ystep instead of the bbox's size.\n    //\n    // This has the following consequences (similarly for ystep):\n    //\n    // - If xstep is the same as bbox, then there is no observable difference.\n    //\n    // - If xstep is larger than bbox, then the pattern canvas is partially\n    //   empty: the area bounded by bbox is painted, the outside area is void.\n    //\n    // - If xstep is smaller than bbox, then the pixels between xstep and the\n    //   bbox boundary will be missing. This is INCORRECT behavior.\n    //   \"Figures on adjacent tiles should not overlap\" (PDF spec 8.7.3.1),\n    //   but overlapping cells without common pixels are still valid.\n    //   TODO: Fix the implementation, to allow this scenario to be painted\n    //   correctly.\n\n    const x0 = bbox[0],\n      y0 = bbox[1],\n      x1 = bbox[2],\n      y1 = bbox[3];\n\n    // Obtain scale from matrix and current transformation matrix.\n    const matrixScale = Util.singularValueDecompose2dScale(this.matrix);\n    const curMatrixScale = Util.singularValueDecompose2dScale(\n      this.baseTransform\n    );\n    const combinedScale = [\n      matrixScale[0] * curMatrixScale[0],\n      matrixScale[1] * curMatrixScale[1],\n    ];\n\n    // Use width and height values that are as close as possible to the end\n    // result when the pattern is used. Too low value makes the pattern look\n    // blurry. Too large value makes it look too crispy.\n    const dimx = this.getSizeAndScale(\n      xstep,\n      this.ctx.canvas.width,\n      combinedScale[0]\n    );\n    const dimy = this.getSizeAndScale(\n      ystep,\n      this.ctx.canvas.height,\n      combinedScale[1]\n    );\n\n    const tmpCanvas = owner.cachedCanvases.getCanvas(\n      \"pattern\",\n      dimx.size,\n      dimy.size,\n      true\n    );\n    const tmpCtx = tmpCanvas.context;\n    const graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx);\n    graphics.groupLevel = owner.groupLevel;\n\n    this.setFillAndStrokeStyleToContext(graphics, paintType, color);\n\n    let adjustedX0 = x0;\n    let adjustedY0 = y0;\n    let adjustedX1 = x1;\n    let adjustedY1 = y1;\n    // Some bounding boxes have negative x0/y0 cordinates which will cause the\n    // some of the drawing to be off of the canvas. To avoid this shift the\n    // bounding box over.\n    if (x0 < 0) {\n      adjustedX0 = 0;\n      adjustedX1 += Math.abs(x0);\n    }\n    if (y0 < 0) {\n      adjustedY0 = 0;\n      adjustedY1 += Math.abs(y0);\n    }\n    tmpCtx.translate(-(dimx.scale * adjustedX0), -(dimy.scale * adjustedY0));\n    graphics.transform(dimx.scale, 0, 0, dimy.scale, 0, 0);\n\n    this.clipBbox(graphics, adjustedX0, adjustedY0, adjustedX1, adjustedY1);\n\n    graphics.baseTransform = graphics.ctx.mozCurrentTransform.slice();\n\n    graphics.executeOperatorList(operatorList);\n\n    graphics.endDrawing();\n\n    return {\n      canvas: tmpCanvas.canvas,\n      scaleX: dimx.scale,\n      scaleY: dimy.scale,\n      offsetX: adjustedX0,\n      offsetY: adjustedY0,\n    };\n  }\n\n  getSizeAndScale(step, realOutputSize, scale) {\n    // xstep / ystep may be negative -- normalize.\n    step = Math.abs(step);\n    // MAX_PATTERN_SIZE is used to avoid OOM situation.\n    // Use the destination canvas's size if it is bigger than the hard-coded\n    // limit of MAX_PATTERN_SIZE to avoid clipping patterns that cover the\n    // whole canvas.\n    const maxSize = Math.max(TilingPattern.MAX_PATTERN_SIZE, realOutputSize);\n    let size = Math.ceil(step * scale);\n    if (size >= maxSize) {\n      size = maxSize;\n    } else {\n      scale = size / step;\n    }\n    return { scale, size };\n  }\n\n  clipBbox(graphics, x0, y0, x1, y1) {\n    const bboxWidth = x1 - x0;\n    const bboxHeight = y1 - y0;\n    graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n    graphics.clip();\n    graphics.endPath();\n  }\n\n  setFillAndStrokeStyleToContext(graphics, paintType, color) {\n    const context = graphics.ctx,\n      current = graphics.current;\n    switch (paintType) {\n      case PaintType.COLORED:\n        const ctx = this.ctx;\n        context.fillStyle = ctx.fillStyle;\n        context.strokeStyle = ctx.strokeStyle;\n        current.fillColor = ctx.fillStyle;\n        current.strokeColor = ctx.strokeStyle;\n        break;\n      case PaintType.UNCOLORED:\n        const cssColor = Util.makeHexColor(color[0], color[1], color[2]);\n        context.fillStyle = cssColor;\n        context.strokeStyle = cssColor;\n        // Set color needed by image masks (fixes issues 3226 and 8741).\n        current.fillColor = cssColor;\n        current.strokeColor = cssColor;\n        break;\n      default:\n        throw new FormatError(`Unsupported paint type: ${paintType}`);\n    }\n  }\n\n  getPattern(ctx, owner, inverse, pathType) {\n    // PDF spec 8.7.2 NOTE 1: pattern's matrix is relative to initial matrix.\n    let matrix = inverse;\n    if (pathType !== PathType.SHADING) {\n      matrix = Util.transform(matrix, owner.baseTransform);\n      if (this.matrix) {\n        matrix = Util.transform(matrix, this.matrix);\n      }\n    }\n\n    const temporaryPatternCanvas = this.createPatternCanvas(owner);\n\n    let domMatrix = new DOMMatrix(matrix);\n    // Rescale and so that the ctx.createPattern call generates a pattern with\n    // the desired size.\n    domMatrix = domMatrix.translate(\n      temporaryPatternCanvas.offsetX,\n      temporaryPatternCanvas.offsetY\n    );\n    domMatrix = domMatrix.scale(\n      1 / temporaryPatternCanvas.scaleX,\n      1 / temporaryPatternCanvas.scaleY\n    );\n\n    const pattern = ctx.createPattern(temporaryPatternCanvas.canvas, \"repeat\");\n    try {\n      pattern.setTransform(domMatrix);\n    } catch (ex) {\n      // Avoid rendering breaking completely in Firefox 78 ESR,\n      // and in Node.js (see issue 13724).\n      warn(`TilingPattern.getPattern: \"${ex?.message}\".`);\n    }\n    return pattern;\n  }\n}\n\nexport { getShadingPattern, PathType, TilingPattern };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @typedef {Object} GlobalWorkerOptionsType\n * @property {Worker | null} workerPort - Defines global port for worker\n *   process. Overrides the `workerSrc` option.\n * @property {string} workerSrc - A string containing the path and filename\n *   of the worker file.\n *\n *   NOTE: The `workerSrc` option should always be set, in order to prevent any\n *         issues when using the PDF.js library.\n */\n\n/** @type {GlobalWorkerOptionsType} */\nconst GlobalWorkerOptions = Object.create(null);\n\nGlobalWorkerOptions.workerPort =\n  GlobalWorkerOptions.workerPort === undefined\n    ? null\n    : GlobalWorkerOptions.workerPort;\n\nGlobalWorkerOptions.workerSrc =\n  GlobalWorkerOptions.workerSrc === undefined\n    ? \"\"\n    : GlobalWorkerOptions.workerSrc;\n\nexport { GlobalWorkerOptions };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AbortException,\n  assert,\n  createPromiseCapability,\n  MissingPDFException,\n  PasswordException,\n  UnexpectedResponseException,\n  UnknownErrorException,\n  warn,\n} from \"./util.js\";\n\nconst CallbackKind = {\n  UNKNOWN: 0,\n  DATA: 1,\n  ERROR: 2,\n};\n\nconst StreamKind = {\n  UNKNOWN: 0,\n  CANCEL: 1,\n  CANCEL_COMPLETE: 2,\n  CLOSE: 3,\n  ENQUEUE: 4,\n  ERROR: 5,\n  PULL: 6,\n  PULL_COMPLETE: 7,\n  START_COMPLETE: 8,\n};\n\nfunction wrapReason(reason) {\n  if (\n    !(\n      reason instanceof Error ||\n      (typeof reason === \"object\" && reason !== null)\n    )\n  ) {\n    if (\n      typeof PDFJSDev === \"undefined\" ||\n      PDFJSDev.test(\"!PRODUCTION || TESTING\")\n    ) {\n      throw new Error(\n        'wrapReason: Expected \"reason\" to be a (possibly cloned) Error.'\n      );\n    }\n    warn('wrapReason: Expected \"reason\" to be a (possibly cloned) Error.');\n    return reason;\n  }\n  switch (reason.name) {\n    case \"AbortException\":\n      return new AbortException(reason.message);\n    case \"MissingPDFException\":\n      return new MissingPDFException(reason.message);\n    case \"PasswordException\":\n      return new PasswordException(reason.message, reason.code);\n    case \"UnexpectedResponseException\":\n      return new UnexpectedResponseException(reason.message, reason.status);\n    case \"UnknownErrorException\":\n      return new UnknownErrorException(reason.message, reason.details);\n    default:\n      return new UnknownErrorException(reason.message, reason.toString());\n  }\n}\n\nclass MessageHandler {\n  constructor(sourceName, targetName, comObj) {\n    this.sourceName = sourceName;\n    this.targetName = targetName;\n    this.comObj = comObj;\n    this.callbackId = 1;\n    this.streamId = 1;\n    this.streamSinks = Object.create(null);\n    this.streamControllers = Object.create(null);\n    this.callbackCapabilities = Object.create(null);\n    this.actionHandler = Object.create(null);\n\n    this._onComObjOnMessage = event => {\n      const data = event.data;\n      if (data.targetName !== this.sourceName) {\n        return;\n      }\n      if (data.stream) {\n        this._processStreamMessage(data);\n        return;\n      }\n      if (data.callback) {\n        const callbackId = data.callbackId;\n        const capability = this.callbackCapabilities[callbackId];\n        if (!capability) {\n          throw new Error(`Cannot resolve callback ${callbackId}`);\n        }\n        delete this.callbackCapabilities[callbackId];\n\n        if (data.callback === CallbackKind.DATA) {\n          capability.resolve(data.data);\n        } else if (data.callback === CallbackKind.ERROR) {\n          capability.reject(wrapReason(data.reason));\n        } else {\n          throw new Error(\"Unexpected callback case\");\n        }\n        return;\n      }\n      const action = this.actionHandler[data.action];\n      if (!action) {\n        throw new Error(`Unknown action from worker: ${data.action}`);\n      }\n      if (data.callbackId) {\n        const cbSourceName = this.sourceName;\n        const cbTargetName = data.sourceName;\n\n        new Promise(function (resolve) {\n          resolve(action(data.data));\n        }).then(\n          function (result) {\n            comObj.postMessage({\n              sourceName: cbSourceName,\n              targetName: cbTargetName,\n              callback: CallbackKind.DATA,\n              callbackId: data.callbackId,\n              data: result,\n            });\n          },\n          function (reason) {\n            comObj.postMessage({\n              sourceName: cbSourceName,\n              targetName: cbTargetName,\n              callback: CallbackKind.ERROR,\n              callbackId: data.callbackId,\n              reason: wrapReason(reason),\n            });\n          }\n        );\n        return;\n      }\n      if (data.streamId) {\n        this._createStreamSink(data);\n        return;\n      }\n      action(data.data);\n    };\n    comObj.addEventListener(\"message\", this._onComObjOnMessage);\n  }\n\n  on(actionName, handler) {\n    if (\n      typeof PDFJSDev === \"undefined\" ||\n      PDFJSDev.test(\"!PRODUCTION || TESTING\")\n    ) {\n      assert(\n        typeof handler === \"function\",\n        'MessageHandler.on: Expected \"handler\" to be a function.'\n      );\n    }\n    const ah = this.actionHandler;\n    if (ah[actionName]) {\n      throw new Error(`There is already an actionName called \"${actionName}\"`);\n    }\n    ah[actionName] = handler;\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   */\n  send(actionName, data, transfers) {\n    this.comObj.postMessage(\n      {\n        sourceName: this.sourceName,\n        targetName: this.targetName,\n        action: actionName,\n        data,\n      },\n      transfers\n    );\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * Expects that the other side will callback with the response.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   * @returns {Promise} Promise to be resolved with response data.\n   */\n  sendWithPromise(actionName, data, transfers) {\n    const callbackId = this.callbackId++;\n    const capability = createPromiseCapability();\n    this.callbackCapabilities[callbackId] = capability;\n    try {\n      this.comObj.postMessage(\n        {\n          sourceName: this.sourceName,\n          targetName: this.targetName,\n          action: actionName,\n          callbackId,\n          data,\n        },\n        transfers\n      );\n    } catch (ex) {\n      capability.reject(ex);\n    }\n    return capability.promise;\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * Expect that the other side will callback to signal 'start_complete'.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Object} queueingStrategy - Strategy to signal backpressure based on\n   *                 internal queue.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   * @returns {ReadableStream} ReadableStream to read data in chunks.\n   */\n  sendWithStream(actionName, data, queueingStrategy, transfers) {\n    const streamId = this.streamId++,\n      sourceName = this.sourceName,\n      targetName = this.targetName,\n      comObj = this.comObj;\n\n    return new ReadableStream(\n      {\n        start: controller => {\n          const startCapability = createPromiseCapability();\n          this.streamControllers[streamId] = {\n            controller,\n            startCall: startCapability,\n            pullCall: null,\n            cancelCall: null,\n            isClosed: false,\n          };\n          comObj.postMessage(\n            {\n              sourceName,\n              targetName,\n              action: actionName,\n              streamId,\n              data,\n              desiredSize: controller.desiredSize,\n            },\n            transfers\n          );\n          // Return Promise for Async process, to signal success/failure.\n          return startCapability.promise;\n        },\n\n        pull: controller => {\n          const pullCapability = createPromiseCapability();\n          this.streamControllers[streamId].pullCall = pullCapability;\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL,\n            streamId,\n            desiredSize: controller.desiredSize,\n          });\n          // Returning Promise will not call \"pull\"\n          // again until current pull is resolved.\n          return pullCapability.promise;\n        },\n\n        cancel: reason => {\n          assert(reason instanceof Error, \"cancel must have a valid reason\");\n          const cancelCapability = createPromiseCapability();\n          this.streamControllers[streamId].cancelCall = cancelCapability;\n          this.streamControllers[streamId].isClosed = true;\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL,\n            streamId,\n            reason: wrapReason(reason),\n          });\n          // Return Promise to signal success or failure.\n          return cancelCapability.promise;\n        },\n      },\n      queueingStrategy\n    );\n  }\n\n  /**\n   * @private\n   */\n  _createStreamSink(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const self = this,\n      action = this.actionHandler[data.action];\n\n    const streamSink = {\n      enqueue(chunk, size = 1, transfers) {\n        if (this.isCancelled) {\n          return;\n        }\n        const lastDesiredSize = this.desiredSize;\n        this.desiredSize -= size;\n        // Enqueue decreases the desiredSize property of sink,\n        // so when it changes from positive to negative,\n        // set ready as unresolved promise.\n        if (lastDesiredSize > 0 && this.desiredSize <= 0) {\n          this.sinkCapability = createPromiseCapability();\n          this.ready = this.sinkCapability.promise;\n        }\n        comObj.postMessage(\n          {\n            sourceName,\n            targetName,\n            stream: StreamKind.ENQUEUE,\n            streamId,\n            chunk,\n          },\n          transfers\n        );\n      },\n\n      close() {\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CLOSE,\n          streamId,\n        });\n        delete self.streamSinks[streamId];\n      },\n\n      error(reason) {\n        assert(reason instanceof Error, \"error must have a valid reason\");\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ERROR,\n          streamId,\n          reason: wrapReason(reason),\n        });\n      },\n\n      sinkCapability: createPromiseCapability(),\n      onPull: null,\n      onCancel: null,\n      isCancelled: false,\n      desiredSize: data.desiredSize,\n      ready: null,\n    };\n\n    streamSink.sinkCapability.resolve();\n    streamSink.ready = streamSink.sinkCapability.promise;\n    this.streamSinks[streamId] = streamSink;\n\n    new Promise(function (resolve) {\n      resolve(action(data.data, streamSink));\n    }).then(\n      function () {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.START_COMPLETE,\n          streamId,\n          success: true,\n        });\n      },\n      function (reason) {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.START_COMPLETE,\n          streamId,\n          reason: wrapReason(reason),\n        });\n      }\n    );\n  }\n\n  /**\n   * @private\n   */\n  _processStreamMessage(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const streamController = this.streamControllers[streamId],\n      streamSink = this.streamSinks[streamId];\n\n    switch (data.stream) {\n      case StreamKind.START_COMPLETE:\n        if (data.success) {\n          streamController.startCall.resolve();\n        } else {\n          streamController.startCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL_COMPLETE:\n        if (data.success) {\n          streamController.pullCall.resolve();\n        } else {\n          streamController.pullCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL:\n        // Ignore any pull after close is called.\n        if (!streamSink) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true,\n          });\n          break;\n        }\n        // Pull increases the desiredSize property of sink, so when it changes\n        // from negative to positive, set ready property as resolved promise.\n        if (streamSink.desiredSize <= 0 && data.desiredSize > 0) {\n          streamSink.sinkCapability.resolve();\n        }\n        // Reset desiredSize property of sink on every pull.\n        streamSink.desiredSize = data.desiredSize;\n\n        new Promise(function (resolve) {\n          resolve(streamSink.onPull && streamSink.onPull());\n        }).then(\n          function () {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.PULL_COMPLETE,\n              streamId,\n              success: true,\n            });\n          },\n          function (reason) {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.PULL_COMPLETE,\n              streamId,\n              reason: wrapReason(reason),\n            });\n          }\n        );\n        break;\n      case StreamKind.ENQUEUE:\n        assert(streamController, \"enqueue should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.controller.enqueue(data.chunk);\n        break;\n      case StreamKind.CLOSE:\n        assert(streamController, \"close should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.isClosed = true;\n        streamController.controller.close();\n        this._deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.ERROR:\n        assert(streamController, \"error should have stream controller\");\n        streamController.controller.error(wrapReason(data.reason));\n        this._deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL_COMPLETE:\n        if (data.success) {\n          streamController.cancelCall.resolve();\n        } else {\n          streamController.cancelCall.reject(wrapReason(data.reason));\n        }\n        this._deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL:\n        if (!streamSink) {\n          break;\n        }\n\n        new Promise(function (resolve) {\n          resolve(\n            streamSink.onCancel && streamSink.onCancel(wrapReason(data.reason))\n          );\n        }).then(\n          function () {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.CANCEL_COMPLETE,\n              streamId,\n              success: true,\n            });\n          },\n          function (reason) {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.CANCEL_COMPLETE,\n              streamId,\n              reason: wrapReason(reason),\n            });\n          }\n        );\n        streamSink.sinkCapability.reject(wrapReason(data.reason));\n        streamSink.isCancelled = true;\n        delete this.streamSinks[streamId];\n        break;\n      default:\n        throw new Error(\"Unexpected stream case\");\n    }\n  }\n\n  /**\n   * @private\n   */\n  async _deleteStreamController(streamController, streamId) {\n    // Delete the `streamController` only when the start, pull, and cancel\n    // capabilities have settled, to prevent `TypeError`s.\n    await Promise.allSettled([\n      streamController.startCall && streamController.startCall.promise,\n      streamController.pullCall && streamController.pullCall.promise,\n      streamController.cancelCall && streamController.cancelCall.promise,\n    ]);\n    delete this.streamControllers[streamId];\n  }\n\n  destroy() {\n    this.comObj.removeEventListener(\"message\", this._onComObjOnMessage);\n  }\n}\n\nexport { MessageHandler };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { objectFromMap } from \"../shared/util.js\";\n\nclass Metadata {\n  #metadataMap;\n\n  #data;\n\n  constructor({ parsedData, rawData }) {\n    this.#metadataMap = parsedData;\n    this.#data = rawData;\n  }\n\n  getRaw() {\n    return this.#data;\n  }\n\n  get(name) {\n    return this.#metadataMap.get(name) ?? null;\n  }\n\n  getAll() {\n    return objectFromMap(this.#metadataMap);\n  }\n\n  has(name) {\n    return this.#metadataMap.has(name);\n  }\n}\n\nexport { Metadata };\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { objectFromMap, warn } from \"../shared/util.js\";\n\nclass OptionalContentGroup {\n  constructor(name, intent) {\n    this.visible = true;\n    this.name = name;\n    this.intent = intent;\n  }\n}\n\nclass OptionalContentConfig {\n  constructor(data) {\n    this.name = null;\n    this.creator = null;\n    this._order = null;\n    this._groups = new Map();\n\n    if (data === null) {\n      return;\n    }\n    this.name = data.name;\n    this.creator = data.creator;\n    this._order = data.order;\n    for (const group of data.groups) {\n      this._groups.set(\n        group.id,\n        new OptionalContentGroup(group.name, group.intent)\n      );\n    }\n\n    if (data.baseState === \"OFF\") {\n      for (const group of this._groups) {\n        group.visible = false;\n      }\n    }\n\n    for (const on of data.on) {\n      this._groups.get(on).visible = true;\n    }\n\n    for (const off of data.off) {\n      this._groups.get(off).visible = false;\n    }\n  }\n\n  _evaluateVisibilityExpression(array) {\n    const length = array.length;\n    if (length < 2) {\n      return true;\n    }\n    const operator = array[0];\n    for (let i = 1; i < length; i++) {\n      const element = array[i];\n      let state;\n      if (Array.isArray(element)) {\n        state = this._evaluateVisibilityExpression(element);\n      } else if (this._groups.has(element)) {\n        state = this._groups.get(element).visible;\n      } else {\n        warn(`Optional content group not found: ${element}`);\n        return true;\n      }\n      switch (operator) {\n        case \"And\":\n          if (!state) {\n            return false;\n          }\n          break;\n        case \"Or\":\n          if (state) {\n            return true;\n          }\n          break;\n        case \"Not\":\n          return !state;\n        default:\n          return true;\n      }\n    }\n    return operator === \"And\";\n  }\n\n  isVisible(group) {\n    if (this._groups.size === 0) {\n      return true;\n    }\n    if (!group) {\n      warn(\"Optional content group not defined.\");\n      return true;\n    }\n    if (group.type === \"OCG\") {\n      if (!this._groups.has(group.id)) {\n        warn(`Optional content group not found: ${group.id}`);\n        return true;\n      }\n      return this._groups.get(group.id).visible;\n    } else if (group.type === \"OCMD\") {\n      // Per the spec, the expression should be preferred if available.\n      if (group.expression) {\n        return this._evaluateVisibilityExpression(group.expression);\n      }\n      if (!group.policy || group.policy === \"AnyOn\") {\n        // Default\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this._groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOn\") {\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this._groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      } else if (group.policy === \"AnyOff\") {\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this._groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOff\") {\n        for (const id of group.ids) {\n          if (!this._groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this._groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      }\n      warn(`Unknown optional content policy ${group.policy}.`);\n      return true;\n    }\n    warn(`Unknown group type ${group.type}.`);\n    return true;\n  }\n\n  setVisibility(id, visible = true) {\n    if (!this._groups.has(id)) {\n      warn(`Optional content group not found: ${id}`);\n      return;\n    }\n    this._groups.get(id).visible = !!visible;\n  }\n\n  getOrder() {\n    if (!this._groups.size) {\n      return null;\n    }\n    if (this._order) {\n      return this._order.slice();\n    }\n    return Array.from(this._groups.keys());\n  }\n\n  getGroups() {\n    return this._groups.size > 0 ? objectFromMap(this._groups) : null;\n  }\n\n  getGroup(id) {\n    return this._groups.get(id) || null;\n  }\n}\n\nexport { OptionalContentConfig };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert, createPromiseCapability } from \"../shared/util.js\";\nimport { isPdfFile } from \"./display_utils.js\";\n\n/** @implements {IPDFStream} */\nclass PDFDataTransportStream {\n  constructor(params, pdfDataRangeTransport) {\n    assert(\n      pdfDataRangeTransport,\n      'PDFDataTransportStream - missing required \"pdfDataRangeTransport\" argument.'\n    );\n\n    this._queuedChunks = [];\n    this._progressiveDone = params.progressiveDone || false;\n    this._contentDispositionFilename =\n      params.contentDispositionFilename || null;\n\n    const initialData = params.initialData;\n    if (initialData?.length > 0) {\n      const buffer = new Uint8Array(initialData).buffer;\n      this._queuedChunks.push(buffer);\n    }\n\n    this._pdfDataRangeTransport = pdfDataRangeTransport;\n    this._isStreamingSupported = !params.disableStream;\n    this._isRangeSupported = !params.disableRange;\n    this._contentLength = params.length;\n\n    this._fullRequestReader = null;\n    this._rangeReaders = [];\n\n    this._pdfDataRangeTransport.addRangeListener((begin, chunk) => {\n      this._onReceiveData({ begin, chunk });\n    });\n\n    this._pdfDataRangeTransport.addProgressListener((loaded, total) => {\n      this._onProgress({ loaded, total });\n    });\n\n    this._pdfDataRangeTransport.addProgressiveReadListener(chunk => {\n      this._onReceiveData({ chunk });\n    });\n\n    this._pdfDataRangeTransport.addProgressiveDoneListener(() => {\n      this._onProgressiveDone();\n    });\n\n    this._pdfDataRangeTransport.transportReady();\n  }\n\n  _onReceiveData(args) {\n    const buffer = new Uint8Array(args.chunk).buffer;\n    if (args.begin === undefined) {\n      if (this._fullRequestReader) {\n        this._fullRequestReader._enqueue(buffer);\n      } else {\n        this._queuedChunks.push(buffer);\n      }\n    } else {\n      const found = this._rangeReaders.some(function (rangeReader) {\n        if (rangeReader._begin !== args.begin) {\n          return false;\n        }\n        rangeReader._enqueue(buffer);\n        return true;\n      });\n      assert(\n        found,\n        \"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.\"\n      );\n    }\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n\n  _onProgress(evt) {\n    if (evt.total === undefined) {\n      // Reporting to first range reader, if it exists.\n      const firstReader = this._rangeReaders[0];\n      if (firstReader?.onProgress) {\n        firstReader.onProgress({ loaded: evt.loaded });\n      }\n    } else {\n      const fullReader = this._fullRequestReader;\n      if (fullReader?.onProgress) {\n        fullReader.onProgress({ loaded: evt.loaded, total: evt.total });\n      }\n    }\n  }\n\n  _onProgressiveDone() {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.progressiveDone();\n    }\n    this._progressiveDone = true;\n  }\n\n  _removeRangeReader(reader) {\n    const i = this._rangeReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeReaders.splice(i, 1);\n    }\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFDataTransportStream.getFullReader can only be called once.\"\n    );\n    const queuedChunks = this._queuedChunks;\n    this._queuedChunks = null;\n    return new PDFDataTransportStreamReader(\n      this,\n      queuedChunks,\n      this._progressiveDone,\n      this._contentDispositionFilename\n    );\n  }\n\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFDataTransportStreamRangeReader(this, begin, end);\n    this._pdfDataRangeTransport.requestDataRange(begin, end);\n    this._rangeReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n    for (const reader of this._rangeReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n    this._pdfDataRangeTransport.abort();\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFDataTransportStreamReader {\n  constructor(\n    stream,\n    queuedChunks,\n    progressiveDone = false,\n    contentDispositionFilename = null\n  ) {\n    this._stream = stream;\n    this._done = progressiveDone || false;\n    this._filename = isPdfFile(contentDispositionFilename)\n      ? contentDispositionFilename\n      : null;\n    this._queuedChunks = queuedChunks || [];\n    this._loaded = 0;\n    for (const chunk of this._queuedChunks) {\n      this._loaded += chunk.byteLength;\n    }\n    this._requests = [];\n    this._headersReady = Promise.resolve();\n    stream._fullRequestReader = this;\n\n    this.onProgress = null;\n  }\n\n  _enqueue(chunk) {\n    if (this._done) {\n      return; // Ignore new data.\n    }\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({ value: chunk, done: false });\n    } else {\n      this._queuedChunks.push(chunk);\n    }\n    this._loaded += chunk.byteLength;\n  }\n\n  get headersReady() {\n    return this._headersReady;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get isRangeSupported() {\n    return this._stream._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._stream._isStreamingSupported;\n  }\n\n  get contentLength() {\n    return this._stream._contentLength;\n  }\n\n  async read() {\n    if (this._queuedChunks.length > 0) {\n      const chunk = this._queuedChunks.shift();\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n  }\n\n  progressiveDone() {\n    if (this._done) {\n      return;\n    }\n    this._done = true;\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFDataTransportStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._begin = begin;\n    this._end = end;\n    this._queuedChunk = null;\n    this._requests = [];\n    this._done = false;\n\n    this.onProgress = null;\n  }\n\n  _enqueue(chunk) {\n    if (this._done) {\n      return; // ignore new data\n    }\n    if (this._requests.length === 0) {\n      this._queuedChunk = chunk;\n    } else {\n      const requestsCapability = this._requests.shift();\n      requestsCapability.resolve({ value: chunk, done: false });\n      for (const requestCapability of this._requests) {\n        requestCapability.resolve({ value: undefined, done: true });\n      }\n      this._requests.length = 0;\n    }\n    this._done = true;\n    this._stream._removeRangeReader(this);\n  }\n\n  get isStreamingSupported() {\n    return false;\n  }\n\n  async read() {\n    if (this._queuedChunk) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n    this._stream._removeRangeReader(this);\n  }\n}\n\nexport { PDFDataTransportStream };\n","/* Copyright 2021 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nclass XfaText {\n  /**\n   * Walk an XFA tree and create an array of text nodes that is compatible\n   * with a regular PDFs TextContent. Currently, only TextItem.str is supported,\n   * all other fields and styles haven't been implemented.\n   *\n   * @param {Object} xfa - An XFA fake DOM object.\n   *\n   * @returns {TextContent}\n   */\n  static textContent(xfa) {\n    const items = [];\n    const output = {\n      items,\n      styles: Object.create(null),\n    };\n    function walk(node) {\n      if (!node) {\n        return;\n      }\n      let str = null;\n      const name = node.name;\n      if (name === \"#text\") {\n        str = node.value;\n      } else if (!XfaText.shouldBuildText(name)) {\n        return;\n      } else if (node?.attributes?.textContent) {\n        str = node.attributes.textContent;\n      } else if (node.value) {\n        str = node.value;\n      }\n      if (str !== null) {\n        items.push({\n          str,\n        });\n      }\n      if (!node.children) {\n        return;\n      }\n      for (const child of node.children) {\n        walk(child);\n      }\n    }\n    walk(xfa);\n    return output;\n  }\n\n  /**\n   * @param {string} name - DOM node name. (lower case)\n   *\n   * @returns {boolean} true if the DOM node should have a corresponding text\n   * node.\n   */\n  static shouldBuildText(name) {\n    return !(\n      name === \"textarea\" ||\n      name === \"input\" ||\n      name === \"option\" ||\n      name === \"select\"\n    );\n  }\n}\n\nexport { XfaText };\n","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @typedef {import(\"./api\").PDFPageProxy} PDFPageProxy */\n/** @typedef {import(\"./display_utils\").PageViewport} PageViewport */\n/** @typedef {import(\"./interfaces\").IDownloadManager} IDownloadManager */\n/** @typedef {import(\"../../web/interfaces\").IPDFLinkService} IPDFLinkService */\n\nimport {\n  AnnotationBorderStyleType,\n  AnnotationType,\n  assert,\n  shadow,\n  stringToPDFString,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport {\n  DOMSVGFactory,\n  getFilenameFromUrl,\n  PDFDateString,\n} from \"./display_utils.js\";\nimport { AnnotationStorage } from \"./annotation_storage.js\";\nimport { ColorConverters } from \"../shared/scripting_utils.js\";\nimport { XfaLayer } from \"./xfa_layer.js\";\n\nconst DEFAULT_TAB_INDEX = 1000;\nconst GetElementsByNameSet = new WeakSet();\n\n/**\n * @typedef {Object} AnnotationElementParameters\n * @property {Object} data\n * @property {HTMLDivElement} layer\n * @property {PDFPageProxy} page\n * @property {PageViewport} viewport\n * @property {IPDFLinkService} linkService\n * @property {IDownloadManager} downloadManager\n * @property {AnnotationStorage} [annotationStorage]\n * @property {string} [imageResourcesPath] - Path for image resources, mainly\n *   for annotation icons. Include trailing slash.\n * @property {boolean} renderForms\n * @property {Object} svgFactory\n * @property {boolean} [enableScripting]\n * @property {boolean} [hasJSActions]\n * @property {Object} [fieldObjects]\n * @property {Object} [mouseState]\n */\n\nclass AnnotationElementFactory {\n  /**\n   * @param {AnnotationElementParameters} parameters\n   * @returns {AnnotationElement}\n   */\n  static create(parameters) {\n    const subtype = parameters.data.annotationType;\n\n    switch (subtype) {\n      case AnnotationType.LINK:\n        return new LinkAnnotationElement(parameters);\n\n      case AnnotationType.TEXT:\n        return new TextAnnotationElement(parameters);\n\n      case AnnotationType.WIDGET:\n        const fieldType = parameters.data.fieldType;\n\n        switch (fieldType) {\n          case \"Tx\":\n            return new TextWidgetAnnotationElement(parameters);\n          case \"Btn\":\n            if (parameters.data.radioButton) {\n              return new RadioButtonWidgetAnnotationElement(parameters);\n            } else if (parameters.data.checkBox) {\n              return new CheckboxWidgetAnnotationElement(parameters);\n            }\n            return new PushButtonWidgetAnnotationElement(parameters);\n          case \"Ch\":\n            return new ChoiceWidgetAnnotationElement(parameters);\n        }\n        return new WidgetAnnotationElement(parameters);\n\n      case AnnotationType.POPUP:\n        return new PopupAnnotationElement(parameters);\n\n      case AnnotationType.FREETEXT:\n        return new FreeTextAnnotationElement(parameters);\n\n      case AnnotationType.LINE:\n        return new LineAnnotationElement(parameters);\n\n      case AnnotationType.SQUARE:\n        return new SquareAnnotationElement(parameters);\n\n      case AnnotationType.CIRCLE:\n        return new CircleAnnotationElement(parameters);\n\n      case AnnotationType.POLYLINE:\n        return new PolylineAnnotationElement(parameters);\n\n      case AnnotationType.CARET:\n        return new CaretAnnotationElement(parameters);\n\n      case AnnotationType.INK:\n        return new InkAnnotationElement(parameters);\n\n      case AnnotationType.POLYGON:\n        return new PolygonAnnotationElement(parameters);\n\n      case AnnotationType.HIGHLIGHT:\n        return new HighlightAnnotationElement(parameters);\n\n      case AnnotationType.UNDERLINE:\n        return new UnderlineAnnotationElement(parameters);\n\n      case AnnotationType.SQUIGGLY:\n        return new SquigglyAnnotationElement(parameters);\n\n      case AnnotationType.STRIKEOUT:\n        return new StrikeOutAnnotationElement(parameters);\n\n      case AnnotationType.STAMP:\n        return new StampAnnotationElement(parameters);\n\n      case AnnotationType.FILEATTACHMENT:\n        return new FileAttachmentAnnotationElement(parameters);\n\n      default:\n        return new AnnotationElement(parameters);\n    }\n  }\n}\n\nclass AnnotationElement {\n  constructor(\n    parameters,\n    {\n      isRenderable = false,\n      ignoreBorder = false,\n      createQuadrilaterals = false,\n    } = {}\n  ) {\n    this.isRenderable = isRenderable;\n    this.data = parameters.data;\n    this.layer = parameters.layer;\n    this.page = parameters.page;\n    this.viewport = parameters.viewport;\n    this.linkService = parameters.linkService;\n    this.downloadManager = parameters.downloadManager;\n    this.imageResourcesPath = parameters.imageResourcesPath;\n    this.renderForms = parameters.renderForms;\n    this.svgFactory = parameters.svgFactory;\n    this.annotationStorage = parameters.annotationStorage;\n    this.enableScripting = parameters.enableScripting;\n    this.hasJSActions = parameters.hasJSActions;\n    this._fieldObjects = parameters.fieldObjects;\n    this._mouseState = parameters.mouseState;\n\n    if (isRenderable) {\n      this.container = this._createContainer(ignoreBorder);\n    }\n    if (createQuadrilaterals) {\n      this.quadrilaterals = this._createQuadrilaterals(ignoreBorder);\n    }\n  }\n\n  /**\n   * Create an empty container for the annotation's HTML element.\n   *\n   * @private\n   * @param {boolean} ignoreBorder\n   * @memberof AnnotationElement\n   * @returns {HTMLSectionElement}\n   */\n  _createContainer(ignoreBorder = false) {\n    const data = this.data,\n      page = this.page,\n      viewport = this.viewport;\n    const container = document.createElement(\"section\");\n    let width = data.rect[2] - data.rect[0];\n    let height = data.rect[3] - data.rect[1];\n\n    container.setAttribute(\"data-annotation-id\", data.id);\n\n    // Do *not* modify `data.rect`, since that will corrupt the annotation\n    // position on subsequent calls to `_createContainer` (see issue 6804).\n    const rect = Util.normalizeRect([\n      data.rect[0],\n      page.view[3] - data.rect[1] + page.view[1],\n      data.rect[2],\n      page.view[3] - data.rect[3] + page.view[1],\n    ]);\n\n    if (data.hasOwnCanvas) {\n      const transform = viewport.transform.slice();\n      const [scaleX, scaleY] = Util.singularValueDecompose2dScale(transform);\n      width = Math.ceil(width * scaleX);\n      height = Math.ceil(height * scaleY);\n      rect[0] *= scaleX;\n      rect[1] *= scaleY;\n      // Reset the scale part of the transform matrix (which must be diagonal\n      // or anti-diagonal) in order to avoid to rescale the canvas.\n      // The canvas for the annotation is correctly scaled when it is drawn\n      // (see `beginAnnotation` in canvas.js).\n      for (let i = 0; i < 4; i++) {\n        transform[i] = Math.sign(transform[i]);\n      }\n      container.style.transform = `matrix(${transform.join(\",\")})`;\n    } else {\n      container.style.transform = `matrix(${viewport.transform.join(\",\")})`;\n    }\n\n    container.style.transformOrigin = `${-rect[0]}px ${-rect[1]}px`;\n\n    if (!ignoreBorder && data.borderStyle.width > 0) {\n      container.style.borderWidth = `${data.borderStyle.width}px`;\n      if (data.borderStyle.style !== AnnotationBorderStyleType.UNDERLINE) {\n        // Underline styles only have a bottom border, so we do not need\n        // to adjust for all borders. This yields a similar result as\n        // Adobe Acrobat/Reader.\n        width -= 2 * data.borderStyle.width;\n        height -= 2 * data.borderStyle.width;\n      }\n\n      const horizontalRadius = data.borderStyle.horizontalCornerRadius;\n      const verticalRadius = data.borderStyle.verticalCornerRadius;\n      if (horizontalRadius > 0 || verticalRadius > 0) {\n        const radius = `${horizontalRadius}px / ${verticalRadius}px`;\n        container.style.borderRadius = radius;\n      }\n\n      switch (data.borderStyle.style) {\n        case AnnotationBorderStyleType.SOLID:\n          container.style.borderStyle = \"solid\";\n          break;\n\n        case AnnotationBorderStyleType.DASHED:\n          container.style.borderStyle = \"dashed\";\n          break;\n\n        case AnnotationBorderStyleType.BEVELED:\n          warn(\"Unimplemented border style: beveled\");\n          break;\n\n        case AnnotationBorderStyleType.INSET:\n          warn(\"Unimplemented border style: inset\");\n          break;\n\n        case AnnotationBorderStyleType.UNDERLINE:\n          container.style.borderBottomStyle = \"solid\";\n          break;\n\n        default:\n          break;\n      }\n\n      const borderColor = data.borderColor || data.color || null;\n      if (borderColor) {\n        container.style.borderColor = Util.makeHexColor(\n          data.color[0] | 0,\n          data.color[1] | 0,\n          data.color[2] | 0\n        );\n      } else {\n        // Transparent (invisible) border, so do not draw it at all.\n        container.style.borderWidth = 0;\n      }\n    }\n\n    container.style.left = `${rect[0]}px`;\n    container.style.top = `${rect[1]}px`;\n\n    if (data.hasOwnCanvas) {\n      container.style.width = container.style.height = \"auto\";\n    } else {\n      container.style.width = `${width}px`;\n      container.style.height = `${height}px`;\n    }\n    return container;\n  }\n\n  /**\n   * Create quadrilaterals from the annotation's quadpoints.\n   *\n   * @private\n   * @param {boolean} ignoreBorder\n   * @memberof AnnotationElement\n   * @returns {Array<HTMLSectionElement>}\n   */\n  _createQuadrilaterals(ignoreBorder = false) {\n    if (!this.data.quadPoints) {\n      return null;\n    }\n\n    const quadrilaterals = [];\n    const savedRect = this.data.rect;\n    for (const quadPoint of this.data.quadPoints) {\n      this.data.rect = [\n        quadPoint[2].x,\n        quadPoint[2].y,\n        quadPoint[1].x,\n        quadPoint[1].y,\n      ];\n      quadrilaterals.push(this._createContainer(ignoreBorder));\n    }\n    this.data.rect = savedRect;\n    return quadrilaterals;\n  }\n\n  /**\n   * Create a popup for the annotation's HTML element. This is used for\n   * annotations that do not have a Popup entry in the dictionary, but\n   * are of a type that works with popups (such as Highlight annotations).\n   *\n   * @private\n   * @param {HTMLDivElement|HTMLImageElement|null} trigger\n   * @param {Object} data\n   * @memberof AnnotationElement\n   */\n  _createPopup(trigger, data) {\n    let container = this.container;\n    if (this.quadrilaterals) {\n      trigger = trigger || this.quadrilaterals;\n      container = this.quadrilaterals[0];\n    }\n\n    // If no trigger element is specified, create it.\n    if (!trigger) {\n      trigger = document.createElement(\"div\");\n      trigger.style.height = container.style.height;\n      trigger.style.width = container.style.width;\n      container.appendChild(trigger);\n    }\n\n    const popupElement = new PopupElement({\n      container,\n      trigger,\n      color: data.color,\n      titleObj: data.titleObj,\n      modificationDate: data.modificationDate,\n      contentsObj: data.contentsObj,\n      richText: data.richText,\n      hideWrapper: true,\n    });\n    const popup = popupElement.render();\n\n    // Position the popup next to the annotation's container.\n    popup.style.left = container.style.width;\n\n    container.appendChild(popup);\n  }\n\n  /**\n   * Render the quadrilaterals of the annotation.\n   *\n   * @private\n   * @param {string} className\n   * @memberof AnnotationElement\n   * @returns {Array<HTMLSectionElement>}\n   */\n  _renderQuadrilaterals(className) {\n    if (\n      typeof PDFJSDev === \"undefined\" ||\n      PDFJSDev.test(\"!PRODUCTION || TESTING\")\n    ) {\n      assert(this.quadrilaterals, \"Missing quadrilaterals during rendering\");\n    }\n\n    for (const quadrilateral of this.quadrilaterals) {\n      quadrilateral.className = className;\n    }\n    return this.quadrilaterals;\n  }\n\n  /**\n   * Render the annotation's HTML element(s).\n   *\n   * @public\n   * @memberof AnnotationElement\n   * @returns {HTMLSectionElement|Array<HTMLSectionElement>}\n   */\n  render() {\n    unreachable(\"Abstract method `AnnotationElement.render` called\");\n  }\n\n  /**\n   * @private\n   * @returns {Array}\n   */\n  _getElementsByName(name, skipId = null) {\n    const fields = [];\n\n    if (this._fieldObjects) {\n      const fieldObj = this._fieldObjects[name];\n      if (fieldObj) {\n        for (const { page, id, exportValues } of fieldObj) {\n          if (page === -1) {\n            continue;\n          }\n          if (id === skipId) {\n            continue;\n          }\n          const exportValue =\n            typeof exportValues === \"string\" ? exportValues : null;\n\n          const domElement = document.getElementById(id);\n          if (domElement && !GetElementsByNameSet.has(domElement)) {\n            warn(`_getElementsByName - element not allowed: ${id}`);\n            continue;\n          }\n          fields.push({ id, exportValue, domElement });\n        }\n      }\n      return fields;\n    }\n    // Fallback to a regular DOM lookup, to ensure that the standalone\n    // viewer components won't break.\n    for (const domElement of document.getElementsByName(name)) {\n      const { id, exportValue } = domElement;\n      if (id === skipId) {\n        continue;\n      }\n      if (!GetElementsByNameSet.has(domElement)) {\n        continue;\n      }\n      fields.push({ id, exportValue, domElement });\n    }\n    return fields;\n  }\n\n  static get platform() {\n    const platform = typeof navigator !== \"undefined\" ? navigator.platform : \"\";\n\n    return shadow(this, \"platform\", {\n      isWin: platform.includes(\"Win\"),\n      isMac: platform.includes(\"Mac\"),\n    });\n  }\n}\n\nclass LinkAnnotationElement extends AnnotationElement {\n  constructor(parameters, options = null) {\n    const isRenderable = !!(\n      parameters.data.url ||\n      parameters.data.dest ||\n      parameters.data.action ||\n      parameters.data.isTooltipOnly ||\n      parameters.data.resetForm ||\n      (parameters.data.actions &&\n        (parameters.data.actions.Action ||\n          parameters.data.actions[\"Mouse Up\"] ||\n          parameters.data.actions[\"Mouse Down\"]))\n    );\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: !!options?.ignoreBorder,\n      createQuadrilaterals: true,\n    });\n  }\n\n  render() {\n    const { data, linkService } = this;\n    const link = document.createElement(\"a\");\n\n    if (data.url) {\n      if (\n        (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) &&\n        !linkService.addLinkAttributes\n      ) {\n        warn(\n          \"LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance.\"\n        );\n      }\n      linkService.addLinkAttributes?.(link, data.url, data.newWindow);\n    } else if (data.action) {\n      this._bindNamedAction(link, data.action);\n    } else if (data.dest) {\n      this._bindLink(link, data.dest);\n    } else {\n      let hasClickAction = false;\n      if (\n        data.actions &&\n        (data.actions.Action ||\n          data.actions[\"Mouse Up\"] ||\n          data.actions[\"Mouse Down\"]) &&\n        this.enableScripting &&\n        this.hasJSActions\n      ) {\n        hasClickAction = true;\n        this._bindJSAction(link, data);\n      }\n\n      if (data.resetForm) {\n        this._bindResetFormAction(link, data.resetForm);\n      } else if (!hasClickAction) {\n        this._bindLink(link, \"\");\n      }\n    }\n\n    if (this.quadrilaterals) {\n      return this._renderQuadrilaterals(\"linkAnnotation\").map(\n        (quadrilateral, index) => {\n          const linkElement = index === 0 ? link : link.cloneNode();\n          quadrilateral.appendChild(linkElement);\n          return quadrilateral;\n        }\n      );\n    }\n\n    this.container.className = \"linkAnnotation\";\n    this.container.appendChild(link);\n    return this.container;\n  }\n\n  /**\n   * Bind internal links to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} destination\n   * @memberof LinkAnnotationElement\n   */\n  _bindLink(link, destination) {\n    link.href = this.linkService.getDestinationHash(destination);\n    link.onclick = () => {\n      if (destination) {\n        this.linkService.goToDestination(destination);\n      }\n      return false;\n    };\n    if (destination || destination === /* isTooltipOnly = */ \"\") {\n      link.className = \"internalLink\";\n    }\n  }\n\n  /**\n   * Bind named actions to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} action\n   * @memberof LinkAnnotationElement\n   */\n  _bindNamedAction(link, action) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeNamedAction(action);\n      return false;\n    };\n    link.className = \"internalLink\";\n  }\n\n  /**\n   * Bind JS actions to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} data\n   * @memberof LinkAnnotationElement\n   */\n  _bindJSAction(link, data) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    const map = new Map([\n      [\"Action\", \"onclick\"],\n      [\"Mouse Up\", \"onmouseup\"],\n      [\"Mouse Down\", \"onmousedown\"],\n    ]);\n    for (const name of Object.keys(data.actions)) {\n      const jsName = map.get(name);\n      if (!jsName) {\n        continue;\n      }\n      link[jsName] = () => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: data.id,\n            name,\n          },\n        });\n        return false;\n      };\n    }\n\n    if (!link.onclick) {\n      link.onclick = () => false;\n    }\n    link.className = \"internalLink\";\n  }\n\n  _bindResetFormAction(link, resetForm) {\n    const otherClickAction = link.onclick;\n    if (!otherClickAction) {\n      link.href = this.linkService.getAnchorUrl(\"\");\n    }\n    link.className = \"internalLink\";\n\n    if (!this._fieldObjects) {\n      warn(\n        `_bindResetFormAction - \"resetForm\" action not supported, ` +\n          \"ensure that the `fieldObjects` parameter is provided.\"\n      );\n      if (!otherClickAction) {\n        link.onclick = () => false;\n      }\n      return;\n    }\n\n    link.onclick = () => {\n      if (otherClickAction) {\n        otherClickAction();\n      }\n\n      const {\n        fields: resetFormFields,\n        refs: resetFormRefs,\n        include,\n      } = resetForm;\n\n      const allFields = [];\n      if (resetFormFields.length !== 0 || resetFormRefs.length !== 0) {\n        const fieldIds = new Set(resetFormRefs);\n        for (const fieldName of resetFormFields) {\n          const fields = this._fieldObjects[fieldName] || [];\n          for (const { id } of fields) {\n            fieldIds.add(id);\n          }\n        }\n        for (const fields of Object.values(this._fieldObjects)) {\n          for (const field of fields) {\n            if (fieldIds.has(field.id) === include) {\n              allFields.push(field);\n            }\n          }\n        }\n      } else {\n        for (const fields of Object.values(this._fieldObjects)) {\n          allFields.push(...fields);\n        }\n      }\n\n      const storage = this.annotationStorage;\n      const allIds = [];\n      for (const field of allFields) {\n        const { id } = field;\n        allIds.push(id);\n        switch (field.type) {\n          case \"text\": {\n            const value = field.defaultValue || \"\";\n            storage.setValue(id, { value, valueAsString: value });\n            break;\n          }\n          case \"checkbox\":\n          case \"radiobutton\": {\n            const value = field.defaultValue === field.exportValues;\n            storage.setValue(id, { value });\n            break;\n          }\n          case \"combobox\":\n          case \"listbox\": {\n            const value = field.defaultValue || \"\";\n            storage.setValue(id, { value });\n            break;\n          }\n          default:\n            continue;\n        }\n        const domElement = document.getElementById(id);\n        if (!domElement || !GetElementsByNameSet.has(domElement)) {\n          continue;\n        }\n        domElement.dispatchEvent(new Event(\"resetform\"));\n      }\n\n      if (this.enableScripting) {\n        // Update the values in the sandbox.\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: \"app\",\n            ids: allIds,\n            name: \"ResetForm\",\n          },\n        });\n      }\n\n      return false;\n    };\n  }\n}\n\nclass TextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str ||\n      parameters.data.richText?.str\n    );\n    super(parameters, { isRenderable });\n  }\n\n  render() {\n    this.container.className = \"textAnnotation\";\n\n    const image = document.createElement(\"img\");\n    image.style.height = this.container.style.height;\n    image.style.width = this.container.style.width;\n    image.src =\n      this.imageResourcesPath +\n      \"annotation-\" +\n      this.data.name.toLowerCase() +\n      \".svg\";\n    image.alt = \"[{{type}} Annotation]\";\n    image.dataset.l10nId = \"text_annotation_type\";\n    image.dataset.l10nArgs = JSON.stringify({ type: this.data.name });\n\n    if (!this.data.hasPopup) {\n      this._createPopup(image, this.data);\n    }\n\n    this.container.appendChild(image);\n    return this.container;\n  }\n}\n\nclass WidgetAnnotationElement extends AnnotationElement {\n  render() {\n    // Show only the container for unsupported field types.\n    if (this.data.alternativeText) {\n      this.container.title = this.data.alternativeText;\n    }\n\n    return this.container;\n  }\n\n  _getKeyModifier(event) {\n    const { isWin, isMac } = AnnotationElement.platform;\n    return (isWin && event.ctrlKey) || (isMac && event.metaKey);\n  }\n\n  _setEventListener(element, baseName, eventName, valueGetter) {\n    if (baseName.includes(\"mouse\")) {\n      // Mouse events\n      element.addEventListener(baseName, event => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event),\n            shift: event.shiftKey,\n            modifier: this._getKeyModifier(event),\n          },\n        });\n      });\n    } else {\n      // Non mouse event\n      element.addEventListener(baseName, event => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: event.target.checked,\n          },\n        });\n      });\n    }\n  }\n\n  _setEventListeners(element, names, getter) {\n    for (const [baseName, eventName] of names) {\n      if (eventName === \"Action\" || this.data.actions?.[eventName]) {\n        this._setEventListener(element, baseName, eventName, getter);\n      }\n    }\n  }\n\n  _setBackgroundColor(element) {\n    const color = this.data.backgroundColor || null;\n    element.style.backgroundColor =\n      color === null\n        ? \"transparent\"\n        : Util.makeHexColor(color[0], color[1], color[2]);\n  }\n\n  _dispatchEventFromSandbox(actions, jsEvent) {\n    const setColor = (jsName, styleName, event) => {\n      const color = event.detail[jsName];\n      event.target.style[styleName] = ColorConverters[`${color[0]}_HTML`](\n        color.slice(1)\n      );\n    };\n\n    const commonActions = {\n      display: event => {\n        const hidden = event.detail.display % 2 === 1;\n        event.target.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          hidden,\n          print: event.detail.display === 0 || event.detail.display === 3,\n        });\n      },\n      print: event => {\n        this.annotationStorage.setValue(this.data.id, {\n          print: event.detail.print,\n        });\n      },\n      hidden: event => {\n        event.target.style.visibility = event.detail.hidden\n          ? \"hidden\"\n          : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          hidden: event.detail.hidden,\n        });\n      },\n      focus: event => {\n        setTimeout(() => event.target.focus({ preventScroll: false }), 0);\n      },\n      userName: event => {\n        // tooltip\n        event.target.title = event.detail.userName;\n      },\n      readonly: event => {\n        if (event.detail.readonly) {\n          event.target.setAttribute(\"readonly\", \"\");\n        } else {\n          event.target.removeAttribute(\"readonly\");\n        }\n      },\n      required: event => {\n        if (event.detail.required) {\n          event.target.setAttribute(\"required\", \"\");\n        } else {\n          event.target.removeAttribute(\"required\");\n        }\n      },\n      bgColor: event => {\n        setColor(\"bgColor\", \"backgroundColor\", event);\n      },\n      fillColor: event => {\n        setColor(\"fillColor\", \"backgroundColor\", event);\n      },\n      fgColor: event => {\n        setColor(\"fgColor\", \"color\", event);\n      },\n      textColor: event => {\n        setColor(\"textColor\", \"color\", event);\n      },\n      borderColor: event => {\n        setColor(\"borderColor\", \"borderColor\", event);\n      },\n      strokeColor: event => {\n        setColor(\"strokeColor\", \"borderColor\", event);\n      },\n    };\n\n    for (const name of Object.keys(jsEvent.detail)) {\n      const action = actions[name] || commonActions[name];\n      if (action) {\n        action(jsEvent);\n      }\n    }\n  }\n}\n\nclass TextWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    const isRenderable =\n      parameters.renderForms ||\n      (!parameters.data.hasAppearance && !!parameters.data.fieldValue);\n    super(parameters, { isRenderable });\n  }\n\n  setPropertyOnSiblings(base, key, value, keyInStorage) {\n    const storage = this.annotationStorage;\n    for (const element of this._getElementsByName(\n      base.name,\n      /* skipId = */ base.id\n    )) {\n      if (element.domElement) {\n        element.domElement[key] = value;\n      }\n      storage.setValue(element.id, { [keyInStorage]: value });\n    }\n  }\n\n  render() {\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n\n    this.container.className = \"textWidgetAnnotation\";\n\n    let element = null;\n    if (this.renderForms) {\n      // NOTE: We cannot set the values using `element.value` below, since it\n      //       prevents the AnnotationLayer rasterizer in `test/driver.js`\n      //       from parsing the elements correctly for the reference tests.\n      const storedData = storage.getValue(id, {\n        value: this.data.fieldValue,\n        valueAsString: this.data.fieldValue,\n      });\n      const textContent = storedData.valueAsString || storedData.value || \"\";\n      const elementData = {\n        userValue: null,\n        formattedValue: null,\n        beforeInputSelectionRange: null,\n        beforeInputValue: null,\n      };\n\n      if (this.data.multiLine) {\n        element = document.createElement(\"textarea\");\n        element.textContent = textContent;\n      } else {\n        element = document.createElement(\"input\");\n        element.type = \"text\";\n        element.setAttribute(\"value\", textContent);\n      }\n      GetElementsByNameSet.add(element);\n      element.disabled = this.data.readOnly;\n      element.name = this.data.fieldName;\n      element.tabIndex = DEFAULT_TAB_INDEX;\n\n      elementData.userValue = textContent;\n      element.setAttribute(\"id\", id);\n\n      element.addEventListener(\"input\", event => {\n        storage.setValue(id, { value: event.target.value });\n        this.setPropertyOnSiblings(\n          element,\n          \"value\",\n          event.target.value,\n          \"value\"\n        );\n      });\n\n      element.addEventListener(\"resetform\", event => {\n        const defaultValue = this.data.defaultFieldValue || \"\";\n        element.value = elementData.userValue = defaultValue;\n        delete elementData.formattedValue;\n      });\n\n      let blurListener = event => {\n        if (elementData.formattedValue) {\n          event.target.value = elementData.formattedValue;\n        }\n        // Reset the cursor position to the start of the field (issue 12359).\n        event.target.scrollLeft = 0;\n        elementData.beforeInputSelectionRange = null;\n      };\n\n      if (this.enableScripting && this.hasJSActions) {\n        element.addEventListener(\"focus\", event => {\n          if (elementData.userValue) {\n            event.target.value = elementData.userValue;\n          }\n        });\n\n        element.addEventListener(\"updatefromsandbox\", jsEvent => {\n          const actions = {\n            value(event) {\n              elementData.userValue = event.detail.value || \"\";\n              storage.setValue(id, { value: elementData.userValue.toString() });\n              if (!elementData.formattedValue) {\n                event.target.value = elementData.userValue;\n              }\n            },\n            valueAsString(event) {\n              elementData.formattedValue = event.detail.valueAsString || \"\";\n              if (event.target !== document.activeElement) {\n                // Input hasn't the focus so display formatted string\n                event.target.value = elementData.formattedValue;\n              }\n              storage.setValue(id, {\n                formattedValue: elementData.formattedValue,\n              });\n            },\n            selRange(event) {\n              const [selStart, selEnd] = event.detail.selRange;\n              if (selStart >= 0 && selEnd < event.target.value.length) {\n                event.target.setSelectionRange(selStart, selEnd);\n              }\n            },\n          };\n          this._dispatchEventFromSandbox(actions, jsEvent);\n        });\n\n        // Even if the field hasn't any actions\n        // leaving it can still trigger some actions with Calculate\n        element.addEventListener(\"keydown\", event => {\n          elementData.beforeInputValue = event.target.value;\n          // if the key is one of Escape, Enter or Tab\n          // then the data are committed\n          let commitKey = -1;\n          if (event.key === \"Escape\") {\n            commitKey = 0;\n          } else if (event.key === \"Enter\") {\n            commitKey = 2;\n          } else if (event.key === \"Tab\") {\n            commitKey = 3;\n          }\n          if (commitKey === -1) {\n            return;\n          }\n          // Save the entered value\n          elementData.userValue = event.target.value;\n          this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n            source: this,\n            detail: {\n              id,\n              name: \"Keystroke\",\n              value: event.target.value,\n              willCommit: true,\n              commitKey,\n              selStart: event.target.selectionStart,\n              selEnd: event.target.selectionEnd,\n            },\n          });\n        });\n        const _blurListener = blurListener;\n        blurListener = null;\n        element.addEventListener(\"blur\", event => {\n          if (this._mouseState.isDown) {\n            // Focus out using the mouse: data are committed\n            elementData.userValue = event.target.value;\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value: event.target.value,\n                willCommit: true,\n                commitKey: 1,\n                selStart: event.target.selectionStart,\n                selEnd: event.target.selectionEnd,\n              },\n            });\n          }\n          _blurListener(event);\n        });\n        element.addEventListener(\"mousedown\", event => {\n          elementData.beforeInputValue = event.target.value;\n          elementData.beforeInputSelectionRange = null;\n        });\n        element.addEventListener(\"keyup\", event => {\n          // keyup is triggered after input\n          if (event.target.selectionStart === event.target.selectionEnd) {\n            elementData.beforeInputSelectionRange = null;\n          }\n        });\n        element.addEventListener(\"select\", event => {\n          elementData.beforeInputSelectionRange = [\n            event.target.selectionStart,\n            event.target.selectionEnd,\n          ];\n        });\n\n        if (this.data.actions?.Keystroke) {\n          // We should use beforeinput but this\n          // event isn't available in Firefox\n          element.addEventListener(\"input\", event => {\n            let selStart = -1;\n            let selEnd = -1;\n            if (elementData.beforeInputSelectionRange) {\n              [selStart, selEnd] = elementData.beforeInputSelectionRange;\n            }\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value: elementData.beforeInputValue,\n                change: event.data,\n                willCommit: false,\n                selStart,\n                selEnd,\n              },\n            });\n          });\n        }\n\n        this._setEventListeners(\n          element,\n          [\n            [\"focus\", \"Focus\"],\n            [\"blur\", \"Blur\"],\n            [\"mousedown\", \"Mouse Down\"],\n            [\"mouseenter\", \"Mouse Enter\"],\n            [\"mouseleave\", \"Mouse Exit\"],\n            [\"mouseup\", \"Mouse Up\"],\n          ],\n          event => event.target.value\n        );\n      }\n\n      if (blurListener) {\n        element.addEventListener(\"blur\", blurListener);\n      }\n\n      if (this.data.maxLen !== null) {\n        element.maxLength = this.data.maxLen;\n      }\n\n      if (this.data.comb) {\n        const fieldWidth = this.data.rect[2] - this.data.rect[0];\n        const combWidth = fieldWidth / this.data.maxLen;\n\n        element.classList.add(\"comb\");\n        element.style.letterSpacing = `calc(${combWidth}px - 1ch)`;\n      }\n    } else {\n      element = document.createElement(\"div\");\n      element.textContent = this.data.fieldValue;\n      element.style.verticalAlign = \"middle\";\n      element.style.display = \"table-cell\";\n    }\n\n    this._setTextStyle(element);\n    this._setBackgroundColor(element);\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n\n  /**\n   * Apply text styles to the text in the element.\n   *\n   * @private\n   * @param {HTMLDivElement} element\n   * @memberof TextWidgetAnnotationElement\n   */\n  _setTextStyle(element) {\n    const TEXT_ALIGNMENT = [\"left\", \"center\", \"right\"];\n    const { fontSize, fontColor } = this.data.defaultAppearanceData;\n    const style = element.style;\n\n    // TODO: If the font-size is zero, calculate it based on the height and\n    //       width of the element.\n    // Not setting `style.fontSize` will use the default font-size for now.\n    if (fontSize) {\n      style.fontSize = `${fontSize}px`;\n    }\n\n    style.color = Util.makeHexColor(fontColor[0], fontColor[1], fontColor[2]);\n\n    if (this.data.textAlignment !== null) {\n      style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n    }\n  }\n}\n\nclass CheckboxWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: parameters.renderForms });\n  }\n\n  render() {\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.exportValue === data.fieldValue,\n    }).value;\n    if (typeof value === \"string\") {\n      // The value has been changed through js and set in annotationStorage.\n      value = value !== \"Off\";\n      storage.setValue(id, { value });\n    }\n\n    this.container.className = \"buttonWidgetAnnotation checkBox\";\n\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.disabled = data.readOnly;\n    element.type = \"checkbox\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.setAttribute(\"id\", id);\n    element.setAttribute(\"exportValue\", data.exportValue);\n    element.tabIndex = DEFAULT_TAB_INDEX;\n\n    element.addEventListener(\"change\", event => {\n      const { name, checked } = event.target;\n      for (const checkbox of this._getElementsByName(name, /* skipId = */ id)) {\n        const curChecked = checked && checkbox.exportValue === data.exportValue;\n        if (checkbox.domElement) {\n          checkbox.domElement.checked = curChecked;\n        }\n        storage.setValue(checkbox.id, { value: curChecked });\n      }\n      storage.setValue(id, { value: checked });\n    });\n\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue || \"Off\";\n      event.target.checked = defaultValue === data.exportValue;\n    });\n\n    if (this.enableScripting && this.hasJSActions) {\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            event.target.checked = event.detail.value !== \"Off\";\n            storage.setValue(id, { value: event.target.checked });\n          },\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n\n      this._setEventListeners(\n        element,\n        [\n          [\"change\", \"Validate\"],\n          [\"change\", \"Action\"],\n          [\"focus\", \"Focus\"],\n          [\"blur\", \"Blur\"],\n          [\"mousedown\", \"Mouse Down\"],\n          [\"mouseenter\", \"Mouse Enter\"],\n          [\"mouseleave\", \"Mouse Exit\"],\n          [\"mouseup\", \"Mouse Up\"],\n        ],\n        event => event.target.checked\n      );\n    }\n\n    this._setBackgroundColor(element);\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n}\n\nclass RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: parameters.renderForms });\n  }\n\n  render() {\n    this.container.className = \"buttonWidgetAnnotation radioButton\";\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.fieldValue === data.buttonValue,\n    }).value;\n    if (typeof value === \"string\") {\n      // The value has been changed through js and set in annotationStorage.\n      value = value !== data.buttonValue;\n      storage.setValue(id, { value });\n    }\n\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.disabled = data.readOnly;\n    element.type = \"radio\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.setAttribute(\"id\", id);\n    element.tabIndex = DEFAULT_TAB_INDEX;\n\n    element.addEventListener(\"change\", event => {\n      const { name, checked } = event.target;\n      for (const radio of this._getElementsByName(name, /* skipId = */ id)) {\n        storage.setValue(radio.id, { value: false });\n      }\n      storage.setValue(id, { value: checked });\n    });\n\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue;\n      event.target.checked =\n        defaultValue !== null &&\n        defaultValue !== undefined &&\n        defaultValue === data.buttonValue;\n    });\n\n    if (this.enableScripting && this.hasJSActions) {\n      const pdfButtonValue = data.buttonValue;\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value: event => {\n            const checked = pdfButtonValue === event.detail.value;\n            for (const radio of this._getElementsByName(event.target.name)) {\n              const curChecked = checked && radio.id === id;\n              if (radio.domElement) {\n                radio.domElement.checked = curChecked;\n              }\n              storage.setValue(radio.id, { value: curChecked });\n            }\n          },\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n\n      this._setEventListeners(\n        element,\n        [\n          [\"change\", \"Validate\"],\n          [\"change\", \"Action\"],\n          [\"focus\", \"Focus\"],\n          [\"blur\", \"Blur\"],\n          [\"mousedown\", \"Mouse Down\"],\n          [\"mouseenter\", \"Mouse Enter\"],\n          [\"mouseleave\", \"Mouse Exit\"],\n          [\"mouseup\", \"Mouse Up\"],\n        ],\n        event => event.target.checked\n      );\n    }\n\n    this._setBackgroundColor(element);\n\n    this.container.appendChild(element);\n    return this.container;\n  }\n}\n\nclass PushButtonWidgetAnnotationElement extends LinkAnnotationElement {\n  constructor(parameters) {\n    super(parameters, { ignoreBorder: parameters.data.hasAppearance });\n  }\n\n  render() {\n    // The rendering and functionality of a push button widget annotation is\n    // equal to that of a link annotation, but may have more functionality, such\n    // as performing actions on form fields (resetting, submitting, et cetera).\n    const container = super.render();\n    container.className = \"buttonWidgetAnnotation pushButton\";\n\n    if (this.data.alternativeText) {\n      container.title = this.data.alternativeText;\n    }\n\n    return container;\n  }\n}\n\nclass ChoiceWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: parameters.renderForms });\n  }\n\n  render() {\n    this.container.className = \"choiceWidgetAnnotation\";\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n\n    // For printing/saving we currently only support choice widgets with one\n    // option selection. Therefore, listboxes (#12189) and comboboxes (#12224)\n    // are not properly printed/saved yet, so we only store the first item in\n    // the field value array instead of the entire array. Once support for those\n    // two field types is implemented, we should use the same pattern as the\n    // other interactive widgets where the return value of `getValue`\n    // is used and the full array of field values is stored.\n    storage.getValue(id, {\n      value:\n        this.data.fieldValue.length > 0 ? this.data.fieldValue[0] : undefined,\n    });\n\n    let { fontSize } = this.data.defaultAppearanceData;\n    if (!fontSize) {\n      fontSize = 9;\n    }\n    const fontSizeStyle = `calc(${fontSize}px * var(--zoom-factor))`;\n\n    const selectElement = document.createElement(\"select\");\n    GetElementsByNameSet.add(selectElement);\n    selectElement.disabled = this.data.readOnly;\n    selectElement.name = this.data.fieldName;\n    selectElement.setAttribute(\"id\", id);\n    selectElement.tabIndex = DEFAULT_TAB_INDEX;\n\n    selectElement.style.fontSize = `${fontSize}px`;\n\n    if (!this.data.combo) {\n      // List boxes have a size and (optionally) multiple selection.\n      selectElement.size = this.data.options.length;\n      if (this.data.multiSelect) {\n        selectElement.multiple = true;\n      }\n    }\n\n    selectElement.addEventListener(\"resetform\", event => {\n      const defaultValue = this.data.defaultFieldValue;\n      for (const option of selectElement.options) {\n        option.selected = option.value === defaultValue;\n      }\n    });\n\n    // Insert the options into the choice field.\n    for (const option of this.data.options) {\n      const optionElement = document.createElement(\"option\");\n      optionElement.textContent = option.displayValue;\n      optionElement.value = option.exportValue;\n      if (this.data.combo) {\n        optionElement.style.fontSize = fontSizeStyle;\n      }\n      if (this.data.fieldValue.includes(option.exportValue)) {\n        optionElement.setAttribute(\"selected\", true);\n      }\n      selectElement.appendChild(optionElement);\n    }\n\n    const getValue = (event, isExport) => {\n      const name = isExport ? \"value\" : \"textContent\";\n      const options = event.target.options;\n      if (!event.target.multiple) {\n        return options.selectedIndex === -1\n          ? null\n          : options[options.selectedIndex][name];\n      }\n      return Array.prototype.filter\n        .call(options, option => option.selected)\n        .map(option => option[name]);\n    };\n\n    const getItems = event => {\n      const options = event.target.options;\n      return Array.prototype.map.call(options, option => {\n        return { displayValue: option.textContent, exportValue: option.value };\n      });\n    };\n\n    if (this.enableScripting && this.hasJSActions) {\n      selectElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            const value = event.detail.value;\n            const values = new Set(Array.isArray(value) ? value : [value]);\n            for (const option of selectElement.options) {\n              option.selected = values.has(option.value);\n            }\n            storage.setValue(id, {\n              value: getValue(event, /* isExport */ true),\n            });\n          },\n          multipleSelection(event) {\n            selectElement.multiple = true;\n          },\n          remove(event) {\n            const options = selectElement.options;\n            const index = event.detail.remove;\n            options[index].selected = false;\n            selectElement.remove(index);\n            if (options.length > 0) {\n              const i = Array.prototype.findIndex.call(\n                options,\n                option => option.selected\n              );\n              if (i === -1) {\n                options[0].selected = true;\n              }\n            }\n            storage.setValue(id, {\n              value: getValue(event, /* isExport */ true),\n              items: getItems(event),\n            });\n          },\n          clear(event) {\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            storage.setValue(id, { value: null, items: [] });\n          },\n          insert(event) {\n            const { index, displayValue, exportValue } = event.detail.insert;\n            const optionElement = document.createElement(\"option\");\n            optionElement.textContent = displayValue;\n            optionElement.value = exportValue;\n            selectElement.insertBefore(\n              optionElement,\n              selectElement.children[index]\n            );\n            storage.setValue(id, {\n              value: getValue(event, /* isExport */ true),\n              items: getItems(event),\n            });\n          },\n          items(event) {\n            const { items } = event.detail;\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            for (const item of items) {\n              const { displayValue, exportValue } = item;\n              const optionElement = document.createElement(\"option\");\n              optionElement.textContent = displayValue;\n              optionElement.value = exportValue;\n              selectElement.appendChild(optionElement);\n            }\n            if (selectElement.options.length > 0) {\n              selectElement.options[0].selected = true;\n            }\n            storage.setValue(id, {\n              value: getValue(event, /* isExport */ true),\n              items: getItems(event),\n            });\n          },\n          indices(event) {\n            const indices = new Set(event.detail.indices);\n            for (const option of event.target.options) {\n              option.selected = indices.has(option.index);\n            }\n            storage.setValue(id, {\n              value: getValue(event, /* isExport */ true),\n            });\n          },\n          editable(event) {\n            event.target.disabled = !event.detail.editable;\n          },\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n\n      selectElement.addEventListener(\"input\", event => {\n        const exportValue = getValue(event, /* isExport */ true);\n        const value = getValue(event, /* isExport */ false);\n        storage.setValue(id, { value: exportValue });\n\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id,\n            name: \"Keystroke\",\n            value,\n            changeEx: exportValue,\n            willCommit: true,\n            commitKey: 1,\n            keyDown: false,\n          },\n        });\n      });\n\n      this._setEventListeners(\n        selectElement,\n        [\n          [\"focus\", \"Focus\"],\n          [\"blur\", \"Blur\"],\n          [\"mousedown\", \"Mouse Down\"],\n          [\"mouseenter\", \"Mouse Enter\"],\n          [\"mouseleave\", \"Mouse Exit\"],\n          [\"mouseup\", \"Mouse Up\"],\n          [\"input\", \"Action\"],\n        ],\n        event => event.target.checked\n      );\n    } else {\n      selectElement.addEventListener(\"input\", function (event) {\n        storage.setValue(id, { value: getValue(event) });\n      });\n    }\n\n    this._setBackgroundColor(selectElement);\n\n    this.container.appendChild(selectElement);\n    return this.container;\n  }\n}\n\nclass PopupAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str ||\n      parameters.data.richText?.str\n    );\n    super(parameters, { isRenderable });\n  }\n\n  render() {\n    // Do not render popup annotations for parent elements with these types as\n    // they create the popups themselves (because of custom trigger divs).\n    const IGNORE_TYPES = [\n      \"Line\",\n      \"Square\",\n      \"Circle\",\n      \"PolyLine\",\n      \"Polygon\",\n      \"Ink\",\n    ];\n\n    this.container.className = \"popupAnnotation\";\n\n    if (IGNORE_TYPES.includes(this.data.parentType)) {\n      return this.container;\n    }\n\n    const selector = `[data-annotation-id=\"${this.data.parentId}\"]`;\n    const parentElements = this.layer.querySelectorAll(selector);\n    if (parentElements.length === 0) {\n      return this.container;\n    }\n\n    const popup = new PopupElement({\n      container: this.container,\n      trigger: Array.from(parentElements),\n      color: this.data.color,\n      titleObj: this.data.titleObj,\n      modificationDate: this.data.modificationDate,\n      contentsObj: this.data.contentsObj,\n      richText: this.data.richText,\n    });\n\n    // Position the popup next to the parent annotation's container.\n    // PDF viewers ignore a popup annotation's rectangle.\n    const page = this.page;\n    const rect = Util.normalizeRect([\n      this.data.parentRect[0],\n      page.view[3] - this.data.parentRect[1] + page.view[1],\n      this.data.parentRect[2],\n      page.view[3] - this.data.parentRect[3] + page.view[1],\n    ]);\n    const popupLeft =\n      rect[0] + this.data.parentRect[2] - this.data.parentRect[0];\n    const popupTop = rect[1];\n\n    this.container.style.transformOrigin = `${-popupLeft}px ${-popupTop}px`;\n    this.container.style.left = `${popupLeft}px`;\n    this.container.style.top = `${popupTop}px`;\n\n    this.container.appendChild(popup.render());\n    return this.container;\n  }\n}\n\nclass PopupElement {\n  constructor(parameters) {\n    this.container = parameters.container;\n    this.trigger = parameters.trigger;\n    this.color = parameters.color;\n    this.titleObj = parameters.titleObj;\n    this.modificationDate = parameters.modificationDate;\n    this.contentsObj = parameters.contentsObj;\n    this.richText = parameters.richText;\n    this.hideWrapper = parameters.hideWrapper || false;\n\n    this.pinned = false;\n  }\n\n  render() {\n    const BACKGROUND_ENLIGHT = 0.7;\n\n    const wrapper = document.createElement(\"div\");\n    wrapper.className = \"popupWrapper\";\n\n    // For Popup annotations we hide the entire section because it contains\n    // only the popup. However, for Text annotations without a separate Popup\n    // annotation, we cannot hide the entire container as the image would\n    // disappear too. In that special case, hiding the wrapper suffices.\n    this.hideElement = this.hideWrapper ? wrapper : this.container;\n    this.hideElement.hidden = true;\n\n    const popup = document.createElement(\"div\");\n    popup.className = \"popup\";\n\n    const color = this.color;\n    if (color) {\n      // Enlighten the color.\n      const r = BACKGROUND_ENLIGHT * (255 - color[0]) + color[0];\n      const g = BACKGROUND_ENLIGHT * (255 - color[1]) + color[1];\n      const b = BACKGROUND_ENLIGHT * (255 - color[2]) + color[2];\n      popup.style.backgroundColor = Util.makeHexColor(r | 0, g | 0, b | 0);\n    }\n\n    const title = document.createElement(\"h1\");\n    title.dir = this.titleObj.dir;\n    title.textContent = this.titleObj.str;\n    popup.appendChild(title);\n\n    // The modification date is shown in the popup instead of the creation\n    // date if it is available and can be parsed correctly, which is\n    // consistent with other viewers such as Adobe Acrobat.\n    const dateObject = PDFDateString.toDateObject(this.modificationDate);\n    if (dateObject) {\n      const modificationDate = document.createElement(\"span\");\n      modificationDate.className = \"popupDate\";\n      modificationDate.textContent = \"{{date}}, {{time}}\";\n      modificationDate.dataset.l10nId = \"annotation_date_string\";\n      modificationDate.dataset.l10nArgs = JSON.stringify({\n        date: dateObject.toLocaleDateString(),\n        time: dateObject.toLocaleTimeString(),\n      });\n      popup.appendChild(modificationDate);\n    }\n\n    if (\n      this.richText?.str &&\n      (!this.contentsObj?.str || this.contentsObj.str === this.richText.str)\n    ) {\n      XfaLayer.render({\n        xfaHtml: this.richText.html,\n        intent: \"richText\",\n        div: popup,\n      });\n      popup.lastChild.className = \"richText popupContent\";\n    } else {\n      const contents = this._formatContents(this.contentsObj);\n      popup.appendChild(contents);\n    }\n\n    if (!Array.isArray(this.trigger)) {\n      this.trigger = [this.trigger];\n    }\n\n    // Attach the event listeners to the trigger element.\n    for (const element of this.trigger) {\n      element.addEventListener(\"click\", this._toggle.bind(this));\n      element.addEventListener(\"mouseover\", this._show.bind(this, false));\n      element.addEventListener(\"mouseout\", this._hide.bind(this, false));\n    }\n    popup.addEventListener(\"click\", this._hide.bind(this, true));\n\n    wrapper.appendChild(popup);\n    return wrapper;\n  }\n\n  /**\n   * Format the contents of the popup by adding newlines where necessary.\n   *\n   * @private\n   * @param {Object<string, string>} contentsObj\n   * @memberof PopupElement\n   * @returns {HTMLParagraphElement}\n   */\n  _formatContents({ str, dir }) {\n    const p = document.createElement(\"p\");\n    p.className = \"popupContent\";\n    p.dir = dir;\n    const lines = str.split(/(?:\\r\\n?|\\n)/);\n    for (let i = 0, ii = lines.length; i < ii; ++i) {\n      const line = lines[i];\n      p.appendChild(document.createTextNode(line));\n      if (i < ii - 1) {\n        p.appendChild(document.createElement(\"br\"));\n      }\n    }\n    return p;\n  }\n\n  /**\n   * Toggle the visibility of the popup.\n   *\n   * @private\n   * @memberof PopupElement\n   */\n  _toggle() {\n    if (this.pinned) {\n      this._hide(true);\n    } else {\n      this._show(true);\n    }\n  }\n\n  /**\n   * Show the popup.\n   *\n   * @private\n   * @param {boolean} pin\n   * @memberof PopupElement\n   */\n  _show(pin = false) {\n    if (pin) {\n      this.pinned = true;\n    }\n    if (this.hideElement.hidden) {\n      this.hideElement.hidden = false;\n      this.container.style.zIndex += 1;\n    }\n  }\n\n  /**\n   * Hide the popup.\n   *\n   * @private\n   * @param {boolean} unpin\n   * @memberof PopupElement\n   */\n  _hide(unpin = true) {\n    if (unpin) {\n      this.pinned = false;\n    }\n    if (!this.hideElement.hidden && !this.pinned) {\n      this.hideElement.hidden = true;\n      this.container.style.zIndex -= 1;\n    }\n  }\n}\n\nclass FreeTextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str ||\n      parameters.data.richText?.str\n    );\n    super(parameters, { isRenderable, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.className = \"freeTextAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass LineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str ||\n      parameters.data.richText?.str\n    );\n    super(parameters, { isRenderable, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.className = \"lineAnnotation\";\n\n    // Create an invisible line with the same starting and ending coordinates\n    // that acts as the trigger for the popup. Only the line itself should\n    // trigger the popup, not the entire container.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    // PDF coordinates are calculated from a bottom left origin, so transform\n    // the line coordinates to a top left origin for the SVG element.\n    const line = this.svgFactory.createElement(\"svg:line\");\n    line.setAttribute(\"x1\", data.rect[2] - data.lineCoordinates[0]);\n    line.setAttribute(\"y1\", data.rect[3] - data.lineCoordinates[1]);\n    line.setAttribute(\"x2\", data.rect[2] - data.lineCoordinates[2]);\n    line.setAttribute(\"y2\", data.rect[3] - data.lineCoordinates[3]);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    line.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    line.setAttribute(\"stroke\", \"transparent\");\n    line.setAttribute(\"fill\", \"transparent\");\n\n    svg.appendChild(line);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the line instead\n    // of to the entire container (which is the default).\n    this._createPopup(line, data);\n\n    return this.container;\n  }\n}\n\nclass SquareAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str ||\n      parameters.data.richText?.str\n    );\n    super(parameters, { isRenderable, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.className = \"squareAnnotation\";\n\n    // Create an invisible square with the same rectangle that acts as the\n    // trigger for the popup. Only the square itself should trigger the\n    // popup, not the entire container.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    // The browser draws half of the borders inside the square and half of\n    // the borders outside the square by default. This behavior cannot be\n    // changed programmatically, so correct for that here.\n    const borderWidth = data.borderStyle.width;\n    const square = this.svgFactory.createElement(\"svg:rect\");\n    square.setAttribute(\"x\", borderWidth / 2);\n    square.setAttribute(\"y\", borderWidth / 2);\n    square.setAttribute(\"width\", width - borderWidth);\n    square.setAttribute(\"height\", height - borderWidth);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    square.setAttribute(\"stroke-width\", borderWidth || 1);\n    square.setAttribute(\"stroke\", \"transparent\");\n    square.setAttribute(\"fill\", \"transparent\");\n\n    svg.appendChild(square);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the square instead\n    // of to the entire container (which is the default).\n    this._createPopup(square, data);\n\n    return this.container;\n  }\n}\n\nclass CircleAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str ||\n      parameters.data.richText?.str\n    );\n    super(parameters, { isRenderable, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.className = \"circleAnnotation\";\n\n    // Create an invisible circle with the same ellipse that acts as the\n    // trigger for the popup. Only the circle itself should trigger the\n    // popup, not the entire container.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    // The browser draws half of the borders inside the circle and half of\n    // the borders outside the circle by default. This behavior cannot be\n    // changed programmatically, so correct for that here.\n    const borderWidth = data.borderStyle.width;\n    const circle = this.svgFactory.createElement(\"svg:ellipse\");\n    circle.setAttribute(\"cx\", width / 2);\n    circle.setAttribute(\"cy\", height / 2);\n    circle.setAttribute(\"rx\", width / 2 - borderWidth / 2);\n    circle.setAttribute(\"ry\", height / 2 - borderWidth / 2);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    circle.setAttribute(\"stroke-width\", borderWidth || 1);\n    circle.setAttribute(\"stroke\", \"transparent\");\n    circle.setAttribute(\"fill\", \"transparent\");\n\n    svg.appendChild(circle);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the circle instead\n    // of to the entire container (which is the default).\n    this._createPopup(circle, data);\n\n    return this.container;\n  }\n}\n\nclass PolylineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str ||\n      parameters.data.richText?.str\n    );\n    super(parameters, { isRenderable, ignoreBorder: true });\n\n    this.containerClassName = \"polylineAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n  }\n\n  render() {\n    this.container.className = this.containerClassName;\n\n    // Create an invisible polyline with the same points that acts as the\n    // trigger for the popup. Only the polyline itself should trigger the\n    // popup, not the entire container.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    // Convert the vertices array to a single points string that the SVG\n    // polyline element expects (\"x1,y1 x2,y2 ...\"). PDF coordinates are\n    // calculated from a bottom left origin, so transform the polyline\n    // coordinates to a top left origin for the SVG element.\n    let points = [];\n    for (const coordinate of data.vertices) {\n      const x = coordinate.x - data.rect[0];\n      const y = data.rect[3] - coordinate.y;\n      points.push(x + \",\" + y);\n    }\n    points = points.join(\" \");\n\n    const polyline = this.svgFactory.createElement(this.svgElementName);\n    polyline.setAttribute(\"points\", points);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    polyline.setAttribute(\"stroke\", \"transparent\");\n    polyline.setAttribute(\"fill\", \"transparent\");\n\n    svg.appendChild(polyline);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the polyline\n    // instead of to the entire container (which is the default).\n    this._createPopup(polyline, data);\n\n    return this.container;\n  }\n}\n\nclass PolygonAnnotationElement extends PolylineAnnotationElement {\n  constructor(parameters) {\n    // Polygons are specific forms of polylines, so reuse their logic.\n    super(parameters);\n\n    this.containerClassName = \"polygonAnnotation\";\n    this.svgElementName = \"svg:polygon\";\n  }\n}\n\nclass CaretAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str ||\n      parameters.data.richText?.str\n    );\n    super(parameters, { isRenderable, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.className = \"caretAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass InkAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str ||\n      parameters.data.richText?.str\n    );\n    super(parameters, { isRenderable, ignoreBorder: true });\n\n    this.containerClassName = \"inkAnnotation\";\n\n    // Use the polyline SVG element since it allows us to use coordinates\n    // directly and to draw both straight lines and curves.\n    this.svgElementName = \"svg:polyline\";\n  }\n\n  render() {\n    this.container.className = this.containerClassName;\n\n    // Create an invisible polyline with the same points that acts as the\n    // trigger for the popup.\n    const data = this.data;\n    const width = data.rect[2] - data.rect[0];\n    const height = data.rect[3] - data.rect[1];\n    const svg = this.svgFactory.create(width, height);\n\n    for (const inkList of data.inkLists) {\n      // Convert the ink list to a single points string that the SVG\n      // polyline element expects (\"x1,y1 x2,y2 ...\"). PDF coordinates are\n      // calculated from a bottom left origin, so transform the polyline\n      // coordinates to a top left origin for the SVG element.\n      let points = [];\n      for (const coordinate of inkList) {\n        const x = coordinate.x - data.rect[0];\n        const y = data.rect[3] - coordinate.y;\n        points.push(`${x},${y}`);\n      }\n      points = points.join(\" \");\n\n      const polyline = this.svgFactory.createElement(this.svgElementName);\n      polyline.setAttribute(\"points\", points);\n      // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n      // won't be possible to open/close the popup (note e.g. issue 11122).\n      polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n      polyline.setAttribute(\"stroke\", \"transparent\");\n      polyline.setAttribute(\"fill\", \"transparent\");\n\n      // Create the popup ourselves so that we can bind it to the polyline\n      // instead of to the entire container (which is the default).\n      this._createPopup(polyline, data);\n\n      svg.appendChild(polyline);\n    }\n\n    this.container.append(svg);\n    return this.container;\n  }\n}\n\nclass HighlightAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str ||\n      parameters.data.richText?.str\n    );\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true,\n      createQuadrilaterals: true,\n    });\n  }\n\n  render() {\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    if (this.quadrilaterals) {\n      return this._renderQuadrilaterals(\"highlightAnnotation\");\n    }\n\n    this.container.className = \"highlightAnnotation\";\n    return this.container;\n  }\n}\n\nclass UnderlineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str ||\n      parameters.data.richText?.str\n    );\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true,\n      createQuadrilaterals: true,\n    });\n  }\n\n  render() {\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    if (this.quadrilaterals) {\n      return this._renderQuadrilaterals(\"underlineAnnotation\");\n    }\n\n    this.container.className = \"underlineAnnotation\";\n    return this.container;\n  }\n}\n\nclass SquigglyAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str ||\n      parameters.data.richText?.str\n    );\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true,\n      createQuadrilaterals: true,\n    });\n  }\n\n  render() {\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    if (this.quadrilaterals) {\n      return this._renderQuadrilaterals(\"squigglyAnnotation\");\n    }\n\n    this.container.className = \"squigglyAnnotation\";\n    return this.container;\n  }\n}\n\nclass StrikeOutAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str ||\n      parameters.data.richText?.str\n    );\n    super(parameters, {\n      isRenderable,\n      ignoreBorder: true,\n      createQuadrilaterals: true,\n    });\n  }\n\n  render() {\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n\n    if (this.quadrilaterals) {\n      return this._renderQuadrilaterals(\"strikeoutAnnotation\");\n    }\n\n    this.container.className = \"strikeoutAnnotation\";\n    return this.container;\n  }\n}\n\nclass StampAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const isRenderable = !!(\n      parameters.data.hasPopup ||\n      parameters.data.titleObj?.str ||\n      parameters.data.contentsObj?.str ||\n      parameters.data.richText?.str\n    );\n    super(parameters, { isRenderable, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.className = \"stampAnnotation\";\n\n    if (!this.data.hasPopup) {\n      this._createPopup(null, this.data);\n    }\n    return this.container;\n  }\n}\n\nclass FileAttachmentAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: true });\n\n    const { filename, content } = this.data.file;\n    this.filename = getFilenameFromUrl(filename);\n    this.content = content;\n\n    this.linkService.eventBus?.dispatch(\"fileattachmentannotation\", {\n      source: this,\n      id: stringToPDFString(filename),\n      filename,\n      content,\n    });\n  }\n\n  render() {\n    this.container.className = \"fileAttachmentAnnotation\";\n\n    const trigger = document.createElement(\"div\");\n    trigger.style.height = this.container.style.height;\n    trigger.style.width = this.container.style.width;\n    trigger.addEventListener(\"dblclick\", this._download.bind(this));\n\n    if (\n      !this.data.hasPopup &&\n      (this.data.titleObj?.str ||\n        this.data.contentsObj?.str ||\n        this.data.richText)\n    ) {\n      this._createPopup(trigger, this.data);\n    }\n\n    this.container.appendChild(trigger);\n    return this.container;\n  }\n\n  /**\n   * Download the file attachment associated with this annotation.\n   *\n   * @private\n   * @memberof FileAttachmentAnnotationElement\n   */\n  _download() {\n    this.downloadManager?.openOrDownloadData(\n      this.container,\n      this.content,\n      this.filename\n    );\n  }\n}\n\n/**\n * @typedef {Object} AnnotationLayerParameters\n * @property {PageViewport} viewport\n * @property {HTMLDivElement} div\n * @property {Array} annotations\n * @property {PDFPageProxy} page\n * @property {IPDFLinkService} linkService\n * @property {IDownloadManager} downloadManager\n * @property {string} [imageResourcesPath] - Path for image resources, mainly\n *   for annotation icons. Include trailing slash.\n * @property {boolean} renderForms\n * @property {boolean} [enableScripting] - Enable embedded script execution.\n * @property {boolean} [hasJSActions] - Some fields have JS actions.\n *   The default value is `false`.\n * @property {Map<string, HTMLCanvasElement>} [annotationCanvasMap]\n */\n\nclass AnnotationLayer {\n  /**\n   * Render a new annotation layer with all annotation elements.\n   *\n   * @public\n   * @param {AnnotationLayerParameters} parameters\n   * @memberof AnnotationLayer\n   */\n  static render(parameters) {\n    const sortedAnnotations = [],\n      popupAnnotations = [];\n    // Ensure that Popup annotations are handled last, since they're dependant\n    // upon the parent annotation having already been rendered (please refer to\n    // the `PopupAnnotationElement.render` method); fixes issue 11362.\n    for (const data of parameters.annotations) {\n      if (!data) {\n        continue;\n      }\n      if (data.annotationType === AnnotationType.POPUP) {\n        popupAnnotations.push(data);\n        continue;\n      }\n      sortedAnnotations.push(data);\n    }\n    if (popupAnnotations.length) {\n      sortedAnnotations.push(...popupAnnotations);\n    }\n\n    const div = parameters.div;\n\n    for (const data of sortedAnnotations) {\n      const element = AnnotationElementFactory.create({\n        data,\n        layer: div,\n        page: parameters.page,\n        viewport: parameters.viewport,\n        linkService: parameters.linkService,\n        downloadManager: parameters.downloadManager,\n        imageResourcesPath: parameters.imageResourcesPath || \"\",\n        renderForms: parameters.renderForms !== false,\n        svgFactory: new DOMSVGFactory(),\n        annotationStorage:\n          parameters.annotationStorage || new AnnotationStorage(),\n        enableScripting: parameters.enableScripting,\n        hasJSActions: parameters.hasJSActions,\n        fieldObjects: parameters.fieldObjects,\n        mouseState: parameters.mouseState || { isDown: false },\n      });\n      if (element.isRenderable) {\n        const rendered = element.render();\n        if (data.hidden) {\n          rendered.style.visibility = \"hidden\";\n        }\n        if (Array.isArray(rendered)) {\n          for (const renderedElement of rendered) {\n            div.appendChild(renderedElement);\n          }\n        } else {\n          if (element instanceof PopupAnnotationElement) {\n            // Popup annotation elements should not be on top of other\n            // annotation elements to prevent interfering with mouse events.\n            div.prepend(rendered);\n          } else {\n            div.appendChild(rendered);\n          }\n        }\n      }\n    }\n\n    this.#setAnnotationCanvasMap(div, parameters.annotationCanvasMap);\n  }\n\n  /**\n   * Update the annotation elements on existing annotation layer.\n   *\n   * @public\n   * @param {AnnotationLayerParameters} parameters\n   * @memberof AnnotationLayer\n   */\n  static update(parameters) {\n    const { page, viewport, annotations, annotationCanvasMap, div } =\n      parameters;\n    const transform = viewport.transform;\n    const matrix = `matrix(${transform.join(\",\")})`;\n\n    let scale, ownMatrix;\n    for (const data of annotations) {\n      const elements = div.querySelectorAll(\n        `[data-annotation-id=\"${data.id}\"]`\n      );\n      if (elements) {\n        for (const element of elements) {\n          if (data.hasOwnCanvas) {\n            const rect = Util.normalizeRect([\n              data.rect[0],\n              page.view[3] - data.rect[1] + page.view[1],\n              data.rect[2],\n              page.view[3] - data.rect[3] + page.view[1],\n            ]);\n\n            if (!ownMatrix) {\n              // When an annotation has its own canvas, then\n              // the scale has been already applied to the canvas,\n              // so we musn't scale it twice.\n              scale = Math.abs(transform[0] || transform[1]);\n              const ownTransform = transform.slice();\n              for (let i = 0; i < 4; i++) {\n                ownTransform[i] = Math.sign(ownTransform[i]);\n              }\n              ownMatrix = `matrix(${ownTransform.join(\",\")})`;\n            }\n\n            const left = rect[0] * scale;\n            const top = rect[1] * scale;\n            element.style.left = `${left}px`;\n            element.style.top = `${top}px`;\n            element.style.transformOrigin = `${-left}px ${-top}px`;\n            element.style.transform = ownMatrix;\n          } else {\n            element.style.transform = matrix;\n          }\n        }\n      }\n    }\n\n    this.#setAnnotationCanvasMap(div, annotationCanvasMap);\n    div.hidden = false;\n  }\n\n  static #setAnnotationCanvasMap(div, annotationCanvasMap) {\n    if (!annotationCanvasMap) {\n      return;\n    }\n    for (const [id, canvas] of annotationCanvasMap) {\n      const element = div.querySelector(`[data-annotation-id=\"${id}\"]`);\n      if (!element) {\n        continue;\n      }\n\n      const { firstChild } = element;\n      if (firstChild.nodeName === \"CANVAS\") {\n        element.replaceChild(canvas, firstChild);\n      } else {\n        element.insertBefore(canvas, firstChild);\n      }\n    }\n    annotationCanvasMap.clear();\n  }\n}\n\nexport { AnnotationLayer };\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * PLEASE NOTE: This file is currently imported in both the `../display/` and\n *              `../scripting_api/` folders, hence be EXTREMELY careful about\n *              introducing any dependencies here since that can lead to an\n *              unexpected/unnecessary size increase of the *built* files.\n */\n\nfunction makeColorComp(n) {\n  return Math.floor(Math.max(0, Math.min(1, n)) * 255)\n    .toString(16)\n    .padStart(2, \"0\");\n}\n\n// PDF specifications section 10.3\nclass ColorConverters {\n  static CMYK_G([c, y, m, k]) {\n    return [\"G\", 1 - Math.min(1, 0.3 * c + 0.59 * m + 0.11 * y + k)];\n  }\n\n  static G_CMYK([g]) {\n    return [\"CMYK\", 0, 0, 0, 1 - g];\n  }\n\n  static G_RGB([g]) {\n    return [\"RGB\", g, g, g];\n  }\n\n  static G_HTML([g]) {\n    const G = makeColorComp(g);\n    return `#${G}${G}${G}`;\n  }\n\n  static RGB_G([r, g, b]) {\n    return [\"G\", 0.3 * r + 0.59 * g + 0.11 * b];\n  }\n\n  static RGB_HTML([r, g, b]) {\n    const R = makeColorComp(r);\n    const G = makeColorComp(g);\n    const B = makeColorComp(b);\n    return `#${R}${G}${B}`;\n  }\n\n  static T_HTML() {\n    return \"#00000000\";\n  }\n\n  static CMYK_RGB([c, y, m, k]) {\n    return [\n      \"RGB\",\n      1 - Math.min(1, c + k),\n      1 - Math.min(1, m + k),\n      1 - Math.min(1, y + k),\n    ];\n  }\n\n  static CMYK_HTML(components) {\n    return this.RGB_HTML(this.CMYK_RGB(components));\n  }\n\n  static RGB_CMYK([r, g, b]) {\n    const c = 1 - r;\n    const m = 1 - g;\n    const y = 1 - b;\n    const k = Math.min(c, m, y);\n    return [\"CMYK\", c, m, y, k];\n  }\n}\n\nexport { ColorConverters };\n","/* Copyright 2021 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @typedef {import(\"./display_utils\").PageViewport} PageViewport */\n/** @typedef {import(\"../../web/interfaces\").IPDFLinkService} IPDFLinkService */\n\nimport { warn } from \"../shared/util.js\";\nimport { XfaText } from \"./xfa_text.js\";\n\n/**\n * @typedef {Object} XfaLayerParameters\n * @property {PageViewport} viewport\n * @property {HTMLDivElement} div\n * @property {Object} xfaHtml\n * @property {AnnotationStorage} [annotationStorage]\n * @property {IPDFLinkService} linkService\n * @property {string} [intent] - (default value is 'display').\n */\n\nclass XfaLayer {\n  static setupStorage(html, id, element, storage, intent) {\n    const storedData = storage.getValue(id, { value: null });\n    switch (element.name) {\n      case \"textarea\":\n        if (storedData.value !== null) {\n          html.textContent = storedData.value;\n        }\n        if (intent === \"print\") {\n          break;\n        }\n        html.addEventListener(\"input\", event => {\n          storage.setValue(id, { value: event.target.value });\n        });\n        break;\n      case \"input\":\n        if (\n          element.attributes.type === \"radio\" ||\n          element.attributes.type === \"checkbox\"\n        ) {\n          if (storedData.value === element.attributes.xfaOn) {\n            html.setAttribute(\"checked\", true);\n          } else if (storedData.value === element.attributes.xfaOff) {\n            // The checked attribute may have been set when opening the file,\n            // unset through the UI and we're here because of printing.\n            html.removeAttribute(\"checked\");\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"change\", event => {\n            storage.setValue(id, {\n              value: event.target.checked\n                ? event.target.getAttribute(\"xfaOn\")\n                : event.target.getAttribute(\"xfaOff\"),\n            });\n          });\n        } else {\n          if (storedData.value !== null) {\n            html.setAttribute(\"value\", storedData.value);\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"input\", event => {\n            storage.setValue(id, { value: event.target.value });\n          });\n        }\n        break;\n      case \"select\":\n        if (storedData.value !== null) {\n          for (const option of element.children) {\n            if (option.attributes.value === storedData.value) {\n              option.attributes.selected = true;\n            }\n          }\n        }\n        html.addEventListener(\"input\", event => {\n          const options = event.target.options;\n          const value =\n            options.selectedIndex === -1\n              ? \"\"\n              : options[options.selectedIndex].value;\n          storage.setValue(id, { value });\n        });\n        break;\n    }\n  }\n\n  static setAttributes({ html, element, storage = null, intent, linkService }) {\n    const { attributes } = element;\n    const isHTMLAnchorElement = html instanceof HTMLAnchorElement;\n\n    if (attributes.type === \"radio\") {\n      // Avoid to have a radio group when printing with the same as one\n      // already displayed.\n      attributes.name = `${attributes.name}-${intent}`;\n    }\n    for (const [key, value] of Object.entries(attributes)) {\n      // We don't need to add dataId in the html object but it can\n      // be useful to know its value when writing printing tests:\n      // in this case, don't skip dataId to have its value.\n      if (value === null || value === undefined || key === \"dataId\") {\n        continue;\n      }\n\n      if (key !== \"style\") {\n        if (key === \"textContent\") {\n          html.textContent = value;\n        } else if (key === \"class\") {\n          if (value.length) {\n            html.setAttribute(key, value.join(\" \"));\n          }\n        } else {\n          if (isHTMLAnchorElement && (key === \"href\" || key === \"newWindow\")) {\n            continue; // Handled below.\n          }\n          html.setAttribute(key, value);\n        }\n      } else {\n        Object.assign(html.style, value);\n      }\n    }\n\n    if (isHTMLAnchorElement) {\n      if (\n        (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) &&\n        !linkService.addLinkAttributes\n      ) {\n        warn(\n          \"XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance.\"\n        );\n      }\n      linkService.addLinkAttributes?.(\n        html,\n        attributes.href,\n        attributes.newWindow\n      );\n    }\n\n    // Set the value after the others to be sure overwrite\n    // any other values.\n    if (storage && attributes.dataId) {\n      this.setupStorage(html, attributes.dataId, element, storage);\n    }\n  }\n\n  /**\n   * Render the XFA layer.\n   *\n   * @param {XfaLayerParameters} parameters\n   */\n  static render(parameters) {\n    const storage = parameters.annotationStorage;\n    const linkService = parameters.linkService;\n    const root = parameters.xfaHtml;\n    const intent = parameters.intent || \"display\";\n    const rootHtml = document.createElement(root.name);\n    if (root.attributes) {\n      this.setAttributes({\n        html: rootHtml,\n        element: root,\n        intent,\n        linkService,\n      });\n    }\n    const stack = [[root, -1, rootHtml]];\n\n    const rootDiv = parameters.div;\n    rootDiv.appendChild(rootHtml);\n\n    if (parameters.viewport) {\n      const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n      rootDiv.style.transform = transform;\n    }\n\n    // Set defaults.\n    if (intent !== \"richText\") {\n      rootDiv.setAttribute(\"class\", \"xfaLayer xfaFont\");\n    }\n\n    // Text nodes used for the text highlighter.\n    const textDivs = [];\n\n    while (stack.length > 0) {\n      const [parent, i, html] = stack[stack.length - 1];\n      if (i + 1 === parent.children.length) {\n        stack.pop();\n        continue;\n      }\n\n      const child = parent.children[++stack[stack.length - 1][1]];\n      if (child === null) {\n        continue;\n      }\n\n      const { name } = child;\n      if (name === \"#text\") {\n        const node = document.createTextNode(child.value);\n        textDivs.push(node);\n        html.appendChild(node);\n        continue;\n      }\n\n      let childHtml;\n      if (child?.attributes?.xmlns) {\n        childHtml = document.createElementNS(child.attributes.xmlns, name);\n      } else {\n        childHtml = document.createElement(name);\n      }\n\n      html.appendChild(childHtml);\n      if (child.attributes) {\n        this.setAttributes({\n          html: childHtml,\n          element: child,\n          storage,\n          intent,\n          linkService,\n        });\n      }\n\n      if (child.children && child.children.length > 0) {\n        stack.push([child, -1, childHtml]);\n      } else if (child.value) {\n        const node = document.createTextNode(child.value);\n        if (XfaText.shouldBuildText(name)) {\n          textDivs.push(node);\n        }\n        childHtml.appendChild(node);\n      }\n    }\n\n    /**\n     * TODO: re-enable that stuff once we've JS implementation.\n     * See https://bugzilla.mozilla.org/show_bug.cgi?id=1719465.\n     *\n     * for (const el of rootDiv.querySelectorAll(\n     * \".xfaDisabled input, .xfaDisabled textarea\"\n     * )) {\n     * el.setAttribute(\"disabled\", true);\n     * }\n     * for (const el of rootDiv.querySelectorAll(\n     * \".xfaReadOnly input, .xfaReadOnly textarea\"\n     * )) {\n     * el.setAttribute(\"readOnly\", true);\n     * }\n     */\n\n    for (const el of rootDiv.querySelectorAll(\n      \".xfaNonInteractive input, .xfaNonInteractive textarea\"\n    )) {\n      el.setAttribute(\"readOnly\", true);\n    }\n\n    return {\n      textDivs,\n    };\n  }\n\n  /**\n   * Update the XFA layer.\n   *\n   * @param {XfaLayerParameters} parameters\n   */\n  static update(parameters) {\n    const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n    parameters.div.style.transform = transform;\n    parameters.div.hidden = false;\n  }\n}\n\nexport { XfaLayer };\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AbortException,\n  createPromiseCapability,\n  Util,\n} from \"../shared/util.js\";\n\n/**\n * Text layer render parameters.\n *\n * @typedef {Object} TextLayerRenderParameters\n * @property {import(\"./api\").TextContent} [textContent] - Text content to\n *   render (the object is returned by the page's `getTextContent` method).\n * @property {ReadableStream} [textContentStream] - Text content stream to\n *   render (the stream is returned by the page's `streamTextContent` method).\n * @property {HTMLElement} container - HTML element that will contain text runs.\n * @property {import(\"./display_utils\").PageViewport} viewport - The target\n *   viewport to properly layout the text runs.\n * @property {Array<HTMLElement>} [textDivs] - HTML elements that are correspond\n *   to the text items of the textContent input. This is output and shall be\n *   initially be set to empty array.\n * @property {Array<string>} [textContentItemsStr] - Strings that correspond to\n *    the `str` property of the text items of textContent input. This is output\n *   and shall be initially be set to empty array.\n * @property {number} [timeout] - Delay in milliseconds before rendering of the\n *   text runs occurs.\n * @property {boolean} [enhanceTextSelection] - Whether to turn on the text\n *   selection enhancement.\n */\n\nconst MAX_TEXT_DIVS_TO_RENDER = 100000;\nconst DEFAULT_FONT_SIZE = 30;\nconst DEFAULT_FONT_ASCENT = 0.8;\nconst ascentCache = new Map();\nconst AllWhitespaceRegexp = /^\\s+$/g;\n\nfunction getAscent(fontFamily, ctx) {\n  const cachedAscent = ascentCache.get(fontFamily);\n  if (cachedAscent) {\n    return cachedAscent;\n  }\n\n  ctx.save();\n  ctx.font = `${DEFAULT_FONT_SIZE}px ${fontFamily}`;\n  const metrics = ctx.measureText(\"\");\n\n  // Both properties aren't available by default in Firefox.\n  let ascent = metrics.fontBoundingBoxAscent;\n  let descent = Math.abs(metrics.fontBoundingBoxDescent);\n  if (ascent) {\n    ctx.restore();\n    const ratio = ascent / (ascent + descent);\n    ascentCache.set(fontFamily, ratio);\n    return ratio;\n  }\n\n  // Try basic heuristic to guess ascent/descent.\n  // Draw a g with baseline at 0,0 and then get the line\n  // number where a pixel has non-null red component (starting\n  // from bottom).\n  ctx.strokeStyle = \"red\";\n  ctx.clearRect(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE);\n  ctx.strokeText(\"g\", 0, 0);\n  let pixels = ctx.getImageData(\n    0,\n    0,\n    DEFAULT_FONT_SIZE,\n    DEFAULT_FONT_SIZE\n  ).data;\n  descent = 0;\n  for (let i = pixels.length - 1 - 3; i >= 0; i -= 4) {\n    if (pixels[i] > 0) {\n      descent = Math.ceil(i / 4 / DEFAULT_FONT_SIZE);\n      break;\n    }\n  }\n\n  // Draw an A with baseline at 0,DEFAULT_FONT_SIZE and then get the line\n  // number where a pixel has non-null red component (starting\n  // from top).\n  ctx.clearRect(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE);\n  ctx.strokeText(\"A\", 0, DEFAULT_FONT_SIZE);\n  pixels = ctx.getImageData(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE).data;\n  ascent = 0;\n  for (let i = 0, ii = pixels.length; i < ii; i += 4) {\n    if (pixels[i] > 0) {\n      ascent = DEFAULT_FONT_SIZE - Math.floor(i / 4 / DEFAULT_FONT_SIZE);\n      break;\n    }\n  }\n\n  ctx.restore();\n\n  if (ascent) {\n    const ratio = ascent / (ascent + descent);\n    ascentCache.set(fontFamily, ratio);\n    return ratio;\n  }\n\n  ascentCache.set(fontFamily, DEFAULT_FONT_ASCENT);\n  return DEFAULT_FONT_ASCENT;\n}\n\nfunction appendText(task, geom, styles, ctx) {\n  // Initialize all used properties to keep the caches monomorphic.\n  const textDiv = document.createElement(\"span\");\n  const textDivProperties = task._enhanceTextSelection\n    ? {\n        angle: 0,\n        canvasWidth: 0,\n        hasText: geom.str !== \"\",\n        hasEOL: geom.hasEOL,\n        originalTransform: null,\n        paddingBottom: 0,\n        paddingLeft: 0,\n        paddingRight: 0,\n        paddingTop: 0,\n        scale: 1,\n      }\n    : {\n        angle: 0,\n        canvasWidth: 0,\n        hasText: geom.str !== \"\",\n        hasEOL: geom.hasEOL,\n      };\n\n  task._textDivs.push(textDiv);\n\n  const tx = Util.transform(task._viewport.transform, geom.transform);\n  let angle = Math.atan2(tx[1], tx[0]);\n  const style = styles[geom.fontName];\n  if (style.vertical) {\n    angle += Math.PI / 2;\n  }\n  const fontHeight = Math.hypot(tx[2], tx[3]);\n  const fontAscent = fontHeight * getAscent(style.fontFamily, ctx);\n\n  let left, top;\n  if (angle === 0) {\n    left = tx[4];\n    top = tx[5] - fontAscent;\n  } else {\n    left = tx[4] + fontAscent * Math.sin(angle);\n    top = tx[5] - fontAscent * Math.cos(angle);\n  }\n  // Setting the style properties individually, rather than all at once,\n  // should be OK since the `textDiv` isn't appended to the document yet.\n  textDiv.style.left = `${left}px`;\n  textDiv.style.top = `${top}px`;\n  textDiv.style.fontSize = `${fontHeight}px`;\n  textDiv.style.fontFamily = style.fontFamily;\n\n  // Keeps screen readers from pausing on every new text span.\n  textDiv.setAttribute(\"role\", \"presentation\");\n\n  textDiv.textContent = geom.str;\n  // geom.dir may be 'ttb' for vertical texts.\n  textDiv.dir = geom.dir;\n\n  // `fontName` is only used by the FontInspector, and we only use `dataset`\n  // here to make the font name available in the debugger.\n  if (task._fontInspectorEnabled) {\n    textDiv.dataset.fontName = geom.fontName;\n  }\n  if (angle !== 0) {\n    textDivProperties.angle = angle * (180 / Math.PI);\n  }\n  // We don't bother scaling single-char text divs, because it has very\n  // little effect on text highlighting. This makes scrolling on docs with\n  // lots of such divs a lot faster.\n  let shouldScaleText = false;\n  if (\n    geom.str.length > 1 ||\n    (task._enhanceTextSelection && AllWhitespaceRegexp.test(geom.str))\n  ) {\n    shouldScaleText = true;\n  } else if (geom.str !== \" \" && geom.transform[0] !== geom.transform[3]) {\n    const absScaleX = Math.abs(geom.transform[0]),\n      absScaleY = Math.abs(geom.transform[3]);\n    // When the horizontal/vertical scaling differs significantly, also scale\n    // even single-char text to improve highlighting (fixes issue11713.pdf).\n    if (\n      absScaleX !== absScaleY &&\n      Math.max(absScaleX, absScaleY) / Math.min(absScaleX, absScaleY) > 1.5\n    ) {\n      shouldScaleText = true;\n    }\n  }\n  if (shouldScaleText) {\n    if (style.vertical) {\n      textDivProperties.canvasWidth = geom.height * task._viewport.scale;\n    } else {\n      textDivProperties.canvasWidth = geom.width * task._viewport.scale;\n    }\n  }\n  task._textDivProperties.set(textDiv, textDivProperties);\n  if (task._textContentStream) {\n    task._layoutText(textDiv);\n  }\n\n  if (task._enhanceTextSelection && textDivProperties.hasText) {\n    let angleCos = 1,\n      angleSin = 0;\n    if (angle !== 0) {\n      angleCos = Math.cos(angle);\n      angleSin = Math.sin(angle);\n    }\n    const divWidth =\n      (style.vertical ? geom.height : geom.width) * task._viewport.scale;\n    const divHeight = fontHeight;\n\n    let m, b;\n    if (angle !== 0) {\n      m = [angleCos, angleSin, -angleSin, angleCos, left, top];\n      b = Util.getAxialAlignedBoundingBox([0, 0, divWidth, divHeight], m);\n    } else {\n      b = [left, top, left + divWidth, top + divHeight];\n    }\n\n    task._bounds.push({\n      left: b[0],\n      top: b[1],\n      right: b[2],\n      bottom: b[3],\n      div: textDiv,\n      size: [divWidth, divHeight],\n      m,\n    });\n  }\n}\n\nfunction render(task) {\n  if (task._canceled) {\n    return;\n  }\n  const textDivs = task._textDivs;\n  const capability = task._capability;\n  const textDivsLength = textDivs.length;\n\n  // No point in rendering many divs as it would make the browser\n  // unusable even after the divs are rendered.\n  if (textDivsLength > MAX_TEXT_DIVS_TO_RENDER) {\n    task._renderingDone = true;\n    capability.resolve();\n    return;\n  }\n\n  if (!task._textContentStream) {\n    for (let i = 0; i < textDivsLength; i++) {\n      task._layoutText(textDivs[i]);\n    }\n  }\n\n  task._renderingDone = true;\n  capability.resolve();\n}\n\nfunction findPositiveMin(ts, offset, count) {\n  let result = 0;\n  for (let i = 0; i < count; i++) {\n    const t = ts[offset++];\n    if (t > 0) {\n      result = result ? Math.min(t, result) : t;\n    }\n  }\n  return result;\n}\n\nfunction expand(task) {\n  const bounds = task._bounds;\n  const viewport = task._viewport;\n\n  const expanded = expandBounds(viewport.width, viewport.height, bounds);\n  for (let i = 0; i < expanded.length; i++) {\n    const div = bounds[i].div;\n    const divProperties = task._textDivProperties.get(div);\n    if (divProperties.angle === 0) {\n      divProperties.paddingLeft = bounds[i].left - expanded[i].left;\n      divProperties.paddingTop = bounds[i].top - expanded[i].top;\n      divProperties.paddingRight = expanded[i].right - bounds[i].right;\n      divProperties.paddingBottom = expanded[i].bottom - bounds[i].bottom;\n      task._textDivProperties.set(div, divProperties);\n      continue;\n    }\n    // Box is rotated -- trying to find padding so rotated div will not\n    // exceed its expanded bounds.\n    const e = expanded[i],\n      b = bounds[i];\n    const m = b.m,\n      c = m[0],\n      s = m[1];\n    // Finding intersections with expanded box.\n    const points = [[0, 0], [0, b.size[1]], [b.size[0], 0], b.size];\n    const ts = new Float64Array(64);\n    for (let j = 0, jj = points.length; j < jj; j++) {\n      const t = Util.applyTransform(points[j], m);\n      ts[j + 0] = c && (e.left - t[0]) / c;\n      ts[j + 4] = s && (e.top - t[1]) / s;\n      ts[j + 8] = c && (e.right - t[0]) / c;\n      ts[j + 12] = s && (e.bottom - t[1]) / s;\n\n      ts[j + 16] = s && (e.left - t[0]) / -s;\n      ts[j + 20] = c && (e.top - t[1]) / c;\n      ts[j + 24] = s && (e.right - t[0]) / -s;\n      ts[j + 28] = c && (e.bottom - t[1]) / c;\n\n      ts[j + 32] = c && (e.left - t[0]) / -c;\n      ts[j + 36] = s && (e.top - t[1]) / -s;\n      ts[j + 40] = c && (e.right - t[0]) / -c;\n      ts[j + 44] = s && (e.bottom - t[1]) / -s;\n\n      ts[j + 48] = s && (e.left - t[0]) / s;\n      ts[j + 52] = c && (e.top - t[1]) / -c;\n      ts[j + 56] = s && (e.right - t[0]) / s;\n      ts[j + 60] = c && (e.bottom - t[1]) / -c;\n    }\n    // Not based on math, but to simplify calculations, using cos and sin\n    // absolute values to not exceed the box (it can but insignificantly).\n    const boxScale = 1 + Math.min(Math.abs(c), Math.abs(s));\n    divProperties.paddingLeft = findPositiveMin(ts, 32, 16) / boxScale;\n    divProperties.paddingTop = findPositiveMin(ts, 48, 16) / boxScale;\n    divProperties.paddingRight = findPositiveMin(ts, 0, 16) / boxScale;\n    divProperties.paddingBottom = findPositiveMin(ts, 16, 16) / boxScale;\n    task._textDivProperties.set(div, divProperties);\n  }\n}\n\nfunction expandBounds(width, height, boxes) {\n  const bounds = boxes.map(function (box, i) {\n    return {\n      x1: box.left,\n      y1: box.top,\n      x2: box.right,\n      y2: box.bottom,\n      index: i,\n      x1New: undefined,\n      x2New: undefined,\n    };\n  });\n  expandBoundsLTR(width, bounds);\n\n  const expanded = new Array(boxes.length);\n  for (const b of bounds) {\n    const i = b.index;\n    expanded[i] = {\n      left: b.x1New,\n      top: 0,\n      right: b.x2New,\n      bottom: 0,\n    };\n  }\n\n  // Rotating on 90 degrees and extending extended boxes. Reusing the bounds\n  // array and objects.\n  boxes.map(function (box, i) {\n    const e = expanded[i],\n      b = bounds[i];\n    b.x1 = box.top;\n    b.y1 = width - e.right;\n    b.x2 = box.bottom;\n    b.y2 = width - e.left;\n    b.index = i;\n    b.x1New = undefined;\n    b.x2New = undefined;\n  });\n  expandBoundsLTR(height, bounds);\n\n  for (const b of bounds) {\n    const i = b.index;\n    expanded[i].top = b.x1New;\n    expanded[i].bottom = b.x2New;\n  }\n  return expanded;\n}\n\nfunction expandBoundsLTR(width, bounds) {\n  // Sorting by x1 coordinate and walk by the bounds in the same order.\n  bounds.sort(function (a, b) {\n    return a.x1 - b.x1 || a.index - b.index;\n  });\n\n  // First we see on the horizon is a fake boundary.\n  const fakeBoundary = {\n    x1: -Infinity,\n    y1: -Infinity,\n    x2: 0,\n    y2: Infinity,\n    index: -1,\n    x1New: 0,\n    x2New: 0,\n  };\n  const horizon = [\n    {\n      start: -Infinity,\n      end: Infinity,\n      boundary: fakeBoundary,\n    },\n  ];\n\n  for (const boundary of bounds) {\n    // Searching for the affected part of horizon.\n    // TODO red-black tree or simple binary search\n    let i = 0;\n    while (i < horizon.length && horizon[i].end <= boundary.y1) {\n      i++;\n    }\n    let j = horizon.length - 1;\n    while (j >= 0 && horizon[j].start >= boundary.y2) {\n      j--;\n    }\n\n    let horizonPart, affectedBoundary;\n    let q,\n      k,\n      maxXNew = -Infinity;\n    for (q = i; q <= j; q++) {\n      horizonPart = horizon[q];\n      affectedBoundary = horizonPart.boundary;\n      let xNew;\n      if (affectedBoundary.x2 > boundary.x1) {\n        // In the middle of the previous element, new x shall be at the\n        // boundary start. Extending if further if the affected boundary\n        // placed on top of the current one.\n        xNew =\n          affectedBoundary.index > boundary.index\n            ? affectedBoundary.x1New\n            : boundary.x1;\n      } else if (affectedBoundary.x2New === undefined) {\n        // We have some space in between, new x in middle will be a fair\n        // choice.\n        xNew = (affectedBoundary.x2 + boundary.x1) / 2;\n      } else {\n        // Affected boundary has x2new set, using it as new x.\n        xNew = affectedBoundary.x2New;\n      }\n      if (xNew > maxXNew) {\n        maxXNew = xNew;\n      }\n    }\n\n    // Set new x1 for current boundary.\n    boundary.x1New = maxXNew;\n\n    // Adjusts new x2 for the affected boundaries.\n    for (q = i; q <= j; q++) {\n      horizonPart = horizon[q];\n      affectedBoundary = horizonPart.boundary;\n      if (affectedBoundary.x2New === undefined) {\n        // Was not set yet, choosing new x if possible.\n        if (affectedBoundary.x2 > boundary.x1) {\n          // Current and affected boundaries intersect. If affected boundary\n          // is placed on top of the current, shrinking the affected.\n          if (affectedBoundary.index > boundary.index) {\n            affectedBoundary.x2New = affectedBoundary.x2;\n          }\n        } else {\n          affectedBoundary.x2New = maxXNew;\n        }\n      } else if (affectedBoundary.x2New > maxXNew) {\n        // Affected boundary is touching new x, pushing it back.\n        affectedBoundary.x2New = Math.max(maxXNew, affectedBoundary.x2);\n      }\n    }\n\n    // Fixing the horizon.\n    const changedHorizon = [];\n    let lastBoundary = null;\n    for (q = i; q <= j; q++) {\n      horizonPart = horizon[q];\n      affectedBoundary = horizonPart.boundary;\n      // Checking which boundary will be visible.\n      const useBoundary =\n        affectedBoundary.x2 > boundary.x2 ? affectedBoundary : boundary;\n      if (lastBoundary === useBoundary) {\n        // Merging with previous.\n        changedHorizon[changedHorizon.length - 1].end = horizonPart.end;\n      } else {\n        changedHorizon.push({\n          start: horizonPart.start,\n          end: horizonPart.end,\n          boundary: useBoundary,\n        });\n        lastBoundary = useBoundary;\n      }\n    }\n    if (horizon[i].start < boundary.y1) {\n      changedHorizon[0].start = boundary.y1;\n      changedHorizon.unshift({\n        start: horizon[i].start,\n        end: boundary.y1,\n        boundary: horizon[i].boundary,\n      });\n    }\n    if (boundary.y2 < horizon[j].end) {\n      changedHorizon[changedHorizon.length - 1].end = boundary.y2;\n      changedHorizon.push({\n        start: boundary.y2,\n        end: horizon[j].end,\n        boundary: horizon[j].boundary,\n      });\n    }\n\n    // Set x2 new of boundary that is no longer visible (see overlapping case\n    // above).\n    // TODO more efficient, e.g. via reference counting.\n    for (q = i; q <= j; q++) {\n      horizonPart = horizon[q];\n      affectedBoundary = horizonPart.boundary;\n      if (affectedBoundary.x2New !== undefined) {\n        continue;\n      }\n      let used = false;\n      for (\n        k = i - 1;\n        !used && k >= 0 && horizon[k].start >= affectedBoundary.y1;\n        k--\n      ) {\n        used = horizon[k].boundary === affectedBoundary;\n      }\n      for (\n        k = j + 1;\n        !used && k < horizon.length && horizon[k].end <= affectedBoundary.y2;\n        k++\n      ) {\n        used = horizon[k].boundary === affectedBoundary;\n      }\n      for (k = 0; !used && k < changedHorizon.length; k++) {\n        used = changedHorizon[k].boundary === affectedBoundary;\n      }\n      if (!used) {\n        affectedBoundary.x2New = maxXNew;\n      }\n    }\n\n    Array.prototype.splice.apply(\n      horizon,\n      [i, j - i + 1].concat(changedHorizon)\n    );\n  }\n\n  // Set new x2 for all unset boundaries.\n  for (const horizonPart of horizon) {\n    const affectedBoundary = horizonPart.boundary;\n    if (affectedBoundary.x2New === undefined) {\n      affectedBoundary.x2New = Math.max(width, affectedBoundary.x2);\n    }\n  }\n}\n\nclass TextLayerRenderTask {\n  constructor({\n    textContent,\n    textContentStream,\n    container,\n    viewport,\n    textDivs,\n    textContentItemsStr,\n    enhanceTextSelection,\n  }) {\n    this._textContent = textContent;\n    this._textContentStream = textContentStream;\n    this._container = container;\n    this._document = container.ownerDocument;\n    this._viewport = viewport;\n    this._textDivs = textDivs || [];\n    this._textContentItemsStr = textContentItemsStr || [];\n    this._enhanceTextSelection = !!enhanceTextSelection;\n    this._fontInspectorEnabled = !!globalThis.FontInspector?.enabled;\n\n    this._reader = null;\n    this._layoutTextLastFontSize = null;\n    this._layoutTextLastFontFamily = null;\n    this._layoutTextCtx = null;\n    this._textDivProperties = new WeakMap();\n    this._renderingDone = false;\n    this._canceled = false;\n    this._capability = createPromiseCapability();\n    this._renderTimer = null;\n    this._bounds = [];\n\n    // Always clean-up the temporary canvas once rendering is no longer pending.\n    this._capability.promise\n      .finally(() => {\n        if (!this._enhanceTextSelection) {\n          // The `textDiv` properties are no longer needed.\n          this._textDivProperties = null;\n        }\n\n        if (this._layoutTextCtx) {\n          // Zeroing the width and height cause Firefox to release graphics\n          // resources immediately, which can greatly reduce memory consumption.\n          this._layoutTextCtx.canvas.width = 0;\n          this._layoutTextCtx.canvas.height = 0;\n          this._layoutTextCtx = null;\n        }\n      })\n      .catch(() => {\n        // Avoid \"Uncaught promise\" messages in the console.\n      });\n  }\n\n  /**\n   * Promise for textLayer rendering task completion.\n   * @type {Promise<void>}\n   */\n  get promise() {\n    return this._capability.promise;\n  }\n\n  /**\n   * Cancel rendering of the textLayer.\n   */\n  cancel() {\n    this._canceled = true;\n    if (this._reader) {\n      this._reader\n        .cancel(new AbortException(\"TextLayer task cancelled.\"))\n        .catch(() => {\n          // Avoid \"Uncaught promise\" messages in the console.\n        });\n      this._reader = null;\n    }\n    if (this._renderTimer !== null) {\n      clearTimeout(this._renderTimer);\n      this._renderTimer = null;\n    }\n    this._capability.reject(new Error(\"TextLayer task cancelled.\"));\n  }\n\n  /**\n   * @private\n   */\n  _processItems(items, styleCache) {\n    for (let i = 0, len = items.length; i < len; i++) {\n      if (items[i].str === undefined) {\n        if (\n          items[i].type === \"beginMarkedContentProps\" ||\n          items[i].type === \"beginMarkedContent\"\n        ) {\n          const parent = this._container;\n          this._container = document.createElement(\"span\");\n          this._container.classList.add(\"markedContent\");\n          if (items[i].id !== null) {\n            this._container.setAttribute(\"id\", `${items[i].id}`);\n          }\n          parent.appendChild(this._container);\n        } else if (items[i].type === \"endMarkedContent\") {\n          this._container = this._container.parentNode;\n        }\n        continue;\n      }\n      this._textContentItemsStr.push(items[i].str);\n      appendText(this, items[i], styleCache, this._layoutTextCtx);\n    }\n  }\n\n  /**\n   * @private\n   */\n  _layoutText(textDiv) {\n    const textDivProperties = this._textDivProperties.get(textDiv);\n\n    let transform = \"\";\n    if (textDivProperties.canvasWidth !== 0 && textDivProperties.hasText) {\n      const { fontSize, fontFamily } = textDiv.style;\n\n      // Only build font string and set to context if different from last.\n      if (\n        fontSize !== this._layoutTextLastFontSize ||\n        fontFamily !== this._layoutTextLastFontFamily\n      ) {\n        this._layoutTextCtx.font = `${fontSize} ${fontFamily}`;\n        this._layoutTextLastFontSize = fontSize;\n        this._layoutTextLastFontFamily = fontFamily;\n      }\n      // Only measure the width for multi-char text divs, see `appendText`.\n      const { width } = this._layoutTextCtx.measureText(textDiv.textContent);\n\n      if (width > 0) {\n        const scale = textDivProperties.canvasWidth / width;\n        if (this._enhanceTextSelection) {\n          textDivProperties.scale = scale;\n        }\n        transform = `scaleX(${scale})`;\n      }\n    }\n    if (textDivProperties.angle !== 0) {\n      transform = `rotate(${textDivProperties.angle}deg) ${transform}`;\n    }\n    if (transform.length > 0) {\n      if (this._enhanceTextSelection) {\n        textDivProperties.originalTransform = transform;\n      }\n      textDiv.style.transform = transform;\n    }\n\n    if (textDivProperties.hasText) {\n      this._container.appendChild(textDiv);\n    }\n    if (textDivProperties.hasEOL) {\n      const br = document.createElement(\"br\");\n      br.setAttribute(\"role\", \"presentation\");\n      this._container.appendChild(br);\n    }\n  }\n\n  /**\n   * @private\n   */\n  _render(timeout = 0) {\n    const capability = createPromiseCapability();\n    let styleCache = Object.create(null);\n\n    // The temporary canvas is used to measure text length in the DOM.\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.height = canvas.width = DEFAULT_FONT_SIZE;\n\n    if (\n      typeof PDFJSDev === \"undefined\" ||\n      PDFJSDev.test(\"MOZCENTRAL || GENERIC\")\n    ) {\n      canvas.mozOpaque = true;\n    }\n    this._layoutTextCtx = canvas.getContext(\"2d\", { alpha: false });\n\n    if (this._textContent) {\n      const textItems = this._textContent.items;\n      const textStyles = this._textContent.styles;\n      this._processItems(textItems, textStyles);\n      capability.resolve();\n    } else if (this._textContentStream) {\n      const pump = () => {\n        this._reader.read().then(({ value, done }) => {\n          if (done) {\n            capability.resolve();\n            return;\n          }\n\n          Object.assign(styleCache, value.styles);\n          this._processItems(value.items, styleCache);\n          pump();\n        }, capability.reject);\n      };\n\n      this._reader = this._textContentStream.getReader();\n      pump();\n    } else {\n      throw new Error(\n        'Neither \"textContent\" nor \"textContentStream\" parameters specified.'\n      );\n    }\n\n    capability.promise.then(() => {\n      styleCache = null;\n      if (!timeout) {\n        // Render right away\n        render(this);\n      } else {\n        // Schedule\n        this._renderTimer = setTimeout(() => {\n          render(this);\n          this._renderTimer = null;\n        }, timeout);\n      }\n    }, this._capability.reject);\n  }\n\n  /**\n   * @param {boolean} [expandDivs]\n   */\n  expandTextDivs(expandDivs = false) {\n    if (!this._enhanceTextSelection || !this._renderingDone) {\n      return;\n    }\n    if (this._bounds !== null) {\n      expand(this);\n      this._bounds = null;\n    }\n    const transformBuf = [],\n      paddingBuf = [];\n\n    for (let i = 0, ii = this._textDivs.length; i < ii; i++) {\n      const div = this._textDivs[i];\n      const divProps = this._textDivProperties.get(div);\n\n      if (!divProps.hasText) {\n        continue;\n      }\n      if (expandDivs) {\n        transformBuf.length = 0;\n        paddingBuf.length = 0;\n\n        if (divProps.originalTransform) {\n          transformBuf.push(divProps.originalTransform);\n        }\n        if (divProps.paddingTop > 0) {\n          paddingBuf.push(`${divProps.paddingTop}px`);\n          transformBuf.push(`translateY(${-divProps.paddingTop}px)`);\n        } else {\n          paddingBuf.push(0);\n        }\n        if (divProps.paddingRight > 0) {\n          paddingBuf.push(`${divProps.paddingRight / divProps.scale}px`);\n        } else {\n          paddingBuf.push(0);\n        }\n        if (divProps.paddingBottom > 0) {\n          paddingBuf.push(`${divProps.paddingBottom}px`);\n        } else {\n          paddingBuf.push(0);\n        }\n        if (divProps.paddingLeft > 0) {\n          paddingBuf.push(`${divProps.paddingLeft / divProps.scale}px`);\n          transformBuf.push(\n            `translateX(${-divProps.paddingLeft / divProps.scale}px)`\n          );\n        } else {\n          paddingBuf.push(0);\n        }\n\n        div.style.padding = paddingBuf.join(\" \");\n        if (transformBuf.length) {\n          div.style.transform = transformBuf.join(\" \");\n        }\n      } else {\n        div.style.padding = null;\n        div.style.transform = divProps.originalTransform;\n      }\n    }\n  }\n}\n\n/**\n * @param {TextLayerRenderParameters} renderParameters\n * @returns {TextLayerRenderTask}\n */\nfunction renderTextLayer(renderParameters) {\n  const task = new TextLayerRenderTask({\n    textContent: renderParameters.textContent,\n    textContentStream: renderParameters.textContentStream,\n    container: renderParameters.container,\n    viewport: renderParameters.viewport,\n    textDivs: renderParameters.textDivs,\n    textContentItemsStr: renderParameters.textContentItemsStr,\n    enhanceTextSelection: renderParameters.enhanceTextSelection,\n  });\n  task._render(renderParameters.timeout);\n  return task;\n}\n\nexport { renderTextLayer };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals __non_webpack_require__ */\n\nimport {\n  createObjectURL,\n  FONT_IDENTITY_MATRIX,\n  IDENTITY_MATRIX,\n  ImageKind,\n  isNum,\n  OPS,\n  TextRenderingMode,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport { DOMSVGFactory } from \"./display_utils.js\";\nimport { isNodeJS } from \"../shared/is_node.js\";\n\n/** @type {any} */\nlet SVGGraphics = class {\n  constructor() {\n    unreachable(\"Not implemented: SVGGraphics\");\n  }\n};\n\nif (\n  typeof PDFJSDev === \"undefined\" ||\n  PDFJSDev.test(\"!PRODUCTION || GENERIC\")\n) {\n  const SVG_DEFAULTS = {\n    fontStyle: \"normal\",\n    fontWeight: \"normal\",\n    fillColor: \"#000000\",\n  };\n  const XML_NS = \"http://www.w3.org/XML/1998/namespace\";\n  const XLINK_NS = \"http://www.w3.org/1999/xlink\";\n  const LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\n  const LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\n\n  const convertImgDataToPng = (function () {\n    const PNG_HEADER = new Uint8Array([\n      0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a,\n    ]);\n    const CHUNK_WRAPPER_SIZE = 12;\n\n    const crcTable = new Int32Array(256);\n    for (let i = 0; i < 256; i++) {\n      let c = i;\n      for (let h = 0; h < 8; h++) {\n        if (c & 1) {\n          c = 0xedb88320 ^ ((c >> 1) & 0x7fffffff);\n        } else {\n          c = (c >> 1) & 0x7fffffff;\n        }\n      }\n      crcTable[i] = c;\n    }\n\n    function crc32(data, start, end) {\n      let crc = -1;\n      for (let i = start; i < end; i++) {\n        const a = (crc ^ data[i]) & 0xff;\n        const b = crcTable[a];\n        crc = (crc >>> 8) ^ b;\n      }\n      return crc ^ -1;\n    }\n\n    function writePngChunk(type, body, data, offset) {\n      let p = offset;\n      const len = body.length;\n\n      data[p] = (len >> 24) & 0xff;\n      data[p + 1] = (len >> 16) & 0xff;\n      data[p + 2] = (len >> 8) & 0xff;\n      data[p + 3] = len & 0xff;\n      p += 4;\n\n      data[p] = type.charCodeAt(0) & 0xff;\n      data[p + 1] = type.charCodeAt(1) & 0xff;\n      data[p + 2] = type.charCodeAt(2) & 0xff;\n      data[p + 3] = type.charCodeAt(3) & 0xff;\n      p += 4;\n\n      data.set(body, p);\n      p += body.length;\n\n      const crc = crc32(data, offset + 4, p);\n      data[p] = (crc >> 24) & 0xff;\n      data[p + 1] = (crc >> 16) & 0xff;\n      data[p + 2] = (crc >> 8) & 0xff;\n      data[p + 3] = crc & 0xff;\n    }\n\n    function adler32(data, start, end) {\n      let a = 1;\n      let b = 0;\n      for (let i = start; i < end; ++i) {\n        a = (a + (data[i] & 0xff)) % 65521;\n        b = (b + a) % 65521;\n      }\n      return (b << 16) | a;\n    }\n\n    /**\n     * @param {Uint8Array} literals The input data.\n     * @returns {Uint8Array} The DEFLATE-compressed data stream in zlib format.\n     *   This is the required format for compressed streams in the PNG format:\n     *   http://www.libpng.org/pub/png/spec/1.2/PNG-Compression.html\n     */\n    function deflateSync(literals) {\n      if (!isNodeJS) {\n        // zlib is certainly not available outside of Node.js. We can either use\n        // the pako library for client-side DEFLATE compression, or use the\n        // canvas API of the browser to obtain a more optimal PNG file.\n        return deflateSyncUncompressed(literals);\n      }\n      try {\n        // NOTE: This implementation is far from perfect, but already way better\n        // than not applying any compression.\n        //\n        // A better algorithm will try to choose a good predictor/filter and\n        // then choose a suitable zlib compression strategy (e.g. 3,Z_RLE).\n        //\n        // Node v0.11.12 zlib.deflateSync is introduced (and returns a Buffer).\n        // Node v3.0.0   Buffer inherits from Uint8Array.\n        // Node v8.0.0   zlib.deflateSync accepts Uint8Array as input.\n        let input;\n        // eslint-disable-next-line no-undef\n        if (parseInt(process.versions.node) >= 8) {\n          input = literals;\n        } else {\n          // eslint-disable-next-line no-undef\n          input = Buffer.from(literals);\n        }\n        const output = __non_webpack_require__(\"zlib\").deflateSync(input, {\n          level: 9,\n        });\n        return output instanceof Uint8Array ? output : new Uint8Array(output);\n      } catch (e) {\n        warn(\n          \"Not compressing PNG because zlib.deflateSync is unavailable: \" + e\n        );\n      }\n\n      return deflateSyncUncompressed(literals);\n    }\n\n    // An implementation of DEFLATE with compression level 0 (Z_NO_COMPRESSION).\n    function deflateSyncUncompressed(literals) {\n      let len = literals.length;\n      const maxBlockLength = 0xffff;\n\n      const deflateBlocks = Math.ceil(len / maxBlockLength);\n      const idat = new Uint8Array(2 + len + deflateBlocks * 5 + 4);\n      let pi = 0;\n      idat[pi++] = 0x78; // compression method and flags\n      idat[pi++] = 0x9c; // flags\n\n      let pos = 0;\n      while (len > maxBlockLength) {\n        // writing non-final DEFLATE blocks type 0 and length of 65535\n        idat[pi++] = 0x00;\n        idat[pi++] = 0xff;\n        idat[pi++] = 0xff;\n        idat[pi++] = 0x00;\n        idat[pi++] = 0x00;\n        idat.set(literals.subarray(pos, pos + maxBlockLength), pi);\n        pi += maxBlockLength;\n        pos += maxBlockLength;\n        len -= maxBlockLength;\n      }\n\n      // writing non-final DEFLATE blocks type 0\n      idat[pi++] = 0x01;\n      idat[pi++] = len & 0xff;\n      idat[pi++] = (len >> 8) & 0xff;\n      idat[pi++] = ~len & 0xffff & 0xff;\n      idat[pi++] = ((~len & 0xffff) >> 8) & 0xff;\n      idat.set(literals.subarray(pos), pi);\n      pi += literals.length - pos;\n\n      const adler = adler32(literals, 0, literals.length); // checksum\n      idat[pi++] = (adler >> 24) & 0xff;\n      idat[pi++] = (adler >> 16) & 0xff;\n      idat[pi++] = (adler >> 8) & 0xff;\n      idat[pi++] = adler & 0xff;\n      return idat;\n    }\n\n    function encode(imgData, kind, forceDataSchema, isMask) {\n      const width = imgData.width;\n      const height = imgData.height;\n      let bitDepth, colorType, lineSize;\n      const bytes = imgData.data;\n\n      switch (kind) {\n        case ImageKind.GRAYSCALE_1BPP:\n          colorType = 0;\n          bitDepth = 1;\n          lineSize = (width + 7) >> 3;\n          break;\n        case ImageKind.RGB_24BPP:\n          colorType = 2;\n          bitDepth = 8;\n          lineSize = width * 3;\n          break;\n        case ImageKind.RGBA_32BPP:\n          colorType = 6;\n          bitDepth = 8;\n          lineSize = width * 4;\n          break;\n        default:\n          throw new Error(\"invalid format\");\n      }\n\n      // prefix every row with predictor 0\n      const literals = new Uint8Array((1 + lineSize) * height);\n      let offsetLiterals = 0,\n        offsetBytes = 0;\n      for (let y = 0; y < height; ++y) {\n        literals[offsetLiterals++] = 0; // no prediction\n        literals.set(\n          bytes.subarray(offsetBytes, offsetBytes + lineSize),\n          offsetLiterals\n        );\n        offsetBytes += lineSize;\n        offsetLiterals += lineSize;\n      }\n\n      if (kind === ImageKind.GRAYSCALE_1BPP && isMask) {\n        // inverting for image masks\n        offsetLiterals = 0;\n        for (let y = 0; y < height; y++) {\n          offsetLiterals++; // skipping predictor\n          for (let i = 0; i < lineSize; i++) {\n            literals[offsetLiterals++] ^= 0xff;\n          }\n        }\n      }\n\n      const ihdr = new Uint8Array([\n        (width >> 24) & 0xff,\n        (width >> 16) & 0xff,\n        (width >> 8) & 0xff,\n        width & 0xff,\n        (height >> 24) & 0xff,\n        (height >> 16) & 0xff,\n        (height >> 8) & 0xff,\n        height & 0xff,\n        bitDepth, // bit depth\n        colorType, // color type\n        0x00, // compression method\n        0x00, // filter method\n        0x00, // interlace method\n      ]);\n      const idat = deflateSync(literals);\n\n      // PNG consists of: header, IHDR+data, IDAT+data, and IEND.\n      const pngLength =\n        PNG_HEADER.length + CHUNK_WRAPPER_SIZE * 3 + ihdr.length + idat.length;\n      const data = new Uint8Array(pngLength);\n      let offset = 0;\n      data.set(PNG_HEADER, offset);\n      offset += PNG_HEADER.length;\n      writePngChunk(\"IHDR\", ihdr, data, offset);\n      offset += CHUNK_WRAPPER_SIZE + ihdr.length;\n      writePngChunk(\"IDATA\", idat, data, offset);\n      offset += CHUNK_WRAPPER_SIZE + idat.length;\n      writePngChunk(\"IEND\", new Uint8Array(0), data, offset);\n\n      return createObjectURL(data, \"image/png\", forceDataSchema);\n    }\n\n    // eslint-disable-next-line no-shadow\n    return function convertImgDataToPng(imgData, forceDataSchema, isMask) {\n      const kind =\n        imgData.kind === undefined ? ImageKind.GRAYSCALE_1BPP : imgData.kind;\n      return encode(imgData, kind, forceDataSchema, isMask);\n    };\n  })();\n\n  class SVGExtraState {\n    constructor() {\n      this.fontSizeScale = 1;\n      this.fontWeight = SVG_DEFAULTS.fontWeight;\n      this.fontSize = 0;\n\n      this.textMatrix = IDENTITY_MATRIX;\n      this.fontMatrix = FONT_IDENTITY_MATRIX;\n      this.leading = 0;\n      this.textRenderingMode = TextRenderingMode.FILL;\n      this.textMatrixScale = 1;\n\n      // Current point (in user coordinates)\n      this.x = 0;\n      this.y = 0;\n\n      // Start of text line (in text coordinates)\n      this.lineX = 0;\n      this.lineY = 0;\n\n      // Character and word spacing\n      this.charSpacing = 0;\n      this.wordSpacing = 0;\n      this.textHScale = 1;\n      this.textRise = 0;\n\n      // Default foreground and background colors\n      this.fillColor = SVG_DEFAULTS.fillColor;\n      this.strokeColor = \"#000000\";\n\n      this.fillAlpha = 1;\n      this.strokeAlpha = 1;\n      this.lineWidth = 1;\n      this.lineJoin = \"\";\n      this.lineCap = \"\";\n      this.miterLimit = 0;\n\n      this.dashArray = [];\n      this.dashPhase = 0;\n\n      this.dependencies = [];\n\n      // Clipping\n      this.activeClipUrl = null;\n      this.clipGroup = null;\n\n      this.maskId = \"\";\n    }\n\n    clone() {\n      return Object.create(this);\n    }\n\n    setCurrentPoint(x, y) {\n      this.x = x;\n      this.y = y;\n    }\n  }\n\n  // eslint-disable-next-line no-inner-declarations\n  function opListToTree(opList) {\n    let opTree = [];\n    const tmp = [];\n\n    for (const opListElement of opList) {\n      if (opListElement.fn === \"save\") {\n        opTree.push({ fnId: 92, fn: \"group\", items: [] });\n        tmp.push(opTree);\n        opTree = opTree[opTree.length - 1].items;\n        continue;\n      }\n\n      if (opListElement.fn === \"restore\") {\n        opTree = tmp.pop();\n      } else {\n        opTree.push(opListElement);\n      }\n    }\n    return opTree;\n  }\n\n  /**\n   * Format a float number as a string.\n   *\n   * @param value {number} - The float number to format.\n   * @returns {string}\n   */\n  // eslint-disable-next-line no-inner-declarations\n  function pf(value) {\n    if (Number.isInteger(value)) {\n      return value.toString();\n    }\n    const s = value.toFixed(10);\n    let i = s.length - 1;\n    if (s[i] !== \"0\") {\n      return s;\n    }\n\n    // Remove trailing zeros.\n    do {\n      i--;\n    } while (s[i] === \"0\");\n    return s.substring(0, s[i] === \".\" ? i : i + 1);\n  }\n\n  /**\n   * Format a transform matrix as a string. The standard rotation, scale and\n   * translation matrices are replaced by their shorter forms, and for\n   * identity matrices an empty string is returned to save memory.\n   *\n   * @param m {Array} - The transform matrix to format.\n   * @returns {string}\n   */\n  // eslint-disable-next-line no-inner-declarations\n  function pm(m) {\n    if (m[4] === 0 && m[5] === 0) {\n      if (m[1] === 0 && m[2] === 0) {\n        if (m[0] === 1 && m[3] === 1) {\n          return \"\";\n        }\n        return `scale(${pf(m[0])} ${pf(m[3])})`;\n      }\n      if (m[0] === m[3] && m[1] === -m[2]) {\n        const a = (Math.acos(m[0]) * 180) / Math.PI;\n        return `rotate(${pf(a)})`;\n      }\n    } else {\n      if (m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 1) {\n        return `translate(${pf(m[4])} ${pf(m[5])})`;\n      }\n    }\n    return (\n      `matrix(${pf(m[0])} ${pf(m[1])} ${pf(m[2])} ${pf(m[3])} ${pf(m[4])} ` +\n      `${pf(m[5])})`\n    );\n  }\n\n  // The counts below are relevant for all pages, so they have to be global\n  // instead of being members of `SVGGraphics` (which is recreated for\n  // each page).\n  let clipCount = 0;\n  let maskCount = 0;\n  let shadingCount = 0;\n\n  SVGGraphics = class {\n    constructor(commonObjs, objs, forceDataSchema = false) {\n      this.svgFactory = new DOMSVGFactory();\n\n      this.current = new SVGExtraState();\n      this.transformMatrix = IDENTITY_MATRIX; // Graphics state matrix\n      this.transformStack = [];\n      this.extraStack = [];\n      this.commonObjs = commonObjs;\n      this.objs = objs;\n      this.pendingClip = null;\n      this.pendingEOFill = false;\n\n      this.embedFonts = false;\n      this.embeddedFonts = Object.create(null);\n      this.cssStyle = null;\n      this.forceDataSchema = !!forceDataSchema;\n\n      // In `src/shared/util.js` the operator names are mapped to IDs.\n      // The list below represents the reverse of that, i.e., it maps IDs\n      // to operator names.\n      this._operatorIdMapping = [];\n      for (const op in OPS) {\n        this._operatorIdMapping[OPS[op]] = op;\n      }\n    }\n\n    save() {\n      this.transformStack.push(this.transformMatrix);\n      const old = this.current;\n      this.extraStack.push(old);\n      this.current = old.clone();\n    }\n\n    restore() {\n      this.transformMatrix = this.transformStack.pop();\n      this.current = this.extraStack.pop();\n      this.pendingClip = null;\n      this.tgrp = null;\n    }\n\n    group(items) {\n      this.save();\n      this.executeOpTree(items);\n      this.restore();\n    }\n\n    loadDependencies(operatorList) {\n      const fnArray = operatorList.fnArray;\n      const argsArray = operatorList.argsArray;\n\n      for (let i = 0, ii = fnArray.length; i < ii; i++) {\n        if (fnArray[i] !== OPS.dependency) {\n          continue;\n        }\n\n        for (const obj of argsArray[i]) {\n          const objsPool = obj.startsWith(\"g_\") ? this.commonObjs : this.objs;\n          const promise = new Promise(resolve => {\n            objsPool.get(obj, resolve);\n          });\n          this.current.dependencies.push(promise);\n        }\n      }\n      return Promise.all(this.current.dependencies);\n    }\n\n    transform(a, b, c, d, e, f) {\n      const transformMatrix = [a, b, c, d, e, f];\n      this.transformMatrix = Util.transform(\n        this.transformMatrix,\n        transformMatrix\n      );\n      this.tgrp = null;\n    }\n\n    getSVG(operatorList, viewport) {\n      this.viewport = viewport;\n\n      const svgElement = this._initialize(viewport);\n      return this.loadDependencies(operatorList).then(() => {\n        this.transformMatrix = IDENTITY_MATRIX;\n        this.executeOpTree(this.convertOpList(operatorList));\n        return svgElement;\n      });\n    }\n\n    convertOpList(operatorList) {\n      const operatorIdMapping = this._operatorIdMapping;\n      const argsArray = operatorList.argsArray;\n      const fnArray = operatorList.fnArray;\n      const opList = [];\n      for (let i = 0, ii = fnArray.length; i < ii; i++) {\n        const fnId = fnArray[i];\n        opList.push({\n          fnId,\n          fn: operatorIdMapping[fnId],\n          args: argsArray[i],\n        });\n      }\n      return opListToTree(opList);\n    }\n\n    executeOpTree(opTree) {\n      for (const opTreeElement of opTree) {\n        const fn = opTreeElement.fn;\n        const fnId = opTreeElement.fnId;\n        const args = opTreeElement.args;\n\n        switch (fnId | 0) {\n          case OPS.beginText:\n            this.beginText();\n            break;\n          case OPS.dependency:\n            // Handled in `loadDependencies`, so no warning should be shown.\n            break;\n          case OPS.setLeading:\n            this.setLeading(args);\n            break;\n          case OPS.setLeadingMoveText:\n            this.setLeadingMoveText(args[0], args[1]);\n            break;\n          case OPS.setFont:\n            this.setFont(args);\n            break;\n          case OPS.showText:\n            this.showText(args[0]);\n            break;\n          case OPS.showSpacedText:\n            this.showText(args[0]);\n            break;\n          case OPS.endText:\n            this.endText();\n            break;\n          case OPS.moveText:\n            this.moveText(args[0], args[1]);\n            break;\n          case OPS.setCharSpacing:\n            this.setCharSpacing(args[0]);\n            break;\n          case OPS.setWordSpacing:\n            this.setWordSpacing(args[0]);\n            break;\n          case OPS.setHScale:\n            this.setHScale(args[0]);\n            break;\n          case OPS.setTextMatrix:\n            this.setTextMatrix(\n              args[0],\n              args[1],\n              args[2],\n              args[3],\n              args[4],\n              args[5]\n            );\n            break;\n          case OPS.setTextRise:\n            this.setTextRise(args[0]);\n            break;\n          case OPS.setTextRenderingMode:\n            this.setTextRenderingMode(args[0]);\n            break;\n          case OPS.setLineWidth:\n            this.setLineWidth(args[0]);\n            break;\n          case OPS.setLineJoin:\n            this.setLineJoin(args[0]);\n            break;\n          case OPS.setLineCap:\n            this.setLineCap(args[0]);\n            break;\n          case OPS.setMiterLimit:\n            this.setMiterLimit(args[0]);\n            break;\n          case OPS.setFillRGBColor:\n            this.setFillRGBColor(args[0], args[1], args[2]);\n            break;\n          case OPS.setStrokeRGBColor:\n            this.setStrokeRGBColor(args[0], args[1], args[2]);\n            break;\n          case OPS.setStrokeColorN:\n            this.setStrokeColorN(args);\n            break;\n          case OPS.setFillColorN:\n            this.setFillColorN(args);\n            break;\n          case OPS.shadingFill:\n            this.shadingFill(args[0]);\n            break;\n          case OPS.setDash:\n            this.setDash(args[0], args[1]);\n            break;\n          case OPS.setRenderingIntent:\n            this.setRenderingIntent(args[0]);\n            break;\n          case OPS.setFlatness:\n            this.setFlatness(args[0]);\n            break;\n          case OPS.setGState:\n            this.setGState(args[0]);\n            break;\n          case OPS.fill:\n            this.fill();\n            break;\n          case OPS.eoFill:\n            this.eoFill();\n            break;\n          case OPS.stroke:\n            this.stroke();\n            break;\n          case OPS.fillStroke:\n            this.fillStroke();\n            break;\n          case OPS.eoFillStroke:\n            this.eoFillStroke();\n            break;\n          case OPS.clip:\n            this.clip(\"nonzero\");\n            break;\n          case OPS.eoClip:\n            this.clip(\"evenodd\");\n            break;\n          case OPS.paintSolidColorImageMask:\n            this.paintSolidColorImageMask();\n            break;\n          case OPS.paintImageXObject:\n            this.paintImageXObject(args[0]);\n            break;\n          case OPS.paintInlineImageXObject:\n            this.paintInlineImageXObject(args[0]);\n            break;\n          case OPS.paintImageMaskXObject:\n            this.paintImageMaskXObject(args[0]);\n            break;\n          case OPS.paintFormXObjectBegin:\n            this.paintFormXObjectBegin(args[0], args[1]);\n            break;\n          case OPS.paintFormXObjectEnd:\n            this.paintFormXObjectEnd();\n            break;\n          case OPS.closePath:\n            this.closePath();\n            break;\n          case OPS.closeStroke:\n            this.closeStroke();\n            break;\n          case OPS.closeFillStroke:\n            this.closeFillStroke();\n            break;\n          case OPS.closeEOFillStroke:\n            this.closeEOFillStroke();\n            break;\n          case OPS.nextLine:\n            this.nextLine();\n            break;\n          case OPS.transform:\n            this.transform(\n              args[0],\n              args[1],\n              args[2],\n              args[3],\n              args[4],\n              args[5]\n            );\n            break;\n          case OPS.constructPath:\n            this.constructPath(args[0], args[1]);\n            break;\n          case OPS.endPath:\n            this.endPath();\n            break;\n          case 92:\n            this.group(opTreeElement.items);\n            break;\n          default:\n            warn(`Unimplemented operator ${fn}`);\n            break;\n        }\n      }\n    }\n\n    setWordSpacing(wordSpacing) {\n      this.current.wordSpacing = wordSpacing;\n    }\n\n    setCharSpacing(charSpacing) {\n      this.current.charSpacing = charSpacing;\n    }\n\n    nextLine() {\n      this.moveText(0, this.current.leading);\n    }\n\n    setTextMatrix(a, b, c, d, e, f) {\n      const current = this.current;\n      current.textMatrix = current.lineMatrix = [a, b, c, d, e, f];\n      current.textMatrixScale = Math.hypot(a, b);\n\n      current.x = current.lineX = 0;\n      current.y = current.lineY = 0;\n\n      current.xcoords = [];\n      current.ycoords = [];\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n      current.tspan.setAttributeNS(\n        null,\n        \"font-size\",\n        `${pf(current.fontSize)}px`\n      );\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n\n      current.txtElement = this.svgFactory.createElement(\"svg:text\");\n      current.txtElement.appendChild(current.tspan);\n    }\n\n    beginText() {\n      const current = this.current;\n      current.x = current.lineX = 0;\n      current.y = current.lineY = 0;\n      current.textMatrix = IDENTITY_MATRIX;\n      current.lineMatrix = IDENTITY_MATRIX;\n      current.textMatrixScale = 1;\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.txtElement = this.svgFactory.createElement(\"svg:text\");\n      current.txtgrp = this.svgFactory.createElement(\"svg:g\");\n      current.xcoords = [];\n      current.ycoords = [];\n    }\n\n    moveText(x, y) {\n      const current = this.current;\n      current.x = current.lineX += x;\n      current.y = current.lineY += y;\n\n      current.xcoords = [];\n      current.ycoords = [];\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n      current.tspan.setAttributeNS(\n        null,\n        \"font-size\",\n        `${pf(current.fontSize)}px`\n      );\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n    }\n\n    showText(glyphs) {\n      const current = this.current;\n      const font = current.font;\n      const fontSize = current.fontSize;\n      if (fontSize === 0) {\n        return;\n      }\n\n      const fontSizeScale = current.fontSizeScale;\n      const charSpacing = current.charSpacing;\n      const wordSpacing = current.wordSpacing;\n      const fontDirection = current.fontDirection;\n      const textHScale = current.textHScale * fontDirection;\n      const vertical = font.vertical;\n      const spacingDir = vertical ? 1 : -1;\n      const defaultVMetrics = font.defaultVMetrics;\n      const widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n      let x = 0;\n      for (const glyph of glyphs) {\n        if (glyph === null) {\n          // Word break\n          x += fontDirection * wordSpacing;\n          continue;\n        } else if (isNum(glyph)) {\n          x += (spacingDir * glyph * fontSize) / 1000;\n          continue;\n        }\n\n        const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n        const character = glyph.fontChar;\n        let scaledX, scaledY;\n        let width = glyph.width;\n        if (vertical) {\n          let vx;\n          const vmetric = glyph.vmetric || defaultVMetrics;\n          vx = glyph.vmetric ? vmetric[1] : width * 0.5;\n          vx = -vx * widthAdvanceScale;\n          const vy = vmetric[2] * widthAdvanceScale;\n\n          width = vmetric ? -vmetric[0] : width;\n          scaledX = vx / fontSizeScale;\n          scaledY = (x + vy) / fontSizeScale;\n        } else {\n          scaledX = x / fontSizeScale;\n          scaledY = 0;\n        }\n\n        if (glyph.isInFont || font.missingFile) {\n          current.xcoords.push(current.x + scaledX);\n          if (vertical) {\n            current.ycoords.push(-current.y + scaledY);\n          }\n          current.tspan.textContent += character;\n        } else {\n          // TODO: To assist with text selection, we should replace the missing\n          // character with a space character if charWidth is not zero.\n          // But we cannot just do \"character = ' '\", because the ' ' character\n          // might actually map to a different glyph.\n        }\n\n        let charWidth;\n        if (vertical) {\n          charWidth = width * widthAdvanceScale - spacing * fontDirection;\n        } else {\n          charWidth = width * widthAdvanceScale + spacing * fontDirection;\n        }\n\n        x += charWidth;\n      }\n      current.tspan.setAttributeNS(\n        null,\n        \"x\",\n        current.xcoords.map(pf).join(\" \")\n      );\n      if (vertical) {\n        current.tspan.setAttributeNS(\n          null,\n          \"y\",\n          current.ycoords.map(pf).join(\" \")\n        );\n      } else {\n        current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n      }\n\n      if (vertical) {\n        current.y -= x;\n      } else {\n        current.x += x * textHScale;\n      }\n\n      current.tspan.setAttributeNS(null, \"font-family\", current.fontFamily);\n      current.tspan.setAttributeNS(\n        null,\n        \"font-size\",\n        `${pf(current.fontSize)}px`\n      );\n      if (current.fontStyle !== SVG_DEFAULTS.fontStyle) {\n        current.tspan.setAttributeNS(null, \"font-style\", current.fontStyle);\n      }\n      if (current.fontWeight !== SVG_DEFAULTS.fontWeight) {\n        current.tspan.setAttributeNS(null, \"font-weight\", current.fontWeight);\n      }\n\n      const fillStrokeMode =\n        current.textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n      if (\n        fillStrokeMode === TextRenderingMode.FILL ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        if (current.fillColor !== SVG_DEFAULTS.fillColor) {\n          current.tspan.setAttributeNS(null, \"fill\", current.fillColor);\n        }\n        if (current.fillAlpha < 1) {\n          current.tspan.setAttributeNS(null, \"fill-opacity\", current.fillAlpha);\n        }\n      } else if (current.textRenderingMode === TextRenderingMode.ADD_TO_PATH) {\n        // Workaround for Firefox: We must set fill=\"transparent\" because\n        // fill=\"none\" would generate an empty clipping path.\n        current.tspan.setAttributeNS(null, \"fill\", \"transparent\");\n      } else {\n        current.tspan.setAttributeNS(null, \"fill\", \"none\");\n      }\n\n      if (\n        fillStrokeMode === TextRenderingMode.STROKE ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        const lineWidthScale = 1 / (current.textMatrixScale || 1);\n        this._setStrokeAttributes(current.tspan, lineWidthScale);\n      }\n\n      // Include the text rise in the text matrix since the `pm` function\n      // creates the SVG element's `translate` entry (work on a copy to avoid\n      // altering the original text matrix).\n      let textMatrix = current.textMatrix;\n      if (current.textRise !== 0) {\n        textMatrix = textMatrix.slice();\n        textMatrix[5] += current.textRise;\n      }\n\n      current.txtElement.setAttributeNS(\n        null,\n        \"transform\",\n        `${pm(textMatrix)} scale(${pf(textHScale)}, -1)`\n      );\n      current.txtElement.setAttributeNS(XML_NS, \"xml:space\", \"preserve\");\n      current.txtElement.appendChild(current.tspan);\n      current.txtgrp.appendChild(current.txtElement);\n\n      this._ensureTransformGroup().appendChild(current.txtElement);\n    }\n\n    setLeadingMoveText(x, y) {\n      this.setLeading(-y);\n      this.moveText(x, y);\n    }\n\n    addFontStyle(fontObj) {\n      if (!fontObj.data) {\n        throw new Error(\n          \"addFontStyle: No font data available, \" +\n            'ensure that the \"fontExtraProperties\" API parameter is set.'\n        );\n      }\n      if (!this.cssStyle) {\n        this.cssStyle = this.svgFactory.createElement(\"svg:style\");\n        this.cssStyle.setAttributeNS(null, \"type\", \"text/css\");\n        this.defs.appendChild(this.cssStyle);\n      }\n\n      const url = createObjectURL(\n        fontObj.data,\n        fontObj.mimetype,\n        this.forceDataSchema\n      );\n      this.cssStyle.textContent +=\n        `@font-face { font-family: \"${fontObj.loadedName}\";` +\n        ` src: url(${url}); }\\n`;\n    }\n\n    setFont(details) {\n      const current = this.current;\n      const fontObj = this.commonObjs.get(details[0]);\n      let size = details[1];\n      current.font = fontObj;\n\n      if (\n        this.embedFonts &&\n        !fontObj.missingFile &&\n        !this.embeddedFonts[fontObj.loadedName]\n      ) {\n        this.addFontStyle(fontObj);\n        this.embeddedFonts[fontObj.loadedName] = fontObj;\n      }\n      current.fontMatrix = fontObj.fontMatrix || FONT_IDENTITY_MATRIX;\n\n      let bold = \"normal\";\n      if (fontObj.black) {\n        bold = \"900\";\n      } else if (fontObj.bold) {\n        bold = \"bold\";\n      }\n      const italic = fontObj.italic ? \"italic\" : \"normal\";\n\n      if (size < 0) {\n        size = -size;\n        current.fontDirection = -1;\n      } else {\n        current.fontDirection = 1;\n      }\n      current.fontSize = size;\n      current.fontFamily = fontObj.loadedName;\n      current.fontWeight = bold;\n      current.fontStyle = italic;\n\n      current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      current.tspan.setAttributeNS(null, \"y\", pf(-current.y));\n      current.xcoords = [];\n      current.ycoords = [];\n    }\n\n    endText() {\n      const current = this.current;\n      if (\n        current.textRenderingMode & TextRenderingMode.ADD_TO_PATH_FLAG &&\n        current.txtElement?.hasChildNodes()\n      ) {\n        // If no glyphs are shown (i.e. no child nodes), no clipping occurs.\n        current.element = current.txtElement;\n        this.clip(\"nonzero\");\n        this.endPath();\n      }\n    }\n\n    // Path properties\n    setLineWidth(width) {\n      if (width > 0) {\n        this.current.lineWidth = width;\n      }\n    }\n\n    setLineCap(style) {\n      this.current.lineCap = LINE_CAP_STYLES[style];\n    }\n\n    setLineJoin(style) {\n      this.current.lineJoin = LINE_JOIN_STYLES[style];\n    }\n\n    setMiterLimit(limit) {\n      this.current.miterLimit = limit;\n    }\n\n    setStrokeAlpha(strokeAlpha) {\n      this.current.strokeAlpha = strokeAlpha;\n    }\n\n    setStrokeRGBColor(r, g, b) {\n      this.current.strokeColor = Util.makeHexColor(r, g, b);\n    }\n\n    setFillAlpha(fillAlpha) {\n      this.current.fillAlpha = fillAlpha;\n    }\n\n    setFillRGBColor(r, g, b) {\n      this.current.fillColor = Util.makeHexColor(r, g, b);\n      this.current.tspan = this.svgFactory.createElement(\"svg:tspan\");\n      this.current.xcoords = [];\n      this.current.ycoords = [];\n    }\n\n    setStrokeColorN(args) {\n      this.current.strokeColor = this._makeColorN_Pattern(args);\n    }\n\n    setFillColorN(args) {\n      this.current.fillColor = this._makeColorN_Pattern(args);\n    }\n\n    shadingFill(args) {\n      const width = this.viewport.width;\n      const height = this.viewport.height;\n      const inv = Util.inverseTransform(this.transformMatrix);\n      const bl = Util.applyTransform([0, 0], inv);\n      const br = Util.applyTransform([0, height], inv);\n      const ul = Util.applyTransform([width, 0], inv);\n      const ur = Util.applyTransform([width, height], inv);\n      const x0 = Math.min(bl[0], br[0], ul[0], ur[0]);\n      const y0 = Math.min(bl[1], br[1], ul[1], ur[1]);\n      const x1 = Math.max(bl[0], br[0], ul[0], ur[0]);\n      const y1 = Math.max(bl[1], br[1], ul[1], ur[1]);\n\n      const rect = this.svgFactory.createElement(\"svg:rect\");\n      rect.setAttributeNS(null, \"x\", x0);\n      rect.setAttributeNS(null, \"y\", y0);\n      rect.setAttributeNS(null, \"width\", x1 - x0);\n      rect.setAttributeNS(null, \"height\", y1 - y0);\n      rect.setAttributeNS(null, \"fill\", this._makeShadingPattern(args));\n      if (this.current.fillAlpha < 1) {\n        rect.setAttributeNS(null, \"fill-opacity\", this.current.fillAlpha);\n      }\n      this._ensureTransformGroup().appendChild(rect);\n    }\n\n    /**\n     * @private\n     */\n    _makeColorN_Pattern(args) {\n      if (args[0] === \"TilingPattern\") {\n        return this._makeTilingPattern(args);\n      }\n      return this._makeShadingPattern(args);\n    }\n\n    /**\n     * @private\n     */\n    _makeTilingPattern(args) {\n      const color = args[1];\n      const operatorList = args[2];\n      const matrix = args[3] || IDENTITY_MATRIX;\n      const [x0, y0, x1, y1] = args[4];\n      const xstep = args[5];\n      const ystep = args[6];\n      const paintType = args[7];\n\n      const tilingId = `shading${shadingCount++}`;\n      const [tx0, ty0, tx1, ty1] = Util.normalizeRect([\n        ...Util.applyTransform([x0, y0], matrix),\n        ...Util.applyTransform([x1, y1], matrix),\n      ]);\n      const [xscale, yscale] = Util.singularValueDecompose2dScale(matrix);\n      const txstep = xstep * xscale;\n      const tystep = ystep * yscale;\n\n      const tiling = this.svgFactory.createElement(\"svg:pattern\");\n      tiling.setAttributeNS(null, \"id\", tilingId);\n      tiling.setAttributeNS(null, \"patternUnits\", \"userSpaceOnUse\");\n      tiling.setAttributeNS(null, \"width\", txstep);\n      tiling.setAttributeNS(null, \"height\", tystep);\n      tiling.setAttributeNS(null, \"x\", `${tx0}`);\n      tiling.setAttributeNS(null, \"y\", `${ty0}`);\n\n      // Save current state.\n      const svg = this.svg;\n      const transformMatrix = this.transformMatrix;\n      const fillColor = this.current.fillColor;\n      const strokeColor = this.current.strokeColor;\n\n      const bbox = this.svgFactory.create(tx1 - tx0, ty1 - ty0);\n      this.svg = bbox;\n      this.transformMatrix = matrix;\n      if (paintType === 2) {\n        const cssColor = Util.makeHexColor(...color);\n        this.current.fillColor = cssColor;\n        this.current.strokeColor = cssColor;\n      }\n      this.executeOpTree(this.convertOpList(operatorList));\n\n      // Restore saved state.\n      this.svg = svg;\n      this.transformMatrix = transformMatrix;\n      this.current.fillColor = fillColor;\n      this.current.strokeColor = strokeColor;\n\n      tiling.appendChild(bbox.childNodes[0]);\n      this.defs.appendChild(tiling);\n      return `url(#${tilingId})`;\n    }\n\n    /**\n     * @private\n     */\n    _makeShadingPattern(args) {\n      if (typeof args === \"string\") {\n        args = this.objs.get(args);\n      }\n      switch (args[0]) {\n        case \"RadialAxial\":\n          const shadingId = `shading${shadingCount++}`;\n          const colorStops = args[3];\n          let gradient;\n\n          switch (args[1]) {\n            case \"axial\":\n              const point0 = args[4];\n              const point1 = args[5];\n              gradient = this.svgFactory.createElement(\"svg:linearGradient\");\n              gradient.setAttributeNS(null, \"id\", shadingId);\n              gradient.setAttributeNS(null, \"gradientUnits\", \"userSpaceOnUse\");\n              gradient.setAttributeNS(null, \"x1\", point0[0]);\n              gradient.setAttributeNS(null, \"y1\", point0[1]);\n              gradient.setAttributeNS(null, \"x2\", point1[0]);\n              gradient.setAttributeNS(null, \"y2\", point1[1]);\n              break;\n            case \"radial\":\n              const focalPoint = args[4];\n              const circlePoint = args[5];\n              const focalRadius = args[6];\n              const circleRadius = args[7];\n              gradient = this.svgFactory.createElement(\"svg:radialGradient\");\n              gradient.setAttributeNS(null, \"id\", shadingId);\n              gradient.setAttributeNS(null, \"gradientUnits\", \"userSpaceOnUse\");\n              gradient.setAttributeNS(null, \"cx\", circlePoint[0]);\n              gradient.setAttributeNS(null, \"cy\", circlePoint[1]);\n              gradient.setAttributeNS(null, \"r\", circleRadius);\n              gradient.setAttributeNS(null, \"fx\", focalPoint[0]);\n              gradient.setAttributeNS(null, \"fy\", focalPoint[1]);\n              gradient.setAttributeNS(null, \"fr\", focalRadius);\n              break;\n            default:\n              throw new Error(`Unknown RadialAxial type: ${args[1]}`);\n          }\n          for (const colorStop of colorStops) {\n            const stop = this.svgFactory.createElement(\"svg:stop\");\n            stop.setAttributeNS(null, \"offset\", colorStop[0]);\n            stop.setAttributeNS(null, \"stop-color\", colorStop[1]);\n            gradient.appendChild(stop);\n          }\n          this.defs.appendChild(gradient);\n          return `url(#${shadingId})`;\n        case \"Mesh\":\n          warn(\"Unimplemented pattern Mesh\");\n          return null;\n        case \"Dummy\":\n          return \"hotpink\";\n        default:\n          throw new Error(`Unknown IR type: ${args[0]}`);\n      }\n    }\n\n    setDash(dashArray, dashPhase) {\n      this.current.dashArray = dashArray;\n      this.current.dashPhase = dashPhase;\n    }\n\n    constructPath(ops, args) {\n      const current = this.current;\n      let x = current.x,\n        y = current.y;\n      let d = [];\n      let j = 0;\n\n      for (const op of ops) {\n        switch (op | 0) {\n          case OPS.rectangle:\n            x = args[j++];\n            y = args[j++];\n            const width = args[j++];\n            const height = args[j++];\n            const xw = x + width;\n            const yh = y + height;\n            d.push(\n              \"M\",\n              pf(x),\n              pf(y),\n              \"L\",\n              pf(xw),\n              pf(y),\n              \"L\",\n              pf(xw),\n              pf(yh),\n              \"L\",\n              pf(x),\n              pf(yh),\n              \"Z\"\n            );\n            break;\n          case OPS.moveTo:\n            x = args[j++];\n            y = args[j++];\n            d.push(\"M\", pf(x), pf(y));\n            break;\n          case OPS.lineTo:\n            x = args[j++];\n            y = args[j++];\n            d.push(\"L\", pf(x), pf(y));\n            break;\n          case OPS.curveTo:\n            x = args[j + 4];\n            y = args[j + 5];\n            d.push(\n              \"C\",\n              pf(args[j]),\n              pf(args[j + 1]),\n              pf(args[j + 2]),\n              pf(args[j + 3]),\n              pf(x),\n              pf(y)\n            );\n            j += 6;\n            break;\n          case OPS.curveTo2:\n            d.push(\n              \"C\",\n              pf(x),\n              pf(y),\n              pf(args[j]),\n              pf(args[j + 1]),\n              pf(args[j + 2]),\n              pf(args[j + 3])\n            );\n            x = args[j + 2];\n            y = args[j + 3];\n            j += 4;\n            break;\n          case OPS.curveTo3:\n            x = args[j + 2];\n            y = args[j + 3];\n            d.push(\n              \"C\",\n              pf(args[j]),\n              pf(args[j + 1]),\n              pf(x),\n              pf(y),\n              pf(x),\n              pf(y)\n            );\n            j += 4;\n            break;\n          case OPS.closePath:\n            d.push(\"Z\");\n            break;\n        }\n      }\n\n      d = d.join(\" \");\n\n      if (\n        current.path &&\n        ops.length > 0 &&\n        ops[0] !== OPS.rectangle &&\n        ops[0] !== OPS.moveTo\n      ) {\n        // If a path does not start with an OPS.rectangle or OPS.moveTo, it has\n        // probably been divided into two OPS.constructPath operators by\n        // OperatorList. Append the commands to the previous path element.\n        d = current.path.getAttributeNS(null, \"d\") + d;\n      } else {\n        current.path = this.svgFactory.createElement(\"svg:path\");\n        this._ensureTransformGroup().appendChild(current.path);\n      }\n\n      current.path.setAttributeNS(null, \"d\", d);\n      current.path.setAttributeNS(null, \"fill\", \"none\");\n\n      // Saving a reference in current.element so that it can be addressed\n      // in 'fill' and 'stroke'\n      current.element = current.path;\n      current.setCurrentPoint(x, y);\n    }\n\n    endPath() {\n      const current = this.current;\n\n      // Painting operators end a path.\n      current.path = null;\n\n      if (!this.pendingClip) {\n        return;\n      }\n      if (!current.element) {\n        this.pendingClip = null;\n        return;\n      }\n\n      // Add the current path to a clipping path.\n      const clipId = `clippath${clipCount++}`;\n      const clipPath = this.svgFactory.createElement(\"svg:clipPath\");\n      clipPath.setAttributeNS(null, \"id\", clipId);\n      clipPath.setAttributeNS(null, \"transform\", pm(this.transformMatrix));\n\n      // A deep clone is needed when text is used as a clipping path.\n      const clipElement = current.element.cloneNode(true);\n      if (this.pendingClip === \"evenodd\") {\n        clipElement.setAttributeNS(null, \"clip-rule\", \"evenodd\");\n      } else {\n        clipElement.setAttributeNS(null, \"clip-rule\", \"nonzero\");\n      }\n      this.pendingClip = null;\n      clipPath.appendChild(clipElement);\n      this.defs.appendChild(clipPath);\n\n      if (current.activeClipUrl) {\n        // The previous clipping group content can go out of order -- resetting\n        // cached clipGroups.\n        current.clipGroup = null;\n        for (const prev of this.extraStack) {\n          prev.clipGroup = null;\n        }\n        // Intersect with the previous clipping path.\n        clipPath.setAttributeNS(null, \"clip-path\", current.activeClipUrl);\n      }\n      current.activeClipUrl = `url(#${clipId})`;\n\n      this.tgrp = null;\n    }\n\n    clip(type) {\n      this.pendingClip = type;\n    }\n\n    closePath() {\n      const current = this.current;\n      if (current.path) {\n        const d = `${current.path.getAttributeNS(null, \"d\")}Z`;\n        current.path.setAttributeNS(null, \"d\", d);\n      }\n    }\n\n    setLeading(leading) {\n      this.current.leading = -leading;\n    }\n\n    setTextRise(textRise) {\n      this.current.textRise = textRise;\n    }\n\n    setTextRenderingMode(textRenderingMode) {\n      this.current.textRenderingMode = textRenderingMode;\n    }\n\n    setHScale(scale) {\n      this.current.textHScale = scale / 100;\n    }\n\n    setRenderingIntent(intent) {\n      // This operation is ignored since we haven't found a use case for it yet.\n    }\n\n    setFlatness(flatness) {\n      // This operation is ignored since we haven't found a use case for it yet.\n    }\n\n    setGState(states) {\n      for (const [key, value] of states) {\n        switch (key) {\n          case \"LW\":\n            this.setLineWidth(value);\n            break;\n          case \"LC\":\n            this.setLineCap(value);\n            break;\n          case \"LJ\":\n            this.setLineJoin(value);\n            break;\n          case \"ML\":\n            this.setMiterLimit(value);\n            break;\n          case \"D\":\n            this.setDash(value[0], value[1]);\n            break;\n          case \"RI\":\n            this.setRenderingIntent(value);\n            break;\n          case \"FL\":\n            this.setFlatness(value);\n            break;\n          case \"Font\":\n            this.setFont(value);\n            break;\n          case \"CA\":\n            this.setStrokeAlpha(value);\n            break;\n          case \"ca\":\n            this.setFillAlpha(value);\n            break;\n          default:\n            warn(`Unimplemented graphic state operator ${key}`);\n            break;\n        }\n      }\n    }\n\n    fill() {\n      const current = this.current;\n      if (current.element) {\n        current.element.setAttributeNS(null, \"fill\", current.fillColor);\n        current.element.setAttributeNS(null, \"fill-opacity\", current.fillAlpha);\n        this.endPath();\n      }\n    }\n\n    stroke() {\n      const current = this.current;\n      if (current.element) {\n        this._setStrokeAttributes(current.element);\n        current.element.setAttributeNS(null, \"fill\", \"none\");\n        this.endPath();\n      }\n    }\n\n    /**\n     * @private\n     */\n    _setStrokeAttributes(element, lineWidthScale = 1) {\n      const current = this.current;\n      let dashArray = current.dashArray;\n      if (lineWidthScale !== 1 && dashArray.length > 0) {\n        dashArray = dashArray.map(function (value) {\n          return lineWidthScale * value;\n        });\n      }\n      element.setAttributeNS(null, \"stroke\", current.strokeColor);\n      element.setAttributeNS(null, \"stroke-opacity\", current.strokeAlpha);\n      element.setAttributeNS(null, \"stroke-miterlimit\", pf(current.miterLimit));\n      element.setAttributeNS(null, \"stroke-linecap\", current.lineCap);\n      element.setAttributeNS(null, \"stroke-linejoin\", current.lineJoin);\n      element.setAttributeNS(\n        null,\n        \"stroke-width\",\n        pf(lineWidthScale * current.lineWidth) + \"px\"\n      );\n      element.setAttributeNS(\n        null,\n        \"stroke-dasharray\",\n        dashArray.map(pf).join(\" \")\n      );\n      element.setAttributeNS(\n        null,\n        \"stroke-dashoffset\",\n        pf(lineWidthScale * current.dashPhase) + \"px\"\n      );\n    }\n\n    eoFill() {\n      if (this.current.element) {\n        this.current.element.setAttributeNS(null, \"fill-rule\", \"evenodd\");\n      }\n      this.fill();\n    }\n\n    fillStroke() {\n      // Order is important since stroke wants fill to be none.\n      // First stroke, then if fill needed, it will be overwritten.\n      this.stroke();\n      this.fill();\n    }\n\n    eoFillStroke() {\n      if (this.current.element) {\n        this.current.element.setAttributeNS(null, \"fill-rule\", \"evenodd\");\n      }\n      this.fillStroke();\n    }\n\n    closeStroke() {\n      this.closePath();\n      this.stroke();\n    }\n\n    closeFillStroke() {\n      this.closePath();\n      this.fillStroke();\n    }\n\n    closeEOFillStroke() {\n      this.closePath();\n      this.eoFillStroke();\n    }\n\n    paintSolidColorImageMask() {\n      const rect = this.svgFactory.createElement(\"svg:rect\");\n      rect.setAttributeNS(null, \"x\", \"0\");\n      rect.setAttributeNS(null, \"y\", \"0\");\n      rect.setAttributeNS(null, \"width\", \"1px\");\n      rect.setAttributeNS(null, \"height\", \"1px\");\n      rect.setAttributeNS(null, \"fill\", this.current.fillColor);\n\n      this._ensureTransformGroup().appendChild(rect);\n    }\n\n    paintImageXObject(objId) {\n      const imgData = objId.startsWith(\"g_\")\n        ? this.commonObjs.get(objId)\n        : this.objs.get(objId);\n      if (!imgData) {\n        warn(`Dependent image with object ID ${objId} is not ready yet`);\n        return;\n      }\n      this.paintInlineImageXObject(imgData);\n    }\n\n    paintInlineImageXObject(imgData, mask) {\n      const width = imgData.width;\n      const height = imgData.height;\n\n      const imgSrc = convertImgDataToPng(imgData, this.forceDataSchema, !!mask);\n      const cliprect = this.svgFactory.createElement(\"svg:rect\");\n      cliprect.setAttributeNS(null, \"x\", \"0\");\n      cliprect.setAttributeNS(null, \"y\", \"0\");\n      cliprect.setAttributeNS(null, \"width\", pf(width));\n      cliprect.setAttributeNS(null, \"height\", pf(height));\n      this.current.element = cliprect;\n      this.clip(\"nonzero\");\n\n      const imgEl = this.svgFactory.createElement(\"svg:image\");\n      imgEl.setAttributeNS(XLINK_NS, \"xlink:href\", imgSrc);\n      imgEl.setAttributeNS(null, \"x\", \"0\");\n      imgEl.setAttributeNS(null, \"y\", pf(-height));\n      imgEl.setAttributeNS(null, \"width\", pf(width) + \"px\");\n      imgEl.setAttributeNS(null, \"height\", pf(height) + \"px\");\n      imgEl.setAttributeNS(\n        null,\n        \"transform\",\n        `scale(${pf(1 / width)} ${pf(-1 / height)})`\n      );\n      if (mask) {\n        mask.appendChild(imgEl);\n      } else {\n        this._ensureTransformGroup().appendChild(imgEl);\n      }\n    }\n\n    paintImageMaskXObject(imgData) {\n      const current = this.current;\n      const width = imgData.width;\n      const height = imgData.height;\n      const fillColor = current.fillColor;\n\n      current.maskId = `mask${maskCount++}`;\n      const mask = this.svgFactory.createElement(\"svg:mask\");\n      mask.setAttributeNS(null, \"id\", current.maskId);\n\n      const rect = this.svgFactory.createElement(\"svg:rect\");\n      rect.setAttributeNS(null, \"x\", \"0\");\n      rect.setAttributeNS(null, \"y\", \"0\");\n      rect.setAttributeNS(null, \"width\", pf(width));\n      rect.setAttributeNS(null, \"height\", pf(height));\n      rect.setAttributeNS(null, \"fill\", fillColor);\n      rect.setAttributeNS(null, \"mask\", `url(#${current.maskId})`);\n\n      this.defs.appendChild(mask);\n      this._ensureTransformGroup().appendChild(rect);\n\n      this.paintInlineImageXObject(imgData, mask);\n    }\n\n    paintFormXObjectBegin(matrix, bbox) {\n      if (Array.isArray(matrix) && matrix.length === 6) {\n        this.transform(\n          matrix[0],\n          matrix[1],\n          matrix[2],\n          matrix[3],\n          matrix[4],\n          matrix[5]\n        );\n      }\n\n      if (bbox) {\n        const width = bbox[2] - bbox[0];\n        const height = bbox[3] - bbox[1];\n\n        const cliprect = this.svgFactory.createElement(\"svg:rect\");\n        cliprect.setAttributeNS(null, \"x\", bbox[0]);\n        cliprect.setAttributeNS(null, \"y\", bbox[1]);\n        cliprect.setAttributeNS(null, \"width\", pf(width));\n        cliprect.setAttributeNS(null, \"height\", pf(height));\n        this.current.element = cliprect;\n        this.clip(\"nonzero\");\n        this.endPath();\n      }\n    }\n\n    paintFormXObjectEnd() {}\n\n    /**\n     * @private\n     */\n    _initialize(viewport) {\n      const svg = this.svgFactory.create(viewport.width, viewport.height);\n\n      // Create the definitions element.\n      const definitions = this.svgFactory.createElement(\"svg:defs\");\n      svg.appendChild(definitions);\n      this.defs = definitions;\n\n      // Create the root group element, which acts a container for all other\n      // groups and applies the viewport transform.\n      const rootGroup = this.svgFactory.createElement(\"svg:g\");\n      rootGroup.setAttributeNS(null, \"transform\", pm(viewport.transform));\n      svg.appendChild(rootGroup);\n\n      // For the construction of the SVG image we are only interested in the\n      // root group, so we expose it as the entry point of the SVG image for\n      // the other code in this class.\n      this.svg = rootGroup;\n\n      return svg;\n    }\n\n    /**\n     * @private\n     */\n    _ensureClipGroup() {\n      if (!this.current.clipGroup) {\n        const clipGroup = this.svgFactory.createElement(\"svg:g\");\n        clipGroup.setAttributeNS(null, \"clip-path\", this.current.activeClipUrl);\n        this.svg.appendChild(clipGroup);\n        this.current.clipGroup = clipGroup;\n      }\n      return this.current.clipGroup;\n    }\n\n    /**\n     * @private\n     */\n    _ensureTransformGroup() {\n      if (!this.tgrp) {\n        this.tgrp = this.svgFactory.createElement(\"svg:g\");\n        this.tgrp.setAttributeNS(null, \"transform\", pm(this.transformMatrix));\n        if (this.current.activeClipUrl) {\n          this._ensureClipGroup().appendChild(this.tgrp);\n        } else {\n          this.svg.appendChild(this.tgrp);\n        }\n      }\n      return this.tgrp;\n    }\n  };\n}\n\nexport { SVGGraphics };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals __non_webpack_require__ */\n\nimport {\n  AbortException,\n  assert,\n  createPromiseCapability,\n  MissingPDFException,\n} from \"../shared/util.js\";\nimport {\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n} from \"./network_utils.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./node_stream.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nconst fs = __non_webpack_require__(\"fs\");\nconst http = __non_webpack_require__(\"http\");\nconst https = __non_webpack_require__(\"https\");\nconst url = __non_webpack_require__(\"url\");\n\nconst fileUriRegex = /^file:\\/\\/\\/[a-zA-Z]:\\//;\n\nfunction parseUrl(sourceUrl) {\n  const parsedUrl = url.parse(sourceUrl);\n  if (parsedUrl.protocol === \"file:\" || parsedUrl.host) {\n    return parsedUrl;\n  }\n  // Prepending 'file:///' to Windows absolute path.\n  if (/^[a-z]:[/\\\\]/i.test(sourceUrl)) {\n    return url.parse(`file:///${sourceUrl}`);\n  }\n  // Changes protocol to 'file:' if url refers to filesystem.\n  if (!parsedUrl.host) {\n    parsedUrl.protocol = \"file:\";\n  }\n  return parsedUrl;\n}\n\nclass PDFNodeStream {\n  constructor(source) {\n    this.source = source;\n    this.url = parseUrl(source.url);\n    this.isHttp =\n      this.url.protocol === \"http:\" || this.url.protocol === \"https:\";\n    // Check if url refers to filesystem.\n    this.isFsUrl = this.url.protocol === \"file:\";\n    this.httpHeaders = (this.isHttp && source.httpHeaders) || {};\n\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFNodeStream.getFullReader can only be called once.\"\n    );\n    this._fullRequestReader = this.isFsUrl\n      ? new PDFNodeStreamFsFullReader(this)\n      : new PDFNodeStreamFullReader(this);\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(start, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const rangeReader = this.isFsUrl\n      ? new PDFNodeStreamFsRangeReader(this, start, end)\n      : new PDFNodeStreamRangeReader(this, start, end);\n    this._rangeRequestReaders.push(rangeReader);\n    return rangeReader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\n\nclass BaseFullReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    const source = stream.source;\n    this._contentLength = source.length; // optional\n    this._loaded = 0;\n    this._filename = null;\n\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n\n    this._readableStream = null;\n    this._readCapability = createPromiseCapability();\n    this._headersCapability = createPromiseCapability();\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = createPromiseCapability();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: this._loaded,\n        total: this._contentLength,\n      });\n    }\n    // Ensure that `read()` method returns ArrayBuffer.\n    const buffer = new Uint8Array(chunk).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    // Call `this._error()` method when cancel is called\n    // before _readableStream is set.\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"end\", () => {\n      // Destroy readable to minimize resource usage.\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n\n    // We need to stop reading when range is supported and streaming is\n    // disabled.\n    if (!this._isStreamingSupported && this._isRangeSupported) {\n      this._error(new AbortException(\"streaming is disabled\"));\n    }\n\n    // Destroy ReadableStream if already in errored state.\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\n\nclass BaseRangeReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    this._loaded = 0;\n    this._readableStream = null;\n    this._readCapability = createPromiseCapability();\n    const source = stream.source;\n    this._isStreamingSupported = !source.disableStream;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = createPromiseCapability();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    if (this.onProgress) {\n      this.onProgress({ loaded: this._loaded });\n    }\n    // Ensure that `read()` method returns ArrayBuffer.\n    const buffer = new Uint8Array(chunk).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    // Call `this._error()` method when cancel is called\n    // before _readableStream is set.\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"end\", () => {\n      // Destroy readableStream to minimize resource usage.\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n\n    // Destroy readableStream if already in errored state.\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\n\nfunction createRequestOptions(parsedUrl, headers) {\n  return {\n    protocol: parsedUrl.protocol,\n    auth: parsedUrl.auth,\n    host: parsedUrl.hostname,\n    port: parsedUrl.port,\n    path: parsedUrl.path,\n    method: \"GET\",\n    headers,\n  };\n}\n\nclass PDFNodeStreamFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        this._headersCapability.reject(error);\n        return;\n      }\n      this._headersCapability.resolve();\n      this._setReadableStream(response);\n\n      const getResponseHeader = name => {\n        // Make sure that headers name are in lower case, as mentioned\n        // here: https://nodejs.org/api/http.html#http_message_headers.\n        return this._readableStream.headers[name.toLowerCase()];\n      };\n      const { allowRangeRequests, suggestedLength } =\n        validateRangeRequestCapabilities({\n          getResponseHeader,\n          isHttp: stream.isHttp,\n          rangeChunkSize: this._rangeChunkSize,\n          disableRange: this._disableRange,\n        });\n\n      this._isRangeSupported = allowRangeRequests;\n      // Setting right content length.\n      this._contentLength = suggestedLength || this._contentLength;\n\n      this._filename = extractFilenameFromHeader(getResponseHeader);\n    };\n\n    this._request = null;\n    if (this._url.protocol === \"http:\") {\n      this._request = http.request(\n        createRequestOptions(this._url, stream.httpHeaders),\n        handleResponse\n      );\n    } else {\n      this._request = https.request(\n        createRequestOptions(this._url, stream.httpHeaders),\n        handleResponse\n      );\n    }\n\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n      this._headersCapability.reject(reason);\n    });\n    // Note: `request.end(data)` is used to write `data` to request body\n    // and notify end of request. But one should always call `request.end()`\n    // even if there is no data to write -- (to notify the end of request).\n    this._request.end();\n  }\n}\n\nclass PDFNodeStreamRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n\n    this._httpHeaders = {};\n    for (const property in stream.httpHeaders) {\n      const value = stream.httpHeaders[property];\n      if (typeof value === \"undefined\") {\n        continue;\n      }\n      this._httpHeaders[property] = value;\n    }\n    this._httpHeaders.Range = `bytes=${start}-${end - 1}`;\n\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        return;\n      }\n      this._setReadableStream(response);\n    };\n\n    this._request = null;\n    if (this._url.protocol === \"http:\") {\n      this._request = http.request(\n        createRequestOptions(this._url, this._httpHeaders),\n        handleResponse\n      );\n    } else {\n      this._request = https.request(\n        createRequestOptions(this._url, this._httpHeaders),\n        handleResponse\n      );\n    }\n\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n    });\n    this._request.end();\n  }\n}\n\nclass PDFNodeStreamFsFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n\n    let path = decodeURIComponent(this._url.path);\n\n    // Remove the extra slash to get right path from url like `file:///C:/`\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n\n    fs.lstat(path, (error, stat) => {\n      if (error) {\n        if (error.code === \"ENOENT\") {\n          error = new MissingPDFException(`Missing PDF \"${path}\".`);\n        }\n        this._storedError = error;\n        this._headersCapability.reject(error);\n        return;\n      }\n      // Setting right content length.\n      this._contentLength = stat.size;\n\n      this._setReadableStream(fs.createReadStream(path));\n      this._headersCapability.resolve();\n    });\n  }\n}\n\nclass PDFNodeStreamFsRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n\n    let path = decodeURIComponent(this._url.path);\n\n    // Remove the extra slash to get right path from url like `file:///C:/`\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n\n    this._setReadableStream(fs.createReadStream(path, { start, end: end - 1 }));\n  }\n}\n\nexport { PDFNodeStream };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert,\n  MissingPDFException,\n  UnexpectedResponseException,\n} from \"../shared/util.js\";\nimport { getFilenameFromContentDispositionHeader } from \"./content_disposition.js\";\nimport { isPdfFile } from \"./display_utils.js\";\n\nfunction validateRangeRequestCapabilities({\n  getResponseHeader,\n  isHttp,\n  rangeChunkSize,\n  disableRange,\n}) {\n  assert(rangeChunkSize > 0, \"Range chunk size must be larger than zero\");\n  const returnValues = {\n    allowRangeRequests: false,\n    suggestedLength: undefined,\n  };\n\n  const length = parseInt(getResponseHeader(\"Content-Length\"), 10);\n  if (!Number.isInteger(length)) {\n    return returnValues;\n  }\n\n  returnValues.suggestedLength = length;\n\n  if (length <= 2 * rangeChunkSize) {\n    // The file size is smaller than the size of two chunks, so it does not\n    // make any sense to abort the request and retry with a range request.\n    return returnValues;\n  }\n\n  if (disableRange || !isHttp) {\n    return returnValues;\n  }\n  if (getResponseHeader(\"Accept-Ranges\") !== \"bytes\") {\n    return returnValues;\n  }\n\n  const contentEncoding = getResponseHeader(\"Content-Encoding\") || \"identity\";\n  if (contentEncoding !== \"identity\") {\n    return returnValues;\n  }\n\n  returnValues.allowRangeRequests = true;\n  return returnValues;\n}\n\nfunction extractFilenameFromHeader(getResponseHeader) {\n  const contentDisposition = getResponseHeader(\"Content-Disposition\");\n  if (contentDisposition) {\n    let filename = getFilenameFromContentDispositionHeader(contentDisposition);\n    if (filename.includes(\"%\")) {\n      try {\n        filename = decodeURIComponent(filename);\n      } catch (ex) {}\n    }\n    if (isPdfFile(filename)) {\n      return filename;\n    }\n  }\n  return null;\n}\n\nfunction createResponseStatusError(status, url) {\n  if (status === 404 || (status === 0 && url.startsWith(\"file:\"))) {\n    return new MissingPDFException('Missing PDF \"' + url + '\".');\n  }\n  return new UnexpectedResponseException(\n    `Unexpected server response (${status}) while retrieving PDF \"${url}\".`,\n    status\n  );\n}\n\nfunction validateResponseStatus(status) {\n  return status === 200 || status === 206;\n}\n\nexport {\n  createResponseStatusError,\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n  validateResponseStatus,\n};\n","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { stringToBytes } from \"../shared/util.js\";\n\n// This getFilenameFromContentDispositionHeader function is adapted from\n// https://github.com/Rob--W/open-in-browser/blob/7e2e35a38b8b4e981b11da7b2f01df0149049e92/extension/content-disposition.js\n// with the following changes:\n// - Modified to conform to PDF.js's coding style.\n// - Support UTF-8 decoding when TextDecoder is unsupported.\n// - Move return to the end of the function to prevent Babel from dropping the\n//   function declarations.\n\n/**\n * Extract file name from the Content-Disposition HTTP response header.\n *\n * @param {string} contentDisposition\n * @returns {string} Filename, if found in the Content-Disposition header.\n */\nfunction getFilenameFromContentDispositionHeader(contentDisposition) {\n  let needsEncodingFixup = true;\n\n  // filename*=ext-value (\"ext-value\" from RFC 5987, referenced by RFC 6266).\n  let tmp = toParamRegExp(\"filename\\\\*\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = unescape(filename);\n    filename = rfc5987decode(filename);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n\n  // Continuations (RFC 2231 section 3, referenced by RFC 5987 section 3.1).\n  // filename*n*=part\n  // filename*n=part\n  tmp = rfc2231getparam(contentDisposition);\n  if (tmp) {\n    // RFC 2047, section\n    const filename = rfc2047decode(tmp);\n    return fixupEncoding(filename);\n  }\n\n  // filename=value (RFC 5987, section 4.1).\n  tmp = toParamRegExp(\"filename\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n\n  // After this line there are only function declarations. We cannot put\n  // \"return\" here for readability because babel would then drop the function\n  // declarations...\n  function toParamRegExp(attributePattern, flags) {\n    return new RegExp(\n      \"(?:^|;)\\\\s*\" +\n        attributePattern +\n        \"\\\\s*=\\\\s*\" +\n        // Captures: value = token | quoted-string\n        // (RFC 2616, section 3.6 and referenced by RFC 6266 4.1)\n        \"(\" +\n        '[^\";\\\\s][^;\\\\s]*' +\n        \"|\" +\n        '\"(?:[^\"\\\\\\\\]|\\\\\\\\\"?)+\"?' +\n        \")\",\n      flags\n    );\n  }\n  function textdecode(encoding, value) {\n    if (encoding) {\n      if (!/^[\\x00-\\xFF]+$/.test(value)) {\n        return value;\n      }\n      try {\n        const decoder = new TextDecoder(encoding, { fatal: true });\n        const buffer = stringToBytes(value);\n        value = decoder.decode(buffer);\n        needsEncodingFixup = false;\n      } catch (e) {\n        // TextDecoder constructor threw - unrecognized encoding.\n        // Or TextDecoder API is not available (in IE / Edge).\n        if (/^utf-?8$/i.test(encoding)) {\n          // UTF-8 is commonly used, try to support it in another way:\n          try {\n            value = decodeURIComponent(escape(value));\n            needsEncodingFixup = false;\n          } catch (err) {}\n        }\n      }\n    }\n    return value;\n  }\n  function fixupEncoding(value) {\n    if (needsEncodingFixup && /[\\x80-\\xff]/.test(value)) {\n      // Maybe multi-byte UTF-8.\n      value = textdecode(\"utf-8\", value);\n      if (needsEncodingFixup) {\n        // Try iso-8859-1 encoding.\n        value = textdecode(\"iso-8859-1\", value);\n      }\n    }\n    return value;\n  }\n  function rfc2231getparam(contentDispositionStr) {\n    const matches = [];\n    let match;\n    // Iterate over all filename*n= and filename*n*= with n being an integer\n    // of at least zero. Any non-zero number must not start with '0'.\n    const iter = toParamRegExp(\"filename\\\\*((?!0\\\\d)\\\\d+)(\\\\*?)\", \"ig\");\n    while ((match = iter.exec(contentDispositionStr)) !== null) {\n      let [, n, quot, part] = match; // eslint-disable-line prefer-const\n      n = parseInt(n, 10);\n      if (n in matches) {\n        // Ignore anything after the invalid second filename*0.\n        if (n === 0) {\n          break;\n        }\n        continue;\n      }\n      matches[n] = [quot, part];\n    }\n    const parts = [];\n    for (let n = 0; n < matches.length; ++n) {\n      if (!(n in matches)) {\n        // Numbers must be consecutive. Truncate when there is a hole.\n        break;\n      }\n      let [quot, part] = matches[n]; // eslint-disable-line prefer-const\n      part = rfc2616unquote(part);\n      if (quot) {\n        part = unescape(part);\n        if (n === 0) {\n          part = rfc5987decode(part);\n        }\n      }\n      parts.push(part);\n    }\n    return parts.join(\"\");\n  }\n  function rfc2616unquote(value) {\n    if (value.startsWith('\"')) {\n      const parts = value.slice(1).split('\\\\\"');\n      // Find the first unescaped \" and terminate there.\n      for (let i = 0; i < parts.length; ++i) {\n        const quotindex = parts[i].indexOf('\"');\n        if (quotindex !== -1) {\n          parts[i] = parts[i].slice(0, quotindex);\n          parts.length = i + 1; // Truncates and stop the iteration.\n        }\n        parts[i] = parts[i].replace(/\\\\(.)/g, \"$1\");\n      }\n      value = parts.join('\"');\n    }\n    return value;\n  }\n  function rfc5987decode(extvalue) {\n    // Decodes \"ext-value\" from RFC 5987.\n    const encodingend = extvalue.indexOf(\"'\");\n    if (encodingend === -1) {\n      // Some servers send \"filename*=\" without encoding 'language' prefix,\n      // e.g. in https://github.com/Rob--W/open-in-browser/issues/26\n      // Let's accept the value like Firefox (57) (Chrome 62 rejects it).\n      return extvalue;\n    }\n    const encoding = extvalue.slice(0, encodingend);\n    const langvalue = extvalue.slice(encodingend + 1);\n    // Ignore language (RFC 5987 section 3.2.1, and RFC 6266 section 4.1 ).\n    const value = langvalue.replace(/^[^']*'/, \"\");\n    return textdecode(encoding, value);\n  }\n  function rfc2047decode(value) {\n    // RFC 2047-decode the result. Firefox tried to drop support for it, but\n    // backed out because some servers use it - https://bugzil.la/875615\n    // Firefox's condition for decoding is here: https://searchfox.org/mozilla-central/rev/4a590a5a15e35d88a3b23dd6ac3c471cf85b04a8/netwerk/mime/nsMIMEHeaderParamImpl.cpp#742-748\n\n    // We are more strict and only recognize RFC 2047-encoding if the value\n    // starts with \"=?\", since then it is likely that the full value is\n    // RFC 2047-encoded.\n\n    // Firefox also decodes words even where RFC 2047 section 5 states:\n    // \"An 'encoded-word' MUST NOT appear within a 'quoted-string'.\"\n    if (!value.startsWith(\"=?\") || /[\\x00-\\x19\\x80-\\xff]/.test(value)) {\n      return value;\n    }\n    // RFC 2047, section 2.4\n    // encoded-word = \"=?\" charset \"?\" encoding \"?\" encoded-text \"?=\"\n    // charset = token (but let's restrict to characters that denote a\n    //       possibly valid encoding).\n    // encoding = q or b\n    // encoded-text = any printable ASCII character other than ? or space.\n    //        ... but Firefox permits ? and space.\n    return value.replace(\n      /=\\?([\\w-]*)\\?([QqBb])\\?((?:[^?]|\\?(?!=))*)\\?=/g,\n      function (matches, charset, encoding, text) {\n        if (encoding === \"q\" || encoding === \"Q\") {\n          // RFC 2047 section 4.2.\n          text = text.replace(/_/g, \" \");\n          text = text.replace(/=([0-9a-fA-F]{2})/g, function (match, hex) {\n            return String.fromCharCode(parseInt(hex, 16));\n          });\n          return textdecode(charset, text);\n        } // else encoding is b or B - base64 (RFC 2047 section 4.1)\n        try {\n          text = atob(text);\n        } catch (e) {}\n        return textdecode(charset, text);\n      }\n    );\n  }\n\n  return \"\";\n}\n\nexport { getFilenameFromContentDispositionHeader };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert,\n  createPromiseCapability,\n  stringToBytes,\n} from \"../shared/util.js\";\nimport {\n  createResponseStatusError,\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n} from \"./network_utils.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./network.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nconst OK_RESPONSE = 200;\nconst PARTIAL_CONTENT_RESPONSE = 206;\n\nfunction getArrayBuffer(xhr) {\n  const data = xhr.response;\n  if (typeof data !== \"string\") {\n    return data;\n  }\n  const array = stringToBytes(data);\n  return array.buffer;\n}\n\nclass NetworkManager {\n  constructor(url, args = {}) {\n    this.url = url;\n    this.isHttp = /^https?:/i.test(url);\n    this.httpHeaders = (this.isHttp && args.httpHeaders) || Object.create(null);\n    this.withCredentials = args.withCredentials || false;\n    this.getXhr =\n      args.getXhr ||\n      function NetworkManager_getXhr() {\n        return new XMLHttpRequest();\n      };\n\n    this.currXhrId = 0;\n    this.pendingRequests = Object.create(null);\n  }\n\n  requestRange(begin, end, listeners) {\n    const args = {\n      begin,\n      end,\n    };\n    for (const prop in listeners) {\n      args[prop] = listeners[prop];\n    }\n    return this.request(args);\n  }\n\n  requestFull(listeners) {\n    return this.request(listeners);\n  }\n\n  request(args) {\n    const xhr = this.getXhr();\n    const xhrId = this.currXhrId++;\n    const pendingRequest = (this.pendingRequests[xhrId] = { xhr });\n\n    xhr.open(\"GET\", this.url);\n    xhr.withCredentials = this.withCredentials;\n    for (const property in this.httpHeaders) {\n      const value = this.httpHeaders[property];\n      if (typeof value === \"undefined\") {\n        continue;\n      }\n      xhr.setRequestHeader(property, value);\n    }\n    if (this.isHttp && \"begin\" in args && \"end\" in args) {\n      xhr.setRequestHeader(\"Range\", `bytes=${args.begin}-${args.end - 1}`);\n      pendingRequest.expectedStatus = PARTIAL_CONTENT_RESPONSE;\n    } else {\n      pendingRequest.expectedStatus = OK_RESPONSE;\n    }\n    xhr.responseType = \"arraybuffer\";\n\n    if (args.onError) {\n      xhr.onerror = function (evt) {\n        args.onError(xhr.status);\n      };\n    }\n    xhr.onreadystatechange = this.onStateChange.bind(this, xhrId);\n    xhr.onprogress = this.onProgress.bind(this, xhrId);\n\n    pendingRequest.onHeadersReceived = args.onHeadersReceived;\n    pendingRequest.onDone = args.onDone;\n    pendingRequest.onError = args.onError;\n    pendingRequest.onProgress = args.onProgress;\n\n    xhr.send(null);\n\n    return xhrId;\n  }\n\n  onProgress(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return; // Maybe abortRequest was called...\n    }\n    pendingRequest.onProgress?.(evt);\n  }\n\n  onStateChange(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return; // Maybe abortRequest was called...\n    }\n\n    const xhr = pendingRequest.xhr;\n    if (xhr.readyState >= 2 && pendingRequest.onHeadersReceived) {\n      pendingRequest.onHeadersReceived();\n      delete pendingRequest.onHeadersReceived;\n    }\n\n    if (xhr.readyState !== 4) {\n      return;\n    }\n\n    if (!(xhrId in this.pendingRequests)) {\n      // The XHR request might have been aborted in onHeadersReceived()\n      // callback, in which case we should abort request.\n      return;\n    }\n\n    delete this.pendingRequests[xhrId];\n\n    // Success status == 0 can be on ftp, file and other protocols.\n    if (xhr.status === 0 && this.isHttp) {\n      pendingRequest.onError?.(xhr.status);\n      return;\n    }\n    const xhrStatus = xhr.status || OK_RESPONSE;\n\n    // From http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35.2:\n    // \"A server MAY ignore the Range header\". This means it's possible to\n    // get a 200 rather than a 206 response from a range request.\n    const ok_response_on_range_request =\n      xhrStatus === OK_RESPONSE &&\n      pendingRequest.expectedStatus === PARTIAL_CONTENT_RESPONSE;\n\n    if (\n      !ok_response_on_range_request &&\n      xhrStatus !== pendingRequest.expectedStatus\n    ) {\n      pendingRequest.onError?.(xhr.status);\n      return;\n    }\n\n    const chunk = getArrayBuffer(xhr);\n    if (xhrStatus === PARTIAL_CONTENT_RESPONSE) {\n      const rangeHeader = xhr.getResponseHeader(\"Content-Range\");\n      const matches = /bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);\n      pendingRequest.onDone({\n        begin: parseInt(matches[1], 10),\n        chunk,\n      });\n    } else if (chunk) {\n      pendingRequest.onDone({\n        begin: 0,\n        chunk,\n      });\n    } else {\n      pendingRequest.onError?.(xhr.status);\n    }\n  }\n\n  getRequestXhr(xhrId) {\n    return this.pendingRequests[xhrId].xhr;\n  }\n\n  isPendingRequest(xhrId) {\n    return xhrId in this.pendingRequests;\n  }\n\n  abortRequest(xhrId) {\n    const xhr = this.pendingRequests[xhrId].xhr;\n    delete this.pendingRequests[xhrId];\n    xhr.abort();\n  }\n}\n\n/** @implements {IPDFStream} */\nclass PDFNetworkStream {\n  constructor(source) {\n    this._source = source;\n    this._manager = new NetworkManager(source.url, {\n      httpHeaders: source.httpHeaders,\n      withCredentials: source.withCredentials,\n    });\n    this._rangeChunkSize = source.rangeChunkSize;\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  _onRangeRequestReaderClosed(reader) {\n    const i = this._rangeRequestReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeRequestReaders.splice(i, 1);\n    }\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFNetworkStream.getFullReader can only be called once.\"\n    );\n    this._fullRequestReader = new PDFNetworkStreamFullRequestReader(\n      this._manager,\n      this._source\n    );\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(begin, end) {\n    const reader = new PDFNetworkStreamRangeRequestReader(\n      this._manager,\n      begin,\n      end\n    );\n    reader.onClosed = this._onRangeRequestReaderClosed.bind(this);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFNetworkStreamFullRequestReader {\n  constructor(manager, source) {\n    this._manager = manager;\n\n    const args = {\n      onHeadersReceived: this._onHeadersReceived.bind(this),\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this),\n    };\n    this._url = source.url;\n    this._fullRequestId = manager.requestFull(args);\n    this._headersReceivedCapability = createPromiseCapability();\n    this._disableRange = source.disableRange || false;\n    this._contentLength = source.length; // Optional\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._isStreamingSupported = false;\n    this._isRangeSupported = false;\n\n    this._cachedChunks = [];\n    this._requests = [];\n    this._done = false;\n    this._storedError = undefined;\n    this._filename = null;\n\n    this.onProgress = null;\n  }\n\n  _onHeadersReceived() {\n    const fullRequestXhrId = this._fullRequestId;\n    const fullRequestXhr = this._manager.getRequestXhr(fullRequestXhrId);\n\n    const getResponseHeader = name => {\n      return fullRequestXhr.getResponseHeader(name);\n    };\n    const { allowRangeRequests, suggestedLength } =\n      validateRangeRequestCapabilities({\n        getResponseHeader,\n        isHttp: this._manager.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange,\n      });\n\n    if (allowRangeRequests) {\n      this._isRangeSupported = true;\n    }\n    // Setting right content length.\n    this._contentLength = suggestedLength || this._contentLength;\n\n    this._filename = extractFilenameFromHeader(getResponseHeader);\n\n    if (this._isRangeSupported) {\n      // NOTE: by cancelling the full request, and then issuing range\n      // requests, there will be an issue for sites where you can only\n      // request the pdf once. However, if this is the case, then the\n      // server should not be returning that it can support range requests.\n      this._manager.abortRequest(fullRequestXhrId);\n    }\n\n    this._headersReceivedCapability.resolve();\n  }\n\n  _onDone(data) {\n    if (data) {\n      if (this._requests.length > 0) {\n        const requestCapability = this._requests.shift();\n        requestCapability.resolve({ value: data.chunk, done: false });\n      } else {\n        this._cachedChunks.push(data.chunk);\n      }\n    }\n    this._done = true;\n    if (this._cachedChunks.length > 0) {\n      return;\n    }\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n  }\n\n  _onError(status) {\n    this._storedError = createResponseStatusError(status, this._url);\n    this._headersReceivedCapability.reject(this._storedError);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._cachedChunks.length = 0;\n  }\n\n  _onProgress(evt) {\n    this.onProgress?.({\n      loaded: evt.loaded,\n      total: evt.lengthComputable ? evt.total : this._contentLength,\n    });\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get headersReady() {\n    return this._headersReceivedCapability.promise;\n  }\n\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._cachedChunks.length > 0) {\n      const chunk = this._cachedChunks.shift();\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    this._headersReceivedCapability.reject(reason);\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._fullRequestId)) {\n      this._manager.abortRequest(this._fullRequestId);\n    }\n    this._fullRequestReader = null;\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFNetworkStreamRangeRequestReader {\n  constructor(manager, begin, end) {\n    this._manager = manager;\n\n    const args = {\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this),\n    };\n    this._url = manager.url;\n    this._requestId = manager.requestRange(begin, end, args);\n    this._requests = [];\n    this._queuedChunk = null;\n    this._done = false;\n    this._storedError = undefined;\n\n    this.onProgress = null;\n    this.onClosed = null;\n  }\n\n  _close() {\n    this.onClosed?.(this);\n  }\n\n  _onDone(data) {\n    const chunk = data.chunk;\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({ value: chunk, done: false });\n    } else {\n      this._queuedChunk = chunk;\n    }\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n    this._close();\n  }\n\n  _onError(status) {\n    this._storedError = createResponseStatusError(status, this._url);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._queuedChunk = null;\n  }\n\n  _onProgress(evt) {\n    if (!this.isStreamingSupported) {\n      this.onProgress?.({ loaded: evt.loaded });\n    }\n  }\n\n  get isStreamingSupported() {\n    return false;\n  }\n\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._queuedChunk !== null) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = createPromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._requestId)) {\n      this._manager.abortRequest(this._requestId);\n    }\n    this._close();\n  }\n}\n\nexport { PDFNetworkStream };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AbortException,\n  assert,\n  createPromiseCapability,\n} from \"../shared/util.js\";\nimport {\n  createResponseStatusError,\n  extractFilenameFromHeader,\n  validateRangeRequestCapabilities,\n  validateResponseStatus,\n} from \"./network_utils.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./fetch_stream.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nfunction createFetchOptions(headers, withCredentials, abortController) {\n  return {\n    method: \"GET\",\n    headers,\n    signal: abortController?.signal,\n    mode: \"cors\",\n    credentials: withCredentials ? \"include\" : \"same-origin\",\n    redirect: \"follow\",\n  };\n}\n\nfunction createHeaders(httpHeaders) {\n  const headers = new Headers();\n  for (const property in httpHeaders) {\n    const value = httpHeaders[property];\n    if (typeof value === \"undefined\") {\n      continue;\n    }\n    headers.append(property, value);\n  }\n  return headers;\n}\n\n/** @implements {IPDFStream} */\nclass PDFFetchStream {\n  constructor(source) {\n    this.source = source;\n    this.isHttp = /^https?:/i.test(source.url);\n    this.httpHeaders = (this.isHttp && source.httpHeaders) || {};\n\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFFetchStream.getFullReader can only be called once.\"\n    );\n    this._fullRequestReader = new PDFFetchStreamReader(this);\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFFetchStreamRangeReader(this, begin, end);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    if (this._fullRequestReader) {\n      this._fullRequestReader.cancel(reason);\n    }\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFFetchStreamReader {\n  constructor(stream) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    this._filename = null;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._contentLength = source.length;\n    this._headersCapability = createPromiseCapability();\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    if (typeof AbortController !== \"undefined\") {\n      this._abortController = new AbortController();\n    }\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n\n    this._headers = createHeaders(this._stream.httpHeaders);\n\n    const url = source.url;\n    fetch(\n      url,\n      createFetchOptions(\n        this._headers,\n        this._withCredentials,\n        this._abortController\n      )\n    )\n      .then(response => {\n        if (!validateResponseStatus(response.status)) {\n          throw createResponseStatusError(response.status, url);\n        }\n        this._reader = response.body.getReader();\n        this._headersCapability.resolve();\n\n        const getResponseHeader = name => {\n          return response.headers.get(name);\n        };\n        const { allowRangeRequests, suggestedLength } =\n          validateRangeRequestCapabilities({\n            getResponseHeader,\n            isHttp: this._stream.isHttp,\n            rangeChunkSize: this._rangeChunkSize,\n            disableRange: this._disableRange,\n          });\n\n        this._isRangeSupported = allowRangeRequests;\n        // Setting right content length.\n        this._contentLength = suggestedLength || this._contentLength;\n\n        this._filename = extractFilenameFromHeader(getResponseHeader);\n\n        // We need to stop reading when range is supported and streaming is\n        // disabled.\n        if (!this._isStreamingSupported && this._isRangeSupported) {\n          this.cancel(new AbortException(\"Streaming is disabled.\"));\n        }\n      })\n      .catch(this._headersCapability.reject);\n\n    this.onProgress = null;\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._headersCapability.promise;\n    const { value, done } = await this._reader.read();\n    if (done) {\n      return { value, done };\n    }\n    this._loaded += value.byteLength;\n    if (this.onProgress) {\n      this.onProgress({\n        loaded: this._loaded,\n        total: this._contentLength,\n      });\n    }\n    const buffer = new Uint8Array(value).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    if (this._reader) {\n      this._reader.cancel(reason);\n    }\n    if (this._abortController) {\n      this._abortController.abort();\n    }\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFFetchStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._readCapability = createPromiseCapability();\n    this._isStreamingSupported = !source.disableStream;\n\n    if (typeof AbortController !== \"undefined\") {\n      this._abortController = new AbortController();\n    }\n\n    this._headers = createHeaders(this._stream.httpHeaders);\n    this._headers.append(\"Range\", `bytes=${begin}-${end - 1}`);\n\n    const url = source.url;\n    fetch(\n      url,\n      createFetchOptions(\n        this._headers,\n        this._withCredentials,\n        this._abortController\n      )\n    )\n      .then(response => {\n        if (!validateResponseStatus(response.status)) {\n          throw createResponseStatusError(response.status, url);\n        }\n        this._readCapability.resolve();\n        this._reader = response.body.getReader();\n      })\n      .catch(this._readCapability.reject);\n\n    this.onProgress = null;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    const { value, done } = await this._reader.read();\n    if (done) {\n      return { value, done };\n    }\n    this._loaded += value.byteLength;\n    if (this.onProgress) {\n      this.onProgress({ loaded: this._loaded });\n    }\n    const buffer = new Uint8Array(value).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    if (this._reader) {\n      this._reader.cancel(reason);\n    }\n    if (this._abortController) {\n      this._abortController.abort();\n    }\n  }\n}\n\nexport { PDFFetchStream };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __w_pdfjs_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __w_pdfjs_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__w_pdfjs_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable sort-exports/sort-exports */\n\n// eslint-disable-next-line max-len\n/** @typedef {import(\"./display/api\").PDFDocumentLoadingTask} PDFDocumentLoadingTask */\n/** @typedef {import(\"./display/api\").PDFDocumentProxy} PDFDocumentProxy */\n/** @typedef {import(\"./display/api\").PDFPageProxy} PDFPageProxy */\n/** @typedef {import(\"./display/api\").RenderTask} RenderTask */\n\nimport {\n  addLinkAttributes,\n  getFilenameFromUrl,\n  getPdfFilenameFromUrl,\n  getXfaPageViewport,\n  isPdfFile,\n  isValidFetchUrl,\n  LinkTarget,\n  loadScript,\n  PDFDateString,\n  PixelsPerInch,\n  RenderingCancelledException,\n} from \"./display/display_utils.js\";\nimport {\n  AnnotationMode,\n  CMapCompressionType,\n  createObjectURL,\n  createPromiseCapability,\n  createValidAbsoluteUrl,\n  InvalidPDFException,\n  MissingPDFException,\n  OPS,\n  PasswordResponses,\n  PermissionFlag,\n  removeNullCharacters,\n  shadow,\n  UnexpectedResponseException,\n  UNSUPPORTED_FEATURES,\n  Util,\n  VerbosityLevel,\n} from \"./shared/util.js\";\nimport {\n  build,\n  getDocument,\n  LoopbackPort,\n  PDFDataRangeTransport,\n  PDFWorker,\n  setPDFNetworkStreamFactory,\n  version,\n} from \"./display/api.js\";\nimport { AnnotationLayer } from \"./display/annotation_layer.js\";\nimport { GlobalWorkerOptions } from \"./display/worker_options.js\";\nimport { isNodeJS } from \"./shared/is_node.js\";\nimport { renderTextLayer } from \"./display/text_layer.js\";\nimport { SVGGraphics } from \"./display/svg.js\";\nimport { XfaLayer } from \"./display/xfa_layer.js\";\n\n/* eslint-disable-next-line no-unused-vars */\nconst pdfjsVersion =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_VERSION\") : void 0;\n/* eslint-disable-next-line no-unused-vars */\nconst pdfjsBuild =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_BUILD\") : void 0;\n\nif (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"PRODUCTION\")) {\n  const streamsPromise = Promise.all([\n    import(\"pdfjs/display/network.js\"),\n    import(\"pdfjs/display/fetch_stream.js\"),\n  ]);\n\n  setPDFNetworkStreamFactory(async params => {\n    const [{ PDFNetworkStream }, { PDFFetchStream }] = await streamsPromise;\n    if (isValidFetchUrl(params.url)) {\n      return new PDFFetchStream(params);\n    }\n    return new PDFNetworkStream(params);\n  });\n} else if (PDFJSDev.test(\"GENERIC || CHROME\")) {\n  if (PDFJSDev.test(\"GENERIC\") && isNodeJS) {\n    const { PDFNodeStream } = require(\"./display/node_stream.js\");\n\n    setPDFNetworkStreamFactory(params => {\n      return new PDFNodeStream(params);\n    });\n  } else {\n    const { PDFNetworkStream } = require(\"./display/network.js\");\n    const { PDFFetchStream } = require(\"./display/fetch_stream.js\");\n\n    setPDFNetworkStreamFactory(params => {\n      if (isValidFetchUrl(params.url)) {\n        return new PDFFetchStream(params);\n      }\n      return new PDFNetworkStream(params);\n    });\n  }\n}\n\nexport {\n  // From \"./display/display_utils.js\":\n  addLinkAttributes,\n  getFilenameFromUrl,\n  getPdfFilenameFromUrl,\n  isPdfFile,\n  LinkTarget,\n  loadScript,\n  PDFDateString,\n  PixelsPerInch,\n  RenderingCancelledException,\n  getXfaPageViewport,\n  // From \"./shared/util.js\":\n  AnnotationMode,\n  CMapCompressionType,\n  createObjectURL,\n  createPromiseCapability,\n  createValidAbsoluteUrl,\n  InvalidPDFException,\n  MissingPDFException,\n  OPS,\n  PasswordResponses,\n  PermissionFlag,\n  removeNullCharacters,\n  shadow,\n  UnexpectedResponseException,\n  UNSUPPORTED_FEATURES,\n  Util,\n  VerbosityLevel,\n  // From \"./display/api.js\":\n  build,\n  getDocument,\n  LoopbackPort,\n  PDFDataRangeTransport,\n  PDFWorker,\n  version,\n  // From \"./display/annotation_layer.js\":\n  AnnotationLayer,\n  // From \"./display/worker_options.js\":\n  GlobalWorkerOptions,\n  // From \"./display/text_layer.js\":\n  renderTextLayer,\n  // From \"./display/svg.js\":\n  SVGGraphics,\n  // From \"./display/xfa_layer.js\":\n  XfaLayer,\n};\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","// As defined on the list of supported events: https://reactjs.org/docs/events.html\nexport var clipboardEvents = ['onCopy', 'onCut', 'onPaste'];\nexport var compositionEvents = ['onCompositionEnd', 'onCompositionStart', 'onCompositionUpdate'];\nexport var keyboardEvents = ['onKeyDown', 'onKeyPress', 'onKeyUp'];\nexport var focusEvents = ['onFocus', 'onBlur'];\nexport var formEvents = ['onChange', 'onInput', 'onInvalid', 'onReset', 'onSubmit'];\nexport var genericEvents = ['onError', 'onLoad'];\nexport var mouseEvents = ['onClick', 'onContextMenu', 'onDoubleClick', 'onDrag', 'onDragEnd', 'onDragEnter', 'onDragExit', 'onDragLeave', 'onDragOver', 'onDragStart', 'onDrop', 'onMouseDown', 'onMouseEnter', 'onMouseLeave', 'onMouseMove', 'onMouseOut', 'onMouseOver', 'onMouseUp'];\nexport var pointerEvents = ['onPointerDown', 'onPointerMove', 'onPointerUp', 'onPointerCancel', 'onGotPointerCapture', 'onLostPointerCapture', 'onPointerEnter', 'onPointerLeave', 'onPointerOver', 'onPointerOut'];\nexport var selectionEvents = ['onSelect'];\nexport var touchEvents = ['onTouchCancel', 'onTouchEnd', 'onTouchMove', 'onTouchStart'];\nexport var uiEvents = ['onScroll'];\nexport var wheelEvents = ['onWheel'];\nexport var mediaEvents = ['onAbort', 'onCanPlay', 'onCanPlayThrough', 'onDurationChange', 'onEmptied', 'onEncrypted', 'onEnded', 'onError', 'onLoadedData', 'onLoadedMetadata', 'onLoadStart', 'onPause', 'onPlay', 'onPlaying', 'onProgress', 'onRateChange', 'onSeeked', 'onSeeking', 'onStalled', 'onSuspend', 'onTimeUpdate', 'onVolumeChange', 'onWaiting'];\nexport var imageEvents = ['onLoad', 'onError'];\nexport var animationEvents = ['onAnimationStart', 'onAnimationEnd', 'onAnimationIteration'];\nexport var transitionEvents = ['onTransitionEnd'];\nexport var otherEvents = ['onToggle'];\nexport var allEvents = [].concat(clipboardEvents, compositionEvents, keyboardEvents, focusEvents, formEvents, genericEvents, mouseEvents, pointerEvents, selectionEvents, touchEvents, uiEvents, wheelEvents, mediaEvents, imageEvents, animationEvents, transitionEvents, otherEvents);\n/**\n * Returns an object with on-event callback props curried with provided args.\n * @param {Object} props Props passed to a component.\n * @param {Function=} getArgs A function that returns argument(s) on-event callbacks\n *   shall be curried with.\n */\n\nvar makeEventProps = function makeEventProps(props, getArgs) {\n  var eventProps = {};\n  allEvents.forEach(function (eventName) {\n    if (!(eventName in props)) {\n      return;\n    }\n\n    if (!getArgs) {\n      eventProps[eventName] = props[eventName];\n      return;\n    }\n\n    eventProps[eventName] = function (event) {\n      return props[eventName](event, getArgs(eventName));\n    };\n  });\n  return eventProps;\n};\n\nexport default makeEventProps;","export default function makeCancellablePromise(promise) {\n  var isCancelled = false;\n  var wrappedPromise = new Promise(function (resolve, reject) {\n    promise.then(function () {\n      return !isCancelled && resolve.apply(void 0, arguments);\n    })[\"catch\"](function (error) {\n      return !isCancelled && reject(error);\n    });\n  });\n  return {\n    promise: wrappedPromise,\n    cancel: function cancel() {\n      isCancelled = true;\n    }\n  };\n}","export default function mergeClassNames() {\n  return Array.prototype.slice.call(arguments).reduce(function (classList, arg) {\n    return classList.concat(arg);\n  }, []).filter(function (arg) {\n    return typeof arg === 'string';\n  }).join(' ');\n}","import { createContext } from 'react';\nexport default /*#__PURE__*/createContext(null);","import React from 'react';\nimport PropTypes from 'prop-types';\nexport default function Message(_ref) {\n  var children = _ref.children,\n      type = _ref.type;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-pdf__message react-pdf__message--\".concat(type)\n  }, children);\n}\nMessage.propTypes = {\n  children: PropTypes.node,\n  type: PropTypes.oneOf(['error', 'loading', 'no-data']).isRequired\n};","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n\n/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport invariant from 'tiny-invariant';\nvar DEFAULT_LINK_REL = 'noopener noreferrer nofollow';\n\nvar LinkService = /*#__PURE__*/function () {\n  function LinkService() {\n    _classCallCheck(this, LinkService);\n\n    this.externalLinkTarget = null;\n    this.externalLinkRel = null;\n  }\n\n  _createClass(LinkService, [{\n    key: \"setDocument\",\n    value: function setDocument(pdfDocument) {\n      this.pdfDocument = pdfDocument;\n    }\n  }, {\n    key: \"setViewer\",\n    value: function setViewer(pdfViewer) {\n      this.pdfViewer = pdfViewer;\n    }\n  }, {\n    key: \"setExternalLinkRel\",\n    value: function setExternalLinkRel(externalLinkRel) {\n      this.externalLinkRel = externalLinkRel;\n    }\n  }, {\n    key: \"setExternalLinkTarget\",\n    value: function setExternalLinkTarget(externalLinkTarget) {\n      this.externalLinkTarget = externalLinkTarget;\n    }\n  }, {\n    key: \"setHistory\",\n    value: function setHistory() {}\n  }, {\n    key: \"pagesCount\",\n    get: function get() {\n      return this.pdfDocument ? this.pdfDocument.numPages : 0;\n    }\n  }, {\n    key: \"page\",\n    get: function get() {\n      return this.pdfViewer.currentPageNumber;\n    },\n    set: function set(value) {\n      this.pdfViewer.currentPageNumber = value;\n    }\n  }, {\n    key: \"rotation\",\n    get: function get() {\n      return 0;\n    },\n    set: function set(value) {}\n  }, {\n    key: \"goToDestination\",\n    value: function goToDestination(dest) {\n      var _this = this;\n\n      new Promise(function (resolve) {\n        if (typeof dest === 'string') {\n          _this.pdfDocument.getDestination(dest).then(resolve);\n        } else if (Array.isArray(dest)) {\n          resolve(dest);\n        } else {\n          dest.then(resolve);\n        }\n      }).then(function (explicitDest) {\n        invariant(Array.isArray(explicitDest), \"\\\"\".concat(explicitDest, \"\\\" is not a valid destination array.\"));\n        var destRef = explicitDest[0];\n        new Promise(function (resolve) {\n          if (destRef instanceof Object) {\n            _this.pdfDocument.getPageIndex(destRef).then(function (pageIndex) {\n              resolve(pageIndex);\n            })[\"catch\"](function () {\n              invariant(false, \"\\\"\".concat(destRef, \"\\\" is not a valid page reference.\"));\n            });\n          } else if (typeof destRef === 'number') {\n            resolve(destRef);\n          } else {\n            invariant(false, \"\\\"\".concat(destRef, \"\\\" is not a valid destination reference.\"));\n          }\n        }).then(function (pageIndex) {\n          var pageNumber = pageIndex + 1;\n          invariant(pageNumber >= 1 && pageNumber <= _this.pagesCount, \"\\\"\".concat(pageNumber, \"\\\" is not a valid page number.\"));\n\n          _this.pdfViewer.scrollPageIntoView({\n            dest: dest,\n            pageIndex: pageIndex,\n            pageNumber: pageNumber\n          });\n        });\n      });\n    }\n  }, {\n    key: \"navigateTo\",\n    value: function navigateTo(dest) {\n      this.goToDestination(dest);\n    }\n  }, {\n    key: \"goToPage\",\n    value: function goToPage() {}\n  }, {\n    key: \"addLinkAttributes\",\n    value: function addLinkAttributes(link, url, newWindow) {\n      link.href = url;\n      link.rel = this.externalLinkRel || DEFAULT_LINK_REL;\n      link.target = newWindow ? '_blank' : this.externalLinkTarget || '';\n    }\n  }, {\n    key: \"getDestinationHash\",\n    value: function getDestinationHash() {\n      return '#';\n    }\n  }, {\n    key: \"getAnchorUrl\",\n    value: function getAnchorUrl() {\n      return '#';\n    }\n  }, {\n    key: \"setHash\",\n    value: function setHash() {}\n  }, {\n    key: \"executeNamedAction\",\n    value: function executeNamedAction() {}\n  }, {\n    key: \"cachePageRef\",\n    value: function cachePageRef() {}\n  }, {\n    key: \"isPageVisible\",\n    value: function isPageVisible() {\n      return true;\n    }\n  }, {\n    key: \"isPageCached\",\n    value: function isPageCached() {\n      return true;\n    }\n  }]);\n\n  return LinkService;\n}();\n\nexport { LinkService as default };","// As defined in https://github.com/mozilla/pdf.js/blob/d9fac3459609a807be6506fb3441b5da4b154d14/src/shared/util.js#L371-L374\nvar PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2\n};\nexport default PasswordResponses;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport invariant from 'tiny-invariant';\nimport warning from 'tiny-warning';\n/**\n * Checks if we're running in a browser environment.\n */\n\nexport var isBrowser = typeof window !== 'undefined';\n/**\n * Checks whether we're running from a local file system.\n */\n\nexport var isLocalFileSystem = isBrowser && window.location.protocol === 'file:';\n/**\n * Checks whether a variable is defined.\n *\n * @param {*} variable Variable to check\n */\n\nexport function isDefined(variable) {\n  return typeof variable !== 'undefined';\n}\n/**\n * Checks whether a variable is defined and not null.\n *\n * @param {*} variable Variable to check\n */\n\nexport function isProvided(variable) {\n  return isDefined(variable) && variable !== null;\n}\n/**\n * Checkes whether a variable provided is a string.\n *\n * @param {*} variable Variable to check\n */\n\nexport function isString(variable) {\n  return typeof variable === 'string';\n}\n/**\n * Checks whether a variable provided is an ArrayBuffer.\n *\n * @param {*} variable Variable to check\n */\n\nexport function isArrayBuffer(variable) {\n  return variable instanceof ArrayBuffer;\n}\n/**\n * Checkes whether a variable provided is a Blob.\n *\n * @param {*} variable Variable to check\n */\n\nexport function isBlob(variable) {\n  invariant(isBrowser, 'isBlob can only be used in a browser environment');\n  return variable instanceof Blob;\n}\n/**\n * Checkes whether a variable provided is a File.\n *\n * @param {*} variable Variable to check\n */\n\nexport function isFile(variable) {\n  invariant(isBrowser, 'isFile can only be used in a browser environment');\n  return variable instanceof File;\n}\n/**\n * Checks whether a string provided is a data URI.\n *\n * @param {string} str String to check\n */\n\nexport function isDataURI(str) {\n  return isString(str) && /^data:/.test(str);\n}\nexport function dataURItoByteString(dataURI) {\n  invariant(isDataURI(dataURI), 'Invalid data URI.');\n\n  var _dataURI$split = dataURI.split(','),\n      _dataURI$split2 = _slicedToArray(_dataURI$split, 2),\n      headersString = _dataURI$split2[0],\n      dataString = _dataURI$split2[1];\n\n  var headers = headersString.split(';');\n\n  if (headers.indexOf('base64') !== -1) {\n    return atob(dataString);\n  }\n\n  return unescape(dataString);\n}\nexport function getPixelRatio() {\n  return isBrowser && window.devicePixelRatio || 1;\n}\nvar allowFileAccessFromFilesTip = 'On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.';\nexport function displayCORSWarning() {\n  warning(!isLocalFileSystem, \"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. \".concat(allowFileAccessFromFilesTip));\n}\nexport function displayWorkerWarning() {\n  warning(!isLocalFileSystem, \"Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. \".concat(allowFileAccessFromFilesTip));\n}\nexport function cancelRunningTask(runningTask) {\n  if (runningTask && runningTask.cancel) runningTask.cancel();\n}\nexport function makePageCallback(page, scale) {\n  Object.defineProperty(page, 'width', {\n    get: function get() {\n      return this.view[2] * scale;\n    },\n    configurable: true\n  });\n  Object.defineProperty(page, 'height', {\n    get: function get() {\n      return this.view[3] * scale;\n    },\n    configurable: true\n  });\n  Object.defineProperty(page, 'originalWidth', {\n    get: function get() {\n      return this.view[2];\n    },\n    configurable: true\n  });\n  Object.defineProperty(page, 'originalHeight', {\n    get: function get() {\n      return this.view[3];\n    },\n    configurable: true\n  });\n  return page;\n}\nexport function isCancelException(error) {\n  return error.name === 'RenderingCancelledException';\n}\nexport function loadFromFile(file) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n\n    reader.onload = function () {\n      return resolve(new Uint8Array(reader.result));\n    };\n\n    reader.onerror = function (event) {\n      switch (event.target.error.code) {\n        case event.target.error.NOT_FOUND_ERR:\n          return reject(new Error('Error while reading a file: File not found.'));\n\n        case event.target.error.NOT_READABLE_ERR:\n          return reject(new Error('Error while reading a file: File not readable.'));\n\n        case event.target.error.SECURITY_ERR:\n          return reject(new Error('Error while reading a file: Security error.'));\n\n        case event.target.error.ABORT_ERR:\n          return reject(new Error('Error while reading a file: Aborted.'));\n\n        default:\n          return reject(new Error('Error while reading a file.'));\n      }\n    };\n\n    reader.readAsArrayBuffer(file);\n    return null;\n  });\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport PropTypes from 'prop-types';\nimport { mouseEvents, touchEvents, keyboardEvents } from 'make-event-props';\nimport { isDefined } from './utils';\nimport LinkService from '../LinkService';\nexport var eventProps = function () {\n  var result = {};\n  [].concat(_toConsumableArray(mouseEvents), _toConsumableArray(touchEvents), _toConsumableArray(keyboardEvents)).forEach(function (eventName) {\n    result[eventName] = PropTypes.func;\n  });\n  return result;\n}();\nvar fileTypes = [PropTypes.string, PropTypes.instanceOf(ArrayBuffer), PropTypes.shape({\n  data: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n  httpHeaders: PropTypes.object,\n  range: PropTypes.object,\n  url: PropTypes.string,\n  withCredentials: PropTypes.bool\n})];\n\nif (typeof File !== 'undefined') {\n  fileTypes.push(PropTypes.instanceOf(File));\n}\n\nif (typeof Blob !== 'undefined') {\n  fileTypes.push(PropTypes.instanceOf(Blob));\n}\n\nexport var isClassName = PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]);\nexport var isFile = PropTypes.oneOfType(fileTypes);\nexport var isLinkService = PropTypes.instanceOf(LinkService);\nexport var isLinkTarget = PropTypes.oneOf(['_self', '_blank', '_parent', '_top']);\nexport var isPage = PropTypes.shape({\n  _transport: PropTypes.shape({\n    fontLoader: PropTypes.object.isRequired\n  }).isRequired,\n  commonObjs: PropTypes.shape({\n    _objs: PropTypes.object.isRequired\n  }).isRequired,\n  getAnnotations: PropTypes.func.isRequired,\n  getTextContent: PropTypes.func.isRequired,\n  getViewport: PropTypes.func.isRequired,\n  render: PropTypes.func.isRequired\n});\nexport var isPageIndex = function isPageIndex(props, propName, componentName) {\n  var pageIndex = props[propName],\n      pageNumber = props.pageNumber,\n      pdf = props.pdf;\n\n  if (!isDefined(pdf)) {\n    return null;\n  }\n\n  if (isDefined(pageIndex)) {\n    if (typeof pageIndex !== 'number') {\n      return new Error(\"`\".concat(propName, \"` of type `\").concat(_typeof(pageIndex), \"` supplied to `\").concat(componentName, \"`, expected `number`.\"));\n    }\n\n    if (pageIndex < 0) {\n      return new Error(\"Expected `\".concat(propName, \"` to be greater or equal to 0.\"));\n    }\n\n    var numPages = pdf.numPages;\n\n    if (pageIndex + 1 > numPages) {\n      return new Error(\"Expected `\".concat(propName, \"` to be less or equal to \").concat(numPages - 1, \".\"));\n    }\n  } else if (!isDefined(pageNumber)) {\n    return new Error(\"`\".concat(propName, \"` not supplied. Either pageIndex or pageNumber must be supplied to `\").concat(componentName, \"`.\"));\n  } // Everything is fine\n\n\n  return null;\n};\nexport var isPageNumber = function isPageNumber(props, propName, componentName) {\n  var pageNumber = props[propName],\n      pageIndex = props.pageIndex,\n      pdf = props.pdf;\n\n  if (!isDefined(pdf)) {\n    return null;\n  }\n\n  if (isDefined(pageNumber)) {\n    if (typeof pageNumber !== 'number') {\n      return new Error(\"`\".concat(propName, \"` of type `\").concat(_typeof(pageNumber), \"` supplied to `\").concat(componentName, \"`, expected `number`.\"));\n    }\n\n    if (pageNumber < 1) {\n      return new Error(\"Expected `\".concat(propName, \"` to be greater or equal to 1.\"));\n    }\n\n    var numPages = pdf.numPages;\n\n    if (pageNumber > numPages) {\n      return new Error(\"Expected `\".concat(propName, \"` to be less or equal to \").concat(numPages, \".\"));\n    }\n  } else if (!isDefined(pageIndex)) {\n    return new Error(\"`\".concat(propName, \"` not supplied. Either pageIndex or pageNumber must be supplied to `\").concat(componentName, \"`.\"));\n  } // Everything is fine\n\n\n  return null;\n};\nexport var isPdf = PropTypes.oneOfType([PropTypes.shape({\n  getDestination: PropTypes.func.isRequired,\n  getOutline: PropTypes.func.isRequired,\n  getPage: PropTypes.func.isRequired,\n  numPages: PropTypes.number.isRequired\n}), PropTypes.bool]);\nexport var isRef = PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n  current: PropTypes.any\n})]);\nexport var isRenderMode = PropTypes.oneOf(['canvas', 'none', 'svg']);\nexport var isRotate = PropTypes.oneOf([0, 90, 180, 270]);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _excluded = [\"url\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/**\n * Loads a PDF document. Passes it to all children.\n */\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport makeEventProps from 'make-event-props';\nimport makeCancellable from 'make-cancellable-promise';\nimport mergeClassNames from 'merge-class-names';\nimport invariant from 'tiny-invariant';\nimport warning from 'tiny-warning';\nimport * as pdfjs from 'pdfjs-dist/legacy/build/pdf';\nimport DocumentContext from './DocumentContext';\nimport Message from './Message';\nimport LinkService from './LinkService';\nimport PasswordResponses from './PasswordResponses';\nimport { cancelRunningTask, dataURItoByteString, displayCORSWarning, isArrayBuffer, isBlob, isBrowser, isDataURI, isFile, loadFromFile } from './shared/utils';\nimport { eventProps, isClassName, isFile as isFileProp, isRef } from './shared/propTypes';\nvar PDFDataRangeTransport = pdfjs.PDFDataRangeTransport;\n\nvar Document = /*#__PURE__*/function (_PureComponent) {\n  _inherits(Document, _PureComponent);\n\n  var _super = _createSuper(Document);\n\n  function Document() {\n    var _this;\n\n    _classCallCheck(this, Document);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      pdf: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"viewer\", {\n      scrollPageIntoView: function scrollPageIntoView(_ref) {\n        var dest = _ref.dest,\n            pageIndex = _ref.pageIndex,\n            pageNumber = _ref.pageNumber;\n        // Handling jumping to internal links target\n        var onItemClick = _this.props.onItemClick; // First, check if custom handling of onItemClick was provided\n\n        if (onItemClick) {\n          onItemClick({\n            dest: dest,\n            pageIndex: pageIndex,\n            pageNumber: pageNumber\n          });\n          return;\n        } // If not, try to look for target page within the <Document>.\n\n\n        var page = _this.pages[pageIndex];\n\n        if (page) {\n          // Scroll to the page automatically\n          page.scrollIntoView();\n          return;\n        }\n\n        warning(false, \"An internal link leading to page \".concat(pageNumber, \" was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.\"));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"linkService\", new LinkService());\n\n    _defineProperty(_assertThisInitialized(_this), \"loadDocument\", function () {\n      _this.findDocumentSource().then(function (source) {\n        _this.onSourceSuccess();\n\n        if (!source) {\n          return;\n        }\n\n        _this.setState(function (prevState) {\n          if (!prevState.pdf) {\n            return null;\n          }\n\n          return {\n            pdf: null\n          };\n        });\n\n        var _this$props = _this.props,\n            options = _this$props.options,\n            onLoadProgress = _this$props.onLoadProgress,\n            onPassword = _this$props.onPassword; // If another rendering is in progress, let's cancel it\n\n        cancelRunningTask(_this.runningTask); // If another loading is in progress, let's destroy it\n\n        if (_this.loadingTask) _this.loadingTask.destroy();\n        _this.loadingTask = pdfjs.getDocument(_objectSpread(_objectSpread({}, source), options));\n        _this.loadingTask.onPassword = onPassword;\n\n        if (onLoadProgress) {\n          _this.loadingTask.onProgress = onLoadProgress;\n        }\n\n        var cancellable = makeCancellable(_this.loadingTask.promise);\n        _this.runningTask = cancellable;\n        cancellable.promise.then(function (pdf) {\n          _this.setState(function (prevState) {\n            if (prevState.pdf && prevState.pdf.fingerprint === pdf.fingerprint) {\n              return null;\n            }\n\n            return {\n              pdf: pdf\n            };\n          }, _this.onLoadSuccess);\n        })[\"catch\"](function (error) {\n          _this.onLoadError(error);\n        });\n      })[\"catch\"](function (error) {\n        _this.onSourceError(error);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setupLinkService\", function () {\n      var _this$props2 = _this.props,\n          externalLinkRel = _this$props2.externalLinkRel,\n          externalLinkTarget = _this$props2.externalLinkTarget;\n\n      _this.linkService.setViewer(_this.viewer);\n\n      _this.linkService.setExternalLinkRel(externalLinkRel);\n\n      _this.linkService.setExternalLinkTarget(externalLinkTarget);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSourceSuccess\", function () {\n      var onSourceSuccess = _this.props.onSourceSuccess;\n      if (onSourceSuccess) onSourceSuccess();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSourceError\", function (error) {\n      warning(error);\n      var onSourceError = _this.props.onSourceError;\n      if (onSourceError) onSourceError(error);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadSuccess\", function () {\n      var onLoadSuccess = _this.props.onLoadSuccess;\n      var pdf = _this.state.pdf;\n      if (onLoadSuccess) onLoadSuccess(pdf);\n      _this.pages = new Array(pdf.numPages);\n\n      _this.linkService.setDocument(pdf);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadError\", function (error) {\n      _this.setState({\n        pdf: false\n      });\n\n      warning(error);\n      var onLoadError = _this.props.onLoadError;\n      if (onLoadError) onLoadError(error);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"findDocumentSource\", function () {\n      return new Promise(function (resolve) {\n        var file = _this.props.file;\n\n        if (!file) {\n          resolve(null);\n        } // File is a string\n\n\n        if (typeof file === 'string') {\n          if (isDataURI(file)) {\n            var fileByteString = dataURItoByteString(file);\n            resolve({\n              data: fileByteString\n            });\n          }\n\n          displayCORSWarning();\n          resolve({\n            url: file\n          });\n        } // File is PDFDataRangeTransport\n\n\n        if (file instanceof PDFDataRangeTransport) {\n          resolve({\n            range: file\n          });\n        } // File is an ArrayBuffer\n\n\n        if (isArrayBuffer(file)) {\n          resolve({\n            data: file\n          });\n        }\n        /**\n         * The cases below are browser-only.\n         * If you're running on a non-browser environment, these cases will be of no use.\n         */\n\n\n        if (isBrowser) {\n          // File is a Blob\n          if (isBlob(file) || isFile(file)) {\n            loadFromFile(file).then(function (data) {\n              resolve({\n                data: data\n              });\n            });\n            return;\n          }\n        } // At this point, file must be an object\n\n\n        invariant(_typeof(file) === 'object', 'Invalid parameter in file, need either Uint8Array, string or a parameter object');\n        invariant(file.url || file.data || file.range, 'Invalid parameter object: need either .data, .range or .url'); // File .url is a string\n\n        if (typeof file.url === 'string') {\n          if (isDataURI(file.url)) {\n            var url = file.url,\n                otherParams = _objectWithoutProperties(file, _excluded);\n\n            var _fileByteString = dataURItoByteString(url);\n\n            resolve(_objectSpread({\n              data: _fileByteString\n            }, otherParams));\n          }\n\n          displayCORSWarning();\n        }\n\n        resolve(file);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"registerPage\", function (pageIndex, ref) {\n      _this.pages[pageIndex] = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unregisterPage\", function (pageIndex) {\n      delete _this.pages[pageIndex];\n    });\n\n    return _this;\n  }\n\n  _createClass(Document, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadDocument();\n      this.setupLinkService();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var file = this.props.file;\n\n      if (file !== prevProps.file) {\n        this.loadDocument();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      // If rendering is in progress, let's cancel it\n      cancelRunningTask(this.runningTask); // If loading is in progress, let's destroy it\n\n      if (this.loadingTask) this.loadingTask.destroy();\n    }\n  }, {\n    key: \"childContext\",\n    get: function get() {\n      var linkService = this.linkService,\n          registerPage = this.registerPage,\n          unregisterPage = this.unregisterPage;\n      var _this$props3 = this.props,\n          imageResourcesPath = _this$props3.imageResourcesPath,\n          renderMode = _this$props3.renderMode,\n          rotate = _this$props3.rotate;\n      var pdf = this.state.pdf;\n      return {\n        imageResourcesPath: imageResourcesPath,\n        linkService: linkService,\n        pdf: pdf,\n        registerPage: registerPage,\n        renderMode: renderMode,\n        rotate: rotate,\n        unregisterPage: unregisterPage\n      };\n    }\n  }, {\n    key: \"eventProps\",\n    get: function get() {\n      var _this2 = this;\n\n      return makeEventProps(this.props, function () {\n        return _this2.state.pdf;\n      });\n    }\n    /**\n     * Called when a document source is resolved correctly\n     */\n\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren() {\n      var children = this.props.children;\n      return /*#__PURE__*/React.createElement(DocumentContext.Provider, {\n        value: this.childContext\n      }, children);\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      var file = this.props.file;\n      var pdf = this.state.pdf;\n\n      if (!file) {\n        var noData = this.props.noData;\n        return /*#__PURE__*/React.createElement(Message, {\n          type: \"no-data\"\n        }, typeof noData === 'function' ? noData() : noData);\n      }\n\n      if (pdf === null) {\n        var loading = this.props.loading;\n        return /*#__PURE__*/React.createElement(Message, {\n          type: \"loading\"\n        }, typeof loading === 'function' ? loading() : loading);\n      }\n\n      if (pdf === false) {\n        var error = this.props.error;\n        return /*#__PURE__*/React.createElement(Message, {\n          type: \"error\"\n        }, typeof error === 'function' ? error() : error);\n      }\n\n      return this.renderChildren();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          className = _this$props4.className,\n          inputRef = _this$props4.inputRef;\n      return /*#__PURE__*/React.createElement(\"div\", _extends({\n        className: mergeClassNames('react-pdf__Document', className),\n        ref: inputRef\n      }, this.eventProps), this.renderContent());\n    }\n  }]);\n\n  return Document;\n}(PureComponent);\n\nexport { Document as default };\nDocument.defaultProps = {\n  error: 'Failed to load PDF file.',\n  loading: 'Loading PDF',\n  noData: 'No PDF file specified.',\n  onPassword: function onPassword(callback, reason) {\n    switch (reason) {\n      case PasswordResponses.NEED_PASSWORD:\n        {\n          // eslint-disable-next-line no-alert\n          var password = prompt('Enter the password to open this PDF file.');\n          callback(password);\n          break;\n        }\n\n      case PasswordResponses.INCORRECT_PASSWORD:\n        {\n          // eslint-disable-next-line no-alert\n          var _password = prompt('Invalid password. Please try again.');\n\n          callback(_password);\n          break;\n        }\n\n      default:\n    }\n  }\n};\nvar isFunctionOrNode = PropTypes.oneOfType([PropTypes.func, PropTypes.node]);\nDocument.propTypes = _objectSpread(_objectSpread({}, eventProps), {}, {\n  children: PropTypes.node,\n  className: isClassName,\n  error: isFunctionOrNode,\n  externalLinkRel: PropTypes.string,\n  externalLinkTarget: PropTypes.string,\n  file: isFileProp,\n  imageResourcesPath: PropTypes.string,\n  inputRef: isRef,\n  loading: isFunctionOrNode,\n  noData: isFunctionOrNode,\n  onItemClick: PropTypes.func,\n  onLoadError: PropTypes.func,\n  onLoadProgress: PropTypes.func,\n  onLoadSuccess: PropTypes.func,\n  onPassword: PropTypes.func,\n  onSourceError: PropTypes.func,\n  onSourceSuccess: PropTypes.func,\n  rotate: PropTypes.number\n});","import { createContext } from 'react';\nexport default /*#__PURE__*/createContext(null);","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n\nvar Ref = /*#__PURE__*/function () {\n  function Ref(_ref) {\n    var num = _ref.num,\n        gen = _ref.gen;\n\n    _classCallCheck(this, Ref);\n\n    this.num = num;\n    this.gen = gen;\n  }\n\n  _createClass(Ref, [{\n    key: \"toString\",\n    value: function toString() {\n      var str = \"\".concat(this.num, \"R\");\n\n      if (this.gen !== 0) {\n        str += this.gen;\n      }\n\n      return str;\n    }\n  }]);\n\n  return Ref;\n}();\n\nexport { Ref as default };","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _excluded = [\"item\"];\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport DocumentContext from './DocumentContext';\nimport OutlineContext from './OutlineContext';\nimport Ref from './Ref';\nimport { isDefined } from './shared/utils';\nimport { isPdf } from './shared/propTypes';\nexport var OutlineItemInternal = /*#__PURE__*/function (_PureComponent) {\n  _inherits(OutlineItemInternal, _PureComponent);\n\n  var _super = _createSuper(OutlineItemInternal);\n\n  function OutlineItemInternal() {\n    var _this;\n\n    _classCallCheck(this, OutlineItemInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"getDestination\", function () {\n      return new Promise(function (resolve, reject) {\n        var _this$props = _this.props,\n            item = _this$props.item,\n            pdf = _this$props.pdf;\n\n        if (!isDefined(_this.destination)) {\n          if (typeof item.dest === 'string') {\n            pdf.getDestination(item.dest).then(resolve)[\"catch\"](reject);\n          } else {\n            resolve(item.dest);\n          }\n        }\n\n        return _this.destination;\n      }).then(function (destination) {\n        _this.destination = destination;\n        return destination;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPageIndex\", function () {\n      return new Promise(function (resolve, reject) {\n        var pdf = _this.props.pdf;\n\n        if (isDefined(_this.pageIndex)) {\n          resolve(_this.pageIndex);\n        }\n\n        _this.getDestination().then(function (destination) {\n          if (!destination) {\n            return;\n          }\n\n          var _destination = _slicedToArray(destination, 1),\n              ref = _destination[0];\n\n          pdf.getPageIndex(new Ref(ref)).then(resolve)[\"catch\"](reject);\n        });\n      }).then(function (pageIndex) {\n        _this.pageIndex = pageIndex;\n        return _this.pageIndex;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPageNumber\", function () {\n      return new Promise(function (resolve, reject) {\n        if (isDefined(_this.pageNumber)) {\n          resolve(_this.pageNumber);\n        }\n\n        _this.getPageIndex().then(function (pageIndex) {\n          resolve(pageIndex + 1);\n        })[\"catch\"](reject);\n      }).then(function (pageNumber) {\n        _this.pageNumber = pageNumber;\n        return pageNumber;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", function (event) {\n      var onClick = _this.props.onClick;\n      event.preventDefault();\n\n      if (!onClick) {\n        return false;\n      }\n\n      return Promise.all([_this.getDestination(), _this.getPageIndex(), _this.getPageNumber()]).then(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 3),\n            dest = _ref2[0],\n            pageIndex = _ref2[1],\n            pageNumber = _ref2[2];\n\n        onClick({\n          dest: dest,\n          pageIndex: pageIndex,\n          pageNumber: pageNumber\n        });\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(OutlineItemInternal, [{\n    key: \"renderSubitems\",\n    value: function renderSubitems() {\n      var _this$props2 = this.props,\n          item = _this$props2.item,\n          otherProps = _objectWithoutProperties(_this$props2, _excluded);\n\n      if (!item.items || !item.items.length) {\n        return null;\n      }\n\n      var subitems = item.items;\n      return /*#__PURE__*/React.createElement(\"ul\", null, subitems.map(function (subitem, subitemIndex) {\n        return /*#__PURE__*/React.createElement(OutlineItemInternal, _extends({\n          key: typeof subitem.destination === 'string' ? subitem.destination : subitemIndex,\n          item: subitem\n        }, otherProps));\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var item = this.props.item;\n      return /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"#\",\n        onClick: this.onClick\n      }, item.title), this.renderSubitems());\n    }\n  }]);\n\n  return OutlineItemInternal;\n}(PureComponent);\nvar isDestination = PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.any)]);\nOutlineItemInternal.propTypes = {\n  item: PropTypes.shape({\n    dest: isDestination,\n    items: PropTypes.arrayOf(PropTypes.shape({\n      dest: isDestination,\n      title: PropTypes.string\n    })),\n    title: PropTypes.string\n  }).isRequired,\n  onClick: PropTypes.func,\n  pdf: isPdf.isRequired\n};\n\nvar OutlineItem = function OutlineItem(props) {\n  return /*#__PURE__*/React.createElement(DocumentContext.Consumer, null, function (documentContext) {\n    return /*#__PURE__*/React.createElement(OutlineContext.Consumer, null, function (outlineContext) {\n      return /*#__PURE__*/React.createElement(OutlineItemInternal, _extends({}, documentContext, outlineContext, props));\n    });\n  });\n};\n\nexport default OutlineItem;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport makeCancellable from 'make-cancellable-promise';\nimport makeEventProps from 'make-event-props';\nimport mergeClassNames from 'merge-class-names';\nimport invariant from 'tiny-invariant';\nimport warning from 'tiny-warning';\nimport DocumentContext from './DocumentContext';\nimport OutlineContext from './OutlineContext';\nimport OutlineItem from './OutlineItem';\nimport { cancelRunningTask } from './shared/utils';\nimport { eventProps, isClassName, isPdf, isRef } from './shared/propTypes';\nexport var OutlineInternal = /*#__PURE__*/function (_PureComponent) {\n  _inherits(OutlineInternal, _PureComponent);\n\n  var _super = _createSuper(OutlineInternal);\n\n  function OutlineInternal() {\n    var _this;\n\n    _classCallCheck(this, OutlineInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      outline: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadOutline\", function () {\n      var pdf = _this.props.pdf;\n\n      _this.setState(function (prevState) {\n        if (!prevState.outline) {\n          return null;\n        }\n\n        return {\n          outline: null\n        };\n      });\n\n      var cancellable = makeCancellable(pdf.getOutline());\n      _this.runningTask = cancellable;\n      cancellable.promise.then(function (outline) {\n        _this.setState({\n          outline: outline\n        }, _this.onLoadSuccess);\n      })[\"catch\"](function (error) {\n        _this.onLoadError(error);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadSuccess\", function () {\n      var onLoadSuccess = _this.props.onLoadSuccess;\n      var outline = _this.state.outline;\n      if (onLoadSuccess) onLoadSuccess(outline);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadError\", function (error) {\n      _this.setState({\n        outline: false\n      });\n\n      warning(error);\n      var onLoadError = _this.props.onLoadError;\n      if (onLoadError) onLoadError(error);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onItemClick\", function (_ref) {\n      var dest = _ref.dest,\n          pageIndex = _ref.pageIndex,\n          pageNumber = _ref.pageNumber;\n      var onItemClick = _this.props.onItemClick;\n\n      if (onItemClick) {\n        onItemClick({\n          dest: dest,\n          pageIndex: pageIndex,\n          pageNumber: pageNumber\n        });\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(OutlineInternal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var pdf = this.props.pdf;\n      invariant(pdf, 'Attempted to load an outline, but no document was specified.');\n      this.loadOutline();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var pdf = this.props.pdf;\n\n      if (prevProps.pdf && pdf !== prevProps.pdf) {\n        this.loadOutline();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      cancelRunningTask(this.runningTask);\n    }\n  }, {\n    key: \"childContext\",\n    get: function get() {\n      return {\n        onClick: this.onItemClick\n      };\n    }\n  }, {\n    key: \"eventProps\",\n    get: function get() {\n      var _this2 = this;\n\n      return makeEventProps(this.props, function () {\n        return _this2.state.outline;\n      });\n    }\n    /**\n     * Called when an outline is read successfully\n     */\n\n  }, {\n    key: \"renderOutline\",\n    value: function renderOutline() {\n      var outline = this.state.outline;\n      return /*#__PURE__*/React.createElement(\"ul\", null, outline.map(function (item, itemIndex) {\n        return /*#__PURE__*/React.createElement(OutlineItem, {\n          key: typeof item.destination === 'string' ? item.destination : itemIndex,\n          item: item\n        });\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var pdf = this.props.pdf;\n      var outline = this.state.outline;\n\n      if (!pdf || !outline) {\n        return null;\n      }\n\n      var _this$props = this.props,\n          className = _this$props.className,\n          inputRef = _this$props.inputRef;\n      return /*#__PURE__*/React.createElement(\"div\", _extends({\n        className: mergeClassNames('react-pdf__Outline', className),\n        ref: inputRef\n      }, this.eventProps), /*#__PURE__*/React.createElement(OutlineContext.Provider, {\n        value: this.childContext\n      }, this.renderOutline()));\n    }\n  }]);\n\n  return OutlineInternal;\n}(PureComponent);\nOutlineInternal.propTypes = _objectSpread({\n  className: isClassName,\n  inputRef: isRef,\n  onItemClick: PropTypes.func,\n  onLoadError: PropTypes.func,\n  onLoadSuccess: PropTypes.func,\n  pdf: isPdf\n}, eventProps);\n\nfunction Outline(props, ref) {\n  return /*#__PURE__*/React.createElement(DocumentContext.Consumer, null, function (context) {\n    return /*#__PURE__*/React.createElement(OutlineInternal, _extends({\n      ref: ref\n    }, context, props));\n  });\n}\n\nexport default /*#__PURE__*/React.forwardRef(Outline);","/**\n * A function that merges React refs into one.\n * Supports both functions and ref objects created using createRef() and useRef().\n *\n * Usage:\n * ```jsx\n * <div ref={mergeRefs(ref1, ref2, ref3)} />\n * ```\n *\n * @param {...Array<Function|object>} inputRefs Array of refs\n * @returns {Function} Merged refs\n */\nexport default function mergeRefs() {\n  for (var _len = arguments.length, inputRefs = new Array(_len), _key = 0; _key < _len; _key++) {\n    inputRefs[_key] = arguments[_key];\n  }\n\n  var filteredInputRefs = inputRefs.filter(Boolean);\n\n  if (filteredInputRefs.length <= 1) {\n    return filteredInputRefs[0];\n  }\n\n  return function mergedRefs(ref) {\n    filteredInputRefs.forEach(function (inputRef) {\n      if (typeof inputRef === 'function') {\n        inputRef(ref);\n      } else {\n        // eslint-disable-next-line no-param-reassign\n        inputRef.current = ref;\n      }\n    });\n  };\n}","import { createContext } from 'react';\nexport default /*#__PURE__*/createContext(null);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport mergeRefs from 'merge-refs';\nimport warning from 'tiny-warning';\nimport * as pdfjs from 'pdfjs-dist/legacy/build/pdf';\nimport PageContext from '../PageContext';\nimport { getPixelRatio, isCancelException, makePageCallback } from '../shared/utils';\nimport { isPage, isRef, isRotate } from '../shared/propTypes';\nvar ANNOTATION_MODE = pdfjs.AnnotationMode;\nexport var PageCanvasInternal = /*#__PURE__*/function (_PureComponent) {\n  _inherits(PageCanvasInternal, _PureComponent);\n\n  var _super = _createSuper(PageCanvasInternal);\n\n  function PageCanvasInternal() {\n    var _this;\n\n    _classCallCheck(this, PageCanvasInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"onRenderSuccess\", function () {\n      _this.renderer = null;\n      var _this$props = _this.props,\n          onRenderSuccess = _this$props.onRenderSuccess,\n          page = _this$props.page,\n          scale = _this$props.scale;\n      if (onRenderSuccess) onRenderSuccess(makePageCallback(page, scale));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRenderError\", function (error) {\n      if (isCancelException(error)) {\n        return;\n      }\n\n      warning(error);\n      var onRenderError = _this.props.onRenderError;\n      if (onRenderError) onRenderError(error);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"drawPageOnCanvas\", function () {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          canvas = _assertThisInitialize.canvasLayer;\n\n      if (!canvas) {\n        return null;\n      }\n\n      var _assertThisInitialize2 = _assertThisInitialized(_this),\n          renderViewport = _assertThisInitialize2.renderViewport,\n          viewport = _assertThisInitialize2.viewport;\n\n      var _this$props2 = _this.props,\n          canvasBackground = _this$props2.canvasBackground,\n          page = _this$props2.page,\n          renderForms = _this$props2.renderForms;\n      canvas.width = renderViewport.width;\n      canvas.height = renderViewport.height;\n      canvas.style.width = \"\".concat(Math.floor(viewport.width), \"px\");\n      canvas.style.height = \"\".concat(Math.floor(viewport.height), \"px\");\n      var renderContext = {\n        annotationMode: renderForms ? ANNOTATION_MODE.ENABLE_FORMS : ANNOTATION_MODE.ENABLE,\n\n        get canvasContext() {\n          return canvas.getContext('2d');\n        },\n\n        viewport: renderViewport\n      };\n\n      if (canvasBackground) {\n        renderContext.background = canvasBackground;\n      } // If another render is in progress, let's cancel it\n\n\n      _this.cancelRenderingTask();\n\n      _this.renderer = page.render(renderContext);\n      return _this.renderer.promise.then(_this.onRenderSuccess)[\"catch\"](_this.onRenderError);\n    });\n\n    return _this;\n  }\n\n  _createClass(PageCanvasInternal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.drawPageOnCanvas();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props3 = this.props,\n          canvasBackground = _this$props3.canvasBackground,\n          page = _this$props3.page,\n          renderForms = _this$props3.renderForms;\n\n      if (canvasBackground !== prevProps.canvasBackground || renderForms !== prevProps.renderForms) {\n        // Ensures the canvas will be re-rendered from scratch. Otherwise all form data will stay.\n        page.cleanup();\n        this.drawPageOnCanvas();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.cancelRenderingTask();\n      /**\n       * Zeroing the width and height cause most browsers to release graphics\n       * resources immediately, which can greatly reduce memory consumption.\n       */\n\n      if (this.canvasLayer) {\n        this.canvasLayer.width = 0;\n        this.canvasLayer.height = 0;\n        this.canvasLayer = null;\n      }\n    }\n  }, {\n    key: \"cancelRenderingTask\",\n    value: function cancelRenderingTask() {\n      if (this.renderer) {\n        this.renderer.cancel();\n        this.renderer = null;\n      }\n    }\n    /**\n     * Called when a page is rendered successfully.\n     */\n\n  }, {\n    key: \"renderViewport\",\n    get: function get() {\n      var _this$props4 = this.props,\n          page = _this$props4.page,\n          rotate = _this$props4.rotate,\n          scale = _this$props4.scale;\n      var pixelRatio = getPixelRatio();\n      return page.getViewport({\n        scale: scale * pixelRatio,\n        rotation: rotate\n      });\n    }\n  }, {\n    key: \"viewport\",\n    get: function get() {\n      var _this$props5 = this.props,\n          page = _this$props5.page,\n          rotate = _this$props5.rotate,\n          scale = _this$props5.scale;\n      return page.getViewport({\n        scale: scale,\n        rotation: rotate\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var canvasRef = this.props.canvasRef;\n      return /*#__PURE__*/React.createElement(\"canvas\", {\n        className: \"react-pdf__Page__canvas\",\n        dir: \"ltr\",\n        ref: mergeRefs(canvasRef, function (ref) {\n          _this2.canvasLayer = ref;\n        }),\n        style: {\n          display: 'block',\n          userSelect: 'none'\n        }\n      });\n    }\n  }]);\n\n  return PageCanvasInternal;\n}(PureComponent);\nPageCanvasInternal.propTypes = {\n  canvasBackground: PropTypes.string,\n  canvasRef: isRef,\n  onRenderError: PropTypes.func,\n  onRenderSuccess: PropTypes.func,\n  page: isPage.isRequired,\n  renderForms: PropTypes.bool,\n  rotate: isRotate,\n  scale: PropTypes.number.isRequired\n};\nexport default function PageCanvas(props) {\n  return /*#__PURE__*/React.createElement(PageContext.Consumer, null, function (context) {\n    return /*#__PURE__*/React.createElement(PageCanvasInternal, _extends({}, context, props));\n  });\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport warning from 'tiny-warning';\nimport * as pdfjs from 'pdfjs-dist/legacy/build/pdf';\nimport PageContext from '../PageContext';\nimport { isCancelException, makePageCallback } from '../shared/utils';\nimport { isPage, isRotate } from '../shared/propTypes';\nexport var PageSVGInternal = /*#__PURE__*/function (_PureComponent) {\n  _inherits(PageSVGInternal, _PureComponent);\n\n  var _super = _createSuper(PageSVGInternal);\n\n  function PageSVGInternal() {\n    var _this;\n\n    _classCallCheck(this, PageSVGInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      svg: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRenderSuccess\", function () {\n      _this.renderer = null;\n      var _this$props = _this.props,\n          onRenderSuccess = _this$props.onRenderSuccess,\n          page = _this$props.page,\n          scale = _this$props.scale;\n      if (onRenderSuccess) onRenderSuccess(makePageCallback(page, scale));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRenderError\", function (error) {\n      if (isCancelException(error)) {\n        return;\n      }\n\n      warning(error);\n      var onRenderError = _this.props.onRenderError;\n      if (onRenderError) onRenderError(error);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderSVG\", function () {\n      var page = _this.props.page;\n      _this.renderer = page.getOperatorList();\n      return _this.renderer.then(function (operatorList) {\n        var svgGfx = new pdfjs.SVGGraphics(page.commonObjs, page.objs);\n        _this.renderer = svgGfx.getSVG(operatorList, _this.viewport).then(function (svg) {\n          _this.setState({\n            svg: svg\n          }, _this.onRenderSuccess);\n        })[\"catch\"](_this.onRenderError);\n      })[\"catch\"](_this.onRenderError);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"drawPageOnContainer\", function (element) {\n      var svg = _this.state.svg;\n\n      if (!element || !svg) {\n        return;\n      } // Append SVG element to the main container, if this hasn't been done already\n\n\n      if (!element.firstElementChild) {\n        element.appendChild(svg);\n      }\n\n      var _this$viewport = _this.viewport,\n          width = _this$viewport.width,\n          height = _this$viewport.height;\n      svg.setAttribute('width', width);\n      svg.setAttribute('height', height);\n    });\n\n    return _this;\n  }\n\n  _createClass(PageSVGInternal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.renderSVG();\n    }\n    /**\n     * Called when a page is rendered successfully.\n     */\n\n  }, {\n    key: \"viewport\",\n    get: function get() {\n      var _this$props2 = this.props,\n          page = _this$props2.page,\n          rotate = _this$props2.rotate,\n          scale = _this$props2.scale;\n      return page.getViewport({\n        scale: scale,\n        rotation: rotate\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$viewport2 = this.viewport,\n          width = _this$viewport2.width,\n          height = _this$viewport2.height;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"react-pdf__Page__svg\" // Note: This cannot be shortened, as we need this function to be called with each render.\n        ,\n        ref: function ref(_ref) {\n          return _this2.drawPageOnContainer(_ref);\n        },\n        style: {\n          display: 'block',\n          backgroundColor: 'white',\n          overflow: 'hidden',\n          width: width,\n          height: height,\n          userSelect: 'none'\n        }\n      });\n    }\n  }]);\n\n  return PageSVGInternal;\n}(PureComponent);\nPageSVGInternal.propTypes = {\n  onRenderError: PropTypes.func,\n  onRenderSuccess: PropTypes.func,\n  page: isPage.isRequired,\n  rotate: isRotate,\n  scale: PropTypes.number.isRequired\n};\nexport default function PageSVG(props) {\n  return /*#__PURE__*/React.createElement(PageContext.Consumer, null, function (context) {\n    return /*#__PURE__*/React.createElement(PageSVGInternal, _extends({}, context, props));\n  });\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport PageContext from '../PageContext';\nimport { isPage, isRotate } from '../shared/propTypes';\nexport var TextLayerItemInternal = /*#__PURE__*/function (_PureComponent) {\n  _inherits(TextLayerItemInternal, _PureComponent);\n\n  var _super = _createSuper(TextLayerItemInternal);\n\n  function TextLayerItemInternal() {\n    var _this;\n\n    _classCallCheck(this, TextLayerItemInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"getElementWidth\", function (element) {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          sideways = _assertThisInitialize.sideways;\n\n      return element.getBoundingClientRect()[sideways ? 'height' : 'width'];\n    });\n\n    return _this;\n  }\n\n  _createClass(TextLayerItemInternal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.alignTextItem();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.alignTextItem();\n    }\n  }, {\n    key: \"unrotatedViewport\",\n    get: function get() {\n      var _this$props = this.props,\n          page = _this$props.page,\n          scale = _this$props.scale;\n      return page.getViewport({\n        scale: scale\n      });\n    }\n    /**\n     * It might happen that the page is rotated by default. In such cases, we shouldn't rotate\n     * text content.\n     */\n\n  }, {\n    key: \"rotate\",\n    get: function get() {\n      var _this$props2 = this.props,\n          page = _this$props2.page,\n          rotate = _this$props2.rotate;\n      return rotate - page.rotate;\n    }\n  }, {\n    key: \"sideways\",\n    get: function get() {\n      var rotate = this.rotate;\n      return rotate % 180 !== 0;\n    }\n  }, {\n    key: \"defaultSideways\",\n    get: function get() {\n      var rotation = this.unrotatedViewport.rotation;\n      return rotation % 180 !== 0;\n    }\n  }, {\n    key: \"fontSize\",\n    get: function get() {\n      var transform = this.props.transform;\n      var defaultSideways = this.defaultSideways;\n\n      var _transform = _slicedToArray(transform, 2),\n          fontHeightPx = _transform[0],\n          fontWidthPx = _transform[1];\n\n      return defaultSideways ? fontWidthPx : fontHeightPx;\n    }\n  }, {\n    key: \"top\",\n    get: function get() {\n      var transform = this.props.transform;\n      var viewport = this.unrotatedViewport,\n          defaultSideways = this.defaultSideways;\n\n      var _transform2 = _slicedToArray(transform, 6),\n\n      /* fontHeightPx */\n\n      /* fontWidthPx */\n      offsetX = _transform2[2],\n          offsetY = _transform2[3],\n          x = _transform2[4],\n          y = _transform2[5];\n\n      var _viewport$viewBox = _slicedToArray(viewport.viewBox, 4),\n\n      /* xMin */\n      yMin\n      /* xMax */\n      = _viewport$viewBox[1],\n          yMax = _viewport$viewBox[3];\n\n      return defaultSideways ? x + offsetX + yMin : yMax - (y + offsetY);\n    }\n  }, {\n    key: \"left\",\n    get: function get() {\n      var transform = this.props.transform;\n      var viewport = this.unrotatedViewport,\n          defaultSideways = this.defaultSideways;\n\n      var _transform3 = _slicedToArray(transform, 6),\n\n      /* fontHeightPx */\n\n      /* fontWidthPx */\n\n      /* offsetX */\n\n      /* offsetY */\n      x = _transform3[4],\n          y = _transform3[5];\n\n      var _viewport$viewBox2 = _slicedToArray(viewport.viewBox, 1),\n          xMin = _viewport$viewBox2[0];\n\n      return defaultSideways ? y - xMin : x - xMin;\n    }\n  }, {\n    key: \"getFontData\",\n    value: function getFontData(fontName) {\n      var page = this.props.page;\n      return new Promise(function (resolve) {\n        page.commonObjs.get(fontName, resolve);\n      });\n    }\n  }, {\n    key: \"alignTextItem\",\n    value: function alignTextItem() {\n      var _this2 = this;\n\n      var element = this.item;\n\n      if (!element) {\n        return;\n      }\n\n      element.style.transform = '';\n      var _this$props3 = this.props,\n          fontName = _this$props3.fontName,\n          scale = _this$props3.scale,\n          width = _this$props3.width;\n      element.style.fontFamily = \"\".concat(fontName, \", sans-serif\");\n      this.getFontData(fontName).then(function (fontData) {\n        var fallbackFontName = fontData ? fontData.fallbackName : 'sans-serif';\n        element.style.fontFamily = \"\".concat(fontName, \", \").concat(fallbackFontName);\n        var targetWidth = width * scale;\n\n        var actualWidth = _this2.getElementWidth(element);\n\n        var transform = \"scaleX(\".concat(targetWidth / actualWidth, \")\");\n        var ascent = fontData ? fontData.ascent : 0;\n\n        if (ascent) {\n          transform += \" translateY(\".concat((1 - ascent) * 100, \"%)\");\n        }\n\n        element.style.transform = transform;\n        element.style.WebkitTransform = transform;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var fontSize = this.fontSize,\n          top = this.top,\n          left = this.left;\n      var _this$props4 = this.props,\n          customTextRenderer = _this$props4.customTextRenderer,\n          scale = _this$props4.scale,\n          text = _this$props4.str;\n      return /*#__PURE__*/React.createElement(\"span\", {\n        ref: function ref(_ref) {\n          _this3.item = _ref;\n        },\n        style: {\n          height: '1em',\n          fontFamily: 'sans-serif',\n          fontSize: \"\".concat(fontSize * scale, \"px\"),\n          position: 'absolute',\n          top: \"\".concat(top * scale, \"px\"),\n          left: \"\".concat(left * scale, \"px\"),\n          transformOrigin: 'left bottom',\n          whiteSpace: 'pre',\n          pointerEvents: 'all'\n        }\n      }, customTextRenderer ? customTextRenderer(this.props) : text);\n    }\n  }]);\n\n  return TextLayerItemInternal;\n}(PureComponent);\nTextLayerItemInternal.propTypes = {\n  customTextRenderer: PropTypes.func,\n  fontName: PropTypes.string.isRequired,\n  itemIndex: PropTypes.number.isRequired,\n  page: isPage.isRequired,\n  rotate: isRotate,\n  scale: PropTypes.number,\n  str: PropTypes.string.isRequired,\n  transform: PropTypes.arrayOf(PropTypes.number).isRequired,\n  width: PropTypes.number.isRequired\n};\nexport default function TextLayerItem(props) {\n  return /*#__PURE__*/React.createElement(PageContext.Consumer, null, function (context) {\n    return /*#__PURE__*/React.createElement(TextLayerItemInternal, _extends({}, context, props));\n  });\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport makeCancellable from 'make-cancellable-promise';\nimport invariant from 'tiny-invariant';\nimport warning from 'tiny-warning';\nimport PageContext from '../PageContext';\nimport TextLayerItem from './TextLayerItem';\nimport { cancelRunningTask } from '../shared/utils';\nimport { isPage, isRotate } from '../shared/propTypes';\nexport var TextLayerInternal = /*#__PURE__*/function (_PureComponent) {\n  _inherits(TextLayerInternal, _PureComponent);\n\n  var _super = _createSuper(TextLayerInternal);\n\n  function TextLayerInternal() {\n    var _this;\n\n    _classCallCheck(this, TextLayerInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      textItems: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadTextItems\", function () {\n      var page = _this.props.page;\n      var cancellable = makeCancellable(page.getTextContent());\n      _this.runningTask = cancellable;\n      cancellable.promise.then(function (_ref) {\n        var textItems = _ref.items;\n\n        _this.setState({\n          textItems: textItems\n        }, _this.onLoadSuccess);\n      })[\"catch\"](function (error) {\n        _this.onLoadError(error);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadSuccess\", function () {\n      var onGetTextSuccess = _this.props.onGetTextSuccess;\n      var textItems = _this.state.textItems;\n      if (onGetTextSuccess) onGetTextSuccess(textItems);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadError\", function (error) {\n      _this.setState({\n        textItems: false\n      });\n\n      warning(error);\n      var onGetTextError = _this.props.onGetTextError;\n      if (onGetTextError) onGetTextError(error);\n    });\n\n    return _this;\n  }\n\n  _createClass(TextLayerInternal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var page = this.props.page;\n      invariant(page, 'Attempted to load page text content, but no page was specified.');\n      this.loadTextItems();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var page = this.props.page;\n\n      if (prevProps.page && page !== prevProps.page) {\n        this.loadTextItems();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      cancelRunningTask(this.runningTask);\n    }\n  }, {\n    key: \"unrotatedViewport\",\n    get: function get() {\n      var _this$props = this.props,\n          page = _this$props.page,\n          scale = _this$props.scale;\n      return page.getViewport({\n        scale: scale\n      });\n    }\n    /**\n     * It might happen that the page is rotated by default. In such cases, we shouldn't rotate\n     * text content.\n     */\n\n  }, {\n    key: \"rotate\",\n    get: function get() {\n      var _this$props2 = this.props,\n          page = _this$props2.page,\n          rotate = _this$props2.rotate;\n      return rotate - page.rotate;\n    }\n  }, {\n    key: \"renderTextItems\",\n    value: function renderTextItems() {\n      var textItems = this.state.textItems;\n\n      if (!textItems) {\n        return null;\n      }\n\n      return textItems.map(function (textItem, itemIndex) {\n        return /*#__PURE__*/React.createElement(TextLayerItem // eslint-disable-next-line react/no-array-index-key\n        , _extends({\n          key: itemIndex,\n          itemIndex: itemIndex\n        }, textItem));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var viewport = this.unrotatedViewport,\n          rotate = this.rotate;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"react-pdf__Page__textContent\",\n        style: {\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          width: \"\".concat(viewport.width, \"px\"),\n          height: \"\".concat(viewport.height, \"px\"),\n          color: 'transparent',\n          transform: \"translate(-50%, -50%) rotate(\".concat(rotate, \"deg)\"),\n          WebkitTransform: \"translate(-50%, -50%) rotate(\".concat(rotate, \"deg)\"),\n          pointerEvents: 'none'\n        }\n      }, this.renderTextItems());\n    }\n  }]);\n\n  return TextLayerInternal;\n}(PureComponent);\nTextLayerInternal.propTypes = {\n  onGetTextError: PropTypes.func,\n  onGetTextSuccess: PropTypes.func,\n  page: isPage.isRequired,\n  rotate: isRotate,\n  scale: PropTypes.number\n};\nexport default function TextLayer(props) {\n  return /*#__PURE__*/React.createElement(PageContext.Consumer, null, function (context) {\n    return /*#__PURE__*/React.createElement(TextLayerInternal, _extends({}, context, props));\n  });\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport makeCancellable from 'make-cancellable-promise';\nimport invariant from 'tiny-invariant';\nimport warning from 'tiny-warning';\nimport * as pdfjs from 'pdfjs-dist/legacy/build/pdf';\nimport DocumentContext from '../DocumentContext';\nimport PageContext from '../PageContext';\nimport { cancelRunningTask } from '../shared/utils';\nimport { isLinkService, isPage, isRotate } from '../shared/propTypes';\nexport var AnnotationLayerInternal = /*#__PURE__*/function (_PureComponent) {\n  _inherits(AnnotationLayerInternal, _PureComponent);\n\n  var _super = _createSuper(AnnotationLayerInternal);\n\n  function AnnotationLayerInternal() {\n    var _this;\n\n    _classCallCheck(this, AnnotationLayerInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      annotations: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadAnnotations\", function () {\n      var page = _this.props.page;\n      var cancellable = makeCancellable(page.getAnnotations());\n      _this.runningTask = cancellable;\n      cancellable.promise.then(function (annotations) {\n        _this.setState({\n          annotations: annotations\n        }, _this.onLoadSuccess);\n      })[\"catch\"](function (error) {\n        _this.onLoadError(error);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadSuccess\", function () {\n      var onGetAnnotationsSuccess = _this.props.onGetAnnotationsSuccess;\n      var annotations = _this.state.annotations;\n      if (onGetAnnotationsSuccess) onGetAnnotationsSuccess(annotations);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadError\", function (error) {\n      _this.setState({\n        annotations: false\n      });\n\n      warning(error);\n      var onGetAnnotationsError = _this.props.onGetAnnotationsError;\n      if (onGetAnnotationsError) onGetAnnotationsError(error);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRenderSuccess\", function () {\n      var onRenderAnnotationLayerSuccess = _this.props.onRenderAnnotationLayerSuccess;\n      if (onRenderAnnotationLayerSuccess) onRenderAnnotationLayerSuccess();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRenderError\", function (error) {\n      warning(error);\n      var onRenderAnnotationLayerError = _this.props.onRenderAnnotationLayerError;\n      if (onRenderAnnotationLayerError) onRenderAnnotationLayerError(error);\n    });\n\n    return _this;\n  }\n\n  _createClass(AnnotationLayerInternal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var page = this.props.page;\n      invariant(page, 'Attempted to load page annotations, but no page was specified.');\n      this.loadAnnotations();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props = this.props,\n          page = _this$props.page,\n          renderForms = _this$props.renderForms;\n\n      if (prevProps.page && page !== prevProps.page || renderForms !== prevProps.renderForms) {\n        this.loadAnnotations();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      cancelRunningTask(this.runningTask);\n    }\n  }, {\n    key: \"viewport\",\n    get: function get() {\n      var _this$props2 = this.props,\n          page = _this$props2.page,\n          rotate = _this$props2.rotate,\n          scale = _this$props2.scale;\n      return page.getViewport({\n        scale: scale,\n        rotation: rotate\n      });\n    }\n  }, {\n    key: \"renderAnnotationLayer\",\n    value: function renderAnnotationLayer() {\n      var annotations = this.state.annotations;\n\n      if (!annotations) {\n        return;\n      }\n\n      var _this$props3 = this.props,\n          imageResourcesPath = _this$props3.imageResourcesPath,\n          linkService = _this$props3.linkService,\n          page = _this$props3.page,\n          renderForms = _this$props3.renderForms;\n      var viewport = this.viewport.clone({\n        dontFlip: true\n      });\n      var parameters = {\n        annotations: annotations,\n        div: this.annotationLayer,\n        imageResourcesPath: imageResourcesPath,\n        linkService: linkService,\n        page: page,\n        renderForms: renderForms,\n        viewport: viewport\n      };\n      this.annotationLayer.innerHTML = '';\n\n      try {\n        pdfjs.AnnotationLayer.render(parameters);\n        this.onRenderSuccess();\n      } catch (error) {\n        this.onRenderError(error);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"react-pdf__Page__annotations annotationLayer\",\n        ref: function ref(_ref) {\n          _this2.annotationLayer = _ref;\n        }\n      }, this.renderAnnotationLayer());\n    }\n  }]);\n\n  return AnnotationLayerInternal;\n}(PureComponent);\nAnnotationLayerInternal.propTypes = {\n  imageResourcesPath: PropTypes.string,\n  linkService: isLinkService.isRequired,\n  onGetAnnotationsError: PropTypes.func,\n  onGetAnnotationsSuccess: PropTypes.func,\n  onRenderAnnotationLayerError: PropTypes.func,\n  onRenderAnnotationLayerSuccess: PropTypes.func,\n  page: isPage,\n  renderForms: PropTypes.bool,\n  rotate: isRotate,\n  scale: PropTypes.number\n};\n\nvar AnnotationLayer = function AnnotationLayer(props) {\n  return /*#__PURE__*/React.createElement(DocumentContext.Consumer, null, function (documentContext) {\n    return /*#__PURE__*/React.createElement(PageContext.Consumer, null, function (pageContext) {\n      return /*#__PURE__*/React.createElement(AnnotationLayerInternal, _extends({}, documentContext, pageContext, props));\n    });\n  });\n};\n\nexport default AnnotationLayer;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport makeCancellable from 'make-cancellable-promise';\nimport makeEventProps from 'make-event-props';\nimport mergeClassNames from 'merge-class-names';\nimport mergeRefs from 'merge-refs';\nimport invariant from 'tiny-invariant';\nimport warning from 'tiny-warning';\nimport DocumentContext from './DocumentContext';\nimport PageContext from './PageContext';\nimport Message from './Message';\nimport PageCanvas from './Page/PageCanvas';\nimport PageSVG from './Page/PageSVG';\nimport TextLayer from './Page/TextLayer';\nimport AnnotationLayer from './Page/AnnotationLayer';\nimport { cancelRunningTask, isProvided, makePageCallback } from './shared/utils';\nimport { eventProps, isClassName, isPageIndex, isPageNumber, isPdf, isRef, isRenderMode, isRotate } from './shared/propTypes';\nvar defaultScale = 1;\nexport var PageInternal = /*#__PURE__*/function (_PureComponent) {\n  _inherits(PageInternal, _PureComponent);\n\n  var _super = _createSuper(PageInternal);\n\n  function PageInternal() {\n    var _this;\n\n    _classCallCheck(this, PageInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      page: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadSuccess\", function () {\n      var _this$props = _this.props,\n          onLoadSuccess = _this$props.onLoadSuccess,\n          registerPage = _this$props.registerPage;\n      var page = _this.state.page;\n      if (onLoadSuccess) onLoadSuccess(makePageCallback(page, _this.scale));\n      if (registerPage) registerPage(_this.pageIndex, _this.ref);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoadError\", function (error) {\n      _this.setState({\n        page: false\n      });\n\n      warning(error);\n      var onLoadError = _this.props.onLoadError;\n      if (onLoadError) onLoadError(error);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadPage\", function () {\n      var pdf = _this.props.pdf;\n\n      var pageNumber = _this.getPageNumber();\n\n      if (!pageNumber) {\n        return;\n      }\n\n      _this.setState(function (prevState) {\n        if (!prevState.page) {\n          return null;\n        }\n\n        return {\n          page: null\n        };\n      });\n\n      var cancellable = makeCancellable(pdf.getPage(pageNumber));\n      _this.runningTask = cancellable;\n      cancellable.promise.then(function (page) {\n        _this.setState({\n          page: page\n        }, _this.onLoadSuccess);\n      })[\"catch\"](function (error) {\n        _this.onLoadError(error);\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(PageInternal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var pdf = this.props.pdf;\n      invariant(pdf, 'Attempted to load a page, but no document was specified.');\n      this.loadPage();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var pdf = this.props.pdf;\n\n      if (prevProps.pdf && pdf !== prevProps.pdf || this.getPageNumber() !== this.getPageNumber(prevProps)) {\n        var unregisterPage = this.props.unregisterPage;\n        if (unregisterPage) unregisterPage(this.getPageIndex(prevProps));\n        this.loadPage();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var unregisterPage = this.props.unregisterPage;\n      if (unregisterPage) unregisterPage(this.pageIndex);\n      cancelRunningTask(this.runningTask);\n    }\n  }, {\n    key: \"childContext\",\n    get: function get() {\n      var page = this.state.page;\n\n      if (!page) {\n        return {};\n      }\n\n      var _this$props2 = this.props,\n          canvasBackground = _this$props2.canvasBackground,\n          customTextRenderer = _this$props2.customTextRenderer,\n          onGetAnnotationsError = _this$props2.onGetAnnotationsError,\n          onGetAnnotationsSuccess = _this$props2.onGetAnnotationsSuccess,\n          onGetTextError = _this$props2.onGetTextError,\n          onGetTextSuccess = _this$props2.onGetTextSuccess,\n          onRenderAnnotationLayerError = _this$props2.onRenderAnnotationLayerError,\n          onRenderAnnotationLayerSuccess = _this$props2.onRenderAnnotationLayerSuccess,\n          onRenderError = _this$props2.onRenderError,\n          onRenderSuccess = _this$props2.onRenderSuccess,\n          renderForms = _this$props2.renderForms,\n          renderInteractiveForms = _this$props2.renderInteractiveForms;\n      return {\n        canvasBackground: canvasBackground,\n        customTextRenderer: customTextRenderer,\n        onGetAnnotationsError: onGetAnnotationsError,\n        onGetAnnotationsSuccess: onGetAnnotationsSuccess,\n        onGetTextError: onGetTextError,\n        onGetTextSuccess: onGetTextSuccess,\n        onRenderAnnotationLayerError: onRenderAnnotationLayerError,\n        onRenderAnnotationLayerSuccess: onRenderAnnotationLayerSuccess,\n        onRenderError: onRenderError,\n        onRenderSuccess: onRenderSuccess,\n        page: page,\n        renderForms: renderForms !== null && renderForms !== void 0 ? renderForms : renderInteractiveForms,\n        // For backward compatibility\n        rotate: this.rotate,\n        scale: this.scale\n      };\n    }\n    /**\n     * Called when a page is loaded successfully\n     */\n\n  }, {\n    key: \"getPageIndex\",\n    value: function getPageIndex() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n\n      if (isProvided(props.pageNumber)) {\n        return props.pageNumber - 1;\n      }\n\n      if (isProvided(props.pageIndex)) {\n        return props.pageIndex;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"getPageNumber\",\n    value: function getPageNumber() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n\n      if (isProvided(props.pageNumber)) {\n        return props.pageNumber;\n      }\n\n      if (isProvided(props.pageIndex)) {\n        return props.pageIndex + 1;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"pageIndex\",\n    get: function get() {\n      return this.getPageIndex();\n    }\n  }, {\n    key: \"pageNumber\",\n    get: function get() {\n      return this.getPageNumber();\n    }\n  }, {\n    key: \"rotate\",\n    get: function get() {\n      var rotate = this.props.rotate;\n\n      if (isProvided(rotate)) {\n        return rotate;\n      }\n\n      var page = this.state.page;\n\n      if (!page) {\n        return null;\n      }\n\n      return page.rotate;\n    }\n  }, {\n    key: \"scale\",\n    get: function get() {\n      var page = this.state.page;\n\n      if (!page) {\n        return null;\n      }\n\n      var _this$props3 = this.props,\n          scale = _this$props3.scale,\n          width = _this$props3.width,\n          height = _this$props3.height;\n      var rotate = this.rotate; // Be default, we'll render page at 100% * scale width.\n\n      var pageScale = 1; // Passing scale explicitly null would cause the page not to render\n\n      var scaleWithDefault = scale === null ? defaultScale : scale; // If width/height is defined, calculate the scale of the page so it could be of desired width.\n\n      if (width || height) {\n        var viewport = page.getViewport({\n          scale: 1,\n          rotation: rotate\n        });\n        pageScale = width ? width / viewport.width : height / viewport.height;\n      }\n\n      return scaleWithDefault * pageScale;\n    }\n  }, {\n    key: \"eventProps\",\n    get: function get() {\n      var _this2 = this;\n\n      return makeEventProps(this.props, function () {\n        var page = _this2.state.page;\n\n        if (!page) {\n          return page;\n        }\n\n        return makePageCallback(page, _this2.scale);\n      });\n    }\n  }, {\n    key: \"pageKey\",\n    get: function get() {\n      var page = this.state.page;\n      return \"\".concat(page.pageIndex, \"@\").concat(this.scale, \"/\").concat(this.rotate);\n    }\n  }, {\n    key: \"pageKeyNoScale\",\n    get: function get() {\n      var page = this.state.page;\n      return \"\".concat(page.pageIndex, \"/\").concat(this.rotate);\n    }\n  }, {\n    key: \"renderMainLayer\",\n    value: function renderMainLayer() {\n      var _this$props4 = this.props,\n          canvasRef = _this$props4.canvasRef,\n          renderMode = _this$props4.renderMode;\n\n      switch (renderMode) {\n        case 'none':\n          return null;\n\n        case 'svg':\n          return /*#__PURE__*/React.createElement(PageSVG, {\n            key: \"\".concat(this.pageKeyNoScale, \"_svg\")\n          });\n\n        case 'canvas':\n        default:\n          return /*#__PURE__*/React.createElement(PageCanvas, {\n            key: \"\".concat(this.pageKey, \"_canvas\"),\n            canvasRef: canvasRef\n          });\n      }\n    }\n  }, {\n    key: \"renderTextLayer\",\n    value: function renderTextLayer() {\n      var renderTextLayer = this.props.renderTextLayer;\n\n      if (!renderTextLayer) {\n        return null;\n      }\n\n      return /*#__PURE__*/React.createElement(TextLayer, {\n        key: \"\".concat(this.pageKey, \"_text\")\n      });\n    }\n  }, {\n    key: \"renderAnnotationLayer\",\n    value: function renderAnnotationLayer() {\n      var renderAnnotationLayer = this.props.renderAnnotationLayer;\n\n      if (!renderAnnotationLayer) {\n        return null;\n      }\n      /**\n       * As of now, PDF.js 2.0.943 returns warnings on unimplemented annotations in SVG mode.\n       * Therefore, as a fallback, we render \"traditional\" AnnotationLayer component.\n       */\n\n\n      return /*#__PURE__*/React.createElement(AnnotationLayer, {\n        key: \"\".concat(this.pageKey, \"_annotations\")\n      });\n    }\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren() {\n      var children = this.props.children;\n      return /*#__PURE__*/React.createElement(PageContext.Provider, {\n        value: this.childContext\n      }, this.renderMainLayer(), this.renderTextLayer(), this.renderAnnotationLayer(), children);\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      var pageNumber = this.pageNumber;\n      var pdf = this.props.pdf;\n      var page = this.state.page;\n\n      if (!pageNumber) {\n        var noData = this.props.noData;\n        return /*#__PURE__*/React.createElement(Message, {\n          type: \"no-data\"\n        }, typeof noData === 'function' ? noData() : noData);\n      }\n\n      if (pdf === null || page === null) {\n        var loading = this.props.loading;\n        return /*#__PURE__*/React.createElement(Message, {\n          type: \"loading\"\n        }, typeof loading === 'function' ? loading() : loading);\n      }\n\n      if (pdf === false || page === false) {\n        var error = this.props.error;\n        return /*#__PURE__*/React.createElement(Message, {\n          type: \"error\"\n        }, typeof error === 'function' ? error() : error);\n      }\n\n      return this.renderChildren();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var pageNumber = this.pageNumber;\n      var _this$props5 = this.props,\n          className = _this$props5.className,\n          inputRef = _this$props5.inputRef;\n      return /*#__PURE__*/React.createElement(\"div\", _extends({\n        className: mergeClassNames('react-pdf__Page', className),\n        \"data-page-number\": pageNumber,\n        ref: mergeRefs(inputRef, this.ref),\n        style: {\n          position: 'relative'\n        }\n      }, this.eventProps), this.renderContent());\n    }\n  }]);\n\n  return PageInternal;\n}(PureComponent);\nPageInternal.defaultProps = {\n  error: 'Failed to load the page.',\n  loading: 'Loading page',\n  noData: 'No page specified.',\n  renderAnnotationLayer: true,\n  renderForms: false,\n  renderMode: 'canvas',\n  renderTextLayer: true,\n  scale: defaultScale\n};\nvar isFunctionOrNode = PropTypes.oneOfType([PropTypes.func, PropTypes.node]);\nPageInternal.propTypes = _objectSpread(_objectSpread({}, eventProps), {}, {\n  canvasBackground: PropTypes.string,\n  children: PropTypes.node,\n  className: isClassName,\n  customTextRenderer: PropTypes.func,\n  error: isFunctionOrNode,\n  height: PropTypes.number,\n  imageResourcesPath: PropTypes.string,\n  inputRef: isRef,\n  loading: isFunctionOrNode,\n  noData: isFunctionOrNode,\n  onGetTextError: PropTypes.func,\n  onGetTextSuccess: PropTypes.func,\n  onLoadError: PropTypes.func,\n  onLoadSuccess: PropTypes.func,\n  onRenderError: PropTypes.func,\n  onRenderSuccess: PropTypes.func,\n  pageIndex: isPageIndex,\n  pageNumber: isPageNumber,\n  pdf: isPdf,\n  registerPage: PropTypes.func,\n  renderAnnotationLayer: PropTypes.bool,\n  renderForms: PropTypes.bool,\n  renderInteractiveForms: PropTypes.bool,\n  // For backward compatibility\n  renderMode: isRenderMode,\n  renderTextLayer: PropTypes.bool,\n  rotate: isRotate,\n  scale: PropTypes.number,\n  unregisterPage: PropTypes.func,\n  width: PropTypes.number\n});\n\nfunction Page(props, ref) {\n  return /*#__PURE__*/React.createElement(DocumentContext.Consumer, null, function (context) {\n    return /*#__PURE__*/React.createElement(PageInternal, _extends({\n      ref: ref\n    }, context, props));\n  });\n}\n\nexport default /*#__PURE__*/React.forwardRef(Page);","import * as pdfjs from 'pdfjs-dist/legacy/build/pdf';\nimport Document from './Document';\nimport Outline from './Outline';\nimport Page from './Page';\nimport { displayWorkerWarning } from './shared/utils';\ndisplayWorkerWarning();\npdfjs.GlobalWorkerOptions.workerSrc = 'pdf.worker.js';\nexport { pdfjs, Document, Outline, Page };","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}"],"names":["factory","enabled","assert","url","urlNullRemoved","removeNullCharacters","link","targetStr","LinkTarget","rel","console","anchor","query","end","Math","defaultFilename","isDataScheme","warn","reURI","reFilename","splitURI","suggestedFilename","decodeURIComponent","ex","scale","rotation","xfaPage","viewBox","parseInt","PageViewport","filename","test","removeScriptElement","Promise","script","document","evt","resolve","reject","Error","DEFAULT_LINK_REL","PixelsPerInch","CSS","PDF","shadow","this","constructor","ownerDocument","globalThis","_createCanvas","canvas","_document","createElement","asTypedArray","isValidFetchUrl","fetch","response","stringToBytes","request","XMLHttpRequest","data","Uint8Array","_fetchData","fetchData","cMapData","compressionType","_createSVG","offsetX","offsetY","dontFlip","centerX","centerY","rotateA","rotateB","rotateC","rotateD","offsetCanvasX","offsetCanvasY","width","height","clone","convertToViewportPoint","Util","x","convertToViewportRectangle","topLeft","rect","bottomRight","convertToPdfPoint","NONE","SELF","BLANK","PARENT","TOP","ii","i","Object","time","name","Date","timeEnd","start","started","toString","outBuf","longest","duration","baseUrl","URL","protocol","input","isString","pdfDateStringRegex","RegExp","matches","year","month","day","hour","minute","second","universalTimeRelation","offsetHour","offsetMinute","module","runtime","exports","Op","hasOwn","$Symbol","Symbol","iteratorSymbol","asyncIteratorSymbol","toStringTagSymbol","value","enumerable","configurable","writable","obj","define","err","protoGenerator","outerFn","generator","context","Context","tryLocsList","state","method","arg","doneResult","delegate","delegateResult","maybeInvokeDelegate","record","tryCatch","done","makeInvokeMethod","type","fn","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","GeneratorFunctionPrototype","Generator","_invoke","result","PromiseImpl","invoke","then","previousPromise","callInvokeWithMethodAndArg","TypeError","info","entry","tryLoc","locs","iteratorMethod","iterable","isNaN","next","GeneratorFunction","ctor","genFun","__await","defineIteratorMethods","AsyncIterator","iter","wrap","keys","key","reset","_sent","stop","rootRecord","tryEntries","dispatchException","length","handle","hasCatch","hasFinally","prev","abrupt","finallyEntry","complete","finish","resetTryEntry","thrown","delegateYield","iterator","resultName","nextLoc","regeneratorRuntime","accidentalStrictMode","Function","arr","resultLength","arrayByteLength","pos","item","itemLength","bytes","MAX_ARGUMENT_COUNT","String","strBuf","chunkEnd","chunk","contentType","forceDataSchema","Blob","digits","buffer","b1","b2","b3","d1","d2","d3","d4","capability","isSettled","get","reason","options","dots","stringToUTF8String","absoluteUrl","_isValidProtocol","str","replace","match","date","verbosity","VerbosityLevel","v","arr1","arr2","base","e","other","otherUrl","replaceInvisible","Number","code","PDFStringTranslateTable","buf","char","unescape","encodeURIComponent","ANY","DISPLAY","PRINT","ANNOTATIONS_FORMS","ANNOTATIONS_STORAGE","ANNOTATIONS_DISABLE","OPLIST","DISABLE","ENABLE","ENABLE_FORMS","ENABLE_STORAGE","MODIFY_CONTENTS","COPY","MODIFY_ANNOTATIONS","FILL_INTERACTIVE_FORMS","COPY_FOR_ACCESSIBILITY","ASSEMBLE","PRINT_HIGH_QUALITY","FILL","STROKE","FILL_STROKE","INVISIBLE","FILL_ADD_TO_PATH","STROKE_ADD_TO_PATH","FILL_STROKE_ADD_TO_PATH","ADD_TO_PATH","FILL_STROKE_MASK","ADD_TO_PATH_FLAG","GRAYSCALE_1BPP","RGB_24BPP","RGBA_32BPP","TEXT","LINK","FREETEXT","LINE","SQUARE","CIRCLE","POLYGON","POLYLINE","HIGHLIGHT","UNDERLINE","SQUIGGLY","STRIKEOUT","STAMP","CARET","INK","POPUP","FILEATTACHMENT","SOUND","MOVIE","WIDGET","SCREEN","PRINTERMARK","TRAPNET","WATERMARK","THREED","REDACT","MARKED","REVIEW","UNMARKED","ACCEPTED","REJECTED","CANCELLED","COMPLETED","GROUP","REPLY","HIDDEN","NOZOOM","NOROTATE","NOVIEW","READONLY","LOCKED","TOGGLENOVIEW","LOCKEDCONTENTS","REQUIRED","NOEXPORT","MULTILINE","PASSWORD","NOTOGGLETOOFF","RADIO","PUSHBUTTON","COMBO","EDIT","SORT","FILESELECT","MULTISELECT","DONOTSPELLCHECK","DONOTSCROLL","COMB","RICHTEXT","RADIOSINUNISON","COMMITONSELCHANGE","SOLID","DASHED","BEVELED","INSET","E","X","D","U","Fo","Bl","PO","PC","PV","PI","K","F","V","C","WC","WS","DS","WP","DP","O","UNKNOWN","FLATE","LZW","DCT","JPX","JBIG","A85","AHX","CCF","RLX","TYPE1","TYPE1STANDARD","TYPE1C","CIDFONTTYPE0","CIDFONTTYPE0C","TRUETYPE","CIDFONTTYPE2","TYPE3","OPENTYPE","TYPE0","MMTYPE1","ERRORS","WARNINGS","INFOS","BINARY","STREAM","dependency","setLineWidth","setLineCap","setLineJoin","setMiterLimit","setDash","setRenderingIntent","setFlatness","setGState","save","restore","transform","moveTo","lineTo","curveTo","curveTo2","curveTo3","closePath","rectangle","stroke","closeStroke","fill","eoFill","fillStroke","eoFillStroke","closeFillStroke","closeEOFillStroke","endPath","clip","eoClip","beginText","endText","setCharSpacing","setWordSpacing","setHScale","setLeading","setFont","setTextRenderingMode","setTextRise","moveText","setLeadingMoveText","setTextMatrix","nextLine","showText","showSpacedText","nextLineShowText","nextLineSetSpacingShowText","setCharWidth","setCharWidthAndBounds","setStrokeColorSpace","setFillColorSpace","setStrokeColor","setStrokeColorN","setFillColor","setFillColorN","setStrokeGray","setFillGray","setStrokeRGBColor","setFillRGBColor","setStrokeCMYKColor","setFillCMYKColor","shadingFill","beginInlineImage","beginImageData","endInlineImage","paintXObject","markPoint","markPointProps","beginMarkedContent","beginMarkedContentProps","endMarkedContent","beginCompat","endCompat","paintFormXObjectBegin","paintFormXObjectEnd","beginGroup","endGroup","beginAnnotations","endAnnotations","beginAnnotation","endAnnotation","paintJpegXObject","paintImageMaskXObject","paintImageMaskXObjectGroup","paintImageXObject","paintInlineImageXObject","paintInlineImageXObjectGroup","paintImageXObjectRepeat","paintImageMaskXObjectRepeat","paintSolidColorImageMask","constructPath","unknown","forms","javaScript","signatures","smask","shadingPattern","font","errorTilingPattern","errorExtGState","errorXObject","errorFontLoadType3","errorFontState","errorFontMissing","errorFontTranslate","errorColorSpace","errorOperatorList","errorFontToUnicode","errorFontLoadNative","errorFontBuildPath","errorFontGetPath","errorMarkedContent","errorContentSubStream","NEED_PASSWORD","INCORRECT_PASSWORD","unreachable","BaseException","NullCharactersRegExp","InvisibleCharactersRegExp","IsLittleEndianCached","buffer8","Uint32Array","view32","isLittleEndian","IsEvalSupportedCached","isEvalSupported","hexNumbers","Array","n","r","m1","m2","p","m","d","p1","p2","p3","applyTransform","p4","transpose","a","b","c","first","sx","sy","orderedX","rect1","rect2","orderedY","tvalues","bounds","x0","x1","y0","y1","t","b2ac","sqrtb2ac","t1","t2","j","jlen","mt","escape","require","chars","Buffer","isNodeJS","process","versions","electron","$","global","getOwnPropertyDescriptor","createNonEnumerableProperty","redefine","setGlobal","copyConstructorProperties","isForced","source","TARGET","GLOBAL","STATIC","target","sourceProperty","targetProperty","descriptor","check","it","window","self","DESCRIPTORS","call","propertyIsEnumerableModule","createPropertyDescriptor","toIndexedObject","toPropertyKey","IE8_DOM_DEFINE","$getOwnPropertyDescriptor","P","error","fails","defineProperty","exec","$propertyIsEnumerable","NASHORN_BUG","bitmap","IndexedObject","requireObjectCoercible","uncurryThis","classof","split","FunctionPrototype","bind","callBind","stringSlice","toPrimitive","isSymbol","argument","isObject","getMethod","ordinaryToPrimitive","wellKnownSymbol","TO_PRIMITIVE","pref","exoticToPrim","isCallable","getBuiltIn","isPrototypeOf","USE_SYMBOL_AS_UID","aFunction","namespace","arguments","NATIVE_SYMBOL","V8_VERSION","symbol","userAgent","Deno","v8","version","aCallable","func","tryToString","val","shared","uid","WellKnownSymbolsStore","symbolFor","createWellKnownSymbol","description","IS_PURE","store","mode","copyright","SHARED","toObject","hasOwnProperty","id","postfix","undefined","EXISTS","definePropertyModule","object","anObject","$defineProperty","Attributes","inspectSource","InternalStateModule","CONFIGURABLE_FUNCTION_NAME","getInternalState","enforceInternalState","TEMPLATE","unsafe","simple","noTargetGet","functionToString","NATIVE_WEAK_MAP","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","wmget","wmhas","wmset","set","metadata","has","STATE","enforce","getterFor","TYPE","getDescriptor","PROPER","CONFIGURABLE","ownKeys","getOwnPropertyDescriptorModule","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","concat","getOwnPropertySymbols","internalObjectKeys","enumBugKeys","indexOf","push","names","toAbsoluteIndex","lengthOfArrayLike","createMethod","$this","el","fromIndex","index","IS_INCLUDES","includes","toIntegerOrInfinity","max","min","integer","ceil","floor","number","toLength","replacement","normalize","string","NATIVE","POLYFILL","every","array","m11","m12","m13","m14","m21","m22","m23","m24","m31","m32","m33","m34","m41","m42","m43","m44","M11","M12","M21","M22","M41","M42","k","fromArray","invalidStringError","f","tf","ref","prop","components","parseFloat","y","z","xyz","xyza","map","some","axis","idx","axeValues","nosy","degToRad","radX","rx","radY","ry","radZ","rz","cosx","sinx","cosy","siny","cosz","sinz","angle","alpha","sinA","cosA","sinA2","Y","Z","x2","y2","z2","radA","CSSMatrix","args","len","ARGS","l","prototypeAccessors","isIdentity","is2D","Float64Array","Float32Array","fromString","fromMatrix","pow","assign","Multiply","Translate","Scale","RX","RY","RZ","Rotate","RotateAxisAngle","SkewX","SkewY","M","w","Version","path","addToUnscopables","Iterators","defineIterator","ARRAY_ITERATOR","setInternalState","iterated","kind","create","UNSCOPABLES","ArrayPrototype","defineProperties","html","documentCreateElement","IE_PROTO","EmptyConstructor","scriptTag","LT","NullProtoObjectViaActiveX","activeXDocument","temp","NullProtoObject","ActiveXObject","iframe","iframeDocument","NullProtoObjectViaIFrame","Properties","objectKeys","props","FunctionName","createIteratorConstructor","getPrototypeOf","setPrototypeOf","setToStringTag","IteratorsCore","PROPER_FUNCTION_NAME","BUGGY_SAFARI_ITERATORS","ITERATOR","KEYS","VALUES","ENTRIES","returnThis","Iterable","NAME","IteratorConstructor","DEFAULT","IS_SET","FORCED","getIterationMethod","KIND","IterablePrototype","TO_STRING_TAG","INCORRECT_VALUES_NAME","nativeIterator","defaultIterator","anyNativeIterator","CurrentIteratorPrototype","methods","entries","KEY","proto","forced","ENUMERABLE_NEXT","arrayIterator","PrototypeOfArrayIteratorPrototype","CORRECT_PROTOTYPE_GETTER","ObjectPrototype","TAG","aPossiblePrototype","CORRECT_SETTER","setter","iterate","createProperty","stat","fromEntries","AS_ENTRIES","isArrayIteratorMethod","getIterator","getIteratorMethod","iteratorClose","Result","ResultPrototype","unboundFunction","that","IS_ITERATOR","INTERRUPTED","callFn","iterFn","step","usingIterator","TO_STRING_TAG_SUPPORT","classofRaw","CORRECT_ARGUMENTS","tag","tryGet","innerResult","innerError","propertyKey","clearErrorStack","installErrorCause","normalizeStringArgument","ERROR_STACK_INSTALLABLE","$AggregateError","errors","message","isInstance","errorsArray","AggregateErrorPrototype","AggregateError","arraySlice","join","TEST","V8_OR_CHAKRA_STACK_ENTRY","IS_V8_OR_CHAKRA_STACK","IS_FIREFOX_OR_SAFARI_STACK","stack","dropEntries","fin","$default","NativePromise","redefineAll","setSpecies","anInstance","checkCorrectnessOfIteration","speciesConstructor","task","microtask","promiseResolve","hostReportErrors","newPromiseCapabilityModule","perform","IS_BROWSER","IS_NODE","SPECIES","PROMISE","getInternalPromiseState","NativePromisePrototype","PromiseConstructor","PromisePrototype","newPromiseCapability","newGenericPromiseCapability","DISPATCH_EVENT","NATIVE_REJECTION_EVENT","UNHANDLED_REJECTION","SUBCLASSING","PROMISE_CONSTRUCTOR_SOURCE","GLOBAL_CORE_JS_PROMISE","promise","FakePromise","INCORRECT_ITERATION","isThenable","notify","chain","ok","reaction","handler","domain","onHandleUnhandled","exited","isReject","onUnhandled","dispatchEvent","event","isUnhandled","internalReject","internalResolve","wrapper","executor","Internal","notified","parent","reactions","rejection","onFulfilled","onRejected","OwnPromiseCapability","nativeThen","PromiseWrapper","all","$promiseResolve","counter","remaining","alreadyCalled","race","src","CONSTRUCTOR_NAME","Constructor","Prototype","SAFE_CLOSING","called","iteratorWithReturn","SKIP_CLOSING","ITERATION_SUPPORT","aConstructor","defaultConstructor","S","isConstructor","noop","empty","construct","constructorRegExp","INCORRECT_TO_STRING","isConstructorModern","apply","IS_IOS","clear","Dispatch","MessageChannel","queue","ONREADYSTATECHANGE","location","run","runner","listener","post","defer","port","channel","setTimeout","Reflect","macrotask","IS_IOS_PEBBLE","IS_WEBOS_WEBKIT","MutationObserver","queueMicrotaskDescriptor","queueMicrotask","flush","head","last","toggle","node","characterData","promiseCapability","PromiseCapability","$$resolve","$$reject","allSettled","status","PROMISE_ANY_ERROR","any","alreadyResolved","alreadyRejected","real","isFunction","onFinally","charAt","STRING_ITERATOR","point","charCodeAt","position","size","CONVERT_TO_STRING","codeAt","SymbolPolyfill","globals","getGlobals","rethrowAssertionErrorRejection","originalPromise","originalPromiseThen","originalPromiseResolve","originalPromiseReject","PerformPromiseThen","uponPromise","globalQueueMicrotask","resolvedPromise","promiseResolvedWith","reflectCall","promiseRejectedWith","QUEUE_MAX_ARRAY_SIZE","SimpleQueue","_elements","_next","element","oldBack","newBack","oldFront","newFront","oldCursor","newCursor","elements","callback","front","cursor","reader","stream","defaultReaderClosedPromiseInitialize","defaultReaderClosedPromiseInitializeAsResolved","defaultReaderClosedPromiseInitializeAsRejected","ReadableStreamCancel","defaultReaderClosedPromiseReject","defaultReaderClosedPromiseResetToRejected","newPromise","defaultReaderClosedPromiseResolve","setPromiseIsHandledToTrue","AbortSteps","ErrorSteps","CancelSteps","PullSteps","NumberIsFinite","isFinite","MathTrunc","isDictionary","field","censorNegativeZero","lowerBound","upperBound","integerPart","IsReadableStream","ReadableStreamDefaultReader","readRequest","IsReadableStreamDefaultReader","assertRequiredArgument","assertReadableStream","IsReadableStreamLocked","ReadableStreamReaderGenericInitialize","defaultReaderBrandCheckException","_ownerReadableStream","readerLockException","ReadableStreamReaderGenericCancel","resolvePromise","rejectPromise","ReadableStreamDefaultReaderRead","_chunkSteps","_closeSteps","_errorSteps","_readRequests","ReadableStreamReaderGenericRelease","typeIsObject","cancel","read","releaseLock","closed","_a","AsyncIteratorPrototype","ReadableStreamAsyncIteratorImpl","_this","nextSteps","_ongoingPromise","transformPromiseWith","returnSteps","ReadableStreamAsyncIteratorPrototype","IsReadableStreamAsyncIterator","_asyncIteratorImpl","streamAsyncIteratorBrandCheckException","return","AcquireReadableStreamDefaultReader","impl","NumberIsNaN","srcOffset","slice","ArrayBuffer","CopyDataBlockBytes","ArrayBufferSlice","pair","container","IsNonNegativeNumber","RangeError","ReadableStreamBYOBRequest","IsReadableStreamBYOBRequest","byobRequestBrandCheckException","bytesWritten","convertUnsignedLongLongWithEnforceRange","_associatedReadableByteStreamController","IsDetachedBuffer","_view","ReadableByteStreamControllerRespond","view","ReadableByteStreamControllerRespondWithNewView","respond","respondWithNewView","ReadableByteStreamController","IsReadableByteStreamController","byteStreamControllerBrandCheckException","ReadableByteStreamControllerGetBYOBRequest","ReadableByteStreamControllerGetDesiredSize","_controlledReadableByteStream","ReadableByteStreamControllerClose","ReadableByteStreamControllerEnqueue","ReadableByteStreamControllerError","ReadableByteStreamControllerClearPendingPullIntos","ResetQueue","_cancelAlgorithm","ReadableByteStreamControllerClearAlgorithms","_queueTotalSize","_queue","ReadableByteStreamControllerHandleQueueDrain","autoAllocateChunkSize","bufferE","pullIntoDescriptor","bufferByteLength","byteOffset","byteLength","bytesFilled","elementSize","viewConstructor","readerType","ReadableStreamAddReadRequest","ReadableByteStreamControllerCallPullIfNeeded","ReadableByteStreamControllerShouldCallPull","controller","ReadableByteStreamControllerInvalidateBYOBRequest","filledView","ReadableByteStreamControllerConvertPullIntoDescriptor","ReadableStreamFulfillReadRequest","ReadableStreamFulfillReadIntoRequest","currentAlignedBytes","maxBytesToCopy","maxBytesFilled","maxAlignedBytes","totalBytesToCopyRemaining","ready","headOfQueue","bytesToCopy","destStart","ReadableByteStreamControllerFillHeadPullIntoDescriptor","ReadableStreamClose","ReadableByteStreamControllerFillPullIntoDescriptorFromQueue","ReadableByteStreamControllerShiftPendingPullInto","ReadableByteStreamControllerCommitPullIntoDescriptor","TransferArrayBuffer","ReadableStreamAddReadIntoRequest","readIntoRequest","emptyView","ReadableStreamHasBYOBReader","ReadableStreamGetNumReadIntoRequests","remainderSize","remainder","ReadableByteStreamControllerEnqueueChunkToQueue","ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue","firstDescriptor","ReadableByteStreamControllerRespondInClosedState","ReadableByteStreamControllerRespondInReadableState","ReadableStreamHasDefaultReader","ReadableStreamGetNumReadRequests","firstPendingPullInto","transferredBuffer","ReadableStreamError","byobRequest","SetUpReadableStreamBYOBRequest","ReadableByteStreamControllerRespondInternal","viewByteLength","startAlgorithm","pullAlgorithm","cancelAlgorithm","underlyingByteSource","SetUpReadableByteStreamController","ReadableStreamBYOBReader","IsReadableStreamBYOBReader","close","enqueue","desiredSize","byobReaderBrandCheckException","ReadableStreamBYOBReaderRead","_readIntoRequests","ReadableByteStreamControllerPullInto","highWaterMark","strategy","assertDictionary","init","convertUnrestrictedDouble","convertQueuingStrategySize","assertFunction","abort","original","write","convertUnderlyingSinkAbortCallback","convertUnderlyingSinkCloseCallback","convertUnderlyingSinkStartCallback","convertUnderlyingSinkWriteCallback","promiseCall","IsWritableStream","supportsAbortController","AbortController","WritableStream","rawUnderlyingSink","rawStrategy","assertObject","convertQueuingStrategy","underlyingSink","convertUnderlyingSink","InitializeWritableStream","sizeAlgorithm","ExtractSizeAlgorithm","SetUpWritableStreamDefaultControllerFromUnderlyingSink","ExtractHighWaterMark","streamBrandCheckException$2","IsWritableStreamLocked","WritableStreamAbort","WritableStreamCloseQueuedOrInFlight","WritableStreamClose","AcquireWritableStreamDefaultWriter","WritableStreamDefaultWriter","SetUpWritableStreamDefaultController","WritableStreamDefaultController","wasAlreadyErroring","_promise","_resolve","_reject","_reason","_wasAlreadyErroring","WritableStreamStartErroring","closeRequest","writer","defaultWriterReadyPromiseResolve","WritableStreamDefaultControllerClose","writeRequest","WritableStreamFinishErroring","WritableStreamDefaultWriterEnsureReadyPromiseRejected","WritableStreamHasOperationMarkedInFlight","storedError","abortRequest","WritableStreamRejectCloseAndClosedPromiseIfNeeded","WritableStreamDealWithRejection","defaultWriterClosedPromiseResolve","defaultWriterClosedPromiseReject","backpressure","defaultWriterReadyPromiseReset","getWriter","locked","assertWritableStream","defaultWriterReadyPromiseInitialize","defaultWriterReadyPromiseInitializeAsResolved","defaultWriterClosedPromiseInitialize","defaultWriterReadyPromiseInitializeAsRejected","defaultWriterClosedPromiseInitializeAsResolved","defaultWriterClosedPromiseInitializeAsRejected","IsWritableStreamDefaultWriter","defaultWriterBrandCheckException","_ownerWritableStream","defaultWriterLockException","WritableStreamDefaultWriterGetDesiredSize","WritableStreamDefaultWriterAbort","WritableStreamDefaultWriterClose","WritableStreamDefaultWriterRelease","WritableStreamDefaultWriterWrite","defaultWriterClosedPromiseResetToRejected","defaultWriterReadyPromiseReject","defaultWriterReadyPromiseResetToRejected","WritableStreamDefaultControllerGetDesiredSize","releasedError","WritableStreamDefaultWriterEnsureClosedPromiseRejected","chunkSize","WritableStreamDefaultControllerGetChunkSize","WritableStreamAddWriteRequest","WritableStreamDefaultControllerWrite","closeSentinel","IsWritableStreamDefaultController","defaultControllerBrandCheckException$2","_abortController","_controlledWritableStream","WritableStreamDefaultControllerError","_abortAlgorithm","WritableStreamDefaultControllerClearAlgorithms","createAbortController","WritableStreamDefaultControllerGetBackpressure","WritableStreamUpdateBackpressure","WritableStreamDefaultControllerAdvanceQueueIfNeeded","writeAlgorithm","closeAlgorithm","abortAlgorithm","EnqueueValueWithSize","chunkSizeE","WritableStreamDefaultControllerErrorIfNeeded","enqueueE","PeekQueueValue","WritableStreamDefaultControllerProcessClose","WritableStreamDefaultControllerProcessWrite","WritableStreamMarkCloseRequestInFlight","DequeueValue","sinkClosePromise","WritableStreamFinishInFlightClose","WritableStreamFinishInFlightCloseWithError","WritableStreamMarkFirstWriteRequestInFlight","WritableStreamFinishInFlightWrite","WritableStreamFinishInFlightWriteWithError","abortReason","signal","NativeDOMException","DOMException","DOMException$1","isDOMExceptionConstructor","createDOMExceptionPolyfill","shuttingDown","currentWrite","actions","dest","shutdownWithAction","action","resolveLoop","rejectLoop","pipeStep","resolveRead","rejectRead","isOrBecomesErrored","shutdown","isOrBecomesClosed","WritableStreamDefaultWriterCloseWithErrorPropagation","destClosed_1","oldCurrentWrite","waitForWritesToFinish","uponRejection","uponFulfillment","finalize","newError","doTheRest","pipeLoop","ReadableStreamDefaultController","IsReadableStreamDefaultController","defaultControllerBrandCheckException$1","ReadableStreamDefaultControllerGetDesiredSize","ReadableStreamDefaultControllerCanCloseOrEnqueue","ReadableStreamDefaultControllerClose","ReadableStreamDefaultControllerEnqueue","ReadableStreamDefaultControllerError","ReadableStreamDefaultControllerClearAlgorithms","_closeRequested","ReadableStreamDefaultControllerCallPullIfNeeded","ReadableStreamDefaultControllerShouldCallPull","underlyingSource","SetUpReadableStreamDefaultController","ReadableByteStreamTee","ReadableStreamDefaultTee","reading","readAgain","canceled1","canceled2","cancelPromise","resolveCancelPromise","chunk1","chunk2","branch1","branch2","reason1","compositeReason","CreateArrayFromList","reason2","cancelResult","CreateReadableStream","readAgainForBranch1","readAgainForBranch2","thisReader","forwardReaderError","CloneAsUint8Array","cloneE","pull1Algorithm","pull2Algorithm","AcquireReadableStreamBYOBReader","byobBranch","forBranch2","otherBranch","byobCanceled","clonedChunk","otherCanceled","pullWithDefaultReader","pullWithBYOBReader","CreateReadableByteStream","pull","convertUnderlyingSourceCancelCallback","convertUnderlyingSourcePullCallback","convertUnderlyingSourceStartCallback","convertReadableStreamType","convertReadableStreamReaderMode","preventCancel","Boolean","preventAbort","preventClose","assertAbortSignal","isAbortSignal","readable","assertRequiredField","ReadableStream","rawUnderlyingSource","convertUnderlyingDefaultOrByteSource","InitializeReadableStream","SetUpReadableByteStreamControllerFromUnderlyingSource","SetUpReadableStreamDefaultControllerFromUnderlyingSource","streamBrandCheckException$1","rawOptions","convertReaderOptions","rawTransform","convertReadableWritablePair","convertPipeOptions","ReadableStreamPipeTo","destination","ReadableStreamTee","AcquireReadableStreamAsyncIterator","convertIteratorOptions","getReader","pipeThrough","pipeTo","tee","byteLengthSizeFunction","ByteLengthQueuingStrategy","convertQueuingStrategyInit","IsByteLengthQueuingStrategy","byteLengthBrandCheckException","countSizeFunction","CountQueuingStrategy","IsCountQueuingStrategy","countBrandCheckException","readableType","writableType","convertTransformerFlushCallback","convertTransformerStartCallback","convertTransformerTransformCallback","TransformStream","rawTransformer","rawWritableStrategy","rawReadableStrategy","writableStrategy","readableStrategy","transformer","convertTransformer","readableHighWaterMark","readableSizeAlgorithm","writableHighWaterMark","writableSizeAlgorithm","InitializeTransformStream","startPromise_resolve","SetUpTransformStreamDefaultControllerFromTransformer","IsTransformStream","streamBrandCheckException","TransformStreamDefaultSinkWriteAlgorithm","TransformStreamDefaultSinkAbortAlgorithm","TransformStreamDefaultSinkCloseAlgorithm","TransformStreamDefaultSourcePullAlgorithm","TransformStreamErrorWritableAndUnblockWrite","CreateWritableStream","TransformStreamSetBackpressure","TransformStreamDefaultControllerClearAlgorithms","TransformStreamDefaultController","IsTransformStreamDefaultController","defaultControllerBrandCheckException","_controlledTransformStream","_readable","TransformStreamDefaultControllerEnqueue","TransformStreamDefaultControllerError","TransformStreamDefaultControllerTerminate","transformAlgorithm","transformResultE","flushAlgorithm","SetUpTransformStreamDefaultController","readableController","ReadableStreamDefaultControllerHasBackpressure","TransformStreamError","TransformStreamDefaultControllerPerformTransform","flushPromise","terminate","canvasAndContext","destroy","isCompressed","CMapCompressionType","svg","DEFAULT_RANGE_CHUNK_SIZE","RENDERING_CANCELLED_TIMEOUT","DefaultCanvasFactory","DefaultCMapReaderFactory","DefaultStandardFontDataFactory","createPDFNetworkStream","isArrayBuffer","range","params","rangeTransport","worker","setVerbosityLevel","workerParams","GlobalWorkerOptions","PDFWorker","docId","workerIdPromise","_fetchDocument","networkStreamPromise","networkStream","initialData","progressiveDone","contentDispositionFilename","disableRange","disableStream","httpHeaders","withCredentials","rangeChunkSize","messageHandler","transport","WorkerTransport","pdfDataRangeTransport","sendWithPromise","apiVersion","password","disableAutoFetch","maxImageSize","disableFontFace","docBaseUrl","ignoreErrors","fontExtraProperties","enableXfa","useSystemFonts","cMapUrl","standardFontDataUrl","workerId","PDFDocumentLoadingTask","_capability","doc","addRangeListener","addProgressListener","addProgressiveReadListener","addProgressiveDoneListener","onDataRange","onDataProgress","onDataProgressiveRead","onDataProgressiveDone","transportReady","requestDataRange","deprecated","fingerprints","streamTypes","fontTypes","_transport","_pdfInfo","getPage","getPageIndex","getDestinations","getDestination","getPageLabels","getPageLayout","getPageMode","getViewerPreferences","getOpenAction","getAttachments","getJavaScript","getJSActions","getOutline","getOptionalContentConfig","getPermissions","getMetadata","getMarkInfo","getData","getDownloadInfo","downloadInfoCapability","cleanup","keepLoadedFonts","startCleanup","loadingTask","saveDocument","annotationStorage","getFieldObjects","hasJSActions","getCalculationOrderIds","pdfBug","_pageIndex","_pageInfo","getViewport","getAnnotations","intent","intentArgs","getRenderingIntent","_annotationPromises","annotations","annotation","getPageJSActions","render","annotationMode","AnnotationMode","imageLayer","canvasFactory","background","optionalContentConfigPromise","annotationCanvasMap","intentState","_intentStates","clearTimeout","canvasFactoryInstance","intentPrint","renderingIntent","RenderingIntentFlag","fnArray","argsArray","lastChunk","internalRenderTask","InternalRenderTask","canvasContext","viewport","objs","commonObjs","operatorList","pageIndex","useRequestAnimationFrame","renderTask","transparency","optionalContentConfig","getOperatorList","opListTask","streamTextContent","normalizeWhitespace","disableCombineTextItems","includeMarkedContent","TEXT_CONTENT_CHUNK_SIZE","sendWithStream","combineTextItems","textContent","getTextContent","getXfa","xfa","XfaText","readableStream","items","styles","pump","getStructTree","_destroy","waitOn","force","resetStats","_tryCleanup","renderTasks","_startRenderPage","_renderPageChunk","operatorListChunk","_pumpOperatorList","cacheKey","_abortOperatorList","postMessage","cloned","transfers","fallbackCloneValue","desc","cloneValue","addEventListener","removeEventListener","_listeners","PDFWorkerUtil","isWorkerDisabled","fallbackWorkerSrc","fakeWorkerId","pdfjsFilePath","_readyCapability","_initializeFromPort","_initialize","Worker","workerSrc","isSameOrigin","terminateEarly","onWorkerError","sendTest","testObj","_setupFakeWorker","WorkerMessageHandler","workerHandler","_workerPorts","loader","mainWorkerMessageHandler","eval","loadScript","onUnsupportedFeature","_onUnsupportedFeature","styleElement","isOpList","lastModified","destroyCapability","page","terminated","setupMessageHandler","loaded","total","sink","readyReason","headersCapability","fullReader","isStreamingSupported","isRangeSupported","contentLength","rangeReader","pdfInfo","PDFDocumentProxy","exception","exportedError","exportedData","fontRegistry","registerFont","pageProxy","imageData","freeze","pageNumber","cachedPromise","pageInfo","PDFPageProxy","isPureXfa","numPages","getDocJSActions","results","_ensureObj","_objs","objId","resolved","_internalRenderTask","RenderTask","_continue","_scheduleNext","initializeGraphics","_pdfBug","stepper","operatorListChanged","gfx","executeOperatorList","operatorListIdx","build","addNativeFontFace","insertRule","styleSheet","nativeFontFace","featureId","UNSUPPORTED_FEATURES","rule","_queueLoadingCallback","hasFonts","_prepareFontLoadEvent","FontLoader","requests","nextRequestId","supported","navigator","otherRequest","atob","offset","s","ctx","loadTestFontId","XXXX_VALUE","checksum","int32","spliceString","string32","btoa","div","span","isFontReady","translatedData","createNativeFontFace","css","weight","cssFontInfo","FontFace","createFontFaceRule","bytesToString","getPathGenerator","compiledGlyphs","character","cmds","loadedName","jsBuf","current","NodeCanvasFactory","NodeCMapReaderFactory","NodeStandardFontDataFactory","__non_webpack_require__","fs","Canvas","getValue","_storage","setValue","modified","getAll","objectFromMap","_setModified","resetModified","_timeStamp","MAX_GROUP_SIZE","FULL_CHUNK_HEIGHT","_","ad_bc","bc_ad","old","_transformStack","cosValue","sinValue","getCanvas","cache","canvasEntry","addContextCurrentTransform","TextRenderingMode","clipBox","setCurrentPoint","updatePathMinMax","updateCurvePathMinMax","box","getPathBoundingBox","pathType","PathType","xStrokePad","yStrokePad","updateClipFromPath","intersect","startNewPathAndClipBox","getClippedPathBoundingBox","transferMaps","ImageData","imgData","partialChunkHeight","fullChunks","totalChunks","chunkImgData","srcPos","transferMapRed","transferMapGreen","transferMapBlue","transferMapGray","ImageKind","srcLength","dest32","dest32DataLength","fullSrcDiff","white","black","thisChunkHeight","destPos","srcDiff","kEnd","kEndUnrolled","mask","srcByte","hasTransferMaps","elemsInThisChunk","elem","properties","property","sourceCtx","destCtx","alpha_","r0","g0","b0","maskData","transferMap","layerData","layerOffsetX","layerBox","layerOffsetY","layerWidth","layerHeight","hasBackdrop","backdrop","composeFn","subtype","row","chunkHeight","maskCtx","layerCtx","composeSMaskBackdrop","genericComposeSMask","actualScale","interpolate","LINE_CAP_STYLES","LINE_JOIN_STYLES","NORMAL_CLIP","EO_CLIP","CanvasExtraState","CachedCanvases","beginDrawing","transparentCanvas","cachedCanvases","compositeCtx","resetCtxToDefault","mozCurrentTransform","baseTransform","executionStartIdx","argsArrayLen","chunkOperations","continueCallback","endTime","steps","fnId","OPS","objsPool","depObjId","endDrawing","stateStack","activeSMask","_scaleImage","img","widthScale","inverseTransform","heightScale","paintWidth","paintHeight","tmpCanvasId","newWidth","newHeight","tmpCtx","tmpCanvas","_createMaskCanvas","fillColor","isPatternFill","maskCanvas","putBinaryImageMask","objToCanvas","maskToCanvas","cord1","cord2","drawnWidth","drawnHeight","fillCanvas","fillCtx","scaled","getImageSmoothingEnabled","inverse","states","checkSMaskState","inSMaskMode","beginSMaskMode","cacheId","scratchCanvas","suspendedCtx","copyCtxState","cp1x","cp1y","cp2x","cp2y","mirrorContextOperations","endSMaskMode","compose","dirtyBox","composeSMask","ops","xw","yh","startX","startY","consumePath","strokeColor","lineWidth","needRestore","contentVisible","lineX","lineY","paths","fontObj","bold","italic","typeface","browserFontSize","paintChar","textRenderingMode","fontSize","fillStrokeMode","isAddToPathSet","patternFill","addToPath","pendingTextPaths","showType3Text","fontSizeScale","charSpacing","wordSpacing","fontDirection","textHScale","glyphsLength","glyphs","vertical","spacingDir","defaultVMetrics","widthAdvanceScale","simpleFillText","pattern","patternTransform","resetLineWidthToOne","glyph","isNum","restoreNeeded","spacing","accent","scaledX","scaledY","vmetric","vx","vy","measuredWidth","characterScaleX","isInFont","scaledAccentX","scaledAccentY","fontMatrix","spacingLength","transformed","urx","ury","getColorN_Pattern","IR","color","canvasGraphicsFactory","createCanvasGraphics","CanvasGraphics","_getPattern","matrix","cachedPatterns","getShadingPattern","inv","bl","br","ul","ur","bbox","baseTransformStack","currentCtx","group","currentTransform","canvasBounds","scaleX","scaleY","smaskCounter","groupCtx","startTransformInverse","groupStack","smaskStack","currentMtx","hasOwnCanvas","canvasWidth","canvasHeight","annotationCanvas","COMPILE_TYPE3_GLYPHS","POINT_TYPES","width1","points","lineSize","data0","count","j0","sum","Int32Array","outlines","coords","p0","pp","kk","o","ll","compileType3Glyph","skewX","skewY","positions","trans","images","image","h","HTMLElement","imgToPaint","putBinaryImageData","getCanvasPosition","left","top","visible","isVisible","pendingClip","getSinglePixelWidth","_cachedGetSinglePixelWidth","absDet","sqNorm1","sqNorm2","pixelHeight","_combinedScaleFactor","isContentVisible","markedContentStack","RadialAxialShadingPattern","MeshShadingPattern","SHADING","Path2D","region","getPattern","_createGradient","_type","grad","_p0","_p1","colorStop","ownerBBox","owner","applyBoundingBox","domMatrix","DOMMatrix","colors","rowSize","tmp","c1","c2","c3","x3","y3","c1r","c1g","c1b","c2r","c2g","c2b","c3r","c3g","c3b","minY","maxY","xa","car","cag","cab","xb","cbr","cbg","cbb","x1_","x2_","ps","figure","cs","verticesPerRow","rows","cols","q","drawTriangle","_createMeshCanvas","_bounds","boundsWidth","boundsHeight","combinedScale","paddedWidth","BORDER_SIZE","paddedHeight","backgroundColor","drawFigure","matrixScale","temporaryPatternCanvas","PaintType","createPatternCanvas","xstep","ystep","paintType","tilingType","curMatrixScale","dimx","getSizeAndScale","dimy","graphics","adjustedX0","adjustedY0","adjustedX1","adjustedY1","maxSize","TilingPattern","clipBbox","bboxWidth","bboxHeight","setFillAndStrokeStyleToContext","cssColor","CallbackKind","StreamKind","callbackId","wrapReason","cbSourceName","cbTargetName","comObj","sourceName","targetName","on","ah","send","streamId","startCapability","startCall","pullCall","cancelCall","isClosed","pullCapability","cancelCapability","_createStreamSink","actionHandler","streamSink","lastDesiredSize","sinkCapability","onPull","onCancel","isCancelled","success","_processStreamMessage","streamController","streamControllers","streamSinks","getRaw","OptionalContentGroup","_evaluateVisibilityExpression","operator","_groups","setVisibility","getOrder","_order","getGroups","getGroup","begin","_onReceiveData","found","_rangeReaders","_onProgress","firstReader","_onProgressiveDone","_removeRangeReader","getFullReader","queuedChunks","PDFDataTransportStreamReader","getRangeReader","PDFDataTransportStreamRangeReader","cancelAllRequests","isPdfFile","_enqueue","_requests","requestCapability","_stream","_queuedChunks","requestsCapability","output","walk","DEFAULT_TAB_INDEX","GetElementsByNameSet","parameters","AnnotationType","LinkAnnotationElement","TextAnnotationElement","TextWidgetAnnotationElement","RadioButtonWidgetAnnotationElement","CheckboxWidgetAnnotationElement","PushButtonWidgetAnnotationElement","ChoiceWidgetAnnotationElement","WidgetAnnotationElement","PopupAnnotationElement","FreeTextAnnotationElement","LineAnnotationElement","SquareAnnotationElement","CircleAnnotationElement","PolylineAnnotationElement","CaretAnnotationElement","InkAnnotationElement","PolygonAnnotationElement","HighlightAnnotationElement","UnderlineAnnotationElement","SquigglyAnnotationElement","StrikeOutAnnotationElement","StampAnnotationElement","FileAttachmentAnnotationElement","AnnotationElement","isRenderable","ignoreBorder","createQuadrilaterals","_createContainer","_createQuadrilaterals","AnnotationBorderStyleType","horizontalRadius","verticalRadius","radius","borderColor","quadrilaterals","savedRect","quadPoint","_createPopup","trigger","popup","PopupElement","titleObj","modificationDate","contentsObj","richText","hideWrapper","_renderQuadrilaterals","quadrilateral","_getElementsByName","skipId","fields","fieldObj","_fieldObjects","exportValue","exportValues","domElement","platform","isWin","isMac","Action","linkService","hasClickAction","linkElement","_bindLink","getDestinationHash","_bindNamedAction","getAnchorUrl","_bindJSAction","Map","jsName","detail","_bindResetFormAction","otherClickAction","allFields","resetFormFields","resetFormRefs","fieldIds","Set","storage","allIds","valueAsString","Event","ids","hasPopup","style","imageResourcesPath","JSON","_getKeyModifier","_setEventListener","baseName","valueGetter","shift","modifier","_setEventListeners","eventName","_setBackgroundColor","_dispatchEventFromSandbox","setColor","styleName","ColorConverters","commonActions","display","hidden","print","focus","preventScroll","userName","readonly","required","bgColor","fgColor","textColor","jsEvent","setPropertyOnSiblings","storedData","elementData","userValue","formattedValue","beforeInputSelectionRange","beforeInputValue","defaultValue","blurListener","enableScripting","selRange","selStart","selEnd","commitKey","willCommit","_blurListener","change","maxLen","combWidth","_setTextStyle","fontColor","textAlignment","curChecked","checked","checkbox","radio","pdfButtonValue","fieldValue","fontSizeStyle","selectElement","option","optionElement","isExport","getItems","prototype","displayValue","multipleSelection","remove","insert","indices","editable","changeEx","keyDown","IGNORE_TYPES","selector","parentElements","layer","querySelectorAll","parentRect","popupLeft","popupTop","BACKGROUND_ENLIGHT","g","title","dateObject","PDFDateString","stringify","contents","_formatContents","XfaLayer","xfaHtml","_toggle","_show","_hide","lines","line","pin","hideElement","unpin","svgFactory","borderWidth","square","circle","coordinate","polyline","getFilenameFromUrl","stringToPDFString","content","_download","sortedAnnotations","popupAnnotations","AnnotationElementFactory","downloadManager","renderForms","fieldObjects","mouseState","isDown","rendered","ownTransform","ownMatrix","firstChild","G","makeColorComp","R","B","RGB_HTML","CMYK_RGB","isHTMLAnchorElement","attributes","root","rootHtml","rootDiv","textDivs","child","childHtml","TextLayerRenderTask","renderParameters","textContentStream","textContentItemsStr","enhanceTextSelection","DEFAULT_FONT_SIZE","ascentCache","AllWhitespaceRegexp","textDiv","textDivProperties","_enhanceTextSelection","hasText","geom","hasEOL","originalTransform","paddingBottom","paddingLeft","paddingRight","paddingTop","tx","fontHeight","fontAscent","cachedAscent","metrics","ascent","descent","ratio","pixels","getAscent","shouldScaleText","absScaleX","absScaleY","angleCos","angleSin","divWidth","divHeight","right","bottom","textDivsLength","ts","expanded","boxes","x1New","x2New","expandBoundsLTR","expandBounds","divProperties","jj","boxScale","findPositiveMin","horizon","boundary","horizonPart","affectedBoundary","maxXNew","xNew","changedHorizon","lastBoundary","useBoundary","used","_renderTimer","_processItems","appendText","_container","_layoutText","_textDivProperties","fontFamily","_layoutTextCtx","measureText","_render","timeout","styleCache","textItems","_textContent","textStyles","_textContentStream","expandTextDivs","expandDivs","expand","transformBuf","paddingBuf","_textDivs","divProps","SVGGraphics","pf","SVG_DEFAULTS","fontStyle","fontWeight","convertImgDataToPng","PNG_HEADER","crcTable","body","crc","crc32","literals","maxBlockLength","deflateBlocks","idat","pi","adler","adler32","colorType","bitDepth","offsetLiterals","offsetBytes","ihdr","deflateSyncUncompressed","level","deflateSync","pngLength","CHUNK_WRAPPER_SIZE","writePngChunk","createObjectURL","isMask","encode","clipCount","maskCount","shadingCount","transformStack","extraStack","loadDependencies","transformMatrix","getSVG","svgElement","convertOpList","operatorIdMapping","opList","opTree","opListElement","opListToTree","executeOpTree","opTreeElement","lineWidthScale","textMatrixScale","textMatrix","pm","addFontStyle","details","embedFonts","embeddedFonts","setStrokeAlpha","setFillAlpha","_makeColorN_Pattern","_makeShadingPattern","fillAlpha","_makeTilingPattern","tilingId","txstep","tystep","tiling","tx1","ty1","shadingId","colorStops","point0","point1","gradient","focalPoint","circlePoint","focalRadius","circleRadius","clipId","clipPath","clipElement","_setStrokeAttributes","dashArray","imgSrc","cliprect","imgEl","definitions","rootGroup","_ensureClipGroup","clipGroup","_ensureTransformGroup","http","https","fileUriRegex","parsedUrl","parseUrl","isHttp","isFsUrl","PDFNodeStreamFsFullReader","PDFNodeStreamFullReader","PDFNodeStreamFsRangeReader","PDFNodeStreamRangeReader","_rangeRequestReaders","_headersCapability","_readCapability","_readableStream","_error","_setReadableStream","auth","host","headers","handleResponse","getResponseHeader","validateRangeRequestCapabilities","suggestedLength","extractFilenameFromHeader","createRequestOptions","createReadStream","contentDisposition","getFilenameFromContentDispositionHeader","returnValues","allowRangeRequests","needsEncodingFixup","toParamRegExp","rfc2616unquote","fixupEncoding","rfc2047decode","rfc5987decode","quot","parts","part","rfc2231getparam","decoder","TextDecoder","encoding","fatal","textdecode","quotindex","encodingend","extvalue","langvalue","charset","text","hex","requestRange","listeners","requestFull","xhr","xhrId","pendingRequest","pendingRequests","onStateChange","onProgress","xhrStatus","getArrayBuffer","rangeHeader","getRequestXhr","isPendingRequest","NetworkManager","_onRangeRequestReaderClosed","PDFNetworkStreamFullRequestReader","PDFNetworkStreamRangeRequestReader","onHeadersReceived","_onHeadersReceived","onDone","_onDone","onError","_onError","manager","fullRequestXhrId","fullRequestXhr","_manager","_cachedChunks","createResponseStatusError","_headersReceivedCapability","_close","_queuedChunk","abortController","credentials","redirect","PDFFetchStreamReader","PDFFetchStreamRangeReader","createHeaders","createFetchOptions","validateResponseStatus","_reader","__w_pdfjs_require__","setPDFNetworkStreamFactory","PDFNodeStream","PDFFetchStream","PDFNetworkStream","_objectWithoutProperties","excluded","objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","keyboardEvents","mouseEvents","touchEvents","allEvents","getArgs","eventProps","forEach","makeCancellablePromise","wrappedPromise","mergeClassNames","reduce","classList","filter","createContext","Message","_ref","children","React","className","propTypes","PropTypes","isRequired","LinkService","_classCallCheck","externalLinkTarget","externalLinkRel","_createClass","pdfDocument","pdfViewer","currentPageNumber","isArray","explicitDest","invariant","destRef","pagesCount","scrollPageIntoView","goToDestination","newWindow","href","isBrowser","isLocalFileSystem","isDefined","variable","isProvided","isBlob","isFile","File","isDataURI","dataURItoByteString","dataURI","_dataURI$split","_dataURI$split2","_slicedToArray","headersString","dataString","allowFileAccessFromFilesTip","displayCORSWarning","warning","cancelRunningTask","runningTask","makePageCallback","isCancelException","loadFromFile","file","FileReader","onload","onerror","NOT_FOUND_ERR","NOT_READABLE_ERR","SECURITY_ERR","ABORT_ERR","readAsArrayBuffer","_toConsumableArray","fileTypes","isClassName","isLinkService","isPage","fontLoader","isPdf","isRef","isRenderMode","isRotate","_excluded","enumerableOnly","symbols","sym","_objectSpread","_defineProperty","getOwnPropertyDescriptors","_createSuper","Derived","hasNativeReflectConstruct","sham","Proxy","valueOf","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","PDFDataRangeTransport","pdfjs","Document","_PureComponent","_inherits","_super","_len","_key","_assertThisInitialized","pdf","onItemClick","pages","scrollIntoView","findDocumentSource","onSourceSuccess","setState","prevState","_this$props","onLoadProgress","onPassword","cancellable","makeCancellable","fingerprint","onLoadSuccess","onLoadError","onSourceError","_this$props2","setViewer","viewer","setExternalLinkRel","setExternalLinkTarget","setDocument","fileByteString","_typeof","otherParams","_fileByteString","loadDocument","setupLinkService","prevProps","registerPage","unregisterPage","_this$props3","renderMode","rotate","_this2","makeEventProps","DocumentContext","childContext","noData","loading","renderChildren","_this$props4","inputRef","_extends","renderContent","PureComponent","defaultProps","PasswordResponses","prompt","isFunctionOrNode","isFileProp","Ref","num","gen","OutlineItemInternal","onClick","preventDefault","getPageNumber","_ref2","otherProps","subitems","subitem","subitemIndex","renderSubitems","isDestination","documentContext","OutlineContext","Consumer","outlineContext","OutlineInternal","outline","loadOutline","itemIndex","OutlineItem","Provider","renderOutline","mergeRefs","inputRefs","filteredInputRefs","ANNOTATION_MODE","PageCanvasInternal","renderer","onRenderSuccess","onRenderError","canvasLayer","_assertThisInitialize2","renderViewport","canvasBackground","renderContext","getContext","cancelRenderingTask","drawPageOnCanvas","pixelRatio","devicePixelRatio","_this$props5","canvasRef","dir","userSelect","PageCanvas","PageContext","PageSVGInternal","svgGfx","firstElementChild","appendChild","_this$viewport","setAttribute","renderSVG","_this$viewport2","drawPageOnContainer","overflow","PageSVG","TextLayerItemInternal","sideways","getBoundingClientRect","alignTextItem","unrotatedViewport","defaultSideways","_transform","fontHeightPx","fontWidthPx","_transform2","_viewport$viewBox","yMin","yMax","_transform3","xMin","fontName","getFontData","fontData","fallbackFontName","fallbackName","targetWidth","actualWidth","getElementWidth","WebkitTransform","_this3","customTextRenderer","transformOrigin","whiteSpace","pointerEvents","TextLayerItem","TextLayerInternal","onGetTextSuccess","onGetTextError","loadTextItems","textItem","renderTextItems","TextLayer","AnnotationLayerInternal","onGetAnnotationsSuccess","onGetAnnotationsError","onRenderAnnotationLayerSuccess","onRenderAnnotationLayerError","loadAnnotations","annotationLayer","innerHTML","renderAnnotationLayer","pageContext","PageInternal","loadPage","renderInteractiveForms","pageScale","scaleWithDefault","pageKeyNoScale","pageKey","renderTextLayer","AnnotationLayer","renderMainLayer","Page","propName","componentName"],"sourceRoot":""}